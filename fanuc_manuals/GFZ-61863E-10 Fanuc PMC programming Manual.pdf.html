<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="date" content="2011-10-21T16:43:38Z"/>
<meta name="pdf:PDFVersion" content="1.4"/>
<meta name="pdf:docinfo:title" content="GFZ-61863E/10, PMC Ladder Language Programming Manual"/>
<meta name="xmp:CreatorTool" content="Microsoft Word - Cover Sheet"/>
<meta name="dc:description" content="GFZ-61863E/10, PMC Ladder Language Programming Manual"/>
<meta name="Keywords" content="GFZ-61863E/10, PMC Ladder Language Programming Manual"/>
<meta name="access_permission:modify_annotations" content="false"/>
<meta name="access_permission:can_print_degraded" content="true"/>
<meta name="subject" content="GFZ-61863E/10, PMC Ladder Language Programming Manual"/>
<meta name="dc:creator" content="CNC Center"/>
<meta name="description" content="GFZ-61863E/10, PMC Ladder Language Programming Manual"/>
<meta name="dcterms:created" content="2011-10-21T16:42:32Z"/>
<meta name="Last-Modified" content="2011-10-21T16:43:38Z"/>
<meta name="dcterms:modified" content="2011-10-21T16:43:38Z"/>
<meta name="dc:format" content="application/pdf; version=1.4"/>
<meta name="Last-Save-Date" content="2011-10-21T16:43:38Z"/>
<meta name="pdf:docinfo:creator_tool" content="Microsoft Word - Cover Sheet"/>
<meta name="access_permission:fill_in_form" content="false"/>
<meta name="pdf:docinfo:keywords" content="GFZ-61863E/10, PMC Ladder Language Programming Manual"/>
<meta name="pdf:docinfo:modified" content="2011-10-21T16:43:38Z"/>
<meta name="meta:save-date" content="2011-10-21T16:43:38Z"/>
<meta name="pdf:encrypted" content="true"/>
<meta name="dc:title" content="GFZ-61863E/10, PMC Ladder Language Programming Manual"/>
<meta name="modified" content="2011-10-21T16:43:38Z"/>
<meta name="cp:subject" content="GFZ-61863E/10, PMC Ladder Language Programming Manual"/>
<meta name="pdf:docinfo:subject" content="GFZ-61863E/10, PMC Ladder Language Programming Manual"/>
<meta name="Content-Type" content="application/pdf"/>
<meta name="pdf:docinfo:creator" content="CNC Center"/>
<meta name="X-Parsed-By" content="org.apache.tika.parser.DefaultParser"/>
<meta name="X-Parsed-By" content="org.apache.tika.parser.pdf.PDFParser"/>
<meta name="creator" content="CNC Center"/>
<meta name="meta:author" content="CNC Center"/>
<meta name="dc:subject" content="GFZ-61863E/10, PMC Ladder Language Programming Manual"/>
<meta name="meta:creation-date" content="2011-10-21T16:42:32Z"/>
<meta name="created" content="2011-10-21T16:42:32Z"/>
<meta name="access_permission:extract_for_accessibility" content="false"/>
<meta name="access_permission:assemble_document" content="false"/>
<meta name="xmpTPg:NPages" content="1023"/>
<meta name="Creation-Date" content="2011-10-21T16:42:32Z"/>
<meta name="access_permission:extract_content" content="false"/>
<meta name="access_permission:can_print" content="true"/>
<meta name="meta:keyword" content="GFZ-61863E/10, PMC Ladder Language Programming Manual"/>
<meta name="Author" content="CNC Center"/>
<meta name="producer" content="ScanSoft PDF Create! 7"/>
<meta name="access_permission:can_modify" content="false"/>
<meta name="pdf:docinfo:producer" content="ScanSoft PDF Create! 7"/>
<meta name="pdf:docinfo:created" content="2011-10-21T16:42:32Z"/>
<title>GFZ-61863E/10, PMC Ladder Language Programming Manual</title>
</head>
<body>
<div class="page">
<p/>
<p>GFZ-61863E B-61863E
</p>
<p>GE Fanuc CNC
</p>
<p>PMC Ladder Language
Programming Manual
</p>
<p>Presented By: CNC Center
</p>
<p>For Product Needs Please Visit:
</p>
<p>http://www.cnccenter.com/
</p>
<p>OR Email:
</p>
<p>sales@cnccenter.com
</p>
<p>OR Call:
</p>
<p>1-800-963-3513
GE Fanuc CNC Manuals www.cnccenter.com</p>
<p/>
<div class="annotation">
<a href="http://www.cnccenter.com/">http://www.cnccenter.com/</a>
</div>
<div class="annotation">
<a href="mailto:sales@cnccenter.com">mailto:sales@cnccenter.com</a>
</div>
</div>
<div class="page">
<p/>
<p>GE Fanuc Automation
</p>
<p>Computer Numerical Control Products
</p>
<p>PMC Model PA1/PA3/SA1/SA2/SA3/SA5
SB/SB2/SB3/SB4/SB5/SB6/SC/SC3/SC4/NB/NB2
Ladder Language
</p>
<p>Programming Manual
</p>
<p>GFZ-61863E/10 December 1997</p>
<p/>
</div>
<div class="page">
<p/>
<p>GFL-001
</p>
<p>Warnings, Cautions, and Notes
as Used in this Publication
</p>
<p>Warning
</p>
<p>Warning notices are used in this publication to emphasize that hazardous voltages, currents,
temperatures, or other conditions that could cause personal injury exist in this equipment or
may be associated with its use.
</p>
<p>In situations where inattention could cause either personal injury or damage to equipment, a
Warning notice is used.
</p>
<p>Caution
</p>
<p>Caution notices are used where equipment might be damaged if care is not taken.
</p>
<p>Note
Notes merely call attention to information that is especially significant to understanding and
operating the equipment.
</p>
<p>This document is based on information available at the time of its publication.  While efforts
have been made to be accurate, the information contained herein does not purport to cover all
details or variations in hardware or software, nor to provide for every possible contingency in
connection with installation, operation, or maintenance.  Features may be described herein
which are not present in all hardware and software systems.  GE Fanuc Automation assumes
no obligation of notice to holders of this document with respect to changes subsequently made.
</p>
<p>GE Fanuc Automation makes no representation or warranty, expressed, implied, or statutory
with respect to, and assumes no responsibility for the accuracy, completeness, sufficiency, or
usefulness of the information contained herein.  No warranties of merchantability or fitness for
purpose shall apply.
</p>
<p>PowerMotion is a trademark of GE Fanuc Automation North America, Inc.
</p>
<p>&copy;Copyright 1997 GE Fanuc Automation North America, Inc.
</p>
<p>All Rights Reserved.</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 DEFINITION OF WARNING, CAUTION, AND NOTE
</p>
<p>s&ndash;1
</p>
<p>DEFINITION OF WARNING, CAUTION, AND NOTE
</p>
<p>This manual includes safety precautions for protecting the user and preventing damage to the
machine.  Precautions are classified into Warning and Caution according to their bearing on safety.
Also, supplementary information is described as a Note.  Read the Warning, Caution, and Note
thoroughly before attempting to use the machine.
</p>
<p>WARNING
</p>
<p>Applied when there is a danger of the user being injured or when there is a damage of both the user
being injured and the equipment being damaged if the approved procedure is not observed.
</p>
<p>CAUTION
</p>
<p>Applied when there is a danger of the equipment being damaged, if the approved procedure is not
observed.
</p>
<p>NOTE
</p>
<p>The Note is used to indicate supplementary information other than Warning and Caution.
</p>
<p>� Read this manual carefully, and store it in a safe place.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 Table of Contents
</p>
<p>c&ndash;1
</p>
<p>DEFINITION OF WARNING, CAUTION, AND NOTE s&ndash;1. . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>PREFACE p&ndash;1. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>I.  PMC SEQUENCE PROGRAM
</p>
<p>1. SEQUENCE PROGRAM CREATING PROCEDURE 3. . . . . . . . . . . . . . . . . . . . . . . . 
1.1 SPECIFICATION OF PMCS 5. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.2 SUMMARY OF SPECIFICATION OF LADDER PROGRAM 15. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.3 WHAT IS A SEQUENCE PROGRAM? 19. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.4 CREATION OF INTERFACE SPECIFICATIONS (STEPS 1 TO 3) 21. . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.5 CREATION OF LADDER DIAGRAM (STEP 4) 21. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.6 CODING (STEP 5) 22. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.7 SEQUENCE PROGRAM ENTRY (STEPS 6, 7) 23. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.8 SEQUENCE PROGRAM CHECK AND WRITE INTO ROM (STEPS 8 TO 11) 23. . . . . . . . . . . . . . . 
</p>
<p>1.9 STORAGE AND CONTROL OF SEQUENCE PROGRAM (STEPS 12 TO 14) 24. . . . . . . . . . . . . . . 
</p>
<p>2. SEQUENCE PROGRAM 25. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2.1 EXECUTION PROCEDURE OF SEQUENCE PROGRAM 26. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.2 REPETITIVE OPERATION 27. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.3 PRIORITY OF EXECUTION (1ST LEVEL, 2ND LEVEL AND 3RD LEVEL) 28. . . . . . . . . . . . . . . 
</p>
<p>2.4 SEQUENCE PROGRAM STRUCTURING 32. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.5 PROCESSING I/O SIGNALS 34. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2.5.1 Input Signal Processing 35. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2.5.2 Output Signal Processing 35. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2.5.3 I/O Signals to CNC 36. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2.5.4 Difference of Status of Signals Between 1st Level and 2nd Level 37. . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.6 INTERLOCKING 38. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.7 SEQUENCE PROGRAM PROCESSING TIME 39. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.8 SEQUENCE PROGRAM MEMORY CAPACITY 41. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3. ADDRESS 42. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.1 ADDRESSES BETWEEN PMC AND CNC (PMC�NC) 52. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.2 ADDRESSES BETWEEN PMC AND MACHINE TOOL (PMC�MT) 53. . . . . . . . . . . . . . . . . . . . . 
3.2.1 Addresses Between PMC and Machine Tool for PMC-RB/RC 53. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.2.2 Assignment of I/O Module Addresses 55. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.2.3 I/O Link Connection Unit Assignment 61. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.2.4 I/O Unit Model B Assignment 63. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.2.5 Power Mate&ndash;model D/H Assignment 64. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.3 INTERNAL RELAY ADDRESSES (R) 66. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.3.1 Area Managed by the System Program 68. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.4 ADDRESSES FOR MESSAGE SELECTION DISPLAYED ON CRT (A) 71. . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.5 ADDRESS OF COUNTER (C) 73. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.6 ADDRESS OF KEEP RELAY AND NONVOLATILE MEMORY CONTROL (K) 75. . . . . . . . . . . . . 
</p>
<p>3.7 ADDRESS OF DATA TABLE (D) 77. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.8 TIMER ADDRESSES (T) 78. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10Table of Contents
</p>
<p>c&ndash;2
</p>
<p>3.9 LABEL ADDRESSES (JMPB, JMPC, LBL) (L) 80. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.10 SUBPROGRAM NUMBERS (CALL, CALLU, SP) (P) 81. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4. PMC BASIC INSTRUCTIONS 82. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1 DETAILS OF BASIC INSTRUCTIONS 84. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.1.1 RD 86. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1.2 RD . NOT 87. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1.3 WRT 88. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1.4 WRT. NOT 89. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1.5 AND 90. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1.6 AND. NOT 90. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1.7 OR 90. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1.8 OR. NOT 90. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1.9 RD. STK 91. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1.10 RD. NOT. STK 92. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1.11 AND. STK 93. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1.12 OR. STK 93. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1.13 SET 94. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1.14 RST 96. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5. FUNCTIONAL INSTRUCTIONS 98. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.1 END1 (1ST LEVEL SEQUENCE PROGRAM END) 120. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.2 END2 (2ND LEVEL SEQUENCE PROGRAM END) 121. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.3 END3 (END OF 3RD LEVEL SEQUENCE) (PMC-RC/RC3/RC4/NB/NB2 ONLY) 122. . . . . . . . . . . . 
</p>
<p>5.4 TMR (TIMER) 123. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.5 TMRB (FIXED TIMER) 125. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.6 TMRC (TIMER) 127. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.7 DEC (DECODE) 129. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.8 DECB (BINARY DECODING) 131. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.9 CTR (COUNTER) 133. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.10 CTRC (COUNTER) 139. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.11 ROT (ROTATION CONTROL) 142. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.12 ROTB (BINARY ROTATION CONTROL) 145. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.13 COD (CODE CONVERSION) 148. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.14 CODB (BINARY CODE CONVERSION) 151. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.15 MOVE (LOGICAL PRODUCT TRANSFER) 153. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.16 MOVOR (DATA TRANSFER AFTER LOGICAL SUM) 155. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.17 COM (COMMON LINE CONTROL) 156. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.18 COME  (COMMON LINE CONTROL END) 161. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.19 JMP (JUMP) 162. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.20 JMPE (JUMP END) 166. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.21 PARI (PARITY CHECK) 167. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.22 DCNV (DATA CONVERSION) 169. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.23 DCNVB (EXTENDED DATA CONVERSION) 171. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.24 COMP (COMPARISON) 173. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.25 COMPB (COMPARISON BETWEEN BINARY DATA) 175. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.26 COIN (COINCIDENCE CHECK) 177. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 ����� 
� �
	��	��
</p>
<p>c&ndash;3
</p>
<p>5.27 SFT (SHIFT REGISTER) 179. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.28 DSCH (DATA SEARCH) 181. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.29 DSCHB (BINARY DATA SEARCH) 184. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.30 XMOV (INDEXED DATA TRANSFER) 186. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.31 XMOVB (BINARY INDEX MODIFIER DATA TRANSFER) 189. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.32 ADD (ADDITION) 191. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.33 ADDB (BINARY ADDITION) 193. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.34 SUB (SUBTRACTION) 195. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.35 SUBB (BINARY SUBTRACTION) 197. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.36 MUL (MULTIPLICATION) 199. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.37 MULB (BINARY MULTIPLICATION) 201. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.38 DIV (DIVISION) 203. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.39 DIVB (BINARY DIVISION) 205. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.40 NUME (DEFINITION OF CONSTANT) 207. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.41 NUMEB (DEFINITION OF BINARY CONSTANTS) 208. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.42 DISP(MESSAGE DISPLAY) (PMC&ndash;RB/RB2/RB3/RB4/RB5/RB6/RC/RC3/RC4 ONLY) 209. . . . . . . 
</p>
<p>5.43 DISPB 223. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.44 EXIN (EXTERNAL DATA INPUT) 233. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.45 WINDR (READING CNC WINDOW DATA) 237. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.46 WINDOW (WRITING CNC WINDOW DATA) 240. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.47 ARBITRARY FUNCTIONAL INSTRUCTIONS 243. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.48 MMCWR (READING MMC WINDOW DATA) (OTHER THAN PMC&ndash;PA1/PA3) 246. . . . . . . . . . . . . 
</p>
<p>5.49 MMCWW (WRITING MMC WINDOW DATA) (OTHER THAN PMC&ndash;PA1/PA3) 248. . . . . . . . . . . . 
</p>
<p>5.50 MOVB (TRANSFER OF 1 BYTE) 250. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.51 MOVW (TRANSFER OF 2 BYTES) 251. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.52 MOVN (TRANSFER OF AN ARBITRARY NUMBER OF BYTES) 252. . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.53 DIFU (RISING EDGE DETECTION) 253. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.54 DIFD (FALLING EDGE DETECTION) 254. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.55 EOR (EXCLUSIVE OR) 255. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.56 LOGICAL AND 257. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.57 LOGICAL OR 259. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.58 NOT (LOGICAL NOT) 261. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.59 MMC3 R (MMC-III WINDOW DATA READ) 263. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.60 MMC3W (MMC-III WINDOW DATA WRITE) 266. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.61 SPCNT (SPINDLE CONTROL) 269. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.62 END (END OF A LADDER PROGRAM) 277. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.63 CALL (CONDITIONAL SUBPROGRAM CALL) 278. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.64 CALLU (UNCONDITIONAL SUBPROGRAM CALL) 279. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.65 SP (SUBPROGRAM) 280. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.66 SPE (END OF A SUBPROGRAM) 281. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.67 JMPB (LABEL JUMP) 282. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.68 JMPC (LABEL JUMP) 283. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.69 LBL (LABEL) 284. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10Table of Contents
</p>
<p>c&ndash;4
</p>
<p>5.70 AXCTL (AXIS CONTROL BY PMC) 285. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.71 PSGNL (POSITION SIGNAL OUTPUT) 290. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.72 PSGN2 (POSITION SIGNAL OUTPUT 2) 293. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6. NONVOLATILE MEMORY 295. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
6.1 TIMER, COUNTER, KEEP RELAY, NONVOLATILE MEMORY CONTROL, 
</p>
<p>DATA TABLE 295. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.2 READING AND WRITING OF NONVOLATILE MEMORY DATA 297. . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.3 PMC DATA TABLE 298. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7. LADDER DIAGRAM FORMAT 303. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.1 ADDRESSES, SIGNAL NAMES, COMMENTS, AND LINE NUMBERS 304. . . . . . . . . . . . . . . . . . . 
</p>
<p>7.1.1 Addresses 304. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.1.2 Signal Names 305. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.1.3 Comments 305. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.1.4 Line Numbers 305. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.2 SYMBOLS USED IN THE LADDER DIAGRAM 306. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.3 LADDER DIAGRAM FORMAT 307. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.4 INFINITE NUMBER OF RELAY CONTACTS 308. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8. MISCELLANEOUS ITEM 309. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9. SEQUENCE PROGRAM STRUCTURING 310. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.1 EXAMPLES OF STRUCTURED PROGRAMMING 311. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.1.1 Implementation Techniques 311. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.1.2 Applications 312. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.1.3 Specifications 314. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.2 SUBPROGRAMMING AND NESTING 315. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.2.1 Function 315. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.2.2 Execution Method 316. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.2.3 Creating a Program 317. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.3 CAUTIONS FOR SUBROUTINES 319. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>10.JMP INSTRUCTIONS WITH LABEL SPECIFICATION 321. . . . . . . . . . . . . . . . . . . . . . 
10.1 SPECIFICATIONS 321. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>10.2 RESTRICTIONS 325. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>II.  PMC OPERATION (CRT/MDI)
</p>
<p>1. GENERAL 333. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
1.1 FOR MDI UNITS OTHER THAN STANDARD MDI UNITS 
</p>
<p>(FOR FS20 PMC-RA1 AND RA3) 340. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.2 AUTOMATIC OPERATION WHEN THE POWER IS TURNED ON 340. . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.3 CLEARING THE SEQUENCE PROGRAM 340. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.4 LOADING THE STANDARD LADDER (FOR Power Mate &ndash;D/F PMC&ndash;PA1 AND PA3) 341. . . . . . . . 
</p>
<p>1.5 LADDER PASSWORD FUNCTION 341. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.6 PMC OPERATION FOR LOADER CONTOROL FUNCTION 345. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 ����� 
� �
	��	��
</p>
<p>c&ndash;5
</p>
<p>2. PMC MENU SELECTION PROCEDURE BY SOFTKEY 346. . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND INTERNAL RELAY DISPLAY (PMCDGN) 352. . . 
3.1 DISPLAYING TITLE DATA 353. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.2 DISPLAY OF SIGNAL STATUS (STATUS) 355. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.3 ALARM SCREEN (ALARM) 356. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.4 TRACE FUNCTION (TRACE) 357. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.4.1 Operation 357. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.4.2 Parameter Setting Screen 357. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.4.3 Starting or Stopping the Trace Function 358. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.4.4 Trace Screen 359. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.4.5 Automatic Tracing Function at Power on 359. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.5 DISPLAYING THE CONTENTS OF MEMORY 360. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.5.1 Operation 360. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.5.2 Function for Storing Data in Memory 361. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.6 FUNCTION FOR DISPLAYING SIGNAL WAVEFORMS (ANALYS) 362. . . . . . . . . . . . . . . . . . . . . . 
3.6.1 Specifications 362. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.6.2 Operation 362. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.6.3 Parameter Screen 363. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.6.4 Signal Diagnosis Screen 366. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.6.5 Reading Signals Automatically at Power on 367. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.7 DISPLAYING THE RUNNING STATE OF A USER TASK (USRDGN) 368. . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.8 DISPLAYING AND SETTING THE CONFIGURATION STATUS OF I/O DEVICES(IOCHK) 370. . . . . . 
3.8.1 I/O Link Connecting Check Screen 371. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.8.2 I/O Link&ndash;II Parameter Setting Screen 372. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.9 FORCED INPUT/OUTPUT FUNCTION 375. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.9.1 Overview 375. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.9.2 Setting/Operation for Enabling Forced Input/Output 378. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.9.3 Screen Display 379. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.9.4 Modifying the Values of Signals by Forced Input/Output 382. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.9.5 Setting/Clearing OVERRIDE 383. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4. PMC PARAMETERS SETTING AND DISPLAY (PMCPRM) 386. . . . . . . . . . . . . . . . . 
4.1 OUTLINE 387. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.2 INPUT PMC PARAMETERS FROM MDI PANEL 388. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.2.1 Multiple Data Input 388. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.3 SETTING AND DISPLAY SCREEN 389. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.3.1 Timer Screen (TIMER) 389. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.3.2 Counter Screen (COUNTR) 390. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.3.3 Keep Relay (KEEPRL) 390. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.3.4 Data Table (DATA) 396. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.4 SETTING SCREEN 398. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.4.1 Other Setting Screens 401. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.5 NOTE 404. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5. PMC LADDER DIAGRAM DISPLAY (PMCLAD) 405. . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.1 LADDER DIAGRAM DISPLAY 406. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.2 DUMP DISPLAY ON LADDER DIAGRAM 407. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.3 PARAMETER DISPLAY ON LADDER DIAGRAM 408. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.3.1 The Value of Functional Instruction Parameter 408. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10Table of Contents
</p>
<p>c&ndash;6
</p>
<p>5.4 SYMBOL AND COMMENT DISPLAY 411. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.5 SEARCH OF SPECIFIED RELAY COIL POINTS IN LADDER DIAGRAM 412. . . . . . . . . . . . . . . . . 
</p>
<p>5.6 STOP OF LADDER DIAGRAM DISPLAY BY TRIGGER OF SIGNAL 413. . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.7 DIVIDING DISPLAY OF LADDER DIAGRAM 415. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.8 ON&ndash;LINE EDIT 416. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6. USER PMC SCREEN (PCMDI) 417. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
6.1 FOR THE FS16 (PMC-RC OR PMC-RC3) 417. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.2 FOR THE FS15 (PMC-NB) 417. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>III.  PMC PROGRAMMER (CRT/MDI)
</p>
<p>1. GENERAL 421. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2. COMPONENT UNITS AND CONNECTIONS 422. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2.1 COMPONENT UNITS 423. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.2 CONNECTING COMPONENT UNITS 428. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3. SELECTION OF PROGRAMMER MENUS BY SOFTKEYS 429. . . . . . . . . . . . . . . . . 
</p>
<p>4. SPECIFYING AND DISPLAYING SYSTEM PARAMETERS (SYSPRM) 431. . . . . . . 
</p>
<p>5. EDITING OF SEQUENCE PROGRAM (EDIT) 436. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.1 SPECIFYING AND DISPLAYING TITLE DATA (TITLE) 437. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.1.1 Entering Title Data 437. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.1.2 Deleting Title Data 437. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.1.3 Editing Character Strings of Title Data 438. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.2 SEQUENCE PROGRAM GENERATION (LADDER) 440. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.2.1 Sequence Program Input 441. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.2.2 Alteration of Sequence Programs 445. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.2.3 Insert of Sequence Program 445. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.2.4 Delete of Sequence Program 448. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.2.5 Search of Sequence Program 449. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.2.6 Copying the Sequence Program 451. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.2.7 Moving the Sequence Program 452. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.2.8 Editing Symbol Data and Comment at Once 453. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.2.9 Address Change of Sequence Program 453. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.3 I/O UNIT ADDRESS SETTING (MODULE) 455. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.4 SYMBOL DATA SETTING (SYMBOL) 458. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.4.1 Symbol Data and Comment Input 459. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.4.2 Symbol Data Search (SRCH) 459. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.4.3 Delete of Symbol data and Comment 459. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.4.4 Editing Character Strings of Symbol Data and Comment Data 460. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.4.5 Function for editing symbol data and comment data at one time 460. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.4.6 Function of Copying Symbol and Comment Data 461. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.5 MESSAGE DATA SETTING (MESSAGE) 462. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.5.1 Message Data Input 463. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.5.2 Searching for an Address (SRCH) 463. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.5.3 Editing a Character String in Message Data 463. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.5.4 Input with a Katakana Identification Code 464. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 ����� 
� �
	��	��
</p>
<p>c&ndash;7
</p>
<p>5.5.5 Copying Message Data (COPY) 464. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.5.6 Inputting a Multi-byte Character (D.CHAR) 464. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.5.7 Displaying Input Code (DSPMOD) 464. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.6 CLEARING THE SEQUENCE PROGRAM AND CONDENSATION OF 
THE SEQUENCE PROGRAM 465. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.6.1 Clearing the Sequence Program 465. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.6.2 Compress the Sequence Program 466. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.6.3 Clearing the PMC Parameter 466. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.7 CROSS REFERENCE DISPLAY 467. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.7.1 Operation 467. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.7.2 Parameter Setting Screen 468. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6. EXECUTION OF A SEQUENCE PROGRAM 472. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
6.1 START AND STOP OF A SEQUENCE PROGRAM 473. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.2 STARTING THE SEQUENCE PROGRAM 474. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.3 FORCIBLY STOPPING THE SEQUENCE PROGRAM 474. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7. WRITING, READING, AND VERIFYING THE SEQUENCE PROGRAM AND 
PMC PARAMETER DATA 475. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.1 OVERVIEW 476. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.1.1 C Input/Output 477. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.2 SET ITEMS 478. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.3 OPERATIONS 480. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.3.1 Transfer to and from a FAPT LADDER 480. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.3.2 Transfer to and from a FANUC FD Cassette 480. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.3.3 Storage to Flash ROM 482. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.3.4 Storage to a Memory Card 484. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.3.5 Data Input to and Output from other Devices 489. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.3.6 Setting the Transfer Speed ([SPEED] Soft Key) 490. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.3.7 Transfer to and from a ROM WRITER 491. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.3.8 Notes on Using an MDI Keyboard without Cursor Keys
</p>
<p>(when using the FS20 PMC&ndash;MODEL RA1/RA3) 492. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.4 I/O ERROR MESSAGES 493. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.5 SEQUENCE PROGRAM COPY FUNCTION 495. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.5.1 Copy Title Data [CPYTTL] 495. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.5.2 Copy a Ladder Program [CPYLAD] 495. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.5.3 Copy Symbol Data and Comment Data [CPYSYM] 495. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.5.4 Copy Message Data [CPYMSG] 495. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.5.5 Copy the Sequence Programs [CPYALL] 496. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
7.5.6 Copy I/O Module Data [CPYMDL] 496. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.6 RESTRICTIONS 496. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY AREAS AND 
DEBUGGING THE PROGRAM (MONIT) 497. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.1 DISPLAYING THE GDT (GLOBAL DESCRIPTOR TABLE) 498. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.1.1 Operation 498. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.1.2 Descriptions of Displayed Items 500. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.2 DISPLAYING THE MEMORY ALLOCATION INFORMATION 
OF A USER PROGRAM CODED IN C. 501. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.2.1 Operation 501. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.2.2 Displayed Items 503. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10Table of Contents
</p>
<p>c&ndash;8
</p>
<p>8.3 DEBUGGING 504. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.3.1 Specifications 504. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.3.2 Operation 504. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.3.3 Parameter Screen 505. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.3.4 Screen for Displaying Traced Data 508. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.3.5 Enabling Automatic Debugging at Power-on 508. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.3.6 Notes 508. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.4 LADDER DEBUGGING FUNCTION 509. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.4.1 Screen of Ladder Debugging Function 509. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.4.2 Soft key menu of Ladder Debugging Function 510. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.4.3 Step Operation [STEP] 511. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.4.4 Stop Function of Break with Condition [BRKCTL] 512. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.5 ONLINE FUNCTION 514. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.5.1 Online Setting Screen 514. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.5.2 Setting Method 515. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.5.3 Setting on the NC Parameter Screen 515. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9. ERROR MESSAGES (FOR EDIT) 517. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>10.ERROR MESSAGES (FOR I/O) 519. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.PMC PROGRAMMER (DPL/MDI) (ONLY FOR THE Power Mate&ndash;D/F/H) 520. . . . . . 
11.1 SELECTING THE PMC PROGRAMMER MENU 522. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.2 SETTING AND DISPLAYING SYSTEM PARAMETERS (SYSTEM PARAM) 523. . . . . . . . . . . . . . . 
</p>
<p>11.3 EDITING THE SEQUENCE PROGRAM (EDIT) 524. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.4 EDITING LADDER MNEMONICS 525. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.4.1 Starting Ladder Mnemonics Editing 525. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.4.2 Confirming the Ladder Mnemonics 526. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.4.3 Modifying the Ladder Mnemonics 527. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.4.4 Ending Ladder Mnemonics Editing 528. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.5 STARTING AND STOPPING THE SEQUENCE PROGRAM (RUN/STOP) 530. . . . . . . . . . . . . . . . . . 
</p>
<p>11.6 ERROR MESSAGES (FOR LADDER MNEMONICS EDITING) 531. . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.7 STORING THE SEQUENCE PROGRAM INTO FLASH EEPROM (I/O)
(ONLY FOR THE Power Mate&ndash;H) 532. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.8 ERROR DETAILS 533. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.9 INPUT/OUTPUT LADDER/PMC&ndash;PARAMETER BY MDI/DPL 534. . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.9.1 Input/Output Method to Office Programmer (P&ndash;g Mate/Mark II) (Fixed 9600bit/Sec.) 534. . . . . . . . . . . . 
11.9.2 Input/Output Method to FANUC FLOPPY CASSETE (Fixed 4800bit/sec.) 534. . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.10 ON&ndash;LINE DEBUGGING FUNCTION (ONLY FOR Power Mate&ndash;H) 535. . . . . . . . . . . . . . . . . . . . . . . . 
11.10.1 Starting and Stopping the On&ndash;line Debugging Function 535. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.11 ERROR LIST 537. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>IV.  STEP SEQUENCE FUNCTION
</p>
<p>1. GENERAL 541. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
1.1 STEP SEQUENCE METHOD 542. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.2 GRAPHICAL SYMBOLS 545. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.3 PROGRAMMING 546. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 ����� 
� �
	��	��
</p>
<p>c&ndash;9
</p>
<p>2. STEP SEQUENCE BASICS 548. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2.1 TERMINOLOGY 549. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.2 EXECUTION OF STEP SEQUENCE 558. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3. CONFIGURATION AND OPERATION OF STEP-SEQUENCE PROGRAMS 562. . . 
3.1 STEP 563. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.2 INITIAL STEP 565. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.3 TRANSITION 566. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.4 DIVERGENCE OF SELECTIVE SEQUENCE 567. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.5 CONVERGENCE OF SELECTIVE SEQUENCE 567. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.6 DIVERGENCE OF SIMULTANEOUS SEQUENCE 568. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.7 CONVERGENCE OF SIMULTANEOUS SEQUENCE 569. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.8 JUMP 570. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.9 LABEL 570. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.10 BLOCK STEP 571. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.11 INITIAL BLOCK STEP 572. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.12 END OF BLOCK STEP 572. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4. EXTENDED LADDER INSTRUCTIONS 573. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1 FUNCTIONAL INSTRUCTION TRSET 574. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.2 PMC ADDRESS (S ADDRESS) 574. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5. SPECIFICATION OF STEP SEQUENCE 575. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.1 SPECIFICATION 576. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.2 GENERAL RULES 577. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.3 EXCLUSIVE CONTROL FOR FUNCTIONAL INSTRUCTIONS 583. . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6. CRT/MDI OPERATION 586. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
6.1 DISPLAYING OF SEQUENCE PROGRAM 587. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.1.1 Program Configuration List (Main Screen) 587. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
6.1.2 Step Sequence Screen 588. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
6.1.3 Ladder Screen 590. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.2 TIMER SCREEN 593. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
6.2.1 Time Screen 593. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
6.2.2 Monitoring Elapsed Time 594. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.3 MONITOR TIME SCREEN 595. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.4 EDITING FUNCTION OF LADD ER DIAGRAM 597. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
6.4.1 Program Configuration List (Main Screen) 597. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
6.4.2 Step Sequence Screen 598. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
6.4.3 Ladder Screen 600. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.5 CORRESPONDING FUNCTION 602. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.6 COMPATIBILITY OF LADDER DIAGRAM 603. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10Table of Contents
</p>
<p>c&ndash;10
</p>
<p>V.  PMC PROGRAMMER(SYSTEM P series)
</p>
<p>1. GENERAL 607. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2. FUNCTIONS OF PROCESSING 608. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3. COMPONENT UNITS AND CONNECTIONS 610. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.1 COMPONENT UNITS 611. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.2 CONNECTIONS OF UNITS 612. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.3 KEYBOARD OF SYSTEM P SERIES 615. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.3.1 LOAD Key (System Program Loading Key) 616. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.3.2 F Keys (F1 to F0) 616. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.3.3 R Keys (R0 to R3) 617. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
3.3.4 Data Keys and Screen Scroll Key 618. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.4 SETTING OF I/O DEVICE 619. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4. OPERATION 621. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.1 GENERAL 622. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.2 PREPARATION BEFORE OPERATION 624. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.2.1 System Floppy 624. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.2.2 Limitations with the SYSTEM P Mate 624. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.2.3 Loading of Floppy 624. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.2.4 FAPT LADDER System Floppy Loading 625. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.2.5 Programmer Menu Screen 626. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.2.6 Parameter Setting and Display 627. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.3 PROGRAM EDITING 630. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.3.1 Data Display and Setting (Title, Symbol, Ladder Program, Comment, Message, I/O Module) 630. . . . . . 
4.3.2 Programming from Keyboard 636. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.3.3 Alter 637. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.3.4 Insert 640. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.3.5 Delete 641. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.3.6 Location Search 641. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.3.7 Display of Ladder Diagram 643. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.3.8 Help Screen 644. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.3.9 Editing end 644. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.4 INPUT OF PROGRAM 645. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.4.1 Source Program 645. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.4.2 ROM Format Program 647. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.5 OUTPUT OF PROGRAM 650. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.5.1 Source Program 650. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.5.2 Paper Command 653. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.5.3 ROM Format Program 654. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.6 COLLATION OF PROGRAM 657. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.6.1 Collation of Source Programs 657. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.6.2 ROM Format Program 657. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.7 DELETION OF PROGRAMS 658. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.8 SPECIAL USES OF THE R3 KEY 659. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.9 DIRECT EDITING BY LADDER DIAGRAM 660. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.9.1 Outline 660. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.9.2 Limitations in SYSTEM P Mate 660. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.9.3 Selection of Program Menu by Soft Keys 660. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 ����� 
� �
	��	��
</p>
<p>c&ndash;11
</p>
<p>4.9.4 Sequence Program Input 662. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.9.5 Substitution of Sequence Programs 665. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.9.6 Additions to Sequence Programs 665. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.9.7 Deleting a Sequence Program 668. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.9.8 Searching a Sequence Program 669. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.9.9 Copying a Sequence Program 671. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.9.10 Moving a Sequence Program 672. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.9.11 Symbol Data Display 673. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.9.12 Compressed Input by [COMAND] Key 674. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.9.13 Ending Edit of a Sequence Program 675. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.10 INPUT/OUTPUT OF LADDER PROGRAM WITH P&ndash;G AND 
FLOPPY CASSETTE/FA CARD 676. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.10.1 General 676. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.10.2 Setting I/O Commands 676. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.10.3 Program Input 676. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.10.4 Program Output 677. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
4.10.5 Program Collation 678. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5. FILE EDITING FUNCTION 679. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
5.1 GENERAL 680. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.2 CONFIGURATION OF COMMAND 683. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.3 FDLIST COMMAND &mdash; FILE ATTRIBUTE DISPLAY 684. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.4 RENAME COMMAND &mdash; FILE ATTRIBUTE CHANGE 685. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.5 SCRATCH COMMAND &mdash; DELETION OF FILES 686. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.6 CONDENSE COMMAND &mdash; RELEASE OF DELETED AREA 686. . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.7 REMOVE COMMAND &mdash; FILE COPY 687. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>APPENDIX
</p>
<p>A. ERROR CODES LIST (FOR FAPT LADDER P&ndash;G) 691. . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>B. WINDOW FUNCTION DESCRIPTION (EXCEPT FS 15B PMC&ndash;NB/NB2) 694. . . . . 
B.1 FUNCTION 694. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>B.2 LOW&ndash;SPEED RESPONSE AND HIGH&ndash;SPEED RESPONSE OF WINDOW FUNCTION 694. . . . . . 
</p>
<p>B.3 LIST OF WINDOW FUNCTIONS 696. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>B.4 FORMATS AND DETAILS OF CONTROL DATA 698. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.1 Reading CNC System Information 699. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.2 Reading a Tool Offset 701. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.3 Writing a Tool Offset (�Low&ndash;Speed Response) 703. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.4 Reading a Workpiece Origin Offset Value (Not Supported by the Power Mate&ndash;D or &ndash;F) 705. . . . . . . . . . 
B.4.5 Writing a Workpiece Origin Offset Value (�Low&ndash;Speed Response)
</p>
<p>(Not Supported by the Power Mate&ndash;D or &ndash;F) 707. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.6 Reading a Parameter (�Low&ndash;Speed Response) 709. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.7 Writing a Parameter  (�Low&ndash;Speed Response) 711. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.8 Reading Setting Data  (�Low&ndash;Speed Response) 713. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.9 Writing Setting Data (�Low&ndash;Speed Response) 715. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.10 Reading a Custom Macro Variable (�Low&ndash;Speed Response) 717. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.11 Writing a Custom Macro Variable (�Low&ndash;Speed Response) 719. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.12 Reading the CNC Alarm Status 721. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.13 Reading the Current Program Number 727. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.14 Reading the Current Sequence Number 729. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.15 Reading the Actual Velocity of Controlled Axes 731. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10Table of Contents
</p>
<p>c&ndash;12
</p>
<p>B.4.16 Reading the Absolute Position (Absolute Coordinates) of Controlled Axes 733. . . . . . . . . . . . . . . . . . . . 
B.4.17 Reading the Machine Position (Machine Coordinates) of Controlled Axes 735. . . . . . . . . . . . . . . . . . . . . 
B.4.18 Reading a Skip Position (Stop Position of Skip Operation (G31)) of Controlled Axes 737. . . . . . . . . . . . 
B.4.19 Reading the Servo Delay for Controlled Axes 739. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.20 Reading the Acceleration/Deceleration Delay on Controlled Axes 741. . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.21 Reading Modal Data 743. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.22 Reading Diagnosis Data (�Low&ndash;Speed Response) 748. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.23 Reading A/D Conversion Data 750. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.24 Reading Tool Life Management Data (Tool Group No.) 
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 754. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.25 Reading Tool Life Management Data (Number of Tool Groups)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 756. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.26 Reading Tool Life Management Data (Number of Tools)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 758. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.27 Reading Tool Life Management Data (Tool Life)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 760. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.28 Reading Tool Life Management Data (Tool Life Counter)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 762. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.29 Reading Tool Life Management Data (Tool Length Compensation No. (1) : Tool No.)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 764. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.30 Reading Tool Life Management Data (Tool Length Compensation No. (2) : Tool Order  No.)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 766. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.31 Reading Tool Life Management Data (Cutter Compensation No. (1) : Tool No.)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 768. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.32 Reading Tool Life Management Data (Cutter Compensation No. (2) : Tool Order No.)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 770. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.33 Reading Tool Life Management Data (Tool Information (1) : Tool No.)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 772. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.34 Reading Tool Life Management Data (Tool Information (2): Tool Order No.)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 774. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.35 Reading Tool Life Management Data (Tool No.)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 776. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.36 Reading the Actual Spindle Speed 778. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.37 Entering Data on the Program Check Screen (�Low&ndash;Speed response)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 780. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.38 Reading Clock Data (Date and Time) (Not available for Power Mate&ndash;F) 782. . . . . . . . . . . . . . . . . . . . . . 
B.4.39 Entering Torque Limit Data for the Digital Servo Motor (�Low&ndash;Speed response) 784. . . . . . . . . . . . . . 
B.4.40 Reading Load Information of the Spindle Motor (Serial Interface) 786. . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.41 Reading a Parameter (Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 788. . . . . . . . . . . . . . . . . . . . . . 
B.4.42 Reading Set Data (Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 789. . . . . . . . . . . . . . . . . . . . . . . . 
B.4.43 Reading Diagnosis Data (Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 790. . . . . . . . . . . . . . . . . . . 
B.4.44 Reading a Character String of the CNC Program Being Executed in the Buffer 791. . . . . . . . . . . . . . . . . 
B.4.45 Reading the Relative Position on a Controlled Axis 793. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.46 Reading the Remaining Travel 795. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.47 Reading CNC Status Information 797. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.48 Reading an Operator Message 799. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.49 Reading Value of the P-code Macro Variable (�Low&ndash;Speed response) 801. . . . . . . . . . . . . . . . . . . . . . . 
B.4.50 Writing Value of the P&ndash;code Macro Variable (�Low&ndash;Speed response) 803. . . . . . . . . . . . . . . . . . . . . . . . 
B.4.51 Reading the Tool Life Management Data (Tool Life Counter Type)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 805. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.52 Registering the Tool Life Management Data (Tool Group) (�Low&ndash;Speed response)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 807. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.53 Writing the Tool Life Management Data (Tool life) (�Low&ndash;Speed response)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 809. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.54 Writing the Tool Life Management Data (Tool Life Counter) (�Low&ndash;Speed response)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 811. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.55 Writing the Tool Life Management Data (Tool Life Counter Type) (�Low&ndash;Speed Response)
</p>
<p>(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 813. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B.4.56 Writing the Tool Life Management Data (Tool Length Offset Number (1) : Tool Number) 
</p>
<p>(�Low&ndash;Speed Response) (Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 815. . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 ����� 
� �
	��	��
</p>
<p>c&ndash;13
</p>
<p>B.4.57 Writing the Tool Life Management Data 
(Tool Length Offset Number (2) : Tool Operation Sequence Number) 
(�Low&ndash;Speed Response) (Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 817. . . . . . . . . . . . . . . . . . 
</p>
<p>B.4.58 Writing the Tool Life Management Data (Cutter Compensation Number (1) : Tool Number) 
(�Low&ndash;Speed Response) (Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 819. . . . . . . . . . . . . . . . . . 
</p>
<p>B.4.59 Writing the Tool Life Management Data 
(Cutter Compensation Number (2) : Tool Operation Sequence Number) (�Low&ndash;Speed Response)
(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 821. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>B.4.60 Writing the Tool Life Management Data (Tool Condition (1) : Tool Number) 
(�Low&ndash;Speed Response) (Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 823. . . . . . . . . . . . . . . . . . 
</p>
<p>B.4.61 Writing the Tool Management Data (Tool condition (2) : Tool Operation Sequence Number) 
(�Low&ndash;Speed Response) (Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 825. . . . . . . . . . . . . . . . . . 
</p>
<p>B.4.62 Writing the Tool Life Management Data (Tool Number) (�Low&ndash;Speed Response)
(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA) 827. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>B.4.63 Reading the Estimate Disturbance Torque Data 829. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>C. WINDOW FUNCTION DESCRIPTION (FS15B PMC&ndash;NB/NB2) 833. . . . . . . . . . . . . . . 
C.1 FUNCTION 833. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>C.2 LOW&ndash;SPEED RESPONSE AND HIGH&ndash;SPEED RESPONSE OF WINDOW FUNCTION 833. . . . . . 
C.2.1 Functional Instruction WINDR 835. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.2.2 Functional Instruction WINDW 837. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>C.3 FORMAT AND DETAILS OF THE CONTROL DATA OF 
THE WINDR FUNCTIONAL INSTRUCTION 838. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>C.3.1 Reading a Tool Offset (Low&ndash;Speed Response) 839. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.2 Reading a Workpiece Origin Offset Value 841. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.3 Reading a Parameter (Setting Data) (Low&ndash;speed response) 842. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.4 Reading a Custom Macro Variable (Low&ndash;speed response) 843. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.5 Reading the CNC Alarm Status (Low&ndash;speed response) 844. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.6 Reading the Current Program Number (Low&ndash;speed response) 845. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.7 Reading the Current Sequence Number (Low&ndash;speed response) 846. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.8 Reading the Actual Velocity of Controlled Axes (Low&ndash;speed response) 847. . . . . . . . . . . . . . . . . . . . . . . 
C.3.9 Reading the Absolute Position on a Controlled Axis 847. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.10 Reading the Machine Position (Machine Coordinates) of Controlled Axes 849. . . . . . . . . . . . . . . . . . . . . 
C.3.11 Reading a Skip Position (Stop Position of Skip Operation (G31)) of Controlled Axes
</p>
<p>(Low&ndash;speed response) 850. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.12 Reading the Servo Delay for Controlled Axes 851. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.13 Reading the Acceleration/Deceleration Delay on Controlled Axes 851. . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.14 Reading Modal Data (Low&ndash;speed response) 852. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.15 Reading Diagnosis Data (Low&ndash;speed response) 858. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.16 Reading A/D Conversion Data for the Feed Motor 859. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.17 Reading the Tool Life Management Data (Tool Group Number) (Low&ndash;speed response) 861. . . . . . . . . . 
C.3.18 Reading the Tool Life Management Data (Number of Tool Groups) (Low&ndash;speed response) 862. . . . . . . 
C.3.19 Reading Tool Life Management Data (Number of Tools) (Low&ndash;speed response) 862. . . . . . . . . . . . . . . . 
C.3.20 Reading Tool Life Management Data (Tool Life) (Low&ndash;speed response) 863. . . . . . . . . . . . . . . . . . . . . . 
C.3.21 Reading Tool Life Management Data (Tool Life Counter) (Low&ndash;speed response) 863. . . . . . . . . . . . . . . 
C.3.22 Reading Tool Life Management Data (Tool Life Counter Type) (Low&ndash;speed response) 864. . . . . . . . . . . 
C.3.23 Reading Tool Life Management Data (Tool Length Compensation No.1) (Low&ndash;speed response) 865. . . 
C.3.24 Reading Tool Life Management Data (Tool Length Compensation No.2) (Low&ndash;speed response) 866. . . 
C.3.25 Reading Tool Life Management Data (Cutter Compensation No.1) (Low&ndash;speed response) 867. . . . . . . . 
C.3.26 Reading Tool Life Management Data (Cutter Compensation No.2) (Low&ndash;speed response) 868. . . . . . . . 
C.3.27 Reading Tool Life Management Data (Tool Information 1) (Low&ndash;speed response) 869. . . . . . . . . . . . . . 
C.3.28 Reading Tool Life Management Data (Tool Information 2) (Low&ndash;speed response) 870. . . . . . . . . . . . . . 
C.3.29 Reading Tool Life Management Data (Tool Number) (Low&ndash;speed response) 870. . . . . . . . . . . . . . . . . . . 
C.3.30 Reading Clock Data (Low&ndash;speed response) 871. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.31 Reading the Relative Position on a Controlled Axis 872. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.32 Reading the Remaining Travel 873. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.33 Reading an Estimate Disturbance Torque Data 874. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.3.34 Reading the Machining Time (Low&ndash;speed response) 875. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10Table of Contents
</p>
<p>c&ndash;14
</p>
<p>C.3.35 Reading the Load Current (A/D Conversion Data) for the Spindle Motor 876. . . . . . . . . . . . . . . . . . . . . . 
C.3.36 Reading the Tool Offset Data According to the Specified Tool Number 877. . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>C.4 FORMAT AND DETAILS OF THE CONTROL DATA OF 
THE WINDW FUNCTIONAL INSTRUCTION 878. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>C.4.1 Writing a Tool Offset Data 879. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.4.2 Writing a Parameter (Setting Data) 880. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.4.3 Writing a Custom Macro Variable 881. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.4.4 Writing a Data on the Program Check Screen 882. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.4.5 Writing the Torque Limit Override 883. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.4.6 Writing the Tool Life Management Data (Tool Group Number) 883. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.4.7 Writing the Tool Life Management Data (Tool Life) 884. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.4.8 Writing the Tool Life Management Data (Tool Life Counter) 884. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.4.9 Writing the Tool Life Management Data (Tool Life Counter Type) 885. . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.4.10 Writing the Tool Life Management Data (Tool Length Compensation Number 1) 886. . . . . . . . . . . . . . . 
C.4.11 Writing the Tool Life Management Data (Tool Length Compensation Number 2) 886. . . . . . . . . . . . . . . 
C.4.12 Writing the Tool Life Management Data (Cutter Compensation Number 1) 887. . . . . . . . . . . . . . . . . . . . 
C.4.13 Writing the Tool Life Management Data (Cutter Compensation Number 2) 887. . . . . . . . . . . . . . . . . . . . 
C.4.14 Writing the Tool Life Management Data (Tool Information 1) 888. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.4.15 Writing the Tool Life Management Data (Tool Information 2) 888. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.4.16 Writing the Tool Life Management Data (Tool Number) 889. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.4.17 Writing the Tool offset Data According to the Specified Tool Number 890. . . . . . . . . . . . . . . . . . . . . . . . 
C.4.18 Writing the Superposition Move Command 891. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
C.4.19 Writing the Feedrate 893. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>D. WINDOW FUNCTION DESCRIPTION (FS16&ndash;LA) 894. . . . . . . . . . . . . . . . . . . . . . . . . . 
D.1 OUTLINE 894. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>D.2 FUNCTION 895. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
D.2.1 Transfer Between Data Area and Non&ndash;Volatile Memory 895. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
D.2.2 Reading of the Comment 899. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
D.2.3 Reading and Writing the Laser Command Data and Laser Setting Data 900. . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>E. WINDOW FUNCTION DESCRIPTION (FS16&ndash;W) 903. . . . . . . . . . . . . . . . . . . . . . . . . . . 
E.1 READING THE WIRE DIAMETER OFFSET 903. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>E.2 WRITING THE WIRE DIAMETER OFFSET (�LOW&ndash;SPEED RESPONSE) 905. . . . . . . . . . . . . . . . 
</p>
<p>E.3 READING THE PARAMETER (�LOW&ndash;SPEED RESPONSE) 907. . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>E.4 WRITING THE PARAMETER (�LOW&ndash;SPEED RESPONSE) 909. . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>E.5 READING SETTING DATA 914. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>E.6 WRITING SETTING DATA (LOW&ndash;SPEED TYPE) 915. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>E.7 READING THE CNC ALARM STATUS 918. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>E.8 READING MODEL DATA 919. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>E.9 READING MACHINING DISTANCES 923. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>E.10 READING THE MEASURED POINT 924. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>E.11 WRITING THE MEASURED POINT (�LOW&ndash;SPEED RESPONSE) 926. . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>F. WINDOW FUNCTION DESCRIPTION (FS16&ndash;PA) 927. . . . . . . . . . . . . . . . . . . . . . . . . . 
F.1 READING OF TOOL SETTING DATA 927. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>F.1.1 Data Number, Data Attribute, Data Length, Data Area 929. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>F.2 WRITING OF TOOL SETTING DATA (LOW&ndash;SPEED RESPONSE) 930. . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>F.3 READING TOOL SETTING DATA BY SPECIFYING TOOL NUMBER 932. . . . . . . . . . . . . . . . . . . . 
</p>
<p>F.4 OTHER WINDOW FUNCTIONS 934. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 ����� 
� �
	��	��
</p>
<p>c&ndash;15
</p>
<p>G. SIGNAL ADDRESS CONVERSION 
(FROM THE PMC&ndash;MODEL L/M TO THE PMC&ndash;MODEL RB/RC) 935. . . . . . . . . . . . . 
G.1 GENERAL 935. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>G.2 FUNCTION 935. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>G.3 CONVERSION 935. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>G.4 MODIFYING THE CONVERTED SEQUENCE PROGRAM 936. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
G.4.1 Modification Procedure 936. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>H. CONNECTING THE OPERATOR&rsquo;S PANEL FOR FS 0 
WITH FS16, FS18, FS21, OR Power Mate 938. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
H.1 GENERAL 938. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>H.2 CONNECTION 941. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
H.2.1 Connecting the I/O Unit 941. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
H.2.2 Connecting the I/O Card 941. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>H.3 SIGNALS FOR CONNECTING THE OPERATOR&rsquo;S PANEL 942. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
H.3.1 Emergency Stop Signal (*ESP) 942. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
H.3.2 Override Signals (*OV1 to *OV8) and Program Protect Key Signal (KEY) 942. . . . . . . . . . . . . . . . . . . . 
H.3.3 Key Switch Signals (Xn, Xn+2) 942. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
H.3.4 LED Signals (Ym) 943. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>H.4 SPECIFYING ADDRESSES 945. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
H.4.1 Parameter Menu (for PMC&ndash;RB) 945. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
H.4.2 Procedure 945. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>I. EDITING FOR Power Mate&ndash;MODEL D (PMC&ndash;PA1/PA3) 947. . . . . . . . . . . . . . . . . . . . 
I.1 OUTLINE 947. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>I.2 COMPATIBILITY WITH CNC BASIC SOFTWARE 947. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>I.3 PMC PROGRAMMER (CRT/MDI OR PDP/MDI) [LADDER EDITING FUNCTION] 947. . . . . . . . . 
I.3.1 Component Units and Connections 948. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>I.3.1.1 Component units 948. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>I.3.1.2 Connection of Components 949. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>I.3.1.3 Parameter 949. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>I.3.2 Specification and Display of System Parameters (SYSPRM) 950. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
I.3.3 Condense 950. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>I.4 SYSTEM DIAGRAM OF SOFT KEY 952. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>J. APPLICABLE FAPT LADDER EDITIONS 953. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
J.1 FAPT LADDER, FAPT LADDER&ndash;II, LADDER EDITING PACKAGES 953. . . . . . . . . . . . . . . . . . . . . 
</p>
<p>J.2 FAPT LADDER (SYSTEM P SERIES) 955. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>K. LEVEL UP OF INPUT/OUTPUT FUNCTION WITH MEMORY CARD 957. . . . . . . . . 
K.1 OUTLINE OF LEVELED UP CONTENTS 957. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>K.2 OPERATION 958. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
K.2.1 CNC � Offline Programmer 958. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
K.2.2 Offline Programmer � CNC 960. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
K.2.3 Note 961. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>K.3 NB/NB2 DATA COMPATIBILITY 964. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
K.3.1 Data Transfer Between NB (4047 series) and FAPT LADDER 964. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
K.3.2 Data Transfer Between NB/NB2 (4048 series) and FAPT LADDER 964. . . . . . . . . . . . . . . . . . . . . . . . . . 
K.3.3 Data Transfer Between NB (4047 series) and NB (4048 series) 965. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10Table of Contents
</p>
<p>c&ndash;16
</p>
<p>L. ALARM MESSAGE LIST 966. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>M. EXAMPLE OF STEP SEQUENCE PROGRAMS 977. . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>N. STEP SEQUENCE CORRESPONDED C LANGUAGE 981. . . . . . . . . . . . . . . . . . . . . . 
N.1 WHILE STATEMENT 981. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>N.2 DO&ndash;WHILE STATEMENT 983. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>N.3 FOR STATEMENT 985. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>N.4 IF ELSE STATEMENT 987. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>N.5 SWITCH STATEMENT 989. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>O. CHINESE CHARACTER CODE, HIRAGANA CODE, 
AND SPECIAL CODE LIST 992. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 PREFACE
</p>
<p>p&ndash;1
</p>
<p>PREFACE
</p>
<p>This programming manual describes the method of generating
ladder sequence programs for PMC.
</p>
<p>It also describes the operation methods of CRT/MDI and
SYSTEM P series for sequence programming.
</p>
<p>This manual presents programming descriptions for the PMC
models listed in the following table. Note that some models have
been renamed; in the product name column, the old names are
enclosed in parentheses, while the new names appear above the
old names. However, the previous specifications are still applied
to the renamed models. Thus, when using the renamed models,
users should:
</p>
<p>&bull; Read the old names shown in this manual as the new names.
&bull; Read the old names appearing on the units as the new names.
</p>
<p>The models covered by this manual, and their abbreviations are :
</p>
<p>Product Name Abbreviations Applicable CNC
</p>
<p>FANUC PMC&ndash;MODEL PA1 PMC&ndash;PA1 FANUC Power Mate&ndash;MODEL D
</p>
<p>FANUC Series 21&ndash;MODEL A
</p>
<p>FANUC PMC&ndash;MODEL PA3 PMC&ndash;PA3 FANUC Power Mate&ndash;MODEL D/F/H
</p>
<p>FANUC Series 21&ndash;MODEL A
</p>
<p>FANUC PMC&ndash;MODEL SA1 (Note 1)
</p>
<p>(Old Name : FANUC PMC&ndash;MODEL RA1)
</p>
<p>PMC&ndash;SA1
</p>
<p>(PMC&ndash;RA1)
</p>
<p>FANUC Series 18&ndash;MODEL A/B
</p>
<p>FANUC Series 20
</p>
<p>FANUC Series 21&ndash;MODEL B
</p>
<p>FANUC Series 21i&ndash;MODEL A
</p>
<p>Loader control function (Note 2)
</p>
<p>FANUC PMC&ndash;MODEL SA2 (Note 1)
</p>
<p>(Old Name : FANUC PMC&ndash;MODEL RA2)
</p>
<p>PMC&ndash;SA2
</p>
<p>(PMC&ndash;RA2)
</p>
<p>FANUC Series 18&ndash;MODEL A
</p>
<p>FANUC PMC&ndash;MODEL SA3 (Note 1)
</p>
<p>(Old Name : FANUC PMC&ndash;MODEL RA3)
</p>
<p>PMC&ndash;SA3
</p>
<p>(PMC&ndash;RA3)
</p>
<p>FANUC Series 18&ndash;MODEL A
</p>
<p>FANUC Series 20
</p>
<p>FANUC Series 21&ndash;MODEL B
</p>
<p>FANUC PMC&ndash;MODEL SA5 (Note 1)
</p>
<p>(Old Name : FANUC PMC&ndash;MODEL RA5)
</p>
<p>PMC&ndash;SA5
</p>
<p>(PMC&ndash;RA5)
</p>
<p>FANUC Series 21i&ndash;MODEL A
</p>
<p>FANUC PMC&ndash;MODEL SB (Note 1)
</p>
<p>(Old Name : FANUC PMC&ndash;MODEL RB)
</p>
<p>PMC&ndash;SB
</p>
<p>(PMC&ndash;RB)
</p>
<p>FANUC Series 16&ndash;MODEL A
</p>
<p>FANUC PMC&ndash;MODEL SB2 (Note 1)
</p>
<p>(Old Name : FANUC PMC&ndash;MODEL RB2)
</p>
<p>PMC&ndash;SB2
</p>
<p>(PMC&ndash;RB2)
</p>
<p>FANUC PMC&ndash;MODEL SB3 (Note 1)
</p>
<p>(Old Name : FANUC PMC&ndash;MODEL RB3)
</p>
<p>PMC&ndash;SB3
</p>
<p>(PMC&ndash;RB3)
</p>
<p>FANUC Series 16&ndash;MODEL A/B
</p>
<p>FANUC Series 18&ndash;MODEL B
</p>
<p>FANUC PMC&ndash;MODEL SB4 (Note 1)
</p>
<p>(Old Name : FANUC PMC&ndash;MODEL RB4)
</p>
<p>PMC&ndash;SB4
</p>
<p>(PMC&ndash;RB4)
</p>
<p>FANUC Series 16&ndash;MODEL B
</p>
<p>FANUC Series 18&ndash;MODEL B
</p>
<p>Renaming of PMC
Models
</p>
<p>Applicable models
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10PREFACE
</p>
<p>p&ndash;2
</p>
<p>Product Name Applicable CNCAbbreviations
</p>
<p>FANUC PMC&ndash;MODEL SB5 (Note 1)
</p>
<p>(Old Name : FANUC PMC&ndash;MODEL RB5)
</p>
<p>PMC&ndash;SB5
</p>
<p>(PMC&ndash;RB5)
</p>
<p>FANUC Series 16&ndash;MODEL C
</p>
<p>FANUC Series 18&ndash;MODEL C
</p>
<p>FANUC Series 16i&ndash;MODEL A
FANUC PMC&ndash;MODEL SB6 (Note 1)
</p>
<p>(Old Name : FANUC PMC&ndash;MODEL RB6)
</p>
<p>PMC&ndash;SB6
</p>
<p>(PMC&ndash;RB6)
</p>
<p>FANUC Series 16 &ndash;MODEL A
</p>
<p>FANUC Series 18i&ndash;MODEL A
</p>
<p>FANUC Power Mate i&ndash;MODEL D/H
</p>
<p>FANUC PMC&ndash;MODEL SC (Note 1)
</p>
<p>(Old Name : FANUC PMC&ndash;MODEL RC)
</p>
<p>PMC&ndash;SC
</p>
<p>(PMC&ndash;RC)
</p>
<p>FANUC Series 16&ndash;MODEL A
</p>
<p>FANUC PMC&ndash;MODEL SC3 (Note 1)
</p>
<p>(Old Name : FANUC PMC&ndash;MODEL RC3)
</p>
<p>PMC&ndash;SC3
</p>
<p>(PMC&ndash;RC3)
</p>
<p>FANUC Series 16&ndash;MODEL A/B/C
</p>
<p>FANUC Series 18&ndash;MODEL B/C
</p>
<p>FANUC PMC&ndash;MODEL SC4 (Note 1)
</p>
<p>(Old Name : FANUC PMC&ndash;MODEL RC4)
</p>
<p>PMC&ndash;SC4
</p>
<p>(PMC&ndash;RC4)
</p>
<p>FANUC Series 16&ndash;MODEL B/C
</p>
<p>FANUC Series 18&ndash;MODEL B/C
</p>
<p>FANUC PMC&ndash;MODEL NB PMC&ndash;NB FANUC Series 15&ndash;MODEL B
</p>
<p>FANUC PMC&ndash;MODEL NB2 PMC&ndash;NB2
</p>
<p>NOTE
1 These models have been renamed; in the product name
</p>
<p>column, the old names are enclosed in parentheses, while
the new names appear above the old names. However, the
previous specifications are still applied to the renamed
models. 
Thus, when using the renamed models, users should :
&bull; Read the old names shown in this manual as the new
</p>
<p>names.
&bull; Read the old names appearing on the units as the new
</p>
<p>names.
2 PMC&ndash;SA1 is applied to the loader control side of a CNC
</p>
<p>having the loader control function.
The CNC models having the loader control function are as
follows :
FANUC Series 16&ndash;MODEL A/B/C
FANUC Series 18&ndash;MODEL A/B/C
FANUC Series 21&ndash;MODEL B
FANUC Series 16i&ndash;MODEL A
FANUC Series 18i&ndash;MODEL A
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 PREFACE
</p>
<p>p&ndash;3
</p>
<p>However, it does not include all items required for sequence
programming.  For those required for sequence programming
refer to the following manuals.
</p>
<p>Name of manual Reference items Application
</p>
<p>FANUC Power Mate-MODEL D/F
CONNECTION MANUAL (B-62833EN)
</p>
<p>Interface between PMC and CNC PMC-PA1
PMC-PA3
</p>
<p>FANUC Power Mate-MODEL H
CONNECTION MANUAL (B&ndash;62683EN)
</p>
<p>Interface between PMC and CNC PMC-PA3
</p>
<p>FANUC Power Mate i-MODEL D/H
CONNECTION MANUAL (FUNCTION) (B&ndash;63733EN&ndash;1)
</p>
<p>Interface between PMC and CNC PMC-SB5
PMC-SB6
</p>
<p>FANUC Series 16/18
CONNECTION MANUAL (B-61803E)
</p>
<p>Interface between PMC and CNC PMC-SA1
PMC-SA2
PMC-SA3
PMC-SB
PMC-SB2
PMC-SB3
PMC-SC
PMC-SC3
</p>
<p>FANUC Series 16/18/160/180-MODEL B
CONNECTION MANUAL (FUNCTION) (B-62443E-1)
</p>
<p>Interface between PMC and CNC PMC-SB3
PMC-SB4
PMC-SC3
PMC-SC4
</p>
<p>FANUC Series 16/18/160/180-MODEL C
CONNECTION MANUAL (FUNCTION) (B-62753EN-1)
</p>
<p>Interface between PMC and CNC PMC-SB5
PMC-SB6
PMC-SC3
PMC-SC4
</p>
<p>FANUC Series 16i/18i/21i/160i/180i/210i&ndash;MODEL A 
CONNECTION MANUAL (FUNCTION) (B-63003EN-1)
</p>
<p>Interface between PMC and CNC PMC-SA1
PMC-SA5
PMC-SB5
PMC-SB6
</p>
<p>FANUC Series 20&ndash;FA/TA 
CONNECTION MANUAL (B&ndash;62173E)
</p>
<p>Interface between PMC and CNC PMC-SA1
PMC-SA3
</p>
<p>FANUC Series 21/210&ndash;MODEL B 
CONNECTION MANUAL (FUNCTION) (B&ndash;62703EN&ndash;1)
</p>
<p>Interface between PMC and CNC PMC-SA1
PMC-SA3
</p>
<p>FANUC Series 15-MODEL  B
BMI INTERFACE
CONNECTION MANUAL (B-62073E-1)
</p>
<p>Interface between PMC and CNC PMC-NB
PMC-NB2
</p>
<p>FANUC PMC-MODEL RC/RC3/RC4/NB
C LANGUAGE PROGRAMMING MANUAL
(B-61863E-1)
</p>
<p>C language programming PMC-SC
PMC-SC3
PMC-SC4
PMC-NB
PMC-NB2
</p>
<p>The models covered for reference by this manual, and their
abbreviations are:
</p>
<p>Product name Abbreviation CNC for
</p>
<p>FANUC  PMC-MODEL  P PMC-P FANUC  Power  Mate-MODEL  C
</p>
<p>FANUC  PMC-MODEL  NA PMC-NA FANUC  Series  15-MODEL  B
</p>
<p>Other manuals
</p>
<p>Other application
model names
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>I.  PMC SEQUENCE PROGRAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
1. SEQUENCE PROGRAM 
</p>
<p>CREATING PROCEDUREPMC SEQUENCE PROGRAM
</p>
<p>3
</p>
<p>1 SEQUENCE PROGRAM CREATING PROCEDURE
The procedure for creating the sequence program when the CNC machine
tool is controlled by use of the PMC is shown in Fig. 1.
Proceed according to the flow shown in Fig. 1.
The procedure is briefly explained below.
</p>
<p>Decide the control object (machine, CNC)
</p>
<p>Decide the specifications of control
operations
� Calculate the number of DI/DO points
� Estimate the control scale
</p>
<p>Create the interface specifications
DI/DO terminal allocation
</p>
<p>Store the sequence program into the PMC
RAM board by using the keys of the
CRT/MDI
</p>
<p>If necessary correct with the keys of the
CRT/MDI
</p>
<p>Create the ladder diagram
Create the addrss table
</p>
<p>Entry method of the
sequence program
</p>
<p>Specification of the
programmer
</p>
<p>Is there a simulator?
</p>
<p>Debug the sequence program with the
simulator
</p>
<p>Should the program be
corrected?
</p>
<p>Enter the sequence program with the offline
programmer key
</p>
<p>When the debugging connect the offline
programmer to CNC and transfer the
sequence program to Debugging RAM
</p>
<p>In necessary correct with the offline
programmer key
</p>
<p>Start of control system
development
</p>
<p>A
</p>
<p>Offline programmer
</p>
<p>No
</p>
<p>Yes
</p>
<p>Key-in
</p>
<p>NC
</p>
<p>No
</p>
<p>Yes
</p>
<p>5
</p>
<p>6
</p>
<p>����1   Sequence program creating procedure (1/2)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. SEQUENCE PROGRAM 
CREATING PROCEDURE B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>4
</p>
<p>A
</p>
<p>Perform system operation
Debugging RAM
</p>
<p>Should the program
be corrected?
</p>
<p>Write into the ROM using the
ROM writer
</p>
<p>Perform system operation
</p>
<p>Store the sequence program:
</p>
<p>(1) Store in the disk of the offline 
programmer
</p>
<p>(2) Store in ROM
</p>
<p>Output the ladder diagram of the
sequence program to the printer
</p>
<p>Correct with
the keys of the
CRT/MDI
</p>
<p>Should the program
be corrected?
</p>
<p>End
</p>
<p>No
</p>
<p>Yes
</p>
<p>Yes
</p>
<p>Make sure that the maintenance
drawing is attached to the machine
</p>
<p>7
</p>
<p>8
</p>
<p>9
</p>
<p>10
</p>
<p>11
</p>
<p>12
</p>
<p>����1   Sequence program creating procedure (2/2)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
1. SEQUENCE PROGRAM 
</p>
<p>CREATING PROCEDUREPMC SEQUENCE PROGRAM
</p>
<p>5
</p>
<p>Table 1.1 shows the specification of PMCs.
Note that the program size, processing speed, available function
commands, internal addresses, and nonvolatile memory addresses of
some PMCs are different from those of other PMCs.
</p>
<p>Table 1.1   PMC specifications (1)
</p>
<p>Specification 
of PMC
</p>
<p>Internal relay (R)
Message request (A)
Keepmemory
</p>
<p>� Variable timer (T)
� Counter (C)
� Keep relay (K)
� Data table (D)
</p>
<p>Subprogram (P)
Label (L)
Fixed timer
</p>
<p>Program capacity
� Ladder (step)
</p>
<p>� Symbol, Comment (Note 1)
� Message
� Language only
</p>
<p>Approx. 3, 000
</p>
<p>1 to 128KB
0.1 to 64KB
</p>
<p>&ndash;
</p>
<p>Approx. 5, 000
Approx. 12,000
(Only for Power
Mate D/H)
1 to 128KB
0.1 to 64KB
</p>
<p>&ndash;
</p>
<p>  1100  byte
      25  byte
</p>
<p>      80  byte
      80  byte
      20  byte
  1860  byte
</p>
<p>&ndash;
&ndash;
</p>
<p>Timer No. 100
devices specified
</p>
<p>1118  byte
    25  byte
</p>
<p>    80  byte
    80  byte
    20  byte
1860  byte
512 programs
9999 labels
Timer No. 100
devices specified
</p>
<p>I/O
� I/O  Link (Note 2) (I)
</p>
<p>  (Master) (O)
� I/O  Link (I)
</p>
<p>  (Slave) (O)
� I/O card (I)
</p>
<p>       (O)
</p>
<p>1024 points max.
1024 points max.
64 points max.
64 points max.
32 points max.
24 points max.
</p>
<p>1024 points max.
1024 points max.
64 points max.
64 points max.
32 points max.
24 points max.
</p>
<p>Capacity of each modules
</p>
<p>It is impossible that make the data more
than the total capacity of each
modules.
</p>
<p>MEMORY-
MODULE
</p>
<p>Total
capacity
</p>
<p>Mean processing time of 
basic command
</p>
<p>   4. 5
(us/ step)
</p>
<p>   0. 15
(us/ step)
</p>
<p>MEMORY-
MODULE
</p>
<p>SYMBOL
&amp;
</p>
<p>COMMENT
MESSAGE
</p>
<p>Command Basic command
Function command
</p>
<p> 12 kinds
 47 kinds
</p>
<p>14 kinds
64 kinds
</p>
<p>Sequence program
(Note 3)
</p>
<p>      SRAM       SRAM
</p>
<p>Type of PMC
PMC-PA1 PMC-PA3
</p>
<p>Program method language  Ladder  Ladder
</p>
<p>Number of ladder level 2 2
</p>
<p>1st level execution period 8  ms 8  ms
</p>
<p>A 62KB
</p>
<p>B 126KB
</p>
<p>C 126KB
</p>
<p>A 62KB 62KB
</p>
<p>B 126KB 64KB
</p>
<p>C 126KB 64KB
</p>
<p>Maximum data size of each modules
</p>
<p>*
</p>
<p>NOTE
1 The size of a symbol and that of a comment are fixed to 1KB.
</p>
<p>The size of a message is fixed to 0.1KB.
The maximum size of a symbol and that of a comment are 64KB each.
</p>
<p>	 ��� �"&amp;# ��*+�) �,&amp;�+"'&amp; "* &amp;'+ �-�"$��$� "&amp; +!� �'.�) ��+������� ��
</p>
<p>
 ����� ��� "* ,*�� "&amp; +!� �'.�) ��+������� ��
</p>
<p>� �* -�$,�* "&amp;�"��+��."+! �&amp; �*+�)"*# ��� "&amp; +!� +��$�� �')%�) -�)*"'&amp;* '� +!� ()' )�%%"&amp; %�&amp;,�$
</p>
<p>�&amp;� ��+�$' * !�-� $"*+�� +!� %��&amp; ()'��**"&amp; +"%� '� ��*"� �'%%�&amp;�*� �,+ +!"* %�&amp;,�$ $"*+*
</p>
<p>+!� �/��,+"'&amp; +"%� �') '&amp;� *+�(� �!� ��+,�$ $����) ()' )�% �/��,+"'&amp; (�)�')%�&amp;�� �*(���� '�
</p>
<p>���! ��&#13; !�* &amp;'+ ���&amp; �!�&amp; ���
</p>
<p>5 Up to 256/256 points of Input/Output points are available or I/O Link (Slave) in the Power
Mate&ndash;MODEL D/H.
</p>
<p>1.1
SPECIFICATION OF
PMCs
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. SEQUENCE PROGRAM 
CREATING PROCEDURE B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>6
</p>
<p>����� 1.1 PMC specifications (2)
</p>
<p>Type of PMC
</p>
<p>Specification 
of PMC
</p>
<p>PMC&ndash;RA1 PMC&ndash;RA2 PMC&ndash;RA3
</p>
<p>Program method language Ladder Ladder Ladder
</p>
<p>Number of ladder level 2 2 2
</p>
<p>1st level execution period 8 ms 8 ms 8 ms
</p>
<p>Mean processing time of basic
command
</p>
<p>5.0
(us/ step)
</p>
<p>1.5
(us/ step)
</p>
<p>   0. 15
(us/ step)
</p>
<p>*
</p>
<p>Program capacity
� Ladder (step)
</p>
<p>� Symbol, Comment 
(Note 1)
</p>
<p>� Message
� Language only
</p>
<p>Approx. 3, 000
Approx. 5, 000
</p>
<p>  1 to 128KB
</p>
<p>  0. 1 to 64KB
&ndash;
</p>
<p>Approx. 3, 000
Approx. 5, 000
Approx. 8, 000
Approx.12, 000
  1 to 128KB
</p>
<p>  0. 1 to 64KB
&ndash;
</p>
<p>Approx. 3, 000
Approx. 5, 000
Approx. 8, 000
Approx.12, 000
  1 to 128KB
</p>
<p>  0. 1 to 64KB
&ndash;
</p>
<p>Command Basic command
Function command
</p>
<p>12 kinds
49 kinds
</p>
<p>12 kinds
48 kinds
</p>
<p>14 kinds
66 kinds
</p>
<p>Internal relay (R)
Message request (A)
Keepmemory
</p>
<p>� Variable timer (T)
� Counter (C)
� Keep relay (K)
� Data table (D)
</p>
<p>Subprogram (P)
Label (L)
Fixed timer
</p>
<p>1100  byte
      25  byte
</p>
<p>      80  byte
      80  byte
      20  byte
  1860  byte
</p>
<p>&ndash;
&ndash;
</p>
<p>Timer No. 100
devices specified
</p>
<p>1118  byte
    25  byte
</p>
<p>    80  byte
    80  byte
    20  byte
1860  byte
&ndash;
&ndash;
</p>
<p>Timer No. 100
devices specified
</p>
<p>1118  byte
 25  byte
</p>
<p>    80  byte
    80  byte
    20  byte
1860  byte
</p>
<p>  512 programs
9999 labels
</p>
<p>Timer No. 100
devices specified
</p>
<p>I/O
� I/O link (I)
</p>
<p>(O)
� I/O card (I)
</p>
<p>(O)
</p>
<p>1024 points max.
1024 points max.
156 points max.
120 points max.
</p>
<p>1024 points max.
1024 points max.
156 points max.
120 points max.
</p>
<p>1024 points max.
1024 points max.
156 points max.
120 points max.
</p>
<p>Sequence program EPROM
1Mbit&times;1 (128KB)
(Note 2)
</p>
<p>EPROM
1Mbit&times;1 (128KB)
</p>
<p>EPROM
1Mbit&times;1 (128KB)
(Note 2)
</p>
<p>NOTE
1 The size of a symbol and that of a comment are fixed to 32KB.
</p>
<p>The size of a message is fixed to 2.1KB.
The maximum size of a symbol and that of a comment are 64KB each.
</p>
<p>2 FLASH ROM is used in the FANUC Series 20.
3 As values indicated with an asterisk (*) in the table, former versions of the programming manual
</p>
<p>and catalogs have listed the mean processing time of basic commands, but this manual lists
the execution time for one step.  The actual ladder program execution performance (speed) of
each PMC has not been changed.
</p>
<p>4 Application PMC for FANUC Series 16&ndash;MODEL A loader control function is PMC&ndash;RA1.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
1. SEQUENCE PROGRAM 
</p>
<p>CREATING PROCEDUREPMC SEQUENCE PROGRAM
</p>
<p>7
</p>
<p>����� 1.1 PMC specifications (3)
</p>
<p>Type of PMC
</p>
<p>Specification 
of PMC
</p>
<p>PMC&ndash;RB1 PMC&ndash;RB2 PMC&ndash;RB3
</p>
<p>Program method language Ladder Ladder Ladder
</p>
<p>Number of ladder level 2 2 2
</p>
<p>1st level excution period 8 ms 8 ms 8 ms
</p>
<p>Mean processing time of basic
command
</p>
<p>1.0
(us/ step)
</p>
<p>1.0
(us/ step)
</p>
<p>   0. 15
(us/ step)
</p>
<p>*
</p>
<p>Program capacity
� Ladder (step)
</p>
<p>� Symbol, Comment 
(Note 1)
</p>
<p>� Message
� Language only
</p>
<p>Approx. 5, 000
Approx. 8, 000
Approx.12, 000
Approx.16, 000
</p>
<p>  1 to 128KB
</p>
<p>  0.1 to 64KB
&ndash;
</p>
<p>Approx. 5, 000
Approx. 8, 000
Approx.12, 000
Approx.16, 000
Approx.24, 000
  1 to 128KB
</p>
<p>  0.1 to 64KB
&ndash;
</p>
<p>Approx. 5, 000
Approx. 8, 000
Approx.12, 000
Approx.16, 000
Approx.24, 000
  1 to 128KB
</p>
<p>  0.1 to 64KB
&ndash;
</p>
<p>Command Basic command
Function command
</p>
<p>12 kinds
49 kinds
</p>
<p>12 kinds
49 kinds
</p>
<p>14 kinds
68 kinds
</p>
<p>Internal relay (R)
Message request (A)
Keepmemory
</p>
<p>� Variable timer (T)
� Counter (C)
� Keep relay (K)
� Data table(D) (D)
</p>
<p>Subprogram (P)
Label (L)
Fixed timer
</p>
<p>1100  byte
      25  byte
</p>
<p>      80  byte
      80  byte
      20  byte
  1860  byte
</p>
<p>&ndash;
&ndash;
</p>
<p>Timer No. 100 
devices specified
</p>
<p>1118  byte
    25  byte
</p>
<p>    80  byte
    80  byte
    20  byte
1860  byte
&ndash;
&ndash;
</p>
<p>Timer No. 100 
devices specified
</p>
<p>1618  byte
 25  byte
</p>
<p>    80  byte
    80  byte
    20  byte
3000  byte
</p>
<p>  512 programs
9999 labels
</p>
<p>Timer No. 100 
devices specified
</p>
<p>I/O
� I/O link (I)
</p>
<p>(O)
� I/O card (I)
</p>
<p>(O)
</p>
<p>1024 points max.
1024 points max.
156 points max.
120 points max.
</p>
<p>1024 points max.
1024 points max.
156 points max.
120 points max.
</p>
<p>1024 points max.
1024 points max.
156 points max.
120 points max.
</p>
<p>Sequence program EPROM
1Mbit&times;1 (128KB)
</p>
<p>EPROM
1Mbit&times;1 (128KB)
ROM MODULE
256KB (Note 2)
</p>
<p>EPROM
1Mbit&times;1 (128KB)
ROM MODULE
256KB (Note 2)
</p>
<p>NOTE
1 The size of a symbol and that of a comment are fixed to 32KB.
</p>
<p>The size of a message is fixed to 2.1KB.
The maximum size of a symbol and that of a comment are 64KB each.
</p>
<p>2 When the number of steps of the PMC-RB2, RB3 ladder program is approx. 24,000, the
capacity of the ROM module must be 256KB.
</p>
<p>3 As values indicated with an asterisk (*) in the table, former versions of the programming manual
and catalogs have listed the mean processing time of basic commands, but this manual lists
the execution time for one step.  The actual ladder program execution performance (speed) of
each PMC has not been changed.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. SEQUENCE PROGRAM 
CREATING PROCEDURE B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>8
</p>
<p>����� 1.1 PMC specifications (4)
</p>
<p>Type of PMC
</p>
<p>Specification 
of PMC
</p>
<p>PMC&ndash;RC PMC&ndash;RC3 PMC&ndash;NB(4047 Series)
</p>
<p>Program method language Ladder
C-language
</p>
<p>Ladder
C-language
</p>
<p>Ladder
C-language
</p>
<p>Number of ladder level 3 3 3
</p>
<p>1st level execution period 8 ms 8 ms 8 ms
</p>
<p>Mean processing time of basic
command
</p>
<p>0.15
(us/ step)
</p>
<p>0.15
(us/ step)
</p>
<p>0.15
(us/ step)
</p>
<p>Program capacity
� Ladder (step)
</p>
<p>� Symbol, Comment 
(Note 1)
</p>
<p>� Message
� Language only
</p>
<p>Approx. 16,000
Approx. 24,000
</p>
<p>  1 to 128KB
</p>
<p>  0.1 to 64KB
    896KB max.
</p>
<p>Approx. 16,000
Approx. 24,000
</p>
<p>  1 to 128KB
</p>
<p>  0.1 to 64KB
    896KB max.
</p>
<p>Approx. 8,000
Approx. 16,000
(Note 2)
Approx. 24,000
(Note 2)
  1 to 128KB
</p>
<p>  0.1 to 64KB
    896KB max.
</p>
<p>Command Basic command
Function command
</p>
<p>12 kinds
51 kinds
</p>
<p>14 kinds
68 kinds
</p>
<p>14 kinds
68 kinds
</p>
<p>Internal relay (R)
Message request (A)
Keepmemor
</p>
<p>� Variable timer (T)
� Counter (C)
� Keep relay (K)
� Data table (D)
</p>
<p>Subprogram (P)
Label (L)
Fixed timer
</p>
<p>1600  byte
      25  byte
</p>
<p>      80  byte
      80  byte
      20  byte
3000  byte
&ndash;
&ndash;
</p>
<p>Timer No. 100 
devices specified
</p>
<p>1618  byte
    25  byte
</p>
<p>    80  byte
    80  byte
    20  byte
3000  byte
</p>
<p> 512 programs
  9999 labels
</p>
<p>Timer No. 100 
devices specified
</p>
<p>1618  byte
 25  byte
</p>
<p>    80  byte
    80  byte
    20  byte
3000  byte
</p>
<p>  512 programs
9999 labels
</p>
<p>Timer No. 100 
devices specified
</p>
<p>I/O
� I/O link (I)
</p>
<p>(O)
� I/O card (I)
</p>
<p>(O)
</p>
<p>1024 points max.
1024 points max.
156 points max.
120 points max.
</p>
<p>1024 points max.
1024 points max.
156 points max.
120 points max.
</p>
<p>1024 points max.
1024 points max.
</p>
<p>&ndash;
&ndash;
</p>
<p>Sequence program ROM MODULE
    128KB
    256KB
    512KB
        1MB
</p>
<p>ROM MODULE
    128KB
    256KB
    512KB
        1MB
</p>
<p>ROM MODULE
      64KB
    128KB
    256KB
    512KB
        1MB
</p>
<p>NOTE
1 The size of a symbol and that of a comment of
</p>
<p>PMC-RC/RC3 are fixed 32KB.  The size of message of
PMC-RC/RC3 is fixed 2.1KB.  The size of a symbol and that
of a comment of PMC-NB are fixed 28KB.  The size of
message of PMC-NB is fixed 2.1KB.  The maximum size of
a symbol and that of a comment are 64KB each.
</p>
<p>2 When the number of steps of the PMC-NB ladder program
is not less than 8,000, the OPTION DRAM is required.
(A02B-0162-J151, J152)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
1. SEQUENCE PROGRAM 
</p>
<p>CREATING PROCEDUREPMC SEQUENCE PROGRAM
</p>
<p>9
</p>
<p>����� 1.1 PMC specifications (5)
</p>
<p>Model
Series 16&ndash;MODEL B/Series 18&ndash;MODEL B Series 18&ndash;MODEL B
</p>
<p>PMC&ndash;RB3 PMC&ndash;RC3 PMC&ndash;RB4 PMC&ndash;RC4 PMC&ndash;RA1
</p>
<p>Programming method 
language
</p>
<p>Ladder
Ladder 
</p>
<p>C&ndash;language
Ladder
</p>
<p>Step sequence
</p>
<p>Ladder 
C&ndash;language
</p>
<p>Step sequece
Ladder
</p>
<p>Number of ladder level 2 3 2 3 2
</p>
<p>Level-1 Cycle Time 8 ms 8 ms 8 ms 8 ms 8 ms
</p>
<p>Basic Instruction Execution Time 0.1
(us/ step)
</p>
<p>* 0.1
(us/ step)
</p>
<p>0.1
(us/ step)
</p>
<p>* 0.1
(us/ step)
</p>
<p>5.0
(us/ step)
</p>
<p>Program capacity
� Ladder (step)
</p>
<p>� Symbol/Comment 
� Message
� Language only
</p>
<p>Approx. 5, 000
Approx. 8, 000
Approx.12, 000
Approx.16, 000
Approx.24, 000
  1 to 128KB
</p>
<p>  0.1 to 64KB
&ndash;
</p>
<p>Approx.16, 000
Approx.24, 000
  1 to 128KB
</p>
<p>  0.1 to 64KB
max. 896KB
</p>
<p>Approx. 5, 000
Approx. 8, 000
Approx.12, 000
Approx.16, 000
Approx.24, 000
  1 to 128KB
</p>
<p>  0.1 to 64KB
</p>
<p>Approx.16, 000
Approx.24, 000
  1 to 128KB
</p>
<p>  0.1 to 64KB
max. 896KB
</p>
<p>Approx. 3, 000
Approx. 5, 000
</p>
<p>  1 to 128KB
</p>
<p>  0.1 to 64KB
&ndash;
</p>
<p>Instruction (Basic)
(Functional)
</p>
<p>14 kinds
67 kinds
</p>
<p>14 kinds
69 kinds
</p>
<p>14 kinds
67 kinds
</p>
<p>14 kinds
69 kinds
</p>
<p>12 kinds
49 kinds
</p>
<p>Internal relay (R)
Message request (A)
Non-volatile
</p>
<p>� Var. Timer (T)
� Counter (C)
� Keep relay (K)
� Data table (D)
</p>
<p>Subprogram (P)
Label (L)
Fixed timer
</p>
<p>1618  byte
 25  byte
</p>
<p>    80  byte
    80  byte
    20  byte
3000  byte
</p>
<p>512 programs
9999 labels
</p>
<p>Timer No. 100 
devices specified
</p>
<p>1618  byte
 25  byte
</p>
<p>    80  byte
    80  byte
    20  byte
3000  byte
</p>
<p>512 programs
  9999 labels
</p>
<p>Timer No. 100 
devices specified
</p>
<p>3200  byte
 125  byte
</p>
<p>    300  byte
    200  byte
    50  byte
8000  byte
</p>
<p>2000 programs
9999 labels
</p>
<p>Timer No. 100 
devices specified
</p>
<p>3200  byte
 125  byte
</p>
<p>    300  byte
    200  byte
    50  byte
8000  byte
</p>
<p>2000 programs
9999 labels
</p>
<p>Timer No. 100 
devices specified
</p>
<p>1100  byte
 25  byte
</p>
<p>    80  byte
    80  byte
    20  byte
1860  byte
&ndash;
&ndash;
</p>
<p>Timer No. 100 
devices specified
</p>
<p>Input/output
� I/O link (I) Max.
</p>
<p>(O) Max.
� I/O card (I) Max.
</p>
<p>(Note) (O) Max.
</p>
<p>1024 points max.
1024 points max.
312 points max.
240 points max.
</p>
<p>1024 points max.
1024 points max.
312 points max.
240 points max.
</p>
<p>1024 points max.
1024 points max.
312 points max.
240 points max.
</p>
<p>1024 points max.
1024 points max.
312 points max.
240 points max.
</p>
<p>1024 points max.
1024 points max.
312 points max.
240 points max.
</p>
<p>Sequence program
storage media
</p>
<p>Flash ROM
    128KB
    256KB
</p>
<p>Flash ROM
    128KB
    256KB
    512KB
        1MB
</p>
<p>Flash ROM
    128KB
    256KB
</p>
<p>Flash ROM
    128KB
    256KB
    512KB
        1MB
</p>
<p>Flash ROM
    128KB
</p>
<p>NOTE
1 That is the maximum number when 2 I/O cards (with 156 inputs/120 outputs) are used.
2 As values indicated with an asterisk (*) in the table, former versions of the programming manual
</p>
<p>and catalogs have listed the mean processing time of basic commands, but this manual lists
the execution time for one step.  The actual ladder program execution performance (speed) of
each PMC has not been changed.
</p>
<p>3 Application PMC for FANUC Series 16&ndash;MODEL B loader control function is PMC&ndash;RA1.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. SEQUENCE PROGRAM 
CREATING PROCEDURE B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>10
</p>
<p>����� 1.1 PMC specifications (6)
</p>
<p>Model
Series 16&ndash;MODEL C/Series 18&ndash;MODEL C
</p>
<p>Model
PMC&ndash;RB5 PMC&ndash;RC3 PMC&ndash;RB6 PMC&ndash;RC4
</p>
<p>Programming method 
language
</p>
<p>Ladder
Ladder 
</p>
<p>C&ndash;language
Ladder
</p>
<p>Step sequence
</p>
<p>Ladder 
C&ndash;language
</p>
<p>Step sequece
</p>
<p>Number of ladder level 2 3 2 3
</p>
<p>Level-1 Cycle Time 8 ms 8 ms 8 ms 8 ms
</p>
<p>Basic Instruction Execution Time 0.1
(us/ step)
</p>
<p>* 0.1
(us/ step)
</p>
<p>0.1
(us/ step)
</p>
<p>* 0.1
(us/ step)
</p>
<p>Program capacity
� Ladder (step)
</p>
<p>� Symbol/Comment 
� Message
� Language only
</p>
<p>Approx. 3, 000
Approx. 5, 000
Approx. 8, 000
Approx.12, 000
Approx.16, 000
Approx.24, 000
</p>
<p>  1 to 128KB
  0.1 to 64KB
</p>
<p>&ndash;
</p>
<p>Approx.16, 000
Approx.24, 000
</p>
<p>  1 to 128KB
  0.1 to 64KB
max. 896KB
</p>
<p>Approx. 3, 000
Approx. 5, 000
Approx. 8, 000
Approx.12, 000
Approx.16, 000
Approx.24, 000
Approx.32, 000
  1 to 128KB
  0.1 to 64KB
</p>
<p>&ndash;
</p>
<p>Approx.16, 000
Approx.24, 000
Approx.32, 000
  1 to 128KB
  0.1 to 64KB
max. 896KB
</p>
<p>Instruction (Basic)
(Functional)
</p>
<p>14 kinds
67 kinds
</p>
<p>14 kinds
69 kinds
</p>
<p>14 kinds
67 kinds
</p>
<p>14 kinds
69 kinds
</p>
<p>Internal relay (R)
Message request (A)
Non-volatile
</p>
<p>� Var. Timer (T)
� Counter (C)
� Keep relay (K)
� Data table (D)
</p>
<p>Subprogram (P)
Label (L)
Fixed timer
</p>
<p>1618  byte
 25  byte
</p>
<p>    80  byte
    80  byte
    20  byte
3000  byte
</p>
<p>512 programs
9999 labels
</p>
<p>Timer No. 100 
devices specified
</p>
<p>1618  byte
 25  byte
</p>
<p>    80  byte
    80  byte
    20  byte
3000  byte
</p>
<p>512 programs
  9999 labels
</p>
<p>Timer No. 100 
devices specified
</p>
<p>3200  byte
 125  byte
</p>
<p>    300  byte
    200  byte
    50  byte
8000  byte
</p>
<p>2000 programs
9999 labels
</p>
<p>Timer No. 100 
devices specified
</p>
<p>3200  byte
 125  byte
</p>
<p>    300  byte
    200  byte
    50  byte
8000  byte
</p>
<p>2000 programs
9999 labels
</p>
<p>Timer No. 100 
devices specified
</p>
<p>Input/output
� I/O link (I) Max.
</p>
<p>(O) Max.
� I/O card (I) Max.
</p>
<p>(Note) (O) Max.
</p>
<p>1024 points max.
1024 points max.
312 points max.
240 points max.
</p>
<p>1024 points max.
1024 points max.
312 points max.
240 points max.
</p>
<p>1024 points max.
1024 points max.
312 points max.
240 points max.
</p>
<p>1024 points max.
1024 points max.
312 points max.
240 points max.
</p>
<p>Sequence program
storage media
</p>
<p>Flash ROM
    128KB
    256KB
</p>
<p>Flash ROM
    128KB
    256KB
    512KB
        1MB
</p>
<p>Flash ROM
    128KB
    256KB
</p>
<p>Flash ROM
    128KB
    256KB
    512KB
        1MB
</p>
<p>NOTE
1 That is the maximum number when 2 I/O cards (with 156
</p>
<p>inputs/120 outputs) are used.
2 Application PMC for FANUC Series 16&ndash;MODEL C loader
</p>
<p>control function is PMC&ndash;RA1.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
1. SEQUENCE PROGRAM 
</p>
<p>CREATING PROCEDUREPMC SEQUENCE PROGRAM
</p>
<p>11
</p>
<p>����� 1.1 PMC specifications (7)
</p>
<p>Model
</p>
<p>Series 21&ndash;MODEL B/
Series 210&ndash;MODEL B
</p>
<p>PMC&ndash;RA1 PMC&ndash;RA3
</p>
<p>Programming method 
language
</p>
<p>Ladder Ladder
</p>
<p>Number of ladder level 2 2
</p>
<p>1st level excution period 8 ms 8 ms
</p>
<p>Mean processing time of basic command 5.0
(us/ step)
</p>
<p>0.15
(us/ step)
</p>
<p>*
</p>
<p>Program capacity
� Ladder (step)
</p>
<p>� Symbol/Comment 
(Note 1)
</p>
<p>� Message
� Language only
</p>
<p>Approx. 3, 000
Approx. 5, 000
</p>
<p> 1 to 128KB
</p>
<p>  0.1 to 64KB
&ndash;
</p>
<p>Approx. 3, 000
Approx. 5, 000
Approx. 8, 000
Approx.12, 000
 1 to 128KB
</p>
<p>  0.1 to 64KB
&ndash;
</p>
<p>Command Basic command
Functioncommand
</p>
<p>12 kinds
49 kinds
</p>
<p>14 kinds
66 kinds
</p>
<p>Internal relay (R)
Message request (A)
Keepmemory
</p>
<p>� Variable timer (T)
� Counter (C)
� Keep relay (K)
� Data table (D)
</p>
<p>Subprogram (P)
Label (L)
Fixed timer
</p>
<p>1100  byte
 25  byte
</p>
<p>    80  byte
    80  byte
</p>
<p>20  byte
1860  byte
&ndash;
&ndash;
</p>
<p>Timer No. 100 
devices specified
</p>
<p>1118  byte
 25  byte
</p>
<p>    80  byte
    80  byte
    20  byte
1860  byte
</p>
<p>512 programs
  9999 labels
</p>
<p>Timer No. 100 
devices specified
</p>
<p>I/O
� I/O link (I)
</p>
<p>(O)
� I/O card (I)
</p>
<p>(O)
</p>
<p>1024 points max.
1024 points max.
</p>
<p>96 points max.
72 points max.
</p>
<p>(Note 1)
</p>
<p>1024 points max.
1024 points max.
</p>
<p>96 points max.
72 points max.
</p>
<p>(Note 1)
</p>
<p>Sequence program Flash ROM
    128KB
</p>
<p>Flash ROM
    128KB
</p>
<p>NOTE
1 Output points of I/O card in 4082 series are following ;
</p>
<p>PMC&ndash;RA1 : 64points, PMC&ndash;RA3 : 64points
2 As values indicated with an asterisk (*) in the table, former
</p>
<p>versions of the programming manual and catalogs have
listed the mean processing time of basic commands, but this
manual lists the execution time for one step.  The actual
ladder program execution performance (speed) of each
PMC has not been changed.
</p>
<p>3 Application PMC for FANUC Series 21&ndash;B loader control
function is PMC&ndash;RA1.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. SEQUENCE PROGRAM 
CREATING PROCEDURE B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>12
</p>
<p>����� 1.1 PMC specifications (8)
</p>
<p>Model
Series 16 i/18i/160i/180i
</p>
<p>Model
PMC&ndash;RB5 PMC&ndash;RB6
</p>
<p>Programming method Ladder  Ladder step sequence
</p>
<p>Number of ladder levels 2 2
</p>
<p>First&ndash;level execution period 8 ms 8 ms
</p>
<p>Basic instruction processing time 0.085 
(&micro; sec/step)
</p>
<p>0.085
(&micro; sec/step)
</p>
<p>Program capacity
� Ladder (step)
</p>
<p>� Symbol
Comment 
</p>
<p>� Message
</p>
<p>About 3,000
About 5,000
About 8,000
About 12,000
About 16,000
About 24,000
</p>
<p>1KB to 128KB
</p>
<p>0.1KB to 64KB
</p>
<p>About 3,000
About 5,000
About 8,000
About 12,000
About 16,000
About 24,000
About 32,000
</p>
<p>1KB to 128KB
</p>
<p>0.1KB to 64KB
</p>
<p>Instruction (Basic instruction) 
(Functional instruction)
</p>
<p>14
67
</p>
<p>14
67
</p>
<p>Internal relay (R)
Message request (A)
Nonvolatile memory
</p>
<p>� Variable timer (T)
� Counter (C)
� Keep replay (K)
�  Data table (D)
</p>
<p>Subprogram (P)
Label (L)
Fixed timer
</p>
<p>1618 bytes
 25 bytes (200 points)
</p>
<p>    80 bytes (40 each)
80 bytes (20 each)
</p>
<p>20 bytes
3000 bytes
</p>
<p>512 each
9999 each
</p>
<p>100 each
(Timer number
specification)
</p>
<p>3200 bytes
125 bytes (1000 points)
</p>
<p>  300 bytes (150 each)
200 bytes (50 each)
</p>
<p>50 bytes
8000 bytes
2000 each
9999 each
100 each
</p>
<p>(Timer number
specification)
</p>
<p>I/O
� I/O link (Input)
</p>
<p>(Note 2) (Output)
� Built&ndash;in I/O card (Input)
</p>
<p>(Output)
</p>
<p>1024 points maximum
1024 points maximum
</p>
<p>&ndash;
&ndash;
</p>
<p>1024 points maximum
1024 points maximum
</p>
<p>&ndash;
&ndash;
</p>
<p>Sequence program storage media Flash ROM
    128KB
     256KB
</p>
<p>Flash ROM
    128KB
    256KB
    384KB
</p>
<p>NOTE
1 The PMC&ndash;RA1 can be used with the loader control function
</p>
<p>of the FANUC Series 16i/18i/21i/160i/180i/210i.
2 For I/O of the FANUC Series 16i/18i/21i/160i/180i/210i,
</p>
<p>only the I/O link is used.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
1. SEQUENCE PROGRAM 
</p>
<p>CREATING PROCEDUREPMC SEQUENCE PROGRAM
</p>
<p>13
</p>
<p>����� 1.1 PMC specifications (9)
</p>
<p>Series 21 i/210i
</p>
<p>Model PMC&ndash;RA1
(Note 1)
</p>
<p>PMC&ndash;RA5
</p>
<p>Programming method Ladder Ladder
</p>
<p>Number of ladder levels 2 2
</p>
<p>First&ndash;level execution period 8 ms 8 ms
</p>
<p>Basic instruction processing time 5.0
(&micro; sec/ step)
</p>
<p>0.085
(&micro; sec/ step)
</p>
<p>Program capacity
� Ladder (step)
</p>
<p>� Symbol
Comment
</p>
<p>� Message
</p>
<p>About 3,000
About 5,000
</p>
<p>1KB to 128KB
</p>
<p>0.1KB to 64KB
</p>
<p>About 3,000
About 5,000
About 8,000
About 12,000
About 16,000
 
1KB to 128KB
</p>
<p>0.1KB to 64KB
</p>
<p>Instruction (Basic instruction)
(Functional instruction)
</p>
<p>12 kinds
49 kinds
</p>
<p>14 kinds
66 kinds
</p>
<p>Internal relay (R)
Message request (A)
Nonvolatile memory
</p>
<p>�  Variable timer (T)
�  Counter (C)
�  Keep replay (K)
�  Data table (D)
</p>
<p>Subprogram (P)
Label (L)
Fixed timer
</p>
<p>1100 bytes
25 bytes (200 points)
</p>
<p>  80 bytes (40 each)
80 bytes (20 each)
</p>
<p>20 bytes
1860 bytes
</p>
<p>&ndash;
&ndash;
</p>
<p>100 each 
(Timer number
specification)
</p>
<p>1118 bytes
25 bytes (200 points)
</p>
<p>    80 bytes (40 each)
80 bytes (20 each)
</p>
<p>20 bytes
1860 bytes
</p>
<p>512 each
9999 each
</p>
<p>100 each
(Timer number
specification)
</p>
<p>I/O
�  I/O link (Input)
</p>
<p>(Note 2) (Output)
� Built&ndash;in I/O card (Input)
</p>
<p>(Output)
</p>
<p>1024 points maximum
1024 points maximum
</p>
<p>&ndash;
&ndash;
</p>
<p>1024 points maximum
1024 points maximum
</p>
<p>&ndash;
&ndash;
</p>
<p>Sequence program storage media Flash ROM
    128KB
</p>
<p>Flash ROM
    128KB
</p>
<p>NOTE
1 The PMC&ndash;RA1 can be used with the loader control function
</p>
<p>of the FANUC Series 16i/18i/21i/160i/180i/210i.
2 For I/O of the FANUC Series 16i/18i/21i/160i/180i/210i,
</p>
<p>only the I/O link is used.ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. SEQUENCE PROGRAM 
CREATING PROCEDURE B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>14
</p>
<p>����� 1.1 PMC specifications (10)
</p>
<p>Series 15&ndash;MODEL B
</p>
<p>Model PMC&ndash;NB
(4048 Series)
</p>
<p>PMC&ndash;NB2
</p>
<p>Programming method language Ladder 
C&ndash;language
</p>
<p>Ladder 
C&ndash;language
</p>
<p>Step sequence
</p>
<p>Number of ladder level 3 3
</p>
<p>Level&ndash;1 Cycle Time 8 ms 8 ms
</p>
<p>Basic instruction
</p>
<p>Execution Time
</p>
<p>0.1
</p>
<p>(&micro;s/step)
0.1
</p>
<p>(&micro;s/step)
</p>
<p>Program capacity
</p>
<p>� Ladder(step)
</p>
<p>� Symbol/Comment
</p>
<p>(Note)
</p>
<p>� Message
</p>
<p>� Language only
</p>
<p>Approx. 8,000
</p>
<p>Approx.16,000
</p>
<p>Approx.24,000
</p>
<p>1 to 128KB
</p>
<p>0.1 to 64KB
</p>
<p>max. 896KB
</p>
<p>Approx. 8,000
</p>
<p>Approx.16,000
</p>
<p>Approx.24,000
</p>
<p>1 to 128KB
</p>
<p>0.1 to 64KB
</p>
<p>max. 896KB
</p>
<p>Instruction (Basic)
</p>
<p>(Function)
</p>
<p>14 kinds
</p>
<p>69 kinds
</p>
<p>14 kinds
</p>
<p>69 kinds
</p>
<p>Internal relay (R)
</p>
<p>Message request (A)
</p>
<p>Non&ndash;volatile
</p>
<p>� Var.Timer (T)
</p>
<p>� Counter (C)
</p>
<p>� Keep relay (K)
</p>
<p>� Data table (D)
</p>
<p>Subprogram (P)
</p>
<p>Label (L)
</p>
<p>Fixed timer
</p>
<p>1618 byte
</p>
<p>25 byte
</p>
<p>80 byte
</p>
<p>80 byte
</p>
<p>20 byte
</p>
<p>3000 byte
</p>
<p>512 programs
</p>
<p>9999 labels
</p>
<p>Max 100 timers
specified by 
timer No.
</p>
<p>3200 byte
</p>
<p>125 byte
</p>
<p>300 byte
</p>
<p>200 byte
</p>
<p>50 byte
</p>
<p>8000 byte
</p>
<p>2000 programs
</p>
<p>9999 labels
</p>
<p>Max 100 timers
specified by
 timer No.
</p>
<p>Input/output
</p>
<p>� I/O link (I)
</p>
<p>(O)
</p>
<p>� I/O card (I)
</p>
<p>(O)
</p>
<p>max 1024 points.
</p>
<p>max 1024 points.
</p>
<p>&ndash;
</p>
<p>&ndash;
</p>
<p>max 1024 points.
</p>
<p>max 1024 points.
</p>
<p>&ndash;
</p>
<p>&ndash;
</p>
<p>Sequence program
storage media
</p>
<p>Flash ROM
</p>
<p>64 KB
</p>
<p>128 KB
</p>
<p>256 KB
</p>
<p>512 KB
</p>
<p>1 MB
</p>
<p>Flash ROM
</p>
<p>64 KB
</p>
<p>128 KB
</p>
<p>256 KB
</p>
<p>512 KB
</p>
<p>1 MB
</p>
<p>NOTE
Please refer to (4) for PMC&ndash;NB(4047 Series).
The above&ndash;mentioned table is a value for PMC&ndash;NB/NB2
(4048 Series).
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
1. SEQUENCE PROGRAM 
</p>
<p>CREATING PROCEDUREPMC SEQUENCE PROGRAM
</p>
<p>15
</p>
<p>Table 1.2 Summary of specification of ladder program (1)
</p>
<p>Model PMC&ndash;PA1 PMC&ndash;PA3 PMC&ndash;P
</p>
<p>PMC
address
</p>
<p>Interfaces between the PMC and CNC 
(F and G)
</p>
<p>Compatible Incompatible
(Note 2)
</p>
<p>Interfaces between the PMC and 
machine (X and Y)
</p>
<p>Compatible Incompatible
(Note 2)
</p>
<p>Others (R, A, C, K, D, T) Compatible Incompatible
</p>
<p>Ladder
program
</p>
<p>ROM format (object) Incompatible (Note 1)
rogram
</p>
<p>compatibility Source format (mnemonic) Compatible Incompatible
(Note 2)
</p>
<p>System Divided system Not provided (Note 3) Provided
</p>
<p>Undivided system Provided Not provided
</p>
<p>Basic commands Compatible
</p>
<p>Function
commands
</p>
<p>DISP (SUB49) Not provided (Note 4) Provided
commands
</p>
<p>COM 
(SUB9)
</p>
<p>Coil count specification Not provided (Note 5) Provided
(SUB9)
</p>
<p>COME (SUB29) specification Provided
</p>
<p>JMP 
(SUB10)
</p>
<p>Coil count specification Not provided (Note 5) Provided
(SUB10)
</p>
<p>JMPE (SUB30) specification Provided
</p>
<p>NOTE
1 The same ROM cannot be shared by different models.  The
</p>
<p>ROM must be rewritten using the offline programmer.
2 It is possible that convert the signal address by the
</p>
<p>operation of &ldquo;SIGNAL ADDRESS CONVERSION&rdquo;
(APPENDIX G).
</p>
<p>3 The setting item of system parameter IGNORE DEVIDE
CODE is not provided.
</p>
<p>4 Use the DISPB (SUB41) command instead.
5 The range of the COM (SUB9) and JMP (SUB10)
</p>
<p>commands cannot be specified with the number of coils.
Specify the range with the COME (SUB29) and JMPE
(SUB30) commands.  If specify the number of coils, no error
messages will be displayed while editing, but &ldquo;ALARM093&rdquo;
will be displayed when send the data to RAM.
</p>
<p>1.2
SUMMARY OF
SPECIFICATION OF
LADDER PROGRAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. SEQUENCE PROGRAM 
CREATING PROCEDURE B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>16
</p>
<p>Table 1.2 Summary of specification of ladder program (2)
</p>
<p>Model PMC&ndash;RA1
PMC&ndash;
RA2
</p>
<p>PMC&ndash;
RA3/
RA5
</p>
<p>PMC&ndash;
RB
</p>
<p>PMC&ndash;
RB2
</p>
<p>PMC&ndash;
RB3/
RB4/
RB5/
RB6
</p>
<p>PMC&ndash;
RC
</p>
<p>PMC&ndash;
RC3/
RC4
</p>
<p>PMC address Interfaces between the PMC and CNC (F and
G)
</p>
<p>Compatible
</p>
<p>Interfaces between the PMC and machine (X
and Y)
</p>
<p>Compatible
</p>
<p>Subprogram, label (P and L) Not provided Provided Not provided Provided Not
provided
</p>
<p>Provided
</p>
<p>Others (R, A, C, K, D, T) Compatible (Note 1)
</p>
<p>Ladder
program
</p>
<p>ROM format (object) Incompatible (Note 2)
rogram
</p>
<p>compatibility Source format (mnemonic) Compatible (Note 3)
</p>
<p>System Divided system Not provided (Note 4) Provided Not provided 
(Note 4)
</p>
<p>Provided Not
provided
</p>
<p>Undivided system Provided
</p>
<p>Structuring Sub program Unusable Usable Unusable Usable Un-
usable
</p>
<p>Usable
</p>
<p>Basic commands Compatible
</p>
<p>Function
d
</p>
<p>END3 (SUB48) Not provided Provided
commands DISP (SUB49) Not provided (Note 5) Provided
</p>
<p>COM
 (SUB9)
</p>
<p>Coil count specification
Not provided (Note 6) Provided Not provided 
</p>
<p>(Note 6)
Provided
</p>
<p>Not
provided 
(Note 6)
</p>
<p>COME (SUB29) specification Provided
</p>
<p>JMP
 (SUB10)
</p>
<p>Coil count specification
Not provided (Note 6) Provided Not provided 
</p>
<p>(Note 6)
Provided
</p>
<p>Not
provided 
(Note 6)
</p>
<p>JMPE (SUB30) specification Provided
</p>
<p>FNC9X (SUB9X) Not provided Provided
</p>
<p>MMCWR (SUB98), MMCWW (SUB99)
MMC3R (SUB88), MMC3W (SUB89) (Note 7)
</p>
<p>Provided (Note 7) Provided
</p>
<p>MOVB (SUB43), MOVW (SUB44) ,
MOVN (SUB45) Not provided Provided Not provided Provided
</p>
<p>Not
provided
</p>
<p>Provided
</p>
<p>DIFU (SUB57), DIFD (SUB58) Not provided Provided Not provided Provided Notprovided Provided
</p>
<p>AND (SUB60), OR (SUB61)
NOT (SUB62), EOR (SUB59) Not provided Provided Not provided Provided
</p>
<p>Not
provided
</p>
<p>Provided
</p>
<p>Function
command
(for structured
programming)
</p>
<p>Commands for subprogram
END (SUB64) ,
CALL (SUB65), CALLU (SUB66) ,
SP (SUB71), SPE (SUB72)
</p>
<p>Not provided Provided Not provided Provided Notprovided Provided
</p>
<p>rogramming)
Extended jump command
JMPB (SUB68), JMPC (SUB73)
LBL (SUB69)
</p>
<p>Not provided Provided Not provided Provided Notprovided Provided
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
1. SEQUENCE PROGRAM 
</p>
<p>CREATING PROCEDUREPMC SEQUENCE PROGRAM
</p>
<p>17
</p>
<p>NOTE
1 The internal relay and the data table in nonvolatile memory for the PMC-RB3, RC, RC3 are
</p>
<p>extended, compared with those for other models.
2 The same ROM cannot be shared by different models.  The ROM must be rewritten using the
</p>
<p>offline programmer.
However, the ROM for the PMC&ndash;RA2 can be used for the PMC&ndash;RA3 and the ROM for the
PMC&ndash;RB2 can be used for the PMC&ndash;RB3.
</p>
<p>3 The program can be converted by reinputting it after it is output in a source format.
4 The setting item of system parameter IGNORE DEVIDE CODE is not provided.
5 Use the DISPB (SUB41) command instead.
6 The range of the COM (SUB9) and JMP (SUB10) commands cannot be specified with the
</p>
<p>number of coils.  Specify the range with the COME (SUB29) and JMPE (SUB30) commands.
7 For the FS18A (PMC&ndash;RA1/RA2/RA3), only the MMC&ndash;III can be used.  For the FS18B, the
</p>
<p>MMC&ndash;III and MMC&ndash;IV can be used.
For the FS21B (PMC&ndash;RA1/RA3), the MMC&ndash;IV can be used.
For the FS16i/18i/21i, the MMC&ndash;IV can be used.
For the FS16C/18C, the MMC&ndash;IV can be used.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. SEQUENCE PROGRAM 
CREATING PROCEDURE B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>18
</p>
<p>����� 1.2 Summary of specification of ladder program (3)
</p>
<p>Model
</p>
<p>Series
</p>
<p>PMC&ndash;
NA
</p>
<p>(4046)
</p>
<p>PMC&ndash;
NB
</p>
<p>(4047)
(4048)
</p>
<p>PMC&ndash;
NB2
</p>
<p>(4048)
</p>
<p>PMC address Interfaces between the PMC and CNC (F and G) Incompatible
</p>
<p>Interfaces between the PMC and machine 
(X and Y)
</p>
<p>Compatible
</p>
<p>Subprogram, label (P and L) Not
provided
</p>
<p>Provided
</p>
<p>Others (R, A, C, K, D, T) Compatible (Note 1)
</p>
<p>Ladder
program
</p>
<p>ROM format (object) Incompatible (Note 2)
rogram
</p>
<p>compatibility Source format (mnemonic) Compatible (Note 3)
</p>
<p>System Divided system Provided Not provided
</p>
<p>Undivided system Not
provided
</p>
<p>Provided
</p>
<p>Structuring Subprogram Usable Unusable
</p>
<p>Step sequence Unusable Usable
</p>
<p>Basic commands Compatible
</p>
<p>Function
commands
</p>
<p>END3 (SUB48) Provided
commands
</p>
<p>DISP (SUB49) Provided Not provided
</p>
<p>COM 
(SUB9)
</p>
<p>Coil count spesification Provided Not provided
(SUB9)
</p>
<p>COME (SUB29) specification Provided
</p>
<p>JMP 
(SUB10)
</p>
<p>Coil count specification Provided Not provided
(SUB10)
</p>
<p>JMPE (SUB30) specification Provided
</p>
<p>FNC9X (SUB9X) Provided
</p>
<p>LIBRY (SUB60), LEND (SUB61) Provided Not provided
</p>
<p>MMCWR (SUB98), MMCWW (SUB99)
MMC3R (SUB88), MMC3W (SUB89)
MOVB (SUB43), MOVW (SUB44) 
MOVN (SUB45)
DIFU (SUB57), DIFD (SUB58)
AND (SUB60), OR (SUB61)
NOT (SUB62), EOR (SUB59)
</p>
<p>Not
provided
</p>
<p>Provided
</p>
<p>Function
command
(for structured
programming)
</p>
<p>� Command for subprogram
END (SUB64) , CALL (SUB65) , CALLU
(SUB66) ,
SP (SUB71) , SPE (SUB72)
</p>
<p>Not
provided
</p>
<p>Provided
</p>
<p>� Extended jump command
JMPB (SUB68) , JMPC (SUB73) , LBL (SUB69)
</p>
<p>Not
provided
</p>
<p>Provided
</p>
<p>NOTE
1 Management of internal relay address and that of datatable
</p>
<p>are different between the PMC&ndash;NB/NB2 and the PMC&ndash;NA.
2 The same ROM cannot be shared by different models.
</p>
<p>The ROM must be rewritten using the offline programmer.
3 The data can be converted by outputting in the source
</p>
<p>format and then inputting again.
Moreover, a part of functional instruction is not compatible
between PMC&ndash;NB/NB2 and PMC&ndash;NA.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
1. SEQUENCE PROGRAM 
</p>
<p>CREATING PROCEDUREPMC SEQUENCE PROGRAM
</p>
<p>19
</p>
<p>This is paragraph outlines functions of a sequence program before
explaining the programming work.
</p>
<p>A sequence program is a program for sequence control of machine tools
and other systems.
</p>
<p>A program is defined as a processing procedure to enable CPU to execute
arithmetic processing.
</p>
<p>This program is converted into a format (machine language instructions)
to enable CPU to execute decoding and arithmetic processing, and stored
into the RAM or ROM memory.
</p>
<p>The CPU reads out instructions of the program stored into the memory
at high speed every instruction, and executes the program by arithmetic
operation.
</p>
<p>The programming of a sequence program begins with the production of
a ladder diagram which serves as a processing procedure for arithmetic
processing by CPU.
</p>
<p>This ladder program is produced using PMC instructions.
</p>
<p>After producing the ladder diagram, the processing sequence of this
ladder diagram is converted into machine language instructions, and
stored into the memory (program input).
</p>
<p>Conversion into the machine language instructions and storage into the
memory are done by the PMC programmer.  The PMC programmer is a
function to produce a program.
</p>
<p>The sequence program being stored into the memory is sequentially read
out into the PMC&rsquo;s CPU every instruction at high speed and executed.
</p>
<p>Fig. 1.3  shows this relation.
</p>
<p>The CPU reads out input circuit signals of address X0.0 by RD X0.0
instruction, and sets them into an operation register.  Then, the CPU
executes AND operation with internal relay states at address R10.0
according to the AND R10.1 instruction, and sets these results into the
operation register.
</p>
<p>The CPU executes instructions at high speed and outputs arithmetic
results to the address Y0.0 output circuit.
</p>
<p>1.3
WHAT IS A
SEQUENCE
PROGRAM?
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. SEQUENCE PROGRAM 
CREATING PROCEDURE B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>20
</p>
<p>Input circuit
</p>
<p>RD  X0.0
</p>
<p>AND  R10.1
</p>
<p>OR  X6.1
</p>
<p>AND.NOT  R20.3
</p>
<p>WRT  Y0.0
</p>
<p>X0.0
X6.1
</p>
<p>Y0.0
</p>
<p>Output circuit
</p>
<p>Internal relay (RAM)
</p>
<p>R10.1
R20.3
</p>
<p>CPU
</p>
<p>Sequence program memory
</p>
<p>PMC  (Programmable Machine Controller)
</p>
<p>Sequence
program inputX0.0 R10.1
</p>
<p>C
R20.3 Y0.0
</p>
<p>A B D W
</p>
<p>Controlled system, such as machine
tools and other systems
</p>
<p>X6.1
</p>
<p>����1.3 Execution of sequence program by PMC
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
1. SEQUENCE PROGRAM 
</p>
<p>CREATING PROCEDUREPMC SEQUENCE PROGRAM
</p>
<p>21
</p>
<p>After deciding the control object specifications and calculating the
number of input/output signal points, create the interface specifications.
Use the input/output signal interface tables in the CONNECTING
MANUAL for the creation of the interface specifications.  Enter the signal
names (within six characters) in the input/output signal interface table
according to the type of the connected signals.  For the input/output
signals, see CONNECTING MANUAL.
</p>
<p>Express the control operations decided by step 2 by use of the ladder
diagram (relay circuit diagram).  For the functions of the timer, counter,
etc. which cannot be expressed with the relay symbols (i.e. the functional
instructions), express them with the symbols assigned to the functional
instructions.
</p>
<p>In the offline programmer and built-in editing function, the sequence
program can be entered in the ladder diagram format from the keys of the
CRT/MDI panel or from the keys of the keyboard of the SYSTEM P
series.
</p>
<p>Also, the entered sequence program can be output to the printer in the
ladder diagram format using the SYSTEM P series.
</p>
<p>Therefore, entry can be performed while the ladder diagram is created on
the CRT screen at the time of sequence program entry.  Thus no ladder
diagram may be prepared in advance.
</p>
<p>However, in order to shorten the time occupied by the equipment for the
creation of the sequence program or to efficiently create the sequence
program, it is recommended to prepare the ladder diagram in advance.
</p>
<p>The ladder diagram is used as a maintenance diagram by the personnel in
charge of maintenance in FANUC, the machine tool builder and end user
in the world.  Therefore, the ladder diagram must be easy to understand.
</p>
<p>Signal names (max. six characters) can be entered to the input/output
signals, comments (max. 30 characters) can be entered to the relay coil,
and comments (max. 30 characters) can be entered to the input/output
signals of the address tables at the time of entry of the sequence program.
Be sure to enter understandable signal names and comments as much as
possible.
</p>
<p>1.4
CREATION OF
INTERFACE
SPECIFICATIONS
(STEPS 1 TO 3)
</p>
<p>1.5
CREATION OF
LADDER DIAGRAM
(STEP 4)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>MF
</p>
<p>F7.0
SF
</p>
<p>F7.2
TF
</p>
<p>F7.3
</p>
<p>MF
</p>
<p>F 7.0
</p>
<p>SF
</p>
<p>F 7.2
</p>
<p>TF
</p>
<p>F 7.3
</p>
<p>MFIN
</p>
<p>R211.7
</p>
<p>SFIN
</p>
<p>R211.5
</p>
<p>TFIN
</p>
<p>R211.6
</p>
<p>FIN
</p>
<p>G4.3
</p>
<p>Miscellaneous
function 
finish signal
</p>
<p>1. SEQUENCE PROGRAM 
CREATING PROCEDURE B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>22
</p>
<p>In the coding, the contents of control expressed in the ladder diagram are
converted into PMC instructions.  In the case of using the offline
programmer or ladder diagram editting, since sequence program entry can
be performed in the simple ladder diagram format, it is normally
unnecessary to perform coding.
</p>
<p>Coding is necessary only when the sequence program is punched on a
paper tape and entered from the paper tape.
</p>
<p>Examples of the ladder diagram and the coding are shown in Fig. 1.6.
</p>
<p>Step number Instruction Address number,
bit number
</p>
<p>Remark
</p>
<p>850 RD F7.0 MF
</p>
<p>851 OR F7.2 SF
</p>
<p>852 OR F7.3 TF
</p>
<p>853 RD.NOT.STK F7.0 MF
</p>
<p>854 OR R211.7 MFIN
</p>
<p>856 AND.STK
</p>
<p>857 RD.NOT.STK F7.2 SF
</p>
<p>858 OR R211.5 SFIN
</p>
<p>859 AND.STK
</p>
<p>860 RD.NOT.STK F7.3 TF
</p>
<p>861 OR R211.6 TFIN
</p>
<p>862 AND.STK
</p>
<p>863 WRT G4.3 FIN
</p>
<p>����1.6
</p>
<p>1.6
CODING (STEP 5)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
1. SEQUENCE PROGRAM 
</p>
<p>CREATING PROCEDUREPMC SEQUENCE PROGRAM
</p>
<p>23
</p>
<p>The sequence program can be entered in five ways as follows:
</p>
<p>(1) Entry with CRT/MDI keys
The sequence program is entered in the ladder diagram format by
pressing the keys of the CRT/MDI.
</p>
<p>(2) Entry with keys of SYSTEM P series keyboard
The sequence program is entered in the mnemonic symbol by
pressing the keys of SYSTEM P series keyboard.
</p>
<p>(3) Entry from PPR of SYSTEM P series
The sequence program punched on a paper tape is read out of the PPR
and stored in the memory of the SYSTEM P series.
</p>
<p>(4) Entry form floppy disk of SYSTEM P series
This method is used when a completed sequence program is slightly
changed.  The sequence program written in the floppy disk is stored
in the memory of SYSTEM P series.
</p>
<p>(5) Entry form ROM Writer
This method is used when a completed sequence program is slightly
changed.  The sequence program written in the ROM is stored from
the PMC Writer or FA Writer into P-G or Debugging RAM.
</p>
<p>Check the sequence program and write it into the ROM after check is over.
The sequence program can be checked in two ways.
</p>
<p>(1) Check by simulator
Instead of the machine, connect a simulator (consisting of lamps and
switches).  Instead of using input signals from the machine, enter
signals by turning on and off the switches according to the machine
movement.  Check the output signals on the basis of the activation
of the lamps.
</p>
<p>(2) Check by system operation
Perform checks by connecting the machine.  Since it sometimes
happens that unexpected operations may be executed depending on
a sequence program, arrange for safety before starting operations.
</p>
<p>(3) Writing into ROM
When check of the sequence program is over, write the sequence
program into the ROM.  The ROMs to be used are as follows.  Then,
the ROM into the CNC unit, and deliver it as a regular product to an
end user.  Writing of the sequence program into the ROM,
maintenance and control thereof shall be performed by the machine
tool builder.  For this purpose, FANUC provides the PMC Writer or
FA Writer as the ROM writer and the ROM or the ROM module that
is the PC board on which a ROM chip is mounted.  Be sure to use
these devices for entering a sequence program in ROMs.
</p>
<p>1.7
SEQUENCE
PROGRAM ENTRY
(STEPS 6, 7)
</p>
<p>1.8
SEQUENCE
PROGRAM CHECK
AND WRITE INTO
ROM (STEPS 8 TO 11)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. SEQUENCE PROGRAM 
CREATING PROCEDURE B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>24
</p>
<p>(1) Storage and control of sequence program
After debugging, the sequence program should be stored and
controlled by the machine tool builder.  It can be stored in the
following ways:
</p>
<p>(a) Storing in ROM
The sequence program can be stored in the ROM.  For control,
enter the drawing number, edition number, etc. of the machine
tool builder into the label provided in the ROM, and attach it to
the ROM for control.  The same control is necessary for the ROM
for product.
</p>
<p>(b) Storing in floppy disk
The sequence program can be stored in the floppy disk with
offline programmer.  Many programs can be stored in one floppy
disk.
</p>
<p>(c) Storing in paper tape
The sequence program can be stored in the form of a paper tape.
</p>
<p>(d) Storing in FANUC floppy disk cassette
The sequence program can be stored in floppy disk cassette.
</p>
<p>(2) Compiling and control of maintenance drawing
The sequence program can be output to the printer in the ladder
diagram format using the offline programmer or built-in editing
function.  Be sure to attach the ladder diagram to the machine as a
maintenance drawing together with the machine tool magnetic
circuit diagrams, etc.
</p>
<p>1.9
STORAGE AND
CONTROL OF
SEQUENCE
PROGRAM
(STEPS 12 TO 14)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. SEQUENCE PROGRAMPMC SEQUENCE PROGRAM
</p>
<p>25
</p>
<p>2 SEQUENCE PROGRAM
Since PMC sequence control handled by software and operates on
principles different from a general relay circuit, the sequence control
method must be fully understood in order to design the PMC sequence.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. SEQUENCE PROGRAM B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>26
</p>
<p>In a general relay sequence circuit, each relay operates at approximately
the same time.  In the figure below for example, when relay A operates,
the relay D and E operate at approximately the same time.  (When both
contacts B and C are off.)  In PMC sequence control, each relay of the
circuit operates sequentially.  When relay A operates, relay D operates,
then relay E (see Fig. 2.1 (a)).  Thus each relay operates in sequence which
can be written as a ladder diagram.  (programmed sequence)
</p>
<p>A B
D
</p>
<p>A C
</p>
<p>E
</p>
<p>����2.1 (a)   Circuit examples
</p>
<p>Although the PMC sequential operation is performed at high speed, the
speed will change with the order to be executed.
</p>
<p>Fig. 2.1 (b) (A) and (B) illustrate operations varying from the relay circuit
to PMC program.
</p>
<p>A C
</p>
<p>B
</p>
<p>A
</p>
<p>C
</p>
<p>A
</p>
<p>C
</p>
<p>A C
</p>
<p>B
</p>
<p>(A)
</p>
<p>(B)
</p>
<p>(P.B)
</p>
<p>(P.B)
</p>
<p>����2.1 (b)   Circuit examples
</p>
<p>(1) Relay circuit
Operations are the same in both Fig. 2.1 (b) (A) and (B).  Turning on
A (P.B) causes current to flow to coils B and C, which turns on B and
C.  When C turns on, B turns off.
</p>
<p>(2) PMC program
In Fig. 2.1 (b) (A), as in the relay circuit, turning on A (P.B) turns on
B and C, and after one cycle of the PMC sequence, turns off B.  But
in Fig. 2.1 (b) (B), turning on A (P.B) turns on C, but does not turn
on B.
</p>
<p>2.1
EXECUTION
PROCEDURE OF
SEQUENCE
PROGRAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. SEQUENCE PROGRAMPMC SEQUENCE PROGRAM
</p>
<p>27
</p>
<p>The sequence program is executed from the beginning of coding to the
end of coding of the ladder diagram in the sequence written.  When the
sequence program ends, the program starts over from the beginning.  This
is called repetitive operation.
</p>
<p>The execution time from the beginning to the end of the ladder diagram
is called the sequence processing time, which varies according to the
control scale (the number of steps) and the size of the 1st level sequence.
The shorter the process time is, the better the signal response becomes.
</p>
<p>2.2
REPETITIVE
OPERATION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. SEQUENCE PROGRAM B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>28
</p>
<p>A sequence program consists of three parts:  1st level sequence, 2nd level
sequence and 3rd level sequence.  The 3rd level sequence part is added
to the models usable the 3rd level sequence.  (see Fig. 2.3 (a)).
The 1st level sequence part operates every 8 ms (high-speed sequential
operation).
If the 1st level sequence part is long, the total operating time, including
the 2nd level sequence part, is extended.  Therefore the 1st level sequence
part  must be programmed to be processed in as short time as possible.
The 2nd level sequence part operates every 8&times;n ms.  Here n is a dividing
number for the 2nd level sequence part.  The 2nd level sequence part is
divided automatically when the sequence program is transferred to the
RAM for debugging in the CNC unit or it is written on ROM after the
program is created.  The time for one cycle of the sequence program is
then displayed on the offline programmer screen.
The 3rd level sequence part operates during idle time of PMC.
</p>
<p>Sequence program
</p>
<p>1st level sequence part
</p>
<p>2nd level sequence part
</p>
<p>3rd level sequence part
</p>
<p>Specifies the end of the
1st level sequence part.
</p>
<p>SUB 1
</p>
<p>SUB 2
</p>
<p>SUB 48
</p>
<p>Division 1
</p>
<p>Division 2
</p>
<p>Division n
</p>
<p>Specifies the end of the
2nd level sequence part.
</p>
<p>(Only the models usable the 3rd level sequence)
Specifies the end of the 3rd level sequence part.
</p>
<p>����2.3 (a)  Construction of sequence program
</p>
<p>(1) Division of the 2nd level sequence part
The 2nd level sequence part must be divided in order to execute the
1st level sequence part.  For example a sequence program is executed
in the following sequence when the dividing number is n.  (See Fig.
2.3 (b), 2.3 (c) )
After the last 2nd level sequence part (division n) is executed, the
sequence program is executed again from the beginning.  Thus, when
the dividing number is n, the cycle of execution is 8mms (8ms&times;n).
The 1st level sequence operates every 8 msec, and the 2nd level
sequence every  8&times;n msec.  If the steps of the 1st level sequence is
increased, the steps of the 2nd level sequence operating within 8 msec
becomes less, thereby increasing the dividing number and making
the processing time longer.  Therefore, it is desirable to program so
as to reduce the 1st level sequence to a minimum.
In the, PMC-RA1, -RA2, -RB and -RB2, 1.25 ms of 8 ms is assigned
to execution of the 1st and 2nd level sequences.  The remaining time
is assigned to NC processing.
In the PMC-RC, 5 ms of 8 ms is assigned to execution of the 1st and
2nd level sequences.  The standard setting value is 5 ms when system
parameter LADDER EXEC = 100%.  The remaining time is assigned
to execution of the 3rd level sequence and the program.
</p>
<p>2.3
PRIORITY OF
EXECUTION 
(1ST LEVEL, 2ND
LEVEL AND 3RD
LEVEL)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. SEQUENCE PROGRAMPMC SEQUENCE PROGRAM
</p>
<p>29
</p>
<p>1st level
</p>
<p>2nd level
</p>
<p>NC processing
</p>
<p>8ms 8ms 8ms
</p>
<p>Division 1Division 1 Division nDivision 2
</p>
<p>1.25ms 1.25ms 1.25ms
</p>
<p>����2.3 (b)  Sequence in which the Sequence Program Is Executed (PMC-RA1, -RA2, -RB and -RB2)
</p>
<p>1st level
</p>
<p>2nd level
</p>
<p>3rd level, program execution, 
and displaying the PMC screen
</p>
<p>8ms 8ms 8ms
</p>
<p>Division 1Division 1 Division nDivision 2
</p>
<p>5ms 5ms 5ms
</p>
<p>����2.3 (c)  Sequence in which the Sequence Program Is Executed (PMC-RC)
</p>
<p>(2) 1st level sequence part
Only short-width pulse signals are processed.  These signals include
emergency stop, overtravel of each axis, reference point return
deceleration, external deceleration, skip, measuring position arrival
and feed hold signals.
</p>
<p>(3) 3rd level sequence
The purpose of the 3rd level sequence is to execute such programs
as display processing or control status monitor having no direct
relation to the machine control (operator message, alarm display,
etc.), to lighten the load of the 2nd level program having a direct
relation to the machine control by transferring former programs to the
3rd level, and to shorten the PMC execution time (cycle time).
For PMC-RC, when 3rd level program is not used, command SUB
48 (END3) following SUB 2 instruction.
</p>
<p>(4) Divided system and undivided system
There is a model can use the divided system and undivided system
among the PMCs.   In the divided system, a ladder program is divided
before being executed if all ladder program run regardless of the
sequence state (see Fig. 2.3 (d)).
For an actual ladder program, not all ladder program run.  The PMC
cannot therefore be used effectively.
The PMC can execute the ladder program in the system for terminating
one cycle of the program using the time to execute the actual ladder
program (undivide system) as well as in the divided system.
The time required for the one cycle can be reduced by the effective
use of jump instructions in the ladder program.
Since the sequence using many functional instructions requires a lot
of processing time, the undivided system should be specified so that
the PMC is used more effectively (see Fig. 2.3 (e)).
To operate the PMC in the undivided system, set system parameter
IGNORE DIVIDE CODE to YES.
The PMC model usable only the undivided system, does not have
setting system parameter IGNORE DIVIDE CODE.  It is always
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. SEQUENCE PROGRAM B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>30
</p>
<p>operated under the undivided system.
</p>
<p>C
</p>
<p>B
</p>
<p>A
</p>
<p>Functional
instruction
</p>
<p>Functional
instruction
</p>
<p>Functional
instruction
</p>
<p>The ladder program is divided if all functional instructions are 
executed regardless of execution of an actual ladder program.
</p>
<p>����2.3 (d)  Divisions in the divided system
</p>
<p>C
</p>
<p>B
</p>
<p>A
</p>
<p>Functional
instruction
</p>
<p>Functional
instruction
</p>
<p>Functional
instruction
</p>
<p>Execution of an actual ladder program when A = 0, B = 1, and C = 0.
</p>
<p>����2.3 (e)  Execution of a ladder program
</p>
<p>(a) Example of effective use of the undivided system
Example 1)
</p>
<p>Many M codes are usually used.  Since more than one M code
is not used in the same block, the decoded M code is divided
into several parts.  Machine instructions are used as these
decoded parts.
The M code is divided into M codes having two digits such
as M21, M22, M24, M28, and so on.
</p>
<p>Example 2)
To reduce the number of ROM types using the same ladder
program for multiple machines, a PMC parameter must be
specified so that any of the following ladder program run.
</p>
<p>(Ladders dedicated 
to each machine)
</p>
<p>(Selected by a PMC parameter)
</p>
<p>Ladder A
</p>
<p>Ladder B2Ladder B1 Ladder B3
</p>
<p>(Ladder common to all machines)
</p>
<p>����2.3 (f)
</p>
<p>(5) Construction of sequence program in the case of using Sub-program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. SEQUENCE PROGRAMPMC SEQUENCE PROGRAM
</p>
<p>31
</p>
<p>END1 (SUB 1)
</p>
<p>END2 (SUB 2)
</p>
<p>END3 (SUB 48)
</p>
<p>SP
</p>
<p>SPE
</p>
<p>SP
</p>
<p>SPE
</p>
<p>SP
</p>
<p>SPE
</p>
<p>END
</p>
<p>1st level sequence part
</p>
<p>2nd level sequence part
</p>
<p>3rd level sequence part
(Only about the PMC 
model usable the 3rd 
level sequence)
</p>
<p>Sub program
</p>
<p>End of sequence program
</p>
<p>� Sub program must be written between 2nd 
� level program and 3rd level program.
</p>
<p>� The end of sequence program is expressed 
� by END command.
</p>
<p>����2.3 (g)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. SEQUENCE PROGRAM B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>32
</p>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>With the conventional PMC, a ladder program is described sequentially.
By employing a ladder language that allows structured programming, the
following benefits are derived:
</p>
<p>� A program can be understood and developed easily.
</p>
<p>� A program error can be found easily.
</p>
<p>� When an operation error occurs, the cause can be found easily.
</p>
<p>Three major structured programming capabilities are supported.
</p>
<p>(1) Subprogramming
A subprogram can consist of a ladder sequence as the processing unit.
</p>
<p>�
�
�
</p>
<p>Job A � � �
�
</p>
<p>�
</p>
<p>FUNC � � �
�
</p>
<p>�
</p>
<p>Job B
</p>
<p>(2) Nesting
Ladder subprograms created in (1) above are combined to structure
a ladder sequence.
</p>
<p>�
�
�
</p>
<p>Job A Job A1 Job A11
</p>
<p>Job B Job A12
</p>
<p>Job An
</p>
<p>    Main Program Sub Program1     Sub Program2
</p>
<p>2.4
SEQUENCE
PROGRAM
STRUCTURING
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. SEQUENCE PROGRAMPMC SEQUENCE PROGRAM
</p>
<p>33
</p>
<p>(3) Conditional branch
The main program loops and checks whether conditions are satisfied.
If a condition is satisfied, the corresponding subprogram is executed.
If the condition is not satisfied, the subprogram is skipped.
</p>
<p> Main Program Sub Program1
</p>
<p>�
�
�
</p>
<p>PROCESS11 PROCESS11
STATE1 PROCESS1
</p>
<p>PROCESS12
</p>
<p>STATE2 PROCESS2
</p>
<p>PROCESS13
</p>
<p>For details, see Chapter 9.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. SEQUENCE PROGRAM B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>34
</p>
<p>Input signals (M function, T function, etc.) from the CNC and those (cycle
start, feed hold, etc.) from the machine tool are sent to the PMC.
</p>
<p>Signals for the CNC (cycle start, feed hold, etc.) and those for the machine
tool (tunret rotation, spindle stop, etc.) are output from the PMC.
Fig. 2.4 shows the relationship between these signals and the PMC.
</p>
<p>Input signals are entered in the input memory of PMC and output signals
are issued from PMC.
As shown in Fig. 2.5, the input signals are synchronized only in the 2nd
level sequence part.
</p>
<p>Input signals from
CNC
</p>
<p>Input memory of CNC
</p>
<p>1st level
sequence part
</p>
<p>Sequence program
</p>
<p>2nd level
sequence part
</p>
<p>PMC
</p>
<p>3rd level
sequence part 
(Only PMC-RC)
</p>
<p>Input signals from
CNC
</p>
<p>Input signals from
machine tool
</p>
<p>2nd level synchronous
input signal memory
</p>
<p>Output signals to the
machine
</p>
<p>Input signals from
machine
</p>
<p>Input signal  memory
</p>
<p>Output signalmemory
</p>
<p>Output signals to
machine tool
</p>
<p>Input signals from
machine tool
</p>
<p>CNC
</p>
<p>Output signals to
CNC
</p>
<p>MT
</p>
<p>Transmitted
every 2 ms
</p>
<p>Transmitted every 8 ms
</p>
<p>Transmitted at the
start of 2nd level
</p>
<p>Output memory of CNC
</p>
<p>����2.5  PMC I/O signals
</p>
<p>2.5
PROCESSING I/O
SIGNALS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. SEQUENCE PROGRAMPMC SEQUENCE PROGRAM
</p>
<p>35
</p>
<p>(1) Input memory of CNC
The input signals from CNC are loaded in memory of CNC and are
transferred to the PMC at intervals of 8 ms.
Since the 1st level and the 3rd level sequence part directly refer to
these signals and process operations, these signals do not
synchronize with input signals from the CNC.
See item 2.5.3.
</p>
<p>(2) Input signals from machine tool (DI/DO card)
Input signals from the machine tool are transferred to the input signal
memory from the input circuit (DI/DO card).  1st level and 3rd level
sequence part directly processes by reading signals loaded in the
input signal memory.
</p>
<p>(3) Input signal memory
The input signal memory stores signals transferred from the machine
tool at intervals of 2 ms period.
The PMC 1st level sequence part and 3rd level sequence part are used
to read and process signals stored in this memory.
In this case, state of signals set in the input signal memory
synchronizes with that of 1st level sequence part but not with that of
3rd level sequence part.
See item 2.5.3.
</p>
<p>(4) 2nd level synchronous input signal memory
The 2nd level synchronous input signal memory stores signals
processed by the 2nd level sequence section.
State of the signals set in this memory synchronizes with that of the
2nd level sequence part.
Input signal memory and input signals from the CNC are transferred
to the 2nd level synchronous input signal memory only at the
beginning of execution of the 2nd level sequence section.  Therefore,
the status of the 2nd level synchronous input signal memory does not
change from the beginning to end of the execution of the 2nd level
sequence part.
Programmer function makes the processing so that the 1st level
sequence section and 3rd level sequence section use the input signal
memory and input signals from the CNC side and the 2nd level
sequence section uses the 2nd level synchronous input signal
memory.
</p>
<p>(1) CNC output memory
</p>
<p>The output signals are transferred from the PMC to the CNC output
memory at intervals of 8 ms.
</p>
<p>(2) Output signals to machine tool (DI/DO card)
Output signals to the machine tool are transferred from the PMC
output signal memory to the machine tool.
</p>
<p>(3) Output signal memory
The output signal memory is set by the PMC sequence program.
Signals stored in this memory are transferred to the machine side at
a 2 ms period.
</p>
<p>2.5.1
Input Signal
Processing
</p>
<p>2.5.2
Output Signal
Processingww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. SEQUENCE PROGRAM B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>36
</p>
<p>NOTE
The status of the CNC input memory, input signals from
machine, CNC output memory and output signals to
machine can be checked by using the PC self-diagnosis
function.
The self-diagnosis number specified is the address number
used by the sequence program.
</p>
<p>Signals input from the CNC are transferred to the PMC at intervals of 8
ms.
Signals output to the CNC are transferred from the PMC at intervals of
8 ms.
PMC I/O signals are generally transferred at intervals of 8 ms.
In this case, note that state of the input signals from the CNC does not
synchronize with that of the 1st level sequence program and the 2nd level
sequence program.  By this reason, if an input signal from the CNC may
change while execution of the 1st level sequence program, for example,
some trouble may occur like example in Fig. 2.5.3 (a).
To avoid such trouble, write the state of signal TF in an internal relay at
the start of the 1st level sequence, then the 1st level sequence program
shall refer to the internal relay as signal TF.  See Fig. 2.5.3 (b).
</p>
<p>TF
</p>
<p>If after TF=0 is load, signal state changes to TF=1, 
state of W1=1 and W2=1 may momentary occur
</p>
<p>W1
</p>
<p>TF W2
</p>
<p>END 1
</p>
<p>����2.5.3 (a)
</p>
<p>Make signal TF synchronized one, and state of 
W1=1 and W2=1 may not occur.
</p>
<p>TFM
</p>
<p>TFM W1
</p>
<p>TFM W2
</p>
<p>END 1
</p>
<p>TF
</p>
<p>����2.5.3 (b)
</p>
<p>2.5.3
I/O Signals to CNC
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. SEQUENCE PROGRAMPMC SEQUENCE PROGRAM
</p>
<p>37
</p>
<p>The status of the same input signal may be different in the 1st level and
2nd level sequences.  That is, at 1st level, processing is performed using
input signal memory and at 2nd level, processing is performed using the
2nd level synchronous input signal memory.  Therefore, it is possible for
a 2nd level input signal to delay by a cycle of 2nd level sequence execution
at the worst, compared with a 1st level input signal.
This must be kept in mind when writing the sequence program.
</p>
<p>Signal statesO
</p>
<p>A.M ON (short time width pulse signal)
</p>
<p>B OFF
</p>
<p>C OF
</p>
<p>Differences drawn in Fig. 2.5.4 (a) and Fig. 2.5.4 (b) when the 1st level
sequence has been executed are as follows:
</p>
<p>(a) Fig. 2.5.4 (a)
W2 may not be 1 even when W1=1.  (Because the A.M signal may
be different at the 1st and 2nd levels.)
</p>
<p>(b) Fig. 2.5.4 (b)
If W1=1, W2=1.
When performing the sequence shown in Fig. 2.5.4 (a), proceed
as follows:
At 1st level, perform a high-speed sequence when the A.M signal
changes (operating).
At 2nd level, perform sequence processing when the A.M signal
does not change (stopped).
</p>
<p>A.M B
</p>
<p>W1
</p>
<p>END 1
</p>
<p>A.M C
</p>
<p>W2
</p>
<p>A.M B
</p>
<p>W1
</p>
<p>END 1
</p>
<p>W1 C
</p>
<p>W2
</p>
<p>1st Level
</p>
<p>2nd Level
</p>
<p>����2.5.4 (a) ����2.5.4 (b)
</p>
<p>2.5.4
Difference of Status of
Signals Between 1st
Level and 2nd Level
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. SEQUENCE PROGRAM B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>38
</p>
<p>Interlocking is externally important in sequence control safety.
Interlocking with the sequence program is necessary.  However,
interlocking with the end of the electric circuit in the machine tool
magnetics cabinet must not be forgotten.  Even though logically
interlocked with the sequence program (software), the interlock will not
work when trouble occurs in the hardware used to execute the sequence
program.  Therefore, always provide an interlock inside the machine tool
magnetics cabinet panel to ensure operator safety and to protect the
machine from damage.
</p>
<p>2.6
INTERLOCKING
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. SEQUENCE PROGRAMPMC SEQUENCE PROGRAM
</p>
<p>39
</p>
<p>The exact sequence processing time is displayed on the CRT screen when
the sequence programs have been completed.  The time is 2nd level
sequence division number n x 8 ms.
This section explains how to estimate processing times that are important
in sequence control when the ladder diagram, the basis of sequence
program control, is almost complete.
</p>
<p>(1) Processing time calculation units
Sequence processing time estimation is based on the basic
instructions (AND, OR, etc.).  The execution time for a functional
instruction is given in the execution constant column of the
Functional Instruction Table.  Converted to a basic instruction; that
is the number of basic instructions that a functional instruction is
equivalent to.
Processing time is determined for the above using the equation in
item below.
</p>
<p>(2) Processing time estimation equation
The number of division (n) in the 2nd level sequence is determined
and the processing time is calculated using the following equations:
</p>
<p>Sequence processing time =
n (number of division) � 8 msec
</p>
<p>(LT) msec
n=
</p>
<p>(ET)msec &ndash; (HT)msec
+1
</p>
<p>(n is an integer, fractions are omitted)
</p>
<p>(a) (HT) is the execution time for the 1st level sequence section.
(HT)={(number of steps in basic instruction)+(sum of functional
instruction execution time constants)�10} �(IT) &micro;sec
Execution time constant for END.1 (206) must be included in HT.
</p>
<p>(b) (LT) is the execution time for the 2nd level sequence section.
(LT)={(number of steps in basic instruction)+(sum of functional
instruction execution time constants)�10} �(IT) &micro;sec
END.2 execution time (127) must be included.
</p>
<p>(c) (ET) is the execution time assigned to the 1st and 2nd level parts
out of 8 ms.
For PMC-RB
(ET) = 1.25 ms = 1250&micro;s
For PMC-RC (standard setting when LADDER EXEC = 100%)
(ET) = 5 ms = 5000&micro;s
</p>
<p>(d) IT) is the execution constant for calculating the processing time.
The value is as follows:
(IT) = 0.15&micro;s
</p>
<p>2.7
SEQUENCE
PROGRAM
PROCESSING TIME
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. SEQUENCE PROGRAM B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>40
</p>
<p>(3) Processing time calculation example
</p>
<p>(a) 1st level sequence
Basic instruction: 100 steps
Functional instruction:
CTR: 2 times,
</p>
<p>COMPB: 2 times
CTR execution time constant: 26
COMPB execution time constant: 24
END.1 execution time constant: 206
HT={100+(26�2+24�2+206)�10}�0.15 =474 &micro;sec
</p>
<p>(b) 2nd level sequence
Basic instruction: 6,000 steps
Functional instruction:
TMR: 35 times,
DECB: 25 times,
ROTB: 2 times
TMR execution time constant: 23
DECB execution time constant: 20
ROTB execution time constant: 33
END.2 execution time constant: 32
LT={6,000+(23 35+20 25+33 2+32) 10} 0.15=3004.5msec
</p>
<p>(c) Determination of the number of divisions (n)
</p>
<p>3004.5 &micro;sec
n= 1250&micro;sec &ndash; 474 &micro;sec +1 = 4.87
</p>
<p>(d) Processing time calculation
Sequence processing time=4 (number of division)� 8 msec=32
msec
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>Note)
</p>
<p>Note)
</p>
<p>Note)
</p>
<p>B&ndash;61863E/10 2. SEQUENCE PROGRAMPMC SEQUENCE PROGRAM
</p>
<p>41
</p>
<p>In the PMC-RB, one 1M-bit EPROM is used for storing the sequence
program.  In the PMC-RA1, 
&ndash;RA2, &ndash;RB and &ndash;RB2, a 128KB, 256KB, 512KB, or 1MB ROM module
is used for this purpose.
Table 2.8 (a) shows the maximum memory capacity available for the
sequence program.  The number of bytes in parentheses indicates the size
of the area dedicated to the programs other than the sequence program.
</p>
<p>Table 2.8 (a) Maximum Memory Capacity for a Sequence Program
</p>
<p>��� ROM Ladder Symbol andcomment Message Total
</p>
<p>PMC-RA1, RA2,
RB, RB2
</p>
<p>1M-bit
EPROM
</p>
<p>64KB 64KB each 64KB 126KB
</p>
<p>PMC-RC 128KB
ROM module
</p>
<p>96KB 64KB each 64KB 126KB
</p>
<p>PMC-RC3 256KB
ROM module
</p>
<p>96KB 64KB each 64KB 254KB
</p>
<p>PMC-NB 512KB
ROM module
</p>
<p>96KB 64KB each 64KB 288KB
(222KB)
</p>
<p>1MB
ROM module
</p>
<p>96KB 64KB each 64KB 288KB
(734KB)
</p>
<p>NOTE
All ladder, symbol, comment, and message data items
cannot be created using each maximum memory capacity.
Reduce the memory capacity for any of the data items and
create them so that they add up to the total capacity of each
ROM.
</p>
<p>Generate a sequence program within a range of bytes shown in Table 2.8
(a).  Calculate the number of bytes of sequence program instructions and
data based on Table 2.8 (b).
When the program is initialized, symbol and comment areas are allocated
32KB (extendable and reducible in 1KB units) on memory.  When the
program is initialized, a message area is also allocated 2.1KB (extendable
and reducible in 1KB units).  Therefore, program the basic instructions
and functional instructions listed in Table 2.8 (b) in the remaining
capacity which is the difference of the number of bytes shown in Table 2.8
(a) and the number of bytes for symbols, comments, and messages.
</p>
<p>Table 2.8 (b)  Sizes of sequence program instructions and data
</p>
<p>Basic
instruction
</p>
<p>Functional
 instruction
</p>
<p>Functional 
instruction 
parameters
</p>
<p>Message data Symbol Comment
</p>
<p>4 bytes 4 bytes 4 bytes 1 byte/character
   (alphanumeric characters)
</p>
<p>2 bytes/kana characters
</p>
<p>10 bytes 1 byte/character
</p>
<p>2.8
SEQUENCE
PROGRAM MEMORY
CAPACITY
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>42
</p>
<p>3 ADDRESS
An address shows a signal location.  Addresses include input/output
signals with respect to the machine, the input/output signals with respect
to the CNC, the internal relays, the counters, the keep relays (PMC
parameters), and data table.  Each address consists of an address number
(for every 8 signals) and a bit number (0 to 7).  Enter the symbol table
showing the relationship between the signal names and the addresses into
the programmer by using the keys of the CRT/MDI or the keys of the
keyboard of the offline programmer as in the case of the sequence
program.
For programming, see Chapter III and IV.
</p>
<p>(1) Addresses related to PMC
Four types of addresses as shown in Fig. 3 are necessary for creation
of the PMC sequence program.
</p>
<p>Internal relay
</p>
<p>CNC 
signal
</p>
<p>Machine
(MT)
signalPMC
</p>
<p>Nonvolatile memory
</p>
<p>(1) Counter
(2) Keep relay
(3) Data table
(4) Variable Timer
</p>
<p>Note)
</p>
<p>����3  Addresses related to PMC
</p>
<p>(a) The input/output signals with respect to the PMC, which are
indicated by the solid lines, are transferred via the receiver and the
driver of the I/O board.
</p>
<p>(b) The input/output signals with respect to the PMC, which are
indicated by the broken lines, are transferred only in the memory
such as the RAM.
All of these signals can be displayed on the CRT/MDI panel.
</p>
<p>(2) Address regulations
The address comprises the address number and the bit number in the
format as shown below.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>43
</p>
<p>X 127.  7
</p>
<p>Bit number (0 to 7)
Address number (within four numerics after alphabet)
</p>
<p>An alphabet must be specified at the beginning of the address number
to indicate the type of the signal as shown in Table 3.  When
specifying the address in the byte unit by the functional instruction,
specify X127.  In this case, &ldquo;.&rdquo; and the bit number are not necessary.
</p>
<p>Table 3  Alphabetic characters in address numbers (1)
</p>
<p>Model
</p>
<p>Character Signal description 
&#13;��� 	��� � � 
&#13;��� 	���� � 
&#13;��� 	���� �
</p>
<p>
	� 
�� 
	�� 
�� 
	�� 
�� 
	�� 
��
</p>
<p>X Input signal from the machine
to the PMC (MT to PMC)
</p>
<p>X0 to X127
(I/O  Link  Master)
</p>
<p>X1000 to X1003
(Built&ndash;in l/O  Card)
</p>
<p>X1020 to X1051
(I/O  Link  Slave)
</p>
<p>X1000 to X1005
X1020 to X1027
</p>
<p>(Slave)
</p>
<p>X0 to X127
(I/O  Link  Master)
</p>
<p>X1000 to X1003
(Built&ndash;in I/O  Card)
</p>
<p>X1020 to X1051
(I/O  Link  Slave)
</p>
<p>Y Output signal from the PMC to
the machine (PMC to MT)
(Caution 3)
</p>
<p>Y0 to Y127
(I/O  Link  Master)
</p>
<p>Y1000 to Y1002
(Built&ndash;in I/ O  Card)
</p>
<p>Y1020 to Y1051
(I/O  Link  Slave)
</p>
<p>Y1000 to Y1003
Y1020 to Y1027
</p>
<p>(Slave)
</p>
<p>Y0 to Y127
(I/O  Link  Master)
</p>
<p>Y1000 to Y1002
(Built&ndash;in l/O  Card)
</p>
<p>Y1020 to Y1051
(I/O  Link  Slave)
</p>
<p>F Input signal from the NC to the
PMC (NC to PMC)
</p>
<p>F0 to F255
F1000 to F1255
</p>
<p>(Dual path control)
</p>
<p>F0 to F255 F0 to F255
</p>
<p>G Output signal from the PMC to
the NC (PMC to NC)
</p>
<p>G0 to G255
G1000 to G1255
</p>
<p>(Dual path control)
</p>
<p>G0 to G255 G0 to G255
</p>
<p>R Internal relay (Caution 1) R0 to R999
R9000 to 
</p>
<p>R9099
</p>
<p>R0 to R999
R9000 to
</p>
<p>R9117
</p>
<p>R0 to R999
R9000 to R9117
</p>
<p>R0 to R999
R9000 to R9117
</p>
<p>A Message request signal A0 to A24 A0 to A24 A0 to A24
</p>
<p>C Counter C0 to C79 C0 to C79 C0 to C79
</p>
<p>K Keep relay (Caution 2) K0 to K19 K0 to K19 K0 to K19
</p>
<p>T Variable timer T0 to T79 T0 to T79 T0 to T79
</p>
<p>D Data table D0 to D1859 D0 to D1859 D0 to D1859
</p>
<p>L Label Number &ndash; L1 to L9999 L1 to L9999 L1 to L9999
</p>
<p>P Subprogram Number &ndash; P1 to P512 P1 to P512 P1 to P512
</p>
<p>CAUTION
1 R9000 to R9117 are areas reserved for the PMC system
</p>
<p>program; these areas cannot be used for output by a
sequence program.
</p>
<p>2 K17 to K19 are areas reserved for the PMC system
program; these areas cannot be used for output by a
sequence program.
</p>
<p>3 I/O Link Master function is not available in the Power
Mate&ndash;MODEL F.
You cannot use the address X0&ndash;127 and Y0&ndash;127.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>44
</p>
<p>Table 3  Alphabetic characters in address numbers (2)
</p>
<p>Model
</p>
<p>Character Signal description ����� �����
</p>
<p>
	�&#13;��� 
	�&#13;��� 
	�&#13;��� 
	�&#13;��� 
	�&#13;���
</p>
<p>X Input signal from the machine
to the PMC (MT to PMC)
</p>
<p>X0 to X127
X1000 to X1013  (Caution 1)
</p>
<p>X0 to X127
X1000 to X1019
</p>
<p>Y Output signal from the PMC to
the machine (PMC to MT)
</p>
<p>Y0 to Y127
Y1000 to Y1013  (Caution 1)
</p>
<p>Y0 to Y127
Y1000 to Y1014
</p>
<p>F Input signal from the NC to the
PMC (NC to PMC)
</p>
<p>F0 to F255
F1000 to F125
</p>
<p>F0 to F255
F1000 to F1255
</p>
<p>G Output signal from the PMC to
the NC (PMC to NC)
</p>
<p>G0 to G255
G1000 to G1255
</p>
<p>G0 to G255
G1000 to G1255
</p>
<p>R Internal relay (Caution 2) R0 to R999
R9000 to R9099
</p>
<p>R0 to R999
R9000 to R9117
</p>
<p>R0 to R999
R9000 to R9099
</p>
<p>R0 to R999
R9000 to R9117
</p>
<p>A Message request signal A0 to A24 A0 to A24
</p>
<p>C Counter C0 to C79 C0 to C79
</p>
<p>K Keep relay (Caution 3) K0 to K19 K0 to K19
</p>
<p>D Data table D0 to D1859 D0 to D1859
</p>
<p>T Variable timer T0 to T79 T0 to T79
</p>
<p>L Label number &ndash; L1 to L9999 &ndash; L1 to L9999
</p>
<p>P Subprogram number &ndash; P1 to P512 &ndash; P1 to P512
</p>
<p>CAUTION
1 X1000 to X1007 and Y1000 to Y1007 are configured as a
</p>
<p>matrix.
2 R9000 to R9117 are areas reserved for the PMC system
</p>
<p>program; these areas cannot be used for output by a
sequence program.
</p>
<p>3 K17 to K19 are areas reserved for the PMC system
program; these areas cannot be used for output by a
sequence program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>45
</p>
<p>Table 3  Alphabetic characters in address numbers (3)
</p>
<p>Chara- Signal description
Model
</p>
<p>cter Signal  description ���	�� ���	��� ���	��� ���	�� ���	��� ���	��
</p>
<p>X Input signal from the machine
to the PMC (MT to PMC)
</p>
<p>X0 to X127
X1000 to X1039
</p>
<p>X0 to X127
</p>
<p>Y Output signal from the PMC to
the machine (PMC to MT)
</p>
<p>Y0 to Y127
Y1000 to Y1029
</p>
<p>Y0 to Y127
</p>
<p>F Input signal from the NC to the
PMC (NC to PMC)
</p>
<p>F0 to F255
F1000 to F1255
</p>
<p>F0 to F319
</p>
<p>G Output signal from the PMC to
the NC (PMC to NC)
</p>
<p>G0 to G255
G1000 to G1255
</p>
<p>G0 to G511
</p>
<p>R Internal relay (Caution 1) R0 to R999
R9000 to
</p>
<p>R9099
</p>
<p>R0 to R999
R9000 to
</p>
<p>R9117
</p>
<p>R0 to R1499
R9000 to
</p>
<p>R9117
</p>
<p>R0 to R1499
R9000 to
</p>
<p>R9099
</p>
<p>R0 to R1499
R9000 to
</p>
<p>R9117
</p>
<p>R0 to R1499
R9000 to
</p>
<p>R9117
</p>
<p>A Message request signal A0 to A24
</p>
<p>C Counter C0 to C79
</p>
<p>K Keep relay (Caution 2) K0 to K19
</p>
<p>D Data table D0 to D1859 D0 to D2999
</p>
<p>T Variable timer T0 to T79
</p>
<p>L Label number &ndash; &ndash; L1 to L9999 &ndash; L1 to L9999
</p>
<p>P Subprogram number &ndash; &ndash; P1 to P512 &ndash; P1 to P512
</p>
<p>CAUTION
1 R9000 to R9117 are areas reserved for the PMC system
</p>
<p>program; these areas cannot be used for output by a
sequence program.
</p>
<p>2 K17 to K19 are areas reserved for the PMC system
program; these areas cannot be used for output by a
sequence program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>46
</p>
<p>Table 3  Alphabetic characters in address numbers (4)
</p>
<p>Model
</p>
<p>Character Signal descrip-tion ������ ������&#13;� 
������� ������&#13;� 

������
</p>
<p>������&#13;� 

</p>
<p>�����
� ������� �����
� ������� �����	�
</p>
<p>X Input signal from the
machine to the PMC
(MT to PMC)
</p>
<p>X0 to X127
X1000 to X1019
X1020 to X1039
</p>
<p>X0 to X127
X1000 to X1019
X1020 to X1039
</p>
<p>Y Output signal from
the PMC to the
machine (PMC to MT)
</p>
<p>Y0 to Y127
Y1000 to Y1014
Y1020 to Y1034
</p>
<p>Y0 to Y127
Y1000 to Y1014
Y1020 to Y1034
</p>
<p>F Input signal from the
NC to the PMC (NC to
PMC)
</p>
<p>F0 to F255
F1000 to F1255
</p>
<p>F0 to F255
F1000 to F1255
</p>
<p>F0 to F511
F1000 to F1511
F2000 to F2511
</p>
<p>F0 to F511
F1000 to F1511
F2000 to F2511
</p>
<p>F0 to F255
F1000 to F1255
</p>
<p>G Output signal from
the PMC to the NC
(PMC to NC)
</p>
<p>G0 to G255
G1000 to G1255
</p>
<p>G0 to G255
G1000 to G1255
</p>
<p>G0 to G511
G1000 to G1511
G2000 to G2511
</p>
<p>G0 to G511
G1000 to G1511
G2000 to G2511
</p>
<p>G0 to G255
G1000 to G1255
</p>
<p>R Internal relay R0 to R1499
R9000 to R9117
</p>
<p>R0 to R1499
R9000 to R9117
</p>
<p>R0 to R2999
R9000 to R9199
</p>
<p>R0 to R2999
R9000 to R9199
</p>
<p>R0 to R999
R9000 to R9099
</p>
<p>A Message request
signal
</p>
<p>A0 to A24 A0 to A24 A0 to A124 A0 to A124 A0 to A24
</p>
<p>C Counter C0 to C79 C0 to C79 C0 to C199 C0 to C199 C0 to C79
</p>
<p>K Keep relay K0 to K19 K0 to K19 K0 to K39
K900 to K909
</p>
<p>K0 to K39
K900 to K909
</p>
<p>K0 to K19
</p>
<p>T Data table T0 to T79 T0 to T79 T0 to T299 T0 to T299 T0 to T79
</p>
<p>D Variable timer D0 to D2999 D0 to D2999 D0 to D7999 D0 to D7999 D0 to D1859
</p>
<p>L Label number L1 to L9999 L1 to L9999 L1 to L9999 L1 to L9999 &ndash;
</p>
<p>P Subprogram number P1 to P512 P1 to P512 P1 to P2000 P1 to P2000 &ndash;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>47
</p>
<p>Table 3  Alphabetic characters in address numbers (5)
</p>
<p>Model
</p>
<p>Character Signal description ������ ������&#13;� �������� �	����&#13;� �
</p>
<p>�����
� ������� �����
� �������
</p>
<p>X Input signal from the machine to the PMC
(MT to PMC)
</p>
<p>X0 to X127
X1000 to X1019
X1020 to X1039
</p>
<p>Y Output signal from the PMC to the machine
(PMC to MT)
</p>
<p>Y0 to Y127
Y1000 to Y1014
Y1020 to Y1034
</p>
<p>F Input signal from the NC to the PMC (NC to
PMC)
</p>
<p>F0 to F255
F1000 to F1255
</p>
<p>F0 to F255
F1000 to F1255
</p>
<p>F0 to F511
F1000 to F1511
F2000 to F2511
</p>
<p>F0 to F511
F1000 to F1511
F2000 to F2511
</p>
<p>G Output signal from the PMC to the NC
(PMC to NC)
</p>
<p>G0 to G255
G1000 to G1255
</p>
<p>G0 to G255
G1000 to G1255
</p>
<p>G0 to G511
G1000 to G1511
G2000 to G2511
</p>
<p>G0 to G511
G1000 to G1511
G2000 to G2511
</p>
<p>R Internal relay R0 to R1499
R9000 to R9117
</p>
<p>R0 to R1499
R9000 to R9117
</p>
<p>R0 to R2999
R9000 to R9199
</p>
<p>R0 to R2999
R9000 to R9199
</p>
<p>A Message request signal A0 to A24 A0 to A24 A0 to A124 A0 to A124
</p>
<p>C Counter C0 to C79 C0 to C79 C0 to C199 C0 to C199
</p>
<p>K Keep relay K0 to K19 K0 to K19 K0 to K39
K900 to K909
</p>
<p>K0 to K39
K900 to K909
</p>
<p>T Data table T0 to T79 T0 to T79 T0 to T299 T0 to T299
</p>
<p>D Variable timer D0 to D2999 D0 to D2999 D0 to D7999 D0 to D7999
</p>
<p>L Label number L1 to L9999 L1 to L9999 L1 to L9999 L1 to L9999
</p>
<p>P Subprogram number P1 to P512 P1 to P512 P1 to P2000 P1 to P2000
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>48
</p>
<p>Table 3  Alphabetic characters in address numbers (6)
</p>
<p>Model
</p>
<p>Character Signal description ������ �����������&#13; 	
</p>
<p>��
���� ��
����
</p>
<p>X Input signal from the machine to
the PMC (MT to PMC)
</p>
<p>X0 to X127
X1000 to X1011
</p>
<p>Y Output signal from the PMC to the
machine (PMC to MT)
</p>
<p>Y0 to Y127
Y1000 to Y1008 (Note)
</p>
<p>F Input signal from the NC to the
PMC (NC to PMC)
</p>
<p>F0 to F255
F1000 to F1255
</p>
<p>G Output signal from the PMC to the
NC (PMC to NC)
</p>
<p>G0 to G255
G1000 to G1255
</p>
<p>R Internal relay R0 to R1999
R9000 to R9099
</p>
<p>R0 to R1499
R9000 to R9117
</p>
<p>A Message request signal A0 to A24
</p>
<p>C Counter C0 to C79
</p>
<p>K Keep relay K0 to K19
</p>
<p>D Data table &ndash; D0 to D1859
</p>
<p>T Variable timer T0 to T79
</p>
<p>L Label number &ndash; L1 to L9999
</p>
<p>P Subprogram number &ndash; P1 to P512
</p>
<p>NOTE
The Y addresses for the 4082 series are Y0 to Y127 and
Y1000 to Y1007.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>49
</p>
<p>Table 3  Alphabetic characters in address numbers (7)
</p>
<p>Sym
Model
</p>
<p>Sym-
bol Type of signal FANUC Series 16 �/18�/160�/180�bol
</p>
<p>PMC&ndash;RB5 PMC&ndash;RB6
</p>
<p>X ����� ����
� &#13;��� ��� �
����� ��
���
</p>
<p>��	 � ����
</p>
<p>X0 to X127 (Note) X0 to X127 (Note)
</p>
<p>Y Output signal from the PMC to
machine
(PMC � MT)
</p>
<p>Y0 to Y127 (Note) Y0 to Y127 (Note)
</p>
<p>F Input signal from the NC to PMC
��� � ����
</p>
<p>F0 to F255
F1000 to F1255
</p>
<p>F0 to F511
F1000 to F1511
F2000 to F2511
</p>
<p>G Output signal from the PMC to NC
(PMC � NC)
</p>
<p>G0 to G255
G1000 to G1255
</p>
<p>G0 to G511
G1000 to G1511
G2000 to G2511
</p>
<p>R Internal relay R0 to R1499
R9000 to R9117
</p>
<p>R0 to R2999
R9000 to R9199
</p>
<p>A Message request signal A0 to A24 A0 to A124
</p>
<p>C Counter C0 to C79 C0 to C199
</p>
<p>K Keep relay K0 to K19 K0 to K39
K900 to K909
</p>
<p>D Variable timer T0 to T79 T0 to T299
</p>
<p>T Data table D0 to D2999 D0 to D7999
</p>
<p>L Label number L1 to L9999 L1 to L9999
</p>
<p>P Subprogram number P1 to P512 P1 to P2000
</p>
<p>NOTE
With the 16/18&ndash;C, the addresses (X1000 and up, Y1000 and up) for the built&ndash;in I/O card are
reserved. However, these areas cannot be used for I/O. Never use X1000 and up, or Y1000
and up.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>50
</p>
<p>Table 3  Alphabetic characters in address numbers (8)
</p>
<p>Sym
Model
</p>
<p>Sym-
bol Type of signal FANUC Series 21 �/210�bol
</p>
<p>PMC&ndash;RA1 PMC&ndash;RA5
</p>
<p>X Input signal from the machine to
PMC
��� � ����
</p>
<p>X0 to X127 (Note)
</p>
<p>Y Output signal from the PMC to
machine
���� � ���
</p>
<p>Y0 to Y127 (Note)
</p>
<p>F Input signal from the NC to PMC
��� � ����
</p>
<p>F0 to F255
F1000 to F1255
</p>
<p>G Output signal from the PMC to NC
���� � ���
</p>
<p>G0 to G255
G1000 to G1255
</p>
<p>R Internal relay R0 to R999
R9000 to R9099
</p>
<p>R0 to R999
R9000 to R9117
</p>
<p>A Message request signal A0 to A24
</p>
<p>C Counter C0 to C79
</p>
<p>K Keep relay K0 to K19
</p>
<p>D Variable timer T0 to T79
</p>
<p>T Data table D0 to D1859
</p>
<p>L Label number &ndash; L1 to L9999
</p>
<p>P Subprogram number &ndash; P1 to P512
</p>
<p>NOTE
With the 16/18&ndash;C, the addresses (X1000 and up, Y1000 and up) for the built&ndash;in I/O card are
reserved. However, these areas cannot be used for I/O. Never use X1000 and up, or Y1000
and up.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>51
</p>
<p>Table 3  Alphabetic characters in address numbers (9)
</p>
<p>Model
</p>
<p>Character Signal descri ption ������ �	���&#13;�� �Character Signal  description
������
����
�
</p>
<p>�������
</p>
<p>X Input signal from the machine to
the PMC (MT to PMC)
</p>
<p>X0 to X127
</p>
<p>Y Output signal from the PMC to
the machine (PMC to MT)
</p>
<p>Y0 to Y127
</p>
<p>F Input signal from the NC to the
PMC (NC to PMC)
</p>
<p>F0 to F319
</p>
<p>G Output signal from the PMC to the
NC (PMC to NC)
</p>
<p>G0 to G511
</p>
<p>R Internal relay R0 to R1499
R9000 to R9099
</p>
<p>R0 to R1499
R9000 to R9117
</p>
<p>A Message request signal A0 to A24 A0 to A124
</p>
<p>C Counter (Non&ndash;volatile memory) C0 to C79 C0 to C199
</p>
<p>K Keep relay (Non&ndash;volatile memory) K0 to K19 K0 to K39
K900 to K909
</p>
<p>D Data table (Non&ndash;volatile memory) D0 to D2999 D0 to D7999
</p>
<p>T Variable timer 
(Non&ndash;volatile memory)
</p>
<p>T0 to T79 T0 to T299
</p>
<p>L Label number L1 to L9999
</p>
<p>P Subprogram number P1 to P512 P1 to P2000
</p>
<p>CAUTION
1 R9000 to R9199 are areas reserved for the PMC system
</p>
<p>program; 
these areas cannot be used for output by a sequence
program.
</p>
<p>2 K17 to K19 or K900 to K909 are areas reserved for the PMC
system program; 
these areas cannot be used for output by a sequence
program.
</p>
<p>3 Please refer to (3) PMC&ndash;NB(Series 4047).
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>52
</p>
<p>Addresses of the interfaces are outlined below.  For details, see
CONNECTING MANUAL of Series 16.
</p>
<p>(1) Basic machine interface
</p>
<p>(a) PMC�CNC related signals
The addresses for Series 15 are from F0 to F511, for the others are
from F0 to F255.
For details of the signals, see CONNECTING MANUAL of
CNC.
</p>
<p>(b) PMC�CNC related signals
The addresses for Series 15 are from G0 to G511, for the others
are from G0 to G255.
For details of the signals, see CONNECTING MANUAL of
CNC.
</p>
<p>3.1
ADDRESSES
BETWEEN PMC AND
CNC (PMC�NC)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>53
</p>
<p>(1) When the FANUC I/O UNIT-MODEL A is used
</p>
<p>(a) PMC &larr; MT
Addresses are from X0 to X127.
</p>
<p>(b) PMC &rarr; MT
Addresses are from X0 to X127.
</p>
<p>Up to 1024 input and 1024 output points can be assigned to any
address within the above range in byte units.
</p>
<p>(2) When the built-in I/O card is used (except Series 15)
</p>
<p>(a) PMC &larr; MT
Addresses are from X1000 to X1019.
</p>
<p>(b) PMC &rarr; MT
Addresses are from X1000 to X1014.
</p>
<p>The addresses in the above range are always specified.  They cannot
therefore be changed when the I/O points are assigned to them.
</p>
<p>(3) NC signals whose addresses are fixed and that are input from the
machine tool
</p>
<p>Be sure to assign the following signals to be input from the machine tool
to the specified addresses because the NC unit refers to the following
fixed addresses during processing.
</p>
<p>NOTE
If both I/O Link and built-in I/O card are provided, the
address of the I/O card is valid.
(Except Series 15)
</p>
<p>3.2
ADDRESSES
BETWEEN PMC AND
MACHINE TOOL
(PMC�MT)
</p>
<p>3.2.1
Addresses Between
PMC and Machine Tool
for PMC-RB/RC
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>54
</p>
<p>Table 3.2.1 (a)  Input Signals Whose Addresses Are Fixed (Series 16/Series 18)
</p>
<p>Address
Signal Symbol When the  I/O Link
</p>
<p>is used
When the built-in I/O
</p>
<p>card is used
</p>
<p>T
t
</p>
<p>Signal indicating that X-axis measurement position is reached XAE X4.0 X1004.0
system Signal indicating that Z-axis measurement position is reached ZAE X4.1 X1004.1
</p>
<p>Function B for directly entering the measurement value of tool
compensation in the positive X direction
</p>
<p>+MIT1 X4.2 X1004.2
</p>
<p>Function B for directly entering the measurement value of tool
compensation in the negative X direction
</p>
<p>&ndash;MIT1 X4.3 X1004.3
</p>
<p>Function B for directly entering the measurement value of tool
compensation in the positive Z direction
</p>
<p>+MIT2 X4.4 X1004.4
</p>
<p>Function B for directly entering the measurement value of tool
compensation in the negative Z direction
</p>
<p>&ndash;MIT2 X4.5 X1004.5
</p>
<p>M
t
</p>
<p>Signal indicating that X-axis measurement position is reached XAE X4.0 X1004.0
system Signal indicating that Y-axis measurement position is reached YAE X4.1 X1004.1
</p>
<p>Signal indicating that Z-axis measurement position is reached ZAE X4.2 X1004.2
</p>
<p>Common Skip signal SKIP X4.7 X1004.7
</p>
<p>Emergency stop signal *ESP X8.4 X1008.4
</p>
<p>Deceleration signal for 1st axis reference position return *DEC1 X9.0 X1009.0
</p>
<p>Deceleration signal for 2nd axis reference position return *DEC2 X9.1 X1009.1
</p>
<p>Deceleration signal for 3rd axis reference position return *DEC3 X9.2 X1009.2
</p>
<p>Deceleration signal for 4th axis reference position return *DEC4 X9.3 X1009.3
</p>
<p>Deceleration signal for 5th axis reference position return *DEC5 X9.4 X1009.4
</p>
<p>Deceleration signal for 6th axis reference position return *DEC6 X9.5 X1009.5
</p>
<p>Deceleration signal for 7th axis reference position return *DEC7 X9.6 X1009.6
</p>
<p>Deceleration signal for 8th axis reference position return *DEC8 X9.7 X1009.7
</p>
<p>If the NC is a TT system, the signals for tool post 2 listed in Table 3.2.1
(b) are always assigned to the following addresses.
In addition, the system does not have the signals for tool post 1, DEC5
to DEC8 (X9.4 to X9.7).
</p>
<p>Table 3.2.1 (b)  Input Signals Whose Addresses Are Fixed (TT) (Series 16/Series 18)
</p>
<p>Address
Signal Symbol When the I/O Link is
</p>
<p>used
When the built-in I/O
</p>
<p>card is used
</p>
<p>TT
t
</p>
<p>Signal indicating that X-axis measurement position is reached XAE X13.0 X1013.0
system Signal indicating that Z-axis measurement position is reached ZAE X13.1 X1013.1
</p>
<p>Function B for directly entering the measurement value of tool
compensation in the positive X direction
</p>
<p>+MIT1 X13.2 X1013.2
</p>
<p>Function B for directly entering the measurement value of tool
compensation in the negative X direction
</p>
<p>&ndash;MIT1 X13.3 X1013.3
</p>
<p>Function B for directly entering the measurement value of tool
compensation in the positive Z direction
</p>
<p>+MIT2 X13.4 X1013.4
</p>
<p>Function B for directly entering the measurement value of tool
compensation in the negative Z direction
</p>
<p>&ndash;MIT2 X13.5 X1013.5
</p>
<p>Skip signal SKIP X13.7 X1013.7
</p>
<p>Deceleration signal for 1st axis reference position return *DEC1 X7.0 X1007.0
</p>
<p>Deceleration signal for 2nd axis reference position return *DEC2 X7.1 X1007.1
</p>
<p>Deceleration signal for 3rd axis reference position return *DEC3 X7.2 X1007.2
</p>
<p>Deceleration signal for 4th axis reference position return *DEC4 X7.3 X1007.3
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>55
</p>
<p>Table 3.2.1 (c)  Input Signals Whose Addresses Are Fixed (Series 15)
</p>
<p>Type of I/O nit Emergency Skip signal 
Measurement position reached signal
</p>
<p>Type of  I/O unit g ystop address
p g
</p>
<p>address AE1 (XAE) AE2 (ZAE)
</p>
<p>Connection unit X6.4 X11.6 X8.3 X8.4
</p>
<p>I/O unit X6.4 X11.6 X8.3 X8.4
</p>
<p>The sequence program addresses of each module should be decided by the
machine tool builder.  These decided addresses are set to the programmer
memory by using programmer.
</p>
<p>The address information being set to the programmer is written together
with a sequence program into ROM when a sequence program is written
into ROM.  No I/O address is changeable in the written stage of the
address information into ROM.  These addresses are determined by the
connecting position (group number and base number) of the I/O base unit,
each module position (slot number) mounted inside the I/O base unit and
each module name.
</p>
<p>Fig. 3.2.2 (a) and Fig. 3.2.2 (b) indicate the configuration of the I/O base
unit in PMC-RB/RC.
</p>
<p>For the specifications and details of connections of the I/O interface
module, I/O module, CPU module, and other modules, see
CONNECTING MANUAL of Series 16.
</p>
<p>PMC
</p>
<p>Base#0
</p>
<p>I/O control
unit I/O Unit
</p>
<p>AIF01A
</p>
<p>Base#1
</p>
<p>I/O Unit
</p>
<p>AIF01B
</p>
<p>Group
#0
</p>
<p>����3.2.2 (a)
</p>
<p>3.2.2
Assignment of I/O
Module Addresses
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>56
</p>
<p>PMC
</p>
<p>Base#0
</p>
<p>I/O control
unit I/O Unit
</p>
<p>AIF01A
</p>
<p>Base#1
</p>
<p>I/O Unit
</p>
<p>AIF01B
</p>
<p>Group
#0
</p>
<p>Base#0
</p>
<p>I/O Unit
</p>
<p>AIF01A
</p>
<p>Base#1
</p>
<p>I/O Unit
</p>
<p>AIF01B
</p>
<p>Group
#1
</p>
<p>Power
Mate
</p>
<p>Group
#2
</p>
<p>Connection unit Group
#3
</p>
<p>Base#0
</p>
<p>Base#0
</p>
<p>Possible to connect max. 16 groups
Max. 2 Base/Group
Max. 10 Slot/Base
</p>
<p>����3.2.2 (b)
</p>
<p>(1) Group No.
Up to two I/O units can be connected using the additional I/O
interface module AIF01B, based on I/O interface AIF01A.  Up to two
I/O units extended from AIF01A are called a group.  When only one
interface module is not enough to accommodate the required I/O
modules, or when multiple I/O units are separately located remote
from the machine, connect the first AIF01A and the second AIF01A
with the cable.  Up to 16 groups of I/O units can be connected.
</p>
<p>(2) Base No.
In one group, there are 2 max. I/O base units.  The I/O unit with the
I/O interface module IF01A is assigned to base No. 0 and another is
assigned to base No.1.
</p>
<p>(3) Slot No.
A maximum of 5 or 10 I/O modules can be mounted on the I/O base
unit ABU05A, ABU10A, respectively.  The module mounting
position on the I/O base unit is expressed with slot Nos.  In each base
unit, the mounting position of the I/O interface module is assigned
to slot No. 0, and slot No. 1, 2, 3 ... are assigned in order from the left.
In the case of I/O base unit (BU10B) for 10 slots, slot No. 1, 2 follow
slot No. 8.  The last slot No. 1, 2 are assigned for the next base
address.  Each module can be mounted on an arbitrary slot.  It is
possible to mount modules by skipping some slots.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>57
</p>
<p>(4) Module name
For module names, see Table 3.2.2 (a) to (c).
An actual module name begins with A.  When specifying a module,
omit the first letter A from the module name.
</p>
<p>Example)  When specifying module AID16D, enter ID16D.
</p>
<p>Table 3.2.2 (a)  Input Modules
</p>
<p>No.
Input 
format
</p>
<p>Module name
(Actual module name)
</p>
<p>Rated
voltage
</p>
<p>Rated
current Polarity Response time
</p>
<p>Number
of input
points
</p>
<p>Terminal
Indica-
tion 
</p>
<p>by LED
</p>
<p>1 Non-insulati
on DC input
</p>
<p>ID32A
(AID32A)
</p>
<p>24VDC 7.5mA Both 20 ms max. 32 Connector Not
provided
</p>
<p>ID32B
(AID32B)
</p>
<p>24VDC 7.5mA Both 2 ms max. 32 Connector Not
provided
</p>
<p>2 Insulation
DC input
</p>
<p>ID16C
(AID32C)
</p>
<p>24VDC 7.5mA NEG 20 ms max. 16 Terminal
board
</p>
<p>Provided
</p>
<p>ID16D
(AID32D)
</p>
<p>24VDC 7.5mA POS 20 ms max. 16 Terminal
board
</p>
<p>Provided
</p>
<p>ID32E
(AID32E)
</p>
<p>24VDC 7.5mA Both 20 ms max. 32 Connector Not
provided
</p>
<p>ID32F
(AID32F)
</p>
<p>24VDC 7.5mA Both 2 ms max. 32 Connector Not
provided
</p>
<p>3 Non-insulati
on DC input
</p>
<p>IA16G
(AIAHG)
</p>
<p>100 to
120VAC
</p>
<p>14.5mA
(AC120V)
</p>
<p>ON : 20ms max
OFF : 45ms max
</p>
<p>16 Terminal
board
</p>
<p>Provided
</p>
<p>Polarity NEG : 0 V common (current output)
POS : 24 V common (current output)
</p>
<p>Table 3.2.2 (b)  Output Modules
</p>
<p>No.
Output 
format
</p>
<p>Module name 
(Actual module name)
</p>
<p>Rated 
voltage
</p>
<p>Rated 
current Polarity
</p>
<p>Number 
of 
</p>
<p>points
</p>
<p>Number 
of
</p>
<p>points/
common
</p>
<p>Terminal
Indication 
</p>
<p>by LED Fuse
</p>
<p>1 Insulation
DC output
</p>
<p>OD08C
(AOD08C)
</p>
<p>12 to 24 
VDC
</p>
<p>2A NEG 8 8 Terminal
board
</p>
<p>Provided Provided
</p>
<p>OD08D
(AOD08D)
</p>
<p>2A POS 8 8 Terminal
board
</p>
<p>Provided Provided
</p>
<p>OD16C
(AOD16C)
</p>
<p>0.5A NEG 16 8 Terminal
board
</p>
<p>Provided Not
provided
</p>
<p>OD16D
(AOD16D)
</p>
<p>0.5A POS 16 8 Terminal
board
</p>
<p>Provided Not
provided
</p>
<p>OD32C
(AOD32C)
</p>
<p>0.3A NEG 32 8 Connector Not provided Not
provided
</p>
<p>OD32D
(AOD32D)
</p>
<p>0.3A POS 32 8 Connector Not provided Not
provided
</p>
<p>2 AC output OA05E
(AOA05E)
</p>
<p>100 to
240 VAC
</p>
<p>2A &ndash; 5 1 Terminal
board
</p>
<p>Provided Provided
</p>
<p>OA08E
(AOA08E)
</p>
<p>1A &ndash; 8 4 Terminal
board
</p>
<p>Provided Provided
</p>
<p>OA12E
(AOR12G)
</p>
<p>100 to
120 VAC
</p>
<p>0.5A &ndash; 12 6 Terminal
board
</p>
<p>Provided Provided
</p>
<p>3 Relay
output
</p>
<p>OR08G
(AOR08G)
</p>
<p>250 VAC/
30 VDC 
</p>
<p>max
</p>
<p>4A &ndash; 8 1 Terminal
board
</p>
<p>Provided Not
provided
</p>
<p>OR16G
(AOR16G)
</p>
<p>max.
2A &ndash; 16 4 Terminal
</p>
<p>board
Provided Not
</p>
<p>provided
</p>
<p>Polarity NEG : 0 V common (current output)
POS : 24 V common (current output)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>58
</p>
<p>Table 3.2.2 (c)  Other Modules
</p>
<p>��� Name Module name (actual module name)
Occupied 
address Specifications
</p>
<p>1 FANUC CNC SYSTEM
FANUC Power Mate
</p>
<p>FS04A Input: 4 bytes
Output: 4 bytes
</p>
<p>FANUC Series 0&ndash;C
(Applicable of FANUC I/O Link)
FANUC Power Mate MODEL
</p>
<p>FS08A Input: 8 bytes
Output: 8 bytes
</p>
<p>FANUC Power Mate&ndash;MODEL
A/B/C/D/E/F/H
</p>
<p>OC02I Input: 16 bytes FANUC Power Mate&ndash;MODEL D/H
</p>
<p>OC02O Output: 16 bytes
</p>
<p>OC03I Input: 32 bytes
</p>
<p>OC03O Output: 32 bytes
</p>
<p>2 Analog input module AD04A
 (AAD04A)
</p>
<p>Input: 8 bytes
</p>
<p>4 Operator&rsquo;s panel connection unit OC01I Input: 12 bytes Ordering drawing No. 
A16B-2200-0660 (Sink type)
</p>
<p>OC01O Output: 8 bytes
A16B-2200-0660 (Sink ty e)
A16B-2201-0730 (Source type)
</p>
<p>5 Operator&rsquo;s panel connection unit / 8 Input: 8 bytes Ordering drawing No.  
A16B-2200-0661 (Sink type)
</p>
<p>/ 4 Output: 4 bytes
A16B-2200-0661 (Sink ty e)
A16B-2201-0731 (Source type)
</p>
<p>6 Machine operator&rsquo;s panel interface unit OC02I Input: 16 bytes
</p>
<p>OC02O Output: 16 bytes
</p>
<p>OC03I Input: 32 bytes
</p>
<p>OC03O Output: 32 bytes
</p>
<p>7 I/O link connection unit /� Input: � bytes
Output: � bytes
</p>
<p>Specify 1 to 8 in �.
</p>
<p>OC02I Input: 16 bytes
</p>
<p>OC02O Output: 16 bytes
</p>
<p>OC03I Input: 32 bytes
</p>
<p>OC03O Output: 32 bytes
</p>
<p>8 I/O unit model B #� Input: � bytes
Output: � bytes
</p>
<p>Specify 1 to 10 in �.
</p>
<p>## Input: 4 bytes Specify an area for reading the
power-on/off state of each I/O unit
model B.
</p>
<p>9 Special modules not listed in Tables
3.1.2(a) and 3.1.2(b)
</p>
<p>/� Input: � bytes
Output: � bytes
</p>
<p>Specify 1 to 8 in �.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>59
</p>
<p>��� SpecificationsOccupied address
Module name 
</p>
<p>(actual module name)Name
</p>
<p>10 Connector panel I/O module (Note 3) CM03I (/3) Input 3 bytes Basic unit only
</p>
<p>CM06I (/6) Input 6 bytes Expansion unit 1 is used.
</p>
<p>CM09I ���
	 � ��	�� Expansion unit 2 is used.
</p>
<p>CM12I (OC01I) Input 12 bytes Expansion unit 3 is used.
</p>
<p>CM13I Input 13 bytes The first MPG unit is used.
</p>
<p>CM14I Input 14 bytes The second MPG unit is used.
</p>
<p>CM15I Input 15 bytes The third MPG unit is used.
</p>
<p>CM16I (OC02I) Input 16 bytes DO alarm detection is used.
</p>
<p>CM02O (/2) Output 2 bytes Basic unit only
</p>
<p>CM04O (/4) Output 4 bytes Expansion unit 1 is used.
</p>
<p>CM06O (/6) Output 6 bytes Expansion unit 2 is used.
</p>
<p>CM08O (/8) Output 8 bytes Expansion unit 3 is used.
</p>
<p>11 Operator&rsquo;s panel I/O module (Note 3) CM12I (OC01I) Input 12 bytes
</p>
<p>CM13I Input 13 bytes The first MPG unit is used.
</p>
<p>CM14I Input 14 bytes The second MPG unit is used.
</p>
<p>CM15I Input 15 bytes The third MPG unit is used.
</p>
<p>CM16I (OC02I) Input 16 bytes DO alarm detection is used.
</p>
<p>CM08O (/8) Output 8 bytes
</p>
<p>NOTE
1 For the method of I/O link connection unit assignment, see
</p>
<p>Subsection 3.2.3.
2 For the method of I/O link model B assignment, see
</p>
<p>Subsection 3.2.4.
3 If the version of the programming system (FAPTLADDER,
</p>
<p>FAPTLADDER&ndash;II) is too old to match a module above, use
the compatible module indicated in parentheses. When a
compatible module having the same number of points is not
available, use a compatible module having a greater
number of points.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>60
</p>
<p>(5) How to set address to each module
The character and the mount position of each module is now decided
with the group number, base number, slot number, and module name,
so the address of each module can now be decided, corresponding
these data and the input/output addresses.  After display the I/O unit
address screen as shown below on the programmer&rsquo;s CRT, set
necessary data on the screen,  Then the module address is now
assigned.  The occupying DI/DO points (bytes) of each module are
stored in the programmer, so just assign the address of the head byte
of each module, and the addresses of the other bytes in the module
are automatically assigned by the programmer.
For instance, when the module ID32A is assigned address X5 as in
Fig. 3.2.2 (d), the necessary 4 bytes are automatically secured.  For
details on operation, see Chapters III, IV, &ldquo;Programmer&rdquo;.  The
input/output addresses of each module can be freely decided in this
method at the machine tool builder, so the address can be decided
when making the ladder diagram, as long as it does not duplicate with
the addresses of each module.
</p>
<p>ADDRESS GROUP BASE SLOT NAME
</p>
<p>X000
</p>
<p>X001
</p>
<p>X002
</p>
<p>X003
</p>
<p>X004
</p>
<p>X005    0   0   5 ID32A
</p>
<p>X006    0   0   5 ID32A
</p>
<p>X007    0   0   5 ID32A
</p>
<p>X008    0   0   5 ID32A
</p>
<p>X009
</p>
<p>Automaticall
set
</p>
<p>����3.2.2 (d)   I/O unit address screen
</p>
<p>NOTE
When assigning Connection unit 1, Connection unit 2 or
Connection unit for operator&rsquo;s panel, set base number to 0
and slot number to 1.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>61
</p>
<p>(6) Notes when setting addresses
</p>
<p>(a) The head bytes of the analog input module (AD04A) and analog
output module (DA02A) must be assigned to even number addresses
of input address (X���), and output address (Y���) each.
When reading the A/D-converted digital value from the input
address (X���) or when writing the D/A-converting value to the
output address (Y���), readout and write-in must always be
done in word (16 bits) units.
</p>
<p>ADDRESS GROUP BASE SLOT NAME
</p>
<p>X000 0   0   1 ID16C
</p>
<p>X001 0   0   1 ID16C
</p>
<p>X002 0   0   2 ID16D
</p>
<p>X003 0   0   2 ID16D
</p>
<p>X004 1   0   1 IA16G
</p>
<p>X005 1   0   1 IA16G
</p>
<p>X006 1   0   2 IA16G
</p>
<p>X007 1   0   2 IA16G
</p>
<p>X008 2   0   1 ID16D
</p>
<p>X009 2 a 0   1 ID16D
</p>
<p>����3.2.2 (e)
</p>
<p>Concept:
</p>
<p>In conventional data transfer, when data is to be transferred between CNC
A and CNC B, the I/O units indicated by (a) (figure below) must be
connected with each other.  (In this case, data can be transferred using any
I/O unit.)
</p>
<p>(a)
</p>
<p>I/ O  Unit
Model  A
</p>
<p>I/ O  Unit
Model  A
</p>
<p>I/ O  Unit
Model  A
</p>
<p>I/ O  Unit
Model  A
</p>
<p>I/ O  Unit
Model  A
</p>
<p>I/ O  Unit
Model  A
</p>
<p>CNC  A CNC  B
</p>
<p>�
</p>
<p>The I/O link connection unit replaces these I/O units, thus eliminating the
need to connect them with, for example, cables.
</p>
<p>3.2.3
I/O Link Connection
Unit Assignment
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>62
</p>
<p>�
</p>
<p>�This portion is replaced by an I/O link 
   connection unit.
</p>
<p>I/ O  Unit
Model  A
</p>
<p>I/ O  Unit
Model  A
</p>
<p>(a)I/ O  Unit
Model  A
</p>
<p>I/ O  Unit
Model  A
</p>
<p>I/ O  Unit
Model  A
</p>
<p>I/ O  Unit
Model  A
</p>
<p>CNC  A CNC  B
</p>
<p>Consequently, when the I/O link connection unit is used, the connections
become as shown below.
</p>
<p>I/ O  Unit
Model  A
</p>
<p>I/ O  Unit
Model  A
</p>
<p>I/O Link
connection unit
</p>
<p>I/ O  Unit
Model  A
</p>
<p>I/ O  Unit
Model  A
</p>
<p>CNC  A CNC  B
</p>
<p>The assignment data depends on what type of I/O unit is to be replaced
with an I/O link connection unit.
</p>
<p>Occupied
address Input unit name at the time of assignment Output unit name at the time of assignment
</p>
<p>1 to 8 / � (� represents a number from 1 to 8.) / � (� represents a number from 1 to 8.)
</p>
<p>16 OC02I OC02O
</p>
<p>32 OC03I OC03O
</p>
<p>When a connection unit that occupies 16-byte addresses is attached to the
input side in GROUP = 1, enter &ldquo;1.0.1.OC02I.&rdquo;
</p>
<p>Method of assignment:
</p>
<p>Setting:
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>63
</p>
<p>�Related hardware publications:
FANUC I/O Unit-MODEL B Connection and Maintenance Manual 
(B&ndash;62163E)
</p>
<p>I/O Unit MODEL Bs can be used together with a Power Mate operator
panel interface unit, connection unit, and I/O Unit MODEL As.  
In this case, the I/O Unit MODEL Bs occupy one group; that is, no other
type of unit can be present in that group.
An example of connection is shown below.
</p>
<p>   [GROUP] =0
</p>
<p>   [GROUP] =1
</p>
<p>   [GROUP] =2
</p>
<p>   [GROUP] =3
</p>
<p>I/O unit model B
interface unit
</p>
<p>I/O unit model B
DI/DO unit
(Unit No.=1)
</p>
<p>I/O unit model B
DI/DO unit
(Unit No.=20)
</p>
<p>I/O unit model B
DI/DO unit
(Unit No.=5)
</p>
<p>I/O unit model B
DI/DO unit
(Unit No.=10)
</p>
<p>I/O unit model B
DI/DO unit
(Unit No.=30)
</p>
<p>I/O unit model B
DI/DO unit
(Unit No.=9)
</p>
<p>I/ O  LINK
  MASTER
</p>
<p>Power  Mate
</p>
<p>       [BASE] =0,  [SLOT] =1
</p>
<p>Operator&rsquo;s panel
interface unit
</p>
<p>       [BASE] =0,  [SLOT] =1
</p>
<p>      [BASE] =0                           [BASE] =1
</p>
<p>   [BASE] =0,  [SLOT] =1    [BASE] =0,  [SLOT] =20
</p>
<p>   [BASE] =0,  [SLOT] =5    [BASE] =0,  [SLOT] =10
</p>
<p>&rarr;SLOT  No. &rarr;SLOT  No.
</p>
<p>I/O  Unit- A I/O  Unit- A
</p>
<p>   [BASE] =0,  [SLOT] =30    [BASE] =0,  [SLOT] =9
</p>
<p>3.2.4
I/O Unit Model B
Assignment
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>64
</p>
<p>Specify a group number in [GROUP].  Always specify 0 in [BASE].
Specify the unit number of an I/O unit model B in [SLOT].  But when you
assign the power&ndash;on/off intormation, specify 0 in [SLOT].
The data specified by [SLOT] and [NAME] is as follows:
[SLOT] = 0, 1, ...30:
</p>
<p>Unit number (1 to 30) of an I/O unit model B DI/DO unit
[NAME]: Addresses occupied by an I/O unit model B
</p>
<p>Input/output size of ([base unit]
+ [extended unit])
</p>
<p>Assigned
name Occupied address
</p>
<p>1 byte #1 Input/output:  1 byte
</p>
<p>2 bytes #2 Input/output:  2 bytes
</p>
<p>3 bytes #3 Input/output:  3 bytes
</p>
<p>4 bytes #4 Input/output:  4 bytes
</p>
<p>6 bytes #6 Input/output:  6 bytes
</p>
<p>8 bytes #8 Input/output:  8 bytes
</p>
<p>10 bytes #10 Input/output:  10 bytes
</p>
<p>Power-on/off information ## Input:  4 bytes
</p>
<p>When an I/O unit model B assigned unit number 10 and occupying an area
of 3 bytes is attached to the input with GROUP = 1, enter &ldquo;1.0.10.#3.&rdquo;
</p>
<p>When a Power  Mate&ndash;MODEL D/H is used as I/O Link slave, it need to
be assigned on the I/O Link master side.
On the I/O link slave side, fixed addresses are used, so that no address
needs to be assigned. (See Table 3 for the addresses used.)
An example of connection is shown below.
</p>
<p>Operator&rsquo;s panel
interface unit
</p>
<p>   [GROUP] =0
</p>
<p>   [GROUP] =1
</p>
<p>I/ O  LINK
  MASTER
</p>
<p>       [BASE] =0,  [SLOT] =1
</p>
<p>       [BASE] =0,  [SLOT] =1
</p>
<p>Power  Mate
</p>
<p>Specify a group number in [GROUP].
Always specify 0 in [BASE].
Always specify 1 in [SLOT].
</p>
<p>The data specified by [NAME] is as follows:
</p>
<p>I/O points
(input/output)
</p>
<p>Input unit name at the 
time of assignment
</p>
<p>Output unit name at the
time of  assignment
</p>
<p>32/32 FS04A FS04A
</p>
<p>64/64 FS08A FS08A
</p>
<p>128/128 OC02I OC02O
</p>
<p>256/256 OC03I OC03O
</p>
<p>Method of assignment:
</p>
<p>Setting:
</p>
<p>3.2.5
Power Mate&ndash;model D/H
Assignment
</p>
<p>Method of assignment:ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>65
</p>
<p>When a Power Mate&ndash;D of 256/256 points is connected with group 1, input
the undermentioned assignment data.
</p>
<p>&middot;Input side : &rdquo;1.0.1.OC03I&rdquo;
&middot;Output side : &rdquo;1.0.1.OC03O&rdquo;
</p>
<p>Setting:
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>66
</p>
<p>In each model, the following signals (bytes) can be used as internal relays.
This area is cleared to zero when the power is turned on.
</p>
<p>Model PA1 PA3
</p>
<p>Number of 
bytes
</p>
<p>1100 1118
</p>
<p>Model RA1 RA2 RA3/RA5
</p>
<p>Number of 
bytes 1100 1118 1118
</p>
<p>Model RB RB2 RB3/RB5 RB4/RB6
</p>
<p>Number of 
bytes 1100 1118 1618 3200
</p>
<p>Model RC RC3 RC4
</p>
<p>Number of 
bytes 1600 1618 3200
</p>
<p>Model NB
</p>
<p>Number of 
bytes 1618
</p>
<p>NB2
</p>
<p>3200
</p>
<p>3.3
INTERNAL RELAY
ADDRESSES (R)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>67
</p>
<p>PMC-RB4
PMC-RB6
PMC-RC4
PMC-NB2
</p>
<p>PMC-RB4
PMC-RB6
PMC-RC4
PMC-NB2
</p>
<p>PMC-RB3
PMC-RB5
PMC-RC
PMC-RC3
PMC-NB
</p>
<p>PMC-PA3
PMC-RA2
PMC-RA3
PMC-RA5
PMC-RB2
PMC-RB3
PMC-RB5
PMC-RC3
PMC-NB
</p>
<p>&sdot;
R2999
</p>
<p>R9000
</p>
<p>&sdot;
&sdot;
&sdot;
</p>
<p>PMC-PA1
PMC-PA3
PMC-RA1
PMC-RA2
PMC-RA3
PMC-RA5
PMC-RB
PMC-RB2
</p>
<p>PMC-PA1
PMC-RA1
PMC-RB
PMC-RC
</p>
<p>R0
</p>
<p>R1
</p>
<p>&sdot;
&sdot;
&sdot;
</p>
<p>R999
</p>
<p>&sdot;
&sdot;
&sdot;
&sdot;
R1499
</p>
<p>&sdot;
&sdot;
</p>
<p>&sdot;
R9099
</p>
<p>&sdot;
&sdot;
</p>
<p>&sdot;
R9117
</p>
<p>&sdot;
&sdot;
</p>
<p>&sdot;
R9199
</p>
<p>Address number
</p>
<p>�            7    6    5    4    3    2    1    0
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>68
</p>
<p>(1) R9000 (Operation output register for the ADDB, SUBB, MULB,
DIVB, and COMPB functional instructions)
</p>
<p>The result is 0.
The result is a negative
value.
The result overflows.
</p>
<p>  R9000
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>(2) R9000 (Error output for the EXIN, WINDR, WINDW, MMCWR,
MMCWW, MMC3R, and MMC3W functional instructions)
</p>
<p>The instruction ended
in error.
</p>
<p>  R9000
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>(3) R9002 to R9005 (Operation output registers for the DIVB functional
instruction)
The data remaining after the DIVB functional instruction is executed
is output.
</p>
<p>(4) R9010 to R9027 (Interface area for the FNC9x functional
instruction) (PMC-RC only)
The area is provided as an interface between the FNC9x functional
instruction to be executed and a desired function.
</p>
<p>  R9010
</p>
<p>  R9011
</p>
<p>  R9012
</p>
<p>  R9013
</p>
<p>  R9014
</p>
<p>  R9015
</p>
<p>Contents of the command to
be executed
</p>
<p>Data output when the
processing is completed
</p>
<p>Addresses of the control data for SUB90
</p>
<p>Addresses of the control data for SUB91
</p>
<p>97 96 95 94 93 92 91 90
</p>
<p>97 96 95 94 93 92 91 90
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>  R9026
</p>
<p>  R9027
</p>
<p>Addresses of the control data for SUB97
</p>
<p>3.3.1
Area Managed by the
System Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>69
</p>
<p>(5) R9100 to R9117 (Interface area for the FNC9x functional
instruction) (PMC-RC3/RC4/NB/NB2 only)
The area is provided as an interface between the FNC9x functional
instruction to be executed and a desired function.
</p>
<p>  R9100
</p>
<p>  R9101
</p>
<p>  R9102
</p>
<p>  R9103
</p>
<p>  R9104
</p>
<p>  R9105
</p>
<p>Contents of the command
to be executed
</p>
<p>Data output when the
processing is completed
</p>
<p>Addresses of the control data for SUB90
</p>
<p>Addresses of the control data for SUB91
</p>
<p>97 96 95 94 93 92 91 90
</p>
<p>97 96 95 94 93 92 91 90
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>  R9116
</p>
<p>  R9117
</p>
<p>Addresses of the control data for SUB97
</p>
<p>(6) R9091 (System timer)
4 signals can be used as system timer.
The specifications of every signal are as following.
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>R9091
</p>
<p>always OFF
always ON
</p>
<p>                 (104 ms ON, 96 ms OFF)
</p>
<p>Cyclic signal of 200 ms
</p>
<p>Cyclic signal of 1 second.
</p>
<p>(504 ms ON, 496 ms OFF)
</p>
<p>CAUTION
In the beginning, every signal is OFF.
The signals of R9091.0 and R9091.1 are always set at the
beginning of 1st level in every cycle.
Every pulse signal (ON-OFF) includes �8 ms errors.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>70
</p>
<p>104ms 96ms
</p>
<p>R9091. 5
</p>
<p>200ms
</p>
<p>504ms   496ms
</p>
<p>R9091. 6
</p>
<p>              1 second
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>71
</p>
<p>This area is used as message display request. In each model, the following
number of messages can be used. Where &ldquo;Number of Messages&rdquo; =
&ldquo;Number of Bytes&rdquo; � 8
This area is cleared to zero when the power is turned on.  For information
about using the message, see the subsection &ldquo;5.43&rdquo;.
</p>
<p>Number of messages
</p>
<p>Number of bytes
</p>
<p>200
</p>
<p>25 25
</p>
<p>200
</p>
<p>25
</p>
<p>200
</p>
<p>Number of messages
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>200
</p>
<p>25
</p>
<p>RB RB2
</p>
<p>25
</p>
<p>200
</p>
<p>RB3/
RB5
</p>
<p>25
</p>
<p>200
</p>
<p>RB4/
RB6
</p>
<p>125
</p>
<p>1000
</p>
<p>Number of messages
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>200
</p>
<p>25
</p>
<p>RC RC3
</p>
<p>25
</p>
<p>200
</p>
<p>RC4
</p>
<p>125
</p>
<p>1000
</p>
<p>Number of messages
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>200
</p>
<p>25
</p>
<p>NB
</p>
<p>Number of messages
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>200
</p>
<p>25
</p>
<p>PA1 PA3
</p>
<p>25
</p>
<p>200
</p>
<p>1000
</p>
<p>125
</p>
<p>NB2
</p>
<p>Model RA1 RA2 RA3/
RA5
</p>
<p>3.4
ADDRESSES FOR
MESSAGE
SELECTION
DISPLAYED ON CRT
(A)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>72
</p>
<p>PMC-PA1
</p>
<p>PMC-PA3
</p>
<p>PMC-RA1
</p>
<p>PMC-RA2
</p>
<p>PMC-RA3
</p>
<p>PMC-RA5
</p>
<p>PMC-RB
</p>
<p>PMC-RB2
</p>
<p>PMC-RB3
</p>
<p>PMC-RB5
</p>
<p>PMC-RC
</p>
<p>PMC-RC3
</p>
<p>PMC-NB
</p>
<p>PMC-RB4
</p>
<p>PMC-RB6
</p>
<p>PMC-RC4
</p>
<p>PMC-NB2
</p>
<p>Address number
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>A0
</p>
<p>A1
</p>
<p>A24
</p>
<p>A124
</p>
<p>����3.4  Address of message display reguest
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>73
</p>
<p>This area is used as counters.  In each model, the following number of
counters can be used.  Where &ldquo;Number of Counters&rdquo; = &ldquo;Number of Bytes&rdquo;
/ 4 
Since this area is nonvolatile, the contents of the memory do not disappear
even when the power is turned off.
</p>
<p>Model
RA3/
RA5
</p>
<p>Number of counters
</p>
<p>Number of bytes
</p>
<p>20
</p>
<p>80
</p>
<p>RA1 RA2
</p>
<p>80
</p>
<p>20
</p>
<p>80
</p>
<p>20
</p>
<p>Number of counters
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>20
</p>
<p>80
</p>
<p>RB RB2
</p>
<p>80
</p>
<p>20
</p>
<p>RB3/
RB5
</p>
<p>80
</p>
<p>20
</p>
<p>RB4/
RB6
</p>
<p>200
</p>
<p>50
</p>
<p>Number of counters
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>20
</p>
<p>80
</p>
<p>RC RC3
</p>
<p>80
</p>
<p>20
</p>
<p>RC4
</p>
<p>200
</p>
<p>50
</p>
<p>Number of counters
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>20
</p>
<p>80
</p>
<p>NB
</p>
<p>Number of counters
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>20
</p>
<p>80
</p>
<p>PA1 PA3
</p>
<p>80
</p>
<p>20
</p>
<p>50
</p>
<p>200
</p>
<p>NB2
</p>
<p>3.5
ADDRESS OF
COUNTER (C)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>74
</p>
<p>PMC-RB4
</p>
<p>PMC-RB6
</p>
<p>PMC-RC4
</p>
<p>PMC-NB2
</p>
<p>Address number
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>C0
</p>
<p>C1
</p>
<p>C2
</p>
<p>C3
</p>
<p>C76
</p>
<p>C77
</p>
<p>C78
</p>
<p>C79
</p>
<p>C196
</p>
<p>C197
</p>
<p>C198
</p>
<p>C199
</p>
<p>Preset value
</p>
<p>current value
</p>
<p>current value
</p>
<p>Preset value
</p>
<p>Preset value
</p>
<p>current value
</p>
<p>Counter
</p>
<p>No. 1
</p>
<p>Counter
</p>
<p>No. 20
</p>
<p>Counter
</p>
<p>No. 50
</p>
<p>PMC-PA1
</p>
<p>PMC-PA3
</p>
<p>PMC-RA1
</p>
<p>PMC-RA2
</p>
<p>PMC-RA3
</p>
<p>PMC-RA5
</p>
<p>PMC-RB
</p>
<p>PMC-RB2
</p>
<p>PMC-RB3
</p>
<p>PMC-RB5
</p>
<p>PMC-RC
</p>
<p>PMC-RC3
</p>
<p>PMC-NB
</p>
<p>����3.5  Address of Counter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>75
</p>
<p>The area is used as keep relays and PMC parameters.  In each model, the
following number of bytes can be used.  Since this area is nonvolatile, the
contents of the memory do not disappear even when the power is turned
off.
</p>
<p>RA3/
RA5
</p>
<p>Model
</p>
<p>Number of bytes
</p>
<p>Nonvolatile memory 
control address
</p>
<p>PMC control software 
parameter
</p>
<p>K17
to
</p>
<p>K19
</p>
<p>K16
</p>
<p>20
</p>
<p>PA1 PA3
</p>
<p>20
</p>
<p>K16
</p>
<p>K17
to
</p>
<p>K19
</p>
<p>Model
</p>
<p>Number of bytes
</p>
<p>Nonvolatile memory 
control address
</p>
<p>PMC control software 
parameter
</p>
<p>K17
to
</p>
<p>K19
</p>
<p>K16
</p>
<p>20
</p>
<p>RA1 RA2
</p>
<p>20
</p>
<p>K16
</p>
<p>K17
to
</p>
<p>K19
</p>
<p>20
</p>
<p>K16
</p>
<p>K17
to
</p>
<p>K19
</p>
<p>Model
</p>
<p>Number of bytes
</p>
<p>Nonvolatile memory 
control address
</p>
<p>PMC control software 
parameter
</p>
<p>K17
to
</p>
<p>K19
</p>
<p>K16
</p>
<p>20
</p>
<p>RB RB2
</p>
<p>20
</p>
<p>K16
</p>
<p>K17
to
</p>
<p>K19
</p>
<p>RB3/
RB5
</p>
<p>20
</p>
<p>K16
</p>
<p>K17
to
</p>
<p>K19
</p>
<p>RB4/
RB6
</p>
<p>50
</p>
<p>K16
</p>
<p>K900
to
</p>
<p>K909
</p>
<p>Model
</p>
<p>Number of bytes
</p>
<p>Nonvolatile memory 
control address
</p>
<p>PMC control software 
parameter
</p>
<p>K17
to
</p>
<p>K19
</p>
<p>K16
</p>
<p>20
</p>
<p>RC RC3
</p>
<p>20
</p>
<p>K16
</p>
<p>K17
to
</p>
<p>K19
</p>
<p>RC4
</p>
<p>50
</p>
<p>K16
</p>
<p>K900
to
</p>
<p>K909
</p>
<p>Model
</p>
<p>Number of bytes
</p>
<p>Nonvolatile memory 
control address
</p>
<p>PMC control software 
parameter
</p>
<p>K17
to
</p>
<p>K19
</p>
<p>K16
</p>
<p>20
</p>
<p>NB
</p>
<p>K900
to
</p>
<p>K909
</p>
<p>K16
</p>
<p>50
</p>
<p>NB2
</p>
<p>3.6
ADDRESS OF KEEP
RELAY AND
NONVOLATILE
MEMORY CONTROL
(K)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>76
</p>
<p>PMC-PA1
PMC-PA3
PMC-RA1
PMC-RA2
PMC-RA3
PMC-RA5
PMC-RB
PMC-RB2
PMC-RB3
PMC-RB5
PMC-RC
PMC-RC3
PMC-NB
</p>
<p>PMC-RB4
PMC-RB6
PMC-RC4
PMC-NB2
</p>
<p>Address number
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>K0
</p>
<p>K1
</p>
<p>K19
</p>
<p>K39
</p>
<p>K900
</p>
<p>K909
</p>
<p>PMC-RB4
PMC-RB6
PMC-RC4
PMC-NB2
</p>
<p>����3.6  Address of Keep Relay and Nonvolative Memory Control
</p>
<p>For the information about using &ldquo;Nonvolatile memory control&rdquo;, see the
section &ldquo;6.1&rdquo;.
PMC control software parameter area is used by PMC control software.
For more information about PMC control software parameter, see the
section &ldquo;II 4.3&rdquo;.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>77
</p>
<p>Data table is the area of nonvolatile memory.  In each model, the following
number of bytes can be used.
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>1860
</p>
<p>RA1 RA2
</p>
<p>1860 1860
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>1860
</p>
<p>RB RB2
</p>
<p>1860
</p>
<p>RB3/
RB5
</p>
<p>3000
</p>
<p>RB4/
RB6
</p>
<p>8000
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>3000
</p>
<p>RC RC3
</p>
<p>3000
</p>
<p>RC4
</p>
<p>8000
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>3000
</p>
<p>NB
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>1860
</p>
<p>PA1 PA3
</p>
<p>1860
</p>
<p>8000
</p>
<p>NB2
</p>
<p>RA3/
RA5
</p>
<p>PMC-PA1
</p>
<p>PMC-PA3
</p>
<p>PMC-RA1
</p>
<p>PMC-RA2
</p>
<p>PMC-RA3
</p>
<p>PMC-RA5
</p>
<p>PMC-RB
</p>
<p>PMC-RB2
</p>
<p>PMC-RB4
</p>
<p>PMC-RB6
</p>
<p>PMC-RC4
</p>
<p>PMC-NB2
</p>
<p>Address number
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>D0
</p>
<p>D1
</p>
<p>D1859
</p>
<p>D7999
</p>
<p>PMC-RB3
</p>
<p>PMC-RB5
</p>
<p>PMC-RC
</p>
<p>PMC-RC3
</p>
<p>PMC-NB
</p>
<p>D2999
</p>
<p>����3.7  Address of Data Table
</p>
<p>3.7
ADDRESS OF DATA
TABLE (D)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>78
</p>
<p>This area is used by TMR instruction as variable timers.  In each model,
the following number of timers can be used.  Where &ldquo;Number of timers&rdquo;
= &ldquo;Number of Bytes&rdquo; / 2
Since this area is nonvolatile, the contents of the memory do not disappear
even when the power is turned off.
</p>
<p>Number of timers
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>40
</p>
<p>80
</p>
<p>RA1 RA2
</p>
<p>80
</p>
<p>40
</p>
<p>80
</p>
<p>40
</p>
<p>Number of timers
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>40
</p>
<p>80
</p>
<p>RB RB2
</p>
<p>80
</p>
<p>40
</p>
<p>RB3/
RB5
</p>
<p>80
</p>
<p>40
</p>
<p>RB4
RB6
</p>
<p>300
</p>
<p>150
</p>
<p>Number of timers
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>40
</p>
<p>80
</p>
<p>RC RC3
</p>
<p>80
</p>
<p>40
</p>
<p>RC4
</p>
<p>300
</p>
<p>150
</p>
<p>Number of timers
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>40
</p>
<p>80
</p>
<p>NB
</p>
<p>Number of timers
</p>
<p>Number of bytes
</p>
<p>Model
</p>
<p>40
</p>
<p>80
</p>
<p>PA1 PA3
</p>
<p>80
</p>
<p>40
</p>
<p>150
</p>
<p>300
</p>
<p>NB2
</p>
<p>RA3/
RA5
</p>
<p>3.8
TIMER ADDRESSES
(T)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>79
</p>
<p>PMC-PA1
</p>
<p>PMC-PA3
</p>
<p>PMC-RA1
</p>
<p>PMC-RA2
</p>
<p>PMC-RA3
</p>
<p>PMC-RA5
</p>
<p>PMC-RB
</p>
<p>PMC-RB2
</p>
<p>PMC-RB3
</p>
<p>PMC-RB5
</p>
<p>PMC-RC
</p>
<p>PMC-RC3
</p>
<p>PMC-NB
</p>
<p>PMC-RB4
</p>
<p>PMC-RB6
</p>
<p>PMC-RC4
</p>
<p>PMC-NB2
</p>
<p>Address number
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>T0
</p>
<p>T1
</p>
<p>T2
</p>
<p>T3
</p>
<p>T78
</p>
<p>T79
</p>
<p>T298
</p>
<p>T299
</p>
<p>Timer
</p>
<p>No. 1
</p>
<p>Timer
</p>
<p>No. 40
</p>
<p>Timer
</p>
<p>No. 2
</p>
<p>Timer
</p>
<p>No. 150
</p>
<p>����3.8  Timer Address
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. ADDRESS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>80
</p>
<p>Label addresses are used to specify jump destination labels (positions in
a sequence program) in the JMPB and JMPC instructions.  The same label
number can appear in different LBL instructions in the same sequence
program as long as it is unique in the program unit (main program,
subprogram).  In each model, the following number of label can be used.
</p>
<p>RA3/
RA5
</p>
<p>Number of labels
</p>
<p>Model
</p>
<p>&ndash;
</p>
<p>RA1 RA2
</p>
<p>&ndash; 9999
</p>
<p>Number of labels
</p>
<p>Model
</p>
<p>&ndash;
</p>
<p>RB RB2
</p>
<p>&ndash;
</p>
<p>RB3/
RB5
</p>
<p>9999
</p>
<p>RB4/
RB6
</p>
<p>9999
</p>
<p>Number of labels
</p>
<p>Model
</p>
<p>&ndash;
</p>
<p>RC RC3
</p>
<p>9999
</p>
<p>RC4
</p>
<p>9999
</p>
<p>Number of labels
</p>
<p>Model
</p>
<p>9999
</p>
<p>NB/
NB2
</p>
<p>Number of labels
</p>
<p>Model
</p>
<p>&ndash;
</p>
<p>PA1 PA3
</p>
<p>9999
</p>
<p>3.9
LABEL ADDRESSES
(JMPB, JMPC, LBL)
(L)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 3. ADDRESSPMC SEQUENCE PROGRAM
</p>
<p>81
</p>
<p>Subprogram numbers are used to specify jump destination subprogram
labels in the CALL and CALLU instructions.  Subprogram number must
be unique in the entire sequence program.  In each model, the following
number of subprograms can be used.
</p>
<p>Model
</p>
<p>Number of subprograms &ndash;
</p>
<p>PA1 PA3
</p>
<p>512
</p>
<p>Model
</p>
<p>Number of subprograms &ndash;
</p>
<p>RA1 RA2
</p>
<p>&ndash; 512
</p>
<p>Model
</p>
<p>Number of subprograms &ndash;
</p>
<p>RB RB2
</p>
<p>&ndash;
</p>
<p>RB3/
RB5
</p>
<p>512
</p>
<p>RB3/
RB6
</p>
<p>2000
</p>
<p>Model
</p>
<p>Number of subprograms &ndash;
</p>
<p>RC RC3
</p>
<p>512
</p>
<p>RC4
</p>
<p>2000
</p>
<p>Model
</p>
<p>Number of subprograms 512
</p>
<p>NB
</p>
<p>2000
</p>
<p>NB2
</p>
<p>RA3/
RA5
</p>
<p>3.10
SUBPROGRAM
NUMBERS (CALL,
CALLU, SP) (P)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC BASIC INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>82
</p>
<p>4 PMC BASIC INSTRUCTIONS
Designing a sequence program begins with writing a ladder diagram.  The
ladder diagram is written using relay contact symbols and functional
instruction code.  (These will be described later.)  Logic written in the
ladder diagram is entered as a sequence program in the Programmer.
</p>
<p>There are two sequence program entry methods.  One is the entry method
with the mnemonic language (PMC instructions such as RD, AND and
OR).  The other is the relay symbol method (using relay symbols such as
</p>
<p>,  and ) in which the sequence program is entered by using the
relay contact symbols and the functional  instruction  symbols  of  the
ladder diagram.  When the relay symbol method is used, the ladder
diagram format can be used and programming can be performed without
understanding the PMC instructions (basic instructions such as RD, AND
and OR).
</p>
<p>Actually, however, the sequence program entered by the relay symbol
method is also internally converted into the instruction corresponding to
the PMC instruction.  When the sequence program is punched on a paper
tape and then entered to the programmer, programming must be
performed with the PMC instructions.
</p>
<p>Also, the meanings of the functional instructions described later must be
understood fully.  See Subsection 4.1 and Section 5.
</p>
<p>On how to enter the sequence program into the programmer by using the
PMC instructions and relay symbols, see Chapter III or IV.
</p>
<p>The following should be noted first before reading the explanation on
PMC instructions.
</p>
<p>This manual describes the entry method using mnemonic language.
</p>
<p>(1) Signal address
Relay coils and contacts written in a ladder diagram are each given
an address, represented with an address number and a bit number.
(See Fig. 4 (a))  Zero suppression is possible for the head zero.  For
details of address, see Section 3.
</p>
<p>A B
RO
</p>
<p>X8.1
</p>
<p>C
</p>
<p>Y20.4
</p>
<p>Signal name
Relay name
</p>
<p>R12.6
R9.0
</p>
<p>Bit number
</p>
<p>Address number
</p>
<p>����4 (a)  Address of signal
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. PMC BASIC INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>83
</p>
<p>(2) Type
There are two types of PMC instructions, basic and functional.
</p>
<p>(a) Basic instruction
Basic instructions are most often used when designing sequence
programs.  They perform one-bit operations, such as AND, or OR.
There are 12 types.
</p>
<p>(b) Functional instruction
Functional instructions ease programming of machine
movements that are difficult to program with basic instructions.
Refer to Chapter V about the type of functional instruction.
</p>
<p>(3) Storage of logical operation results
A register is provided for storing the intermediate results of a logical
operation during operation of a sequence program.  This register
consists of 9 bits.  (See Fig. 4 (b) ) .
</p>
<p>Stack register (which temporarily stores the inter-
mediate result of an operation)
</p>
<p>The result of an operation
currently being executed
enters here.
</p>
<p>ST8 ST7 ST6 ST5 ST4 ST3 ST2 ST1 ST0
</p>
<p>����4 (b)
</p>
<p>Execution of an instruction (RD.STK or the like) to temporarily store the
intermediate results of an operation as in the above figure, shifts left and
stacks the status stored so far; conversely, execution (AND.STK or the
like) to retrieve a stacked signal shifts it right.  The signal stacked last is
retrieved first.
Refer to explanations of each instruction for concrete applications and
operations.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC BASIC INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>84
</p>
<p>The type of instructions and contents of processing are listed in the Table
4.1.(a).
</p>
<p>Information format 1:
This is used when writing instructions on a coding sheet, punching out
them on a paper tape or displayed on the CRT/MDI or offline programmer.
</p>
<p>Information format 2:
This is used when inputting instructions through programmer.
This format is to simplify an input operation.
RN, for instance, means RD.NOT and represents an input operation using
both keys, &ldquo;R&rdquo; and &ldquo;N&rdquo;.
</p>
<p>Details of each basic instruction will be given here.
</p>
<p>Table 4.1 (a)  Basic instruction and processing
</p>
<p>Instruction
��� Format 1
</p>
<p>(coding)
Format 2
</p>
<p>(keys ofFAPT LADDER)
Contents of processing
</p>
<p>1 RD R Reads the status of a specified signal and sets it in ST0.
</p>
<p>2 RD.NOT RN Inverts the logical status of a specified signal, reads and sets it in ST0.
</p>
<p>3 WRT W Outputs the results of logical operations (status of ST0) to a specified
address.
</p>
<p>4 WRT.NOT WN Inverts the results of logical operations (status of ST0) and outputs it to a
specified address.
</p>
<p>5 AND A Induces a logical product.
</p>
<p>6 AND.NOT AN Inverts the status of a specified signal and induces a logical product.
</p>
<p>7 OR O Induces a logical sum.
</p>
<p>8 OR.NOT ON Inverts the status of a specified signal and induces a logical sum.
</p>
<p>9 RD.STK RS Shifts the stack register left one bit, read and sets the status of a specified
signal in ST0.
</p>
<p>10 RD.NOT.STK RNS Shifts the stack register left one bit reads the inveried logical status of a
specified signal, and sets it in ST0.
</p>
<p>11 AND.STK AS Sets the logical product of ST0 and ST1, and shifts the stack register right
one bit.
</p>
<p>12 OR.STK OS Sets the logical sum of ST0 and ST1, and shifts the stack register right by one
bit.
</p>
<p>13 SET SET Calculates the logical OR of the contents of ST0 and the status of the signal
at the specified address and outputs the result to the specified address.
</p>
<p>14 RST RST Calculates the logical AND of the inverted contents of ST0 and the specified
address and outputs the result to the address.
</p>
<p>4.1
DETAILS OF BASIC
INSTRUCTIONS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. PMC BASIC INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>85
</p>
<p>Basic instructions available on each models are as shown in the &ldquo;Table
4.1(b)&rdquo;.
</p>
<p>Table 4.1(b)  Basic instruction
</p>
<p>Model
</p>
<p>&#13;�� Instruction
����
</p>
<p>�	�
����
</p>
<p>�	�
����
</p>
<p>�	��
�	�
</p>
<p>����
�
�
�
�
</p>
<p>����
��
</p>
<p>����
�	��
�	�
</p>
<p>����
�
��
�
��
�
��
�
�
</p>
<p>����
����
���
</p>
<p>����
&#13;
�
&#13;
�
</p>
<p>1 RD � � � � � � � � �
</p>
<p>2 RD.NOT � � � � � � � � �
</p>
<p>3 WRT � � � � � � � � �
</p>
<p>4 WRT.NOT � � � � � � � � �
</p>
<p>5 AND � � � � � � � � �
</p>
<p>6 AND.NOT � � � � � � � � �
</p>
<p>7 OR � � � � � � � � �
</p>
<p>8 OR.NOT � � � � � � � � �
</p>
<p>9 RD.STK � � � � � � � � �
</p>
<p>10 RD.NOT.STK � � � � � � � � �
</p>
<p>11 AND.STK � � � � � � � � �
</p>
<p>12 OR.STK � � � � � � � � �
</p>
<p>13 SET � � � � � � � � �
</p>
<p>14 RST � � � � � � � � �
</p>
<p>� : Cannot be used � : Can be used
</p>
<p>NOTE
SET/RST are not available on PMC-RA3 for Series 20.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC BASIC INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>86
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Bit number
</p>
<p>Address number
</p>
<p>(2) Reads the status (1 or 0) of a signal at a specified address and sets it
in ST0.
</p>
<p>(3) Is used when beginning coding with contact A ().  See the ladder
diagram of Fig. 4.1.1 and entries in the coding sheet of Table 4.1.1
for an example of using the RD instruction.
</p>
<p>(4) The signal read by the RD instruction may be any signal entered as
the logical condition for one coil (output).
</p>
<p>A C
</p>
<p>W1
</p>
<p>D G
</p>
<p>W2
</p>
<p>B
</p>
<p>X5.1
E
</p>
<p>Y5.2
F
</p>
<p>Y5.3
</p>
<p>R5.4 R200.1
</p>
<p>R200.0X10.1 R2.1X2.0
</p>
<p>����4.1.1  Ladder diagram
</p>
<p>Table 4.1.1  Coding for Fig. 4.1.1
</p>
<p>Coding sheet Status of operating result
</p>
<p>Step
Number Instruction Address No. Bit No. Remarks ST2 ST1 ST0
</p>
<p>1 RD X10 . 1 A A
</p>
<p>2 AND X 2 . 0 B A.B
</p>
<p>3 AND . NOT R2 . 1 C A.B.C
</p>
<p>4 WRT R200 . 0 W1 output A.B.C
</p>
<p>5 RD X5 . 1 D D
</p>
<p>6 OR . NOT Y5 . 2 E D+E
</p>
<p>7 OR Y5 . 3 F D+E+F
</p>
<p>8 AND R5 . 4 G (D+E+F)�G
</p>
<p>9 WRT R200 . 1 W2 output (D+E+F)�G
</p>
<p>10
</p>
<p>4.1.1
RD
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. PMC BASIC INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>87
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Address number
</p>
<p>Bit number
</p>
<p>(2) Inverts the status of a signal at a specified address and set it in ST0.
</p>
<p>(3) Is used when beginning coding with contact B ().  See the ladder
diagram of Fig. 4.1.2 and entries in the coding sheet of Table 4.1.2
for an example of using the RD.NOT instruction.
</p>
<p>(4) The signal read by the RD.NOT instruction may be any contact B
entered as the logical condition of one coil.
</p>
<p>A C
</p>
<p>W1
</p>
<p>D G
</p>
<p>W2
</p>
<p>B
</p>
<p>G5.1
E
</p>
<p>X4.2
F
</p>
<p>Y10.7
</p>
<p>R10.5 R210.2
</p>
<p>R210.1R1.1 F3.3F2.2
</p>
<p>����4.1.2  Ladder diagram
</p>
<p>Table 4.1.2  Coding  for Fig. 4.1.2
</p>
<p>Coding sheet Status of operating result
</p>
<p>Step
Number Instruction Address No. Bit No. Remarks ST2 ST1 ST0
</p>
<p>1 RD. NOT R1 . 1 A A
</p>
<p>2 AND . NOT F2 . 2 B A.B
</p>
<p>3 AND . NOT F3 . 3 C A�B�C
</p>
<p>4 WRT R210 . 1 W1 output A�B�C
</p>
<p>5 RD. NOT G5 . 1 D D
</p>
<p>6 OR . NOT X4 . 2 E D+E
</p>
<p>7 OR Y10 . 7 F D+E+F
</p>
<p>8 AND R10 . 5 G (D+E+F)�G
</p>
<p>9 WRT R210 . 2 W2 output (D+E+F)�G
</p>
<p>4.1.2
RD . NOT
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC BASIC INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>88
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Address number
</p>
<p>Bit number
</p>
<p>(2) Outputs the results of logical operations, that is, the status of ST0 to
a specified address.
</p>
<p>(3) The results of one logical operation can also be output to two or more
addresses.  How to use the WRT instruction in this case is shown in
Fig. 4.1.3 and Table 4.1.3.
</p>
<p>A C
</p>
<p>W1
</p>
<p>R220.1
B
</p>
<p>X4.2
</p>
<p>G2.2 Y11.1
</p>
<p>W2
</p>
<p>Y14.6
</p>
<p>����4.1.3  Ladder diagram
</p>
<p>Table 4.1.3  Coding for Fig. 4.1.3
</p>
<p>Coding sheet Status of operating result
</p>
<p>Step
Number Instruction Address No. Bit No. Remarks ST2 ST1 ST0
</p>
<p>1 RD R220 . 1 A A
</p>
<p>2 OR X4 . 2 B A+B
</p>
<p>3 AND G2 . 2 C (A+B)�C
</p>
<p>4 WRT Y11 . 1 W1 output (A+B)�C
</p>
<p>5 WRT Y14 . 6 W2 output (A+B)�C
</p>
<p>4.1.3
WRT
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. PMC BASIC INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>89
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Address number
</p>
<p>Bit number
</p>
<p>(2) Inverts the results of logical operations, that is, the status of ST0 and
outputs it to a specified address.  Fig. 4.1.4 and Table 4.1.4 show an
example on using the WRT.NOT instruction.
</p>
<p>A C
</p>
<p>W1
</p>
<p>R220.1
B
</p>
<p>X4.2
</p>
<p>G2.2 Y11.1
</p>
<p>W2
</p>
<p>Y14.6
</p>
<p>����4.1.4  Ladder diagram
</p>
<p>Table 4.1.4  Coding for Fig. 4.1.4
Coding sheet Status of operating result
</p>
<p>Step
Number Instruction Address No. Bit No. Remarks ST2 ST1 ST0
</p>
<p>1 RD R220 . 1 A A
</p>
<p>2 OR X4 . 2 B A+B
</p>
<p>3 AND G2 . 2 C (A+B) &middot; C
</p>
<p>4 WRT Y11 . 1 W1 output (D+E) &middot; F
</p>
<p>5 WRT. NOT Y14 . 6 W2 output (A+B) &middot; C
</p>
<p>4.1.4
WRT. NOT
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC BASIC INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>90
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Address number
</p>
<p>Bit number
</p>
<p>(2) Induces a logical product.
(3) See Fig. 4.1.1 and Table 4.1.1 for an example of using the AND
</p>
<p>instruction.
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Address number
</p>
<p>Bit number
</p>
<p>(2) Inverts the status of a signal at a specified address and induces a
logical product.
</p>
<p>(3) See Fig. 4.1.1 and Table 4.1.1 for an example of using the AND.NOT
instruction.
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Address number
</p>
<p>Bit number
</p>
<p>(2) Induces a logical sum.
(3) See Fig. 4.1.1 and Table 4.1.1 for an example of using the OR
</p>
<p>instruction.
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Address number
</p>
<p>Bit number
</p>
<p>(2) Inverts the status of a signal at a specified address and induces a
logical sum.
</p>
<p>(3) See Fig. 4.1.1 and Table 4.1.1 for an example of using the OR.NOT
instruction.
</p>
<p>4.1.5
AND
</p>
<p>4.1.6
AND. NOT
</p>
<p>4.1.7
OR
</p>
<p>4.1.8
OR. NOTww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. PMC BASIC INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>91
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Address number
</p>
<p>Bit number
</p>
<p>(2) Stacks the intermediate results of a logical operations.  After shifting
the stack register left one bit, sets a signal at a specified address to
ST0.
</p>
<p>(3) Is used when the signal to be specified is contact A ().
(4) See Fig. 4.1.9 and Table 4.1.9 for an example of using the RD.STK
</p>
<p>instruction.
</p>
<p>A B
</p>
<p>W1
</p>
<p>X1.1
C
</p>
<p>Y1.2
D
</p>
<p>Y15.0
</p>
<p>X1.3
E
</p>
<p>R2.1 R3.5
</p>
<p>Y1.4
F
</p>
<p>����4.1.9  Ladder diagram
</p>
<p>Table 4.1.9  Coding for Fig. 4.1.9
</p>
<p>Coding sheet Status of operating result
</p>
<p>Step
Number Instruction Address No. Bit No. Remarks ST2 ST1 ST0
</p>
<p>1 RD X1 . 1 A A
</p>
<p>2 AND Y1 . 2 B A�B
</p>
<p>3 RD. STK X1 . 3 C A�B C
</p>
<p>4 AND Y1 . 4 D A�B C�D
</p>
<p>5 OR. STK A�B+C�D
</p>
<p>6 RD. STK R2 . 1 E A�B+C�D E
</p>
<p>7 AND R3 . 5 F A�B+C�D E�F
</p>
<p>8 OR.STK A�B+C�D+E�F
</p>
<p>9 WRT Y15 . 0 W1 output A�B+C�D+E�F
</p>
<p>10
</p>
<p>4.1.9
RD. STK
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC BASIC INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>92
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Address number
</p>
<p>Bit number
</p>
<p>(2) Stacks the intermediate results of a logical operations.  Shifts the
stack register left one bit, inverts the status of a signal at a specified
address and sets it in ST0.
</p>
<p>(3) Is used when the signal to be specified is contact B ().
</p>
<p>(4) See Fig. 4.1.10 and Table 4.1.10 for an example of using the
RD.NOT.STK instruction.
</p>
<p>A B
</p>
<p>W1
</p>
<p>X1.0
C
</p>
<p>X1.1
D
</p>
<p>Y15.7
</p>
<p>E
</p>
<p>Y1.2
G
</p>
<p>Y1.3
H
</p>
<p>R1.5 X1.6 Y1.7
</p>
<p>F
</p>
<p>R1.4
</p>
<p>����4.1.10  Ladder diagram
</p>
<p>Table 4.1.10  Coding for Fig. 4.1.10
</p>
<p>Coding sheet Status of operating result
</p>
<p>Step
Number Instruction
</p>
<p>Address
No. Bit No. Remarks ST2 ST1 ST0
</p>
<p>1 RD X1 . 0 A A
</p>
<p>2 AND. NOT X1 . 1 B A�B
</p>
<p>3 RD.NOT.STK R1 . 4 C A�B C
</p>
<p>4 AND. NOT R1 . 5 D A�B C�D
</p>
<p>5 OR. STK A�B+C�D
</p>
<p>6 RD. STK Y1 . 2 E A�B+C�D E
</p>
<p>7 AND Y1 . 3 F A�B+C�D E�F
</p>
<p>8 RD.STK X1 . 6 G A�B+C�D E�F G
</p>
<p>9 AND. NOT Y1 . 7 H A�B+C�D E�F G�H
</p>
<p>10 OR. STK A�B+C�D E�F+G�H
</p>
<p>11 AND. STK (A�B+C�D)�(E�F+G�H)
</p>
<p>12 WRT Y15 . 7 W1 output (A�B+C�D)�(E�F+G�H)
</p>
<p>13
</p>
<p>14
</p>
<p>4.1.10
RD. NOT. STK
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. PMC BASIC INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>93
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Address number
</p>
<p>Bit number
</p>
<p>(2) Induces a logical product from the operation results in ST0 and ST1,
sets the result in ST1, and shifts the stack register right one bit.
</p>
<p>(3) See Fig. 4.1.10 and Table 4.1.10 for an example of using the
AND.STK instruction.
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Address number
</p>
<p>Bit number
</p>
<p>(2) Induces a logical sum from the operation results in ST0 and in ST1,
sets the result in ST1, and shifts the stack register right one bit.
</p>
<p>(3) See Fig. 4.1.9 and Table 4.1.9 or Fig. 4.1.10 and Table 4.1.10 for
examples of using the OR.STK instruction.
</p>
<p>NOTE
In Table 4.1.9 putting OR.STK at step 5 between steps 7
and 8 brings about the same result.  But it is recommended
to code as shown in Table 4.1.9, because coding OR.STK
or AND.STK in succession is prone to cause an error.
</p>
<p>4.1.11
AND. STK
</p>
<p>4.1.12
OR. STK
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC BASIC INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>94
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Address No.
</p>
<p>Bit No.
</p>
<p>(2) Logical sum of the logical operation result ST0 with the content of
the specified address is outputted to the same address.
</p>
<p>(3) Refer to the figure below for an example of using the SET instruction.
</p>
<p>(S)
Y0.0
</p>
<p>C
</p>
<p>R0.0
</p>
<p>A
</p>
<p>X0.0
</p>
<p>B
</p>
<p>����4.1.13  Ladder diagram
</p>
<p>Table 4.1.13  Coding for Fig. 4.1.13
</p>
<p>Coding sheet Status of operating result
</p>
<p>Step
Number Instruction Address No. Bit No. Remarks ST2 ST1 ST0
</p>
<p>1 RD R0 . 0 A A C
</p>
<p>2 OR X0 . 0 B A+B C
</p>
<p>3 SET Y0 . 0
Y0.0
</p>
<p>output &ndash; &ndash; (A+B) +C
</p>
<p>4.1.13
SET
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. PMC BASIC INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>95
</p>
<p>(4) Remarks
</p>
<p>(a) Restriction of using
Do not use SET/RST like the following example 1,  use them
alone like the following example 2.
</p>
<p>(S)
</p>
<p>Y0.0R0.0
</p>
<p>X0.0
</p>
<p>�
</p>
<p>END2
</p>
<p>(S)
</p>
<p>Y0.0R0.0
</p>
<p>X0.0
</p>
<p>END2
</p>
<p>�
�
�
�
�
�
</p>
<p>�
</p>
<p>R0.0
</p>
<p>X0.0
</p>
<p>Y0.1
</p>
<p>Example 1 Example 2
</p>
<p>Y0.1
</p>
<p>�
�
</p>
<p>� The relation between COM and COME.
The operation of SET/RST in the section of COM/COME is as
follows.
COM condition ON (ACT=1) : It operates usually.
COM condition OFF (ACT=0) : SET does not operate.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC BASIC INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>96
</p>
<p>(1) Format
</p>
<p>(Address)
</p>
<p>Address No.
</p>
<p>Bit No.
</p>
<p>(2) Logical product of inverted logical operation result ST0 with the
content of the specified address is outputted to the same address.
</p>
<p>(3) Refer to the figure below for an example of using the RST
instruction.
</p>
<p>(R)
</p>
<p>Y0.0
</p>
<p>C
</p>
<p>R0.0
</p>
<p>A
</p>
<p>X0.0
</p>
<p>B
</p>
<p>����4.1.14  Ladder diagram
</p>
<p>Table 4.1.14  Coding for Fig. 4.1.14
</p>
<p>Coding sheet Status of operating result
</p>
<p>Step
Number Instruction Address No. Bit No. Remarks ST2 ST1 ST0
</p>
<p>1 RD R0 . 0 A A C
</p>
<p>2 OR X0 . 0 B A+B C
</p>
<p>3 SET Y0 . 0
Y0.0
</p>
<p>output &ndash; (A+B) +C
</p>
<p>4.1.14
RST
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. PMC BASIC INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>97
</p>
<p>(4) Remarks
</p>
<p>(a) Restriction of using
Do not use SET/RST like the following example 1,  use them
alone like the following example 2.
</p>
<p>(S)
</p>
<p>Y0.0R0.0
</p>
<p>X0.0
</p>
<p>�
</p>
<p>END2
</p>
<p>(S)
</p>
<p>Y0.0R0.0
</p>
<p>X0.0
</p>
<p>END2
</p>
<p>.
</p>
<p>.
</p>
<p>.
</p>
<p>.
</p>
<p>.
</p>
<p>�
</p>
<p>R0.0
</p>
<p>X0.0
</p>
<p>Y0.1
</p>
<p>.
</p>
<p>.
</p>
<p>Example 1 Example 2
</p>
<p>Y0.1
</p>
<p>� The relation between COM and COME.
</p>
<p>The operation of SET/RST in the section of COM/COME is as
follows.
COM condition ON (ACT=1) : It operates usually.
COM condition OFF (ACT=0) : RST does not operate.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>98
</p>
<p>5 FUNCTIONAL INSTRUCTIONS
In preparing a sequence program, some functions such as the function for
controlling rotation via the shorter path, are difficult to program with
basic instructions, which perform only one-bit logical operations.
Therefore, functional instructions are available to facilitate
programming.  See Table 5 (a).
</p>
<p>Table 5 (a)  Types and processing of functional instructions (1)
</p>
<p>Instruction Model
</p>
<p>Format 1
(Ladder)
</p>
<p>Format 2 
(paper tape
</p>
<p>punch program)
</p>
<p>Format 3 
(program input)
</p>
<p>Processing PMC-
PA1
</p>
<p>PMC-
PA3
</p>
<p>END1 SUB1 S1 End of a first-level ladder program � �
</p>
<p>END2 SUB2 S2 End of a second-level ladder program � �
</p>
<p>END3 SUB48 S48 End of a third-level ladder program � �
</p>
<p>TMR TMR S3  or  TMR Timer processing � �
</p>
<p>TMRB SUB24 S24 Fixed timer processing � �
</p>
<p>TMRC SUB54 S54 Timer processing � �
</p>
<p>DEC DEC S4  or  DEC Decoding � �
</p>
<p>DECB SUB25 S25 Binary decoding � �
</p>
<p>CTR SUB5 S5 Counter processing � �
</p>
<p>CTRC SUB55 S55 Counter processing � �
</p>
<p>ROT SUB6 S6 Rotation control � �
</p>
<p>ROTB SUB26 S26 Binary rotation control � �
</p>
<p>COD SUB7 S7 Code conversion � �
</p>
<p>CODB SUB27 S27 Binary code conversion � �
</p>
<p>MOVE SUB8 S8 Data transfer after logical AND � �
</p>
<p>MOVOR SUB28 S28 Data transfer after logical OR � �
</p>
<p>MOVB SUB43 S43 Transfer of 1 byte � �
</p>
<p>MOVW SUB44 S44 Transfer of 2 bytes � �
</p>
<p>MOVN SUB45 S45 Transfer of an arbitrary number of bytes � �
</p>
<p>COM SUB9 S9 Common line control � �
</p>
<p>�  :  Cannot be used       �  :  Can be used
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>99
</p>
<p>Table 5 (a)  Types and processing of functional instructions (2)
</p>
<p>Instruction Model
</p>
<p>Format 1
(Ladder)
</p>
<p>Format 2 
(paper tape
</p>
<p>punch program)
</p>
<p>Format 3 
(program input)
</p>
<p>Processing PMC-
PA1
</p>
<p>PMC-
PA3
</p>
<p>COME SUB29 S29 End of common line control � �
</p>
<p>JMP SUB10 S10 Jump � �
</p>
<p>JMPE SUB30 S30 End of a jump � �
</p>
<p>JMPB SUB68 S68 Label jump 1 � �
</p>
<p>JMPC SUB73 S73 Label jump 2 � �
</p>
<p>LBL SUB69 S69 Label � �
</p>
<p>PARI SUB11 S11 Parity check � �
</p>
<p>DCNV SUB14 S14 Data conversion � �
</p>
<p>DCNVB SUB31 S31 Extended data conversion � �
</p>
<p>COMP SUB15 S15 Comparison � �
</p>
<p>COMPB SUB32 S32 Binary comparison � �
</p>
<p>COIN SUB16 S16 Coincidence check � �
</p>
<p>SFT SUB33 S33 Shift register � �
</p>
<p>DSCH SUB17 S17 Data search � �
</p>
<p>DSCHB SUB34 S34 Binary data search � �
</p>
<p>XMOV SUB18 S18 Indexed data transfer � �
</p>
<p>XMOVB SUB35 S35 Binary indexed data transfer � �
</p>
<p>ADD SUB19 S19 Addition � �
</p>
<p>ADDB SUB36 S36 Binary addition � �
</p>
<p>SUB SUB20 S20 Subtraction � �
</p>
<p>SUBB SUB37 S37 Binary subtraction � �
</p>
<p>MUL SUB21 S21 Multiplication � �
</p>
<p>MULB SUB38 S38 Binary multiplication � �
</p>
<p>DIV SUB22 S22 Division � �
</p>
<p>DIVB SUB39 S39 Binary division � �
</p>
<p>NUME SUB23 S23 Constant definition � �
</p>
<p>NUMEB SUB40 S40 Binary constant definition � �
</p>
<p>DISP SUB49 S49 Message display � �
</p>
<p>DISPB SUB41 S41 Extended message display � �
</p>
<p>EXIN SUB42 S42 External data input � �
</p>
<p>WINDR SUB51 S51 Window data read � �
</p>
<p>WINDW SUB52 S52 Window data write � �
</p>
<p>�  :  Cannot be used       �  :  Can be used
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>100
</p>
<p>Table 5 (a)  Types and processing of functional instructions (3)
</p>
<p>Instruction Model
</p>
<p>Format 1
(Ladder)
</p>
<p>Format 2 
(paper tape
</p>
<p>punch program)
</p>
<p>Format 3 
(program input)
</p>
<p>Processing PMC-
PA1
</p>
<p>PMC-
PA3
</p>
<p>PSGNL SUB50 S50 Position signal output � �
</p>
<p>PSGN2 SUB63 S63 Position signal output 2 � �
</p>
<p>DIFU SUB57 S57 Rising edge detection � �
</p>
<p>DIFD SUB58 S58 Falling edge detection � �
</p>
<p>EOR SUB59 S59 Exclusive OR � �
</p>
<p>AND SUB60 S60 Logical AND � �
</p>
<p>OR SUB61 S61 Logical OR � �
</p>
<p>NOT SUB62 S62 Logical NOT � �
</p>
<p>END SUB64 S64 End of a subprogram � �
</p>
<p>CALL SUB65 S65 Conditional subprogram call � �
</p>
<p>CALLU SUB66 S66 Unconditional subprogram call � �
</p>
<p>SP SUB71 S71 Subprogram � �
</p>
<p>SPE SUB72 S72 End of a subprogram � �
</p>
<p>AXCTL SUB53 S53 PMC axes control � �
</p>
<p>�  :  Cannot be used       �  :  Can be used
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>101
</p>
<p>Table 5 (a)  Types and processing of functional instructions (4)
</p>
<p>Instr c SUB
Model
</p>
<p>Instruc-
tion
</p>
<p>SUB
number Processing 
���
</p>
<p>���

���
���
</p>
<p>
���
���
</p>
<p>
���
��
</p>
<p>
���
���
</p>
<p>
���
���
</p>
<p>
���
��
</p>
<p>
���
���
</p>
<p>
���
	��
	��
</p>
<p>END1 1 End of a first-level ladder program � � � � � � � � �
</p>
<p>END2 2 End of a second-level ladder program � � � � � � � � �
</p>
<p>END3 48 End of a third-level ladder program � � � � � � � � �
</p>
<p>TMR 3 Timer processing � � � � � � � � �
</p>
<p>TMRB 24 Fixed timer processing � � � � � � � � �
</p>
<p>TMRC 54 Timer processing � � � � � � � � �
</p>
<p>DEC 4 Decoding � � � � � � � � �
</p>
<p>DECB 25 Binary decoding � � � � � � � � �
</p>
<p>CTR 5 Counter processing � � � � � � � � �
</p>
<p>CTRC 55 Counter processing � � � � � � � � �
</p>
<p>ROT 6 Rotation control � � � � � � � � �
</p>
<p>ROTB 26 Binary rotation control � � � � � � � � �
</p>
<p>COD 7 Code conversion � � � � � � � � �
</p>
<p>CODB 27 Binary code conversion � � � � � � � � �
</p>
<p>MOVE 8 Data transfer after Logical AND � � � � � � � � �
</p>
<p>MOVOR 28 Data transfer after logical OR � � � � � � � � �
</p>
<p>MOVB 43 Transfer of 1 byte � � � � � � � � �
</p>
<p>MOVW 44 Transfer of 2 bytes � � � � � � � � �
</p>
<p>MOVN 45 Transfer of an arbitrary number of bytes � � � � � � � � �
</p>
<p>COM 9 Common line control � � � � � � � � �
</p>
<p>COME 29 End of common line control � � � � � � � � �
</p>
<p>JMP 10 Jump � � � � � � � � �
</p>
<p>JMPE 30 End of a jump � � � � � � � � �
</p>
<p>JMPB 68 Label jump 1 � � � � � � � � �
</p>
<p>JMPC 73 Label jump 2 � � � � � � � � �
</p>
<p>LBL 69 Label � � � � � � � � �
</p>
<p>PARI 11 Parity check � � � � � � � � �
</p>
<p>DCNV 14 Data conversion � � � � � � � � �
</p>
<p>DCNVB 31 Binary data conversion � � � � � � � � �
</p>
<p>COMP 15 Comparison � � � � � � � � �
</p>
<p>COMPB 32 Binary comparison � � � � � � � � �
</p>
<p>COIN 16 Coincidence check � � � � � � � � �
</p>
<p>SFT 33 Shift register � � � � � � � � �
</p>
<p>DSCH 17 Data search � � � � � � � � �
</p>
<p>DSCHB 34 Binary data search � � � � � � � � �
</p>
<p>�  :  Cannot be used       �  :  Can be used
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>102
</p>
<p>Table 5 (a)  Types and processing of functional instructions (5)
</p>
<p>Instr c SUB
Model
</p>
<p>Instruc-
tion
</p>
<p>SUB
number Processing 
���
</p>
<p>���

���
���
</p>
<p>
���
���
</p>
<p>
���
��
</p>
<p>
���
���
</p>
<p>
���
���
</p>
<p>
���
��
</p>
<p>
���
���
</p>
<p>
���
	��
	��
</p>
<p>XMOV 18 Indexed data transfer � � � � � � � � �
</p>
<p>XMOVB 35 Binary indexed data transfer � � � � � � � � �
</p>
<p>ADD 19 Addition � � � � � � � � �
</p>
<p>ADDB 36 Binary addition � � � � � � � � �
</p>
<p>SUB 20 Subtraction � � � � � � � � �
</p>
<p>SUBB 37 Binary subtraction � � � � � � � � �
</p>
<p>MUL 21 Multiplication � � � � � � � � �
</p>
<p>MULB 38 Binary multiplication � � � � � � � � �
</p>
<p>DIV 22 Division � � � � � � � � �
</p>
<p>DIVB 39 Binary division � � � � � � � � �
</p>
<p>NUME 23 Constant definition � � � � � � � � �
</p>
<p>NUMEB 40 Binary constant definition � � � � � � � � �
</p>
<p>DISP 49 Message display � � � � � � � � �
</p>
<p>DISPB 41 Extended message display � � � � � � � � �
</p>
<p>EXIN 42 External data input � � � � � � � � �
</p>
<p>SPCNT 46 Spindle control � � � � � � � � �
</p>
<p>WINDR 51 NC window data read � � � � � � � � �
</p>
<p>WINDW 52 NC window data write � � � � � � � � �
</p>
<p>FNC9X 9X Arbitrary functional instruction (X = 0 to 7) � � � � � � � � �
</p>
<p>MMC3R 88 MMC3 window data read � � � � � � � � �
</p>
<p>MMC3W 89 MMC3 window data write � � � � � � � � �
</p>
<p>MMCWR 98 MMC window data read � � � � � � � � �
</p>
<p>MMCWW 99 MMC window data write � � � � � � � � �
</p>
<p>DIFU 57 Rising edge detection � � � � � � � � �
</p>
<p>DIFD 58 Falling edge detection � � � � � � � � �
</p>
<p>EOR 59 Exclusive OR � � � � � � � � �
</p>
<p>AND 60 Logical AND � � � � � � � � �
</p>
<p>OR 61 Logical OR � � � � � � � � �
</p>
<p>NOT 62 Logical NOT � � � � � � � � �
</p>
<p>END 64 End of a subprogram � � � � � � � � �
</p>
<p>CALL 65 Conditional subprogram call � � � � � � � � �
</p>
<p>CALLU 66 Unconditional subprogram call � � � � � � � � �
</p>
<p>SP 71 Subprogram � � � � � � � � �
</p>
<p>SPE 72 End of a subprogram � � � � � � � � �
</p>
<p>AXCTL 53 PMC axes control � � � � � � � � �
</p>
<p>�  :  Cannot be used       �  :  Can be used
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>103
</p>
<p>Table 5 (a)  Types and processing of functional instructions (6)
</p>
<p>Model
</p>
<p>Name
SUB
</p>
<p>number Processing ������ ���������&#13;� 

������ ���������&#13;�
</p>
<p>
��
������ ���
���&#13;� 

</p>
<p>�����
� �����
� ������� ������� �����	�
</p>
<p>END1 1 First level program end � � � � �
</p>
<p>END2 2 Second level program end � � � � �
</p>
<p>END3 48 Third level program end � � � � �
</p>
<p>TMR 3 Timer processing � � � � �
</p>
<p>TMRB 24 Fixed timer processing � � � � �
</p>
<p>TMRC 54 Timer processing � � � � �
</p>
<p>DEC 4 Decoding � � � � �
</p>
<p>DECB 25 Binary decoding � � � � �
</p>
<p>CTR 5 Counter processing � � � � �
</p>
<p>CTRC 55 Counter processing � � � � �
</p>
<p>ROT 6 Rotation control � � � � �
</p>
<p>ROTB 26 Binary rotation control � � � � �
</p>
<p>COD 7 Code conversion � � � � �
</p>
<p>CODB 27 Binary code conversion � � � � �
</p>
<p>MOVE 8 ANDed data transfer � � � � �
</p>
<p>MOVOR 28 ORed data transfer � � � � �
</p>
<p>MOVB 43 Byte data transfer � � � � �
</p>
<p>MOVW 44 Word data transfer � � � � �
</p>
<p>MOVN 45 Block data transfer � � � � �
</p>
<p>COM 9 Common line control � � � � �
</p>
<p>COME 29 Common line control end � � � � �
</p>
<p>JMP 10 Jump � � � � �
</p>
<p>JMPE 30 Jump end � � � � �
</p>
<p>JMPB 68 Label jump 1 � � � � �
</p>
<p>JMPC 73 Label jump 2 � � � � �
</p>
<p>LBL 69 Label � � � � �
</p>
<p>PARI 11 Parity check � � � � �
</p>
<p>DCNV 14 Data conversion � � � � �
</p>
<p>DCNVB 31 Extended data conversion � � � � �
</p>
<p>COMP 15 Comparison � � � � �
</p>
<p>COMPB 32 Binary comparison � � � � �
</p>
<p>COIN 16 Coincidence check � � � � �
</p>
<p>SFT 33 Shift register � � � � �
</p>
<p>DSCH 17 Data search � � � � �
</p>
<p>DSCHB 34 Binary data search � � � � �
</p>
<p>XMOV 18 Indexed data transfer � � � � �
</p>
<p>XMOVB 35 Binary indexed data transfer � � � � �
</p>
<p>ADD 19 Addition � � � � �
</p>
<p>�  :  Cannot be used       �  :  Can be used
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>104
</p>
<p>Table 5 (a)  Types and processing of functional instructions (7)
</p>
<p>Model
</p>
<p>Name
SUB
</p>
<p>number Processing ������ ���������&#13;� 

������ ���������&#13;�
</p>
<p>
��
������ ���
���&#13;� 

</p>
<p>�����
� �����
� ������� ������� �����	�
</p>
<p>ADDB 36 Binary Addition � � � � �
</p>
<p>SUB 20 Subtraction � � � � �
</p>
<p>SUBB 37 Binary subtraction � � � � �
</p>
<p>MUL 21 Multiplication � � � � �
</p>
<p>MULB 38 Binary multiplication � � � � �
</p>
<p>DIV 22 Division � � � � �
</p>
<p>DIVB 39 Binary division � � � � �
</p>
<p>NUME 23 Definition of constant � � � � �
</p>
<p>NUMEB 40 Definition of binary constant � � � � �
</p>
<p>DISP 49 Message display � � � � �
</p>
<p>DISPB 41 Extended message display � � � � �
</p>
<p>EXIN 42 External data input � � � � �
</p>
<p>AXCTL 53 PMC axis control � � � � �
</p>
<p>WINDR 51 Window data read � � � � �
</p>
<p>WINDW 52 Window data write � � � � �
</p>
<p>FNC9X 9X Arbitrary functional ins. � � � � �
</p>
<p>MMC3R 88 MMC3 window data read � � � � �
</p>
<p>MMC3W 89 MMC3 window data write � � � � �
</p>
<p>MMCWR 98 MMC2 window data read � � � � �
</p>
<p>MMCWW 99 MMC2 window data write � � � � �
</p>
<p>DIFU 57 Rising edge detection � � � � �
</p>
<p>DIFD 58 Falling edge detection � � � � �
</p>
<p>EOR 59 Exclusive OR � � � � �
</p>
<p>AND 60 Logical production � � � � �
</p>
<p>OR 61 Logical Add � � � � �
</p>
<p>NOT 62 Logical Negation � � � � �
</p>
<p>END 64 End of subprograms � � � � �
</p>
<p>CALL 65 Conditional subprogram call � � � � �
</p>
<p>CALLU 66 Unconditional subprogram call � � � � �
</p>
<p>SP 71 Subprogram � � � � �
</p>
<p>SPE 72 End of a subprogram � � � � �
</p>
<p>�  :  Cannot be used    �  :  Can be used    �  :  Can be used (with some restrictions)
</p>
<p>NOTE
On the PMC-RB3/RB4/RC3/RC4, DISP is provided only for the compatibility with Series 16/18 MODEL
A.  On the Series 16/18 MODEL B, it is recommended to use DISPB instead of DISP because some
extended functions such as high speed display and display of double sized character are available only
with DISPB.  On the Series 16/18 MODEL B, if both DISP and DISPB are used in the same sequence
program, double sized character can not be displayed by DISPB.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>105
</p>
<p>Table 5 (a)  Types and processing of functional instructions (8)
</p>
<p>SUB
Model
</p>
<p>Name
SUB
</p>
<p>number Processing ������ ���&#13;�
�� 	������� ���&#13;�
�� 	
</p>
<p>�&#13;	���� �&#13;	����
</p>
<p>END1 1 First level program end � �
</p>
<p>END2 2 Second level program end � �
</p>
<p>END3 48 Third level program end � �
</p>
<p>TMR 3 Timer processing � �
</p>
<p>TMRB 24 Fixed timer processing � �
</p>
<p>TMRC 54 Timer processing � �
</p>
<p>DEC 4 Decoding � �
</p>
<p>DECB 25 Binary decoding � �
</p>
<p>CTR 5 Counter processing � �
</p>
<p>CTRC 55 Counter processing � �
</p>
<p>ROT 6 Rotation control � �
</p>
<p>ROTB 26 Binary rotation control � �
</p>
<p>COD 7 Code conversion � �
</p>
<p>CODB 27 Binary code conversion � �
</p>
<p>MOVE 8 ANDed data transfer � �
</p>
<p>MOVOR 28 ORed data transfer � �
</p>
<p>MOVB 43 Byte data transfer � �
</p>
<p>MOVW 44 Word data transfer � �
</p>
<p>MOVN 45 Block data transfer � �
</p>
<p>COM 9 Common line control � �
</p>
<p>COME 29 Common line control end � �
</p>
<p>JMP 10 Jump � �
</p>
<p>JMPE 30 Jump end � �
</p>
<p>JMPB 68 Label jump 1 � �
</p>
<p>JMPC 73 Label jump 2 � �
</p>
<p>LBL 69 Label � �
</p>
<p>PARI 11 Parity check � �
</p>
<p>DCNV 14 Data conversion � �
</p>
<p>DCNVB 31 Extended data conversion � �
</p>
<p>COMP 15 Comparison � �
</p>
<p>COMPB 32 Binary comparison � �
</p>
<p>COIN 16 Coincidence check � �
</p>
<p>SFT 33 Shift register � �
</p>
<p>DSCH 17 Data search � �
</p>
<p>DSCHB 34 Binary data search � �
</p>
<p>XMOV 18 Indexed data transfer � �
</p>
<p>XMOVB 35 Binary indexed data transfer � �
</p>
<p>ADD 19 Addition � �
</p>
<p>�  :  Cannot be used       �  :  Can be used
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>106
</p>
<p>Table 5 (a)  Types and processing of functional instructions (9)
</p>
<p>SUB
Model
</p>
<p>Name
SUB
</p>
<p>number Processing ������ ���&#13;�
�� 	������� ���&#13;�
�� 	
</p>
<p>�&#13;	���� �&#13;	����
</p>
<p>ADDB 36 Binary Addition � �
</p>
<p>SUB 20 Subtraction � �
</p>
<p>SUBB 37 Binary subtraction � �
</p>
<p>MUL 21 Multiplication � �
</p>
<p>MULB 38 Binary multiplication � �
</p>
<p>DIV 22 Division � �
</p>
<p>DIVB 39 Binary division � �
</p>
<p>NUME 23 Definition of constant � �
</p>
<p>NUMEB 40 Definition of binary constant � �
</p>
<p>DISP 49 Message display (Note) � �
</p>
<p>DISPB 41 Extended message display � �
</p>
<p>EXIN 42 External data input � �
</p>
<p>AXCTL 53 PMC axis control � �
</p>
<p>WINDR 51 Window data read � �
</p>
<p>WINDW 52 Window data write � �
</p>
<p>FNC9X 9X Arbitrary functional ins. � �
</p>
<p>MMC3R 88 MMC3 window data read � �
</p>
<p>MMC3W 89 MMC3 window data write � �
</p>
<p>MMCWR 98 MMC2 window data read � �
</p>
<p>MMCWW 99 MMC2 window data write � �
</p>
<p>DIFU 57 Rising edge detection � �
</p>
<p>DIFD 58 Falling edge detection � �
</p>
<p>EOR 59 Exclusive OR � �
</p>
<p>AND 60 Logical production � �
</p>
<p>OR 61 Logical Add � �
</p>
<p>NOT 62 Logical Negation � �
</p>
<p>END 64 End of subprograms � �
</p>
<p>CALL 65 Conditional subprogram call � �
</p>
<p>CALLU 66 Unconditional subprogram call � �
</p>
<p>SP 71 Subprogram � �
</p>
<p>SPE 72 End of a subprogram � �
</p>
<p>�  :  Cannot be used    �  :  Can be used    �  :  Can be used (with some restrictions)
</p>
<p>NOTE
On the PMC-RB5/RB6, DISP is provided only for the compatibility with Series 16 MODEL A/B.  On the
Series 16/18 MODEL C, it is recommended to use DISPB instead of DISP because some extended
functions such as high speed display and display of double sized character are available only with DISPB.
On the Series 16/18 MODEL C, if both DISP and DISPB are used in the same sequence program, double
sized character can not be displayed by DISPB.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>107
</p>
<p>Table 5 (a)  Types and processing of functional instructions (10)
</p>
<p>SUB
Model
</p>
<p>Name
SUB
</p>
<p>number Processing ������ ����&#13;	
� �
</p>
<p>������� �������
</p>
<p>END1 1 First level program end � �
</p>
<p>END2 2 Second level program end � �
</p>
<p>END3 48 Third level program end � �
</p>
<p>TMR 3 Timer processing � �
</p>
<p>TMRB 24 Fixed timer processing � �
</p>
<p>TMRC 54 Timer processing � �
</p>
<p>DEC 4 Decoding � �
</p>
<p>DECB 25 Binary decoding � �
</p>
<p>CTR 5 Counter processing � �
</p>
<p>CTRC 55 Counter processing � �
</p>
<p>ROT 6 Rotation control � �
</p>
<p>ROTB 26 Binary rotation control � �
</p>
<p>COD 7 Code conversion � �
</p>
<p>CODB 27 Binary code conversion � �
</p>
<p>MOVE 8 ANDed data transfer � �
</p>
<p>MOVOR 28 ORed data transfer � �
</p>
<p>MOVB 43 Byte data transfer � �
</p>
<p>MOVW 44 Word data transfer � �
</p>
<p>MOVN 45 Block data transfer � �
</p>
<p>COM 9 Common line control � �
</p>
<p>COME 29 Common line control end � �
</p>
<p>JMP 10 Jump � �
</p>
<p>JMPE 30 Jump end � �
</p>
<p>JMPB 68 Label jump 1 � �
</p>
<p>JMPC 73 Label jump 2 � �
</p>
<p>LBL 69 Label � �
</p>
<p>PARI 11 Parity check � �
</p>
<p>DCNV 14 Data conversion � �
</p>
<p>DCNVB 31 Extended data conversion � �
</p>
<p>COMP 15 Comparison � �
</p>
<p>COMPB 32 Binary comparison � �
</p>
<p>COIN 16 Coincidence check � �
</p>
<p>SFT 33 Shift register � �
</p>
<p>DSCH 17 Data search � �
</p>
<p>DSCHB 34 Binary data search � �
</p>
<p>XMOV 18 Indexed data transfer � �
</p>
<p>XMOVB 35 Binary indexed data transfer � �
</p>
<p>ADD 19 Addition � �
</p>
<p>�  :  Cannot be used       �  :  Can be used
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>108
</p>
<p>Table 5 (a)  Types and processing of functional instructions (11)
</p>
<p>SUB
Model
</p>
<p>Name
SUB
</p>
<p>number Processing ������ ����&#13;	
� �
</p>
<p>������� �������
</p>
<p>ADDB 36 Binary Addition � �
</p>
<p>SUB 20 Subtraction � �
</p>
<p>SUBB 37 Binary subtraction � �
</p>
<p>MUL 21 Multiplication � �
</p>
<p>MULB 38 Binary multiplication � �
</p>
<p>DIV 22 Division � �
</p>
<p>DIVB 39 Binary division � �
</p>
<p>NUME 23 Definition of constant � �
</p>
<p>NUMEB 40 Definition of binary constant � �
</p>
<p>DISP 49 Message display � �
</p>
<p>DISPB 41 Extended message display � �
</p>
<p>EXIN 42 External data input � �
</p>
<p>AXCTL 53 PMC axis control � �
</p>
<p>WINDR 51 Window data read � �
</p>
<p>WINDW 52 Window data write � �
</p>
<p>FNC9X 9X Arbitrary functional ins. � �
</p>
<p>MMC3R 88 MMC3 window data read � �
</p>
<p>MMC3W 89 MMC3 window data write � �
</p>
<p>MMCWR 98 MMC2 window data read � �
</p>
<p>MMCWW 99 MMC2 window data write � �
</p>
<p>DIFU 57 Rising edge detection � �
</p>
<p>DIFD 58 Falling edge detection � �
</p>
<p>EOR 59 Exclusive OR � �
</p>
<p>AND 60 Logical production � �
</p>
<p>OR 61 Logical Add � �
</p>
<p>NOT 62 Logical Negation � �
</p>
<p>END 64 End of subprograms � �
</p>
<p>CALL 65 Conditional subprogram call � �
</p>
<p>CALLU 66 Unconditional subprogram call � �
</p>
<p>SP 71 Subprogram � �
</p>
<p>SPE 72 End of a subprogram � �
</p>
<p>�  :  Cannot be used    �  :  Can be used
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>109
</p>
<p>Table 5 (a)  Types and Processing of Functional Instructions (6) Part 1
</p>
<p>SUB
Model
</p>
<p>Name SUBnumber Processing Series 16 � MODEL ��Series 18 � MODEL �number
PMC-RB5 PMC-RB6
</p>
<p>END1 1 First level program end � �
</p>
<p>END2 2 Second level program end � �
</p>
<p>END3 48 Third level program end � �
</p>
<p>TMR 3 Timer processing � �
</p>
<p>TMRB 24 Fixed timer processing � �
</p>
<p>TMRC 54 Timer processing � �
</p>
<p>DEC 4 Decoding � �
</p>
<p>DECB 25 Binary decoding � �
</p>
<p>CTR 5 Counter processing � �
</p>
<p>CTRC 55 Counter processing � �
</p>
<p>ROT 6 Rotation control � �
</p>
<p>ROTB 26 Binary rotation control � �
</p>
<p>COD 7 Code conversion � �
</p>
<p>CODB 27 Binary code conversion � �
</p>
<p>MOVE 8 ANDed data transfer � �
</p>
<p>MOVOR 28 ORed data transfer � �
</p>
<p>MOVB 43 Transfer of one byte � �
</p>
<p>MOVW 44 Transfer of two bytes � �
</p>
<p>MOVN 45 Transfer of arbitrary bytes � �
</p>
<p>COM 9 Common line control � �
</p>
<p>COME 29 Common line control end � �
</p>
<p>JMP 10 Jump � �
</p>
<p>JMPE 30 Jump end � �
</p>
<p>JMPB 68 Label jump 1 � �
</p>
<p>JMPC 73 Label jump 2 � �
</p>
<p>LBL 69 Label specification � �
</p>
<p>PARI 11 Parity check � �
</p>
<p>DCNV 14 Data conversion � �
</p>
<p>DCNVB 31 Binary data conversion � �
</p>
<p>COMP 15 Comparison � �
</p>
<p>COMPB 32 Binary comparison � �
</p>
<p>COIN 16 Coincidence check � �
</p>
<p>SFT 33 Shift register � �
</p>
<p>DSCH 17 Data search � �
</p>
<p>DSCHB 34 Binary data search � �
</p>
<p>XMOV 18 Indexed data transfer � �
</p>
<p>XMOVB 35 Binary indexed data transfer � �
</p>
<p>ADD 19 BCD addition � �
</p>
<p>�  :  Cannot be used    �  :  Can be used
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>110
</p>
<p>Table 5 (a)  Types and Processing of Functional Instructions (6) Part 2
</p>
<p>SUB
Model
</p>
<p>Name SUBnumber Processing Series 16 � MODEL ��Series 18 � MODEL �number
PMC-RB5 PMC-RB6
</p>
<p>ADDB 36 Binary addition � �
</p>
<p>SUB 20 BCD subtraction � �
</p>
<p>SUBB 37 Binary subtraction � �
</p>
<p>MUL 21 BCD multiplication � �
</p>
<p>MULB 38 Binary multiplication � �
</p>
<p>DIV 22 BCD division � �
</p>
<p>DIVB 39 Binary division � �
</p>
<p>NUME 23 Definition of constant � �
</p>
<p>NUMEB 40 Definition of binary constant � �
</p>
<p>DISP 49 Message display (Note) � �
</p>
<p>DISPB 41 Extended message display � �
</p>
<p>EXIN 42 External data input � �
</p>
<p>AXCTL 53 PMC axis control � �
</p>
<p>WINDR 51 Window data read � �
</p>
<p>WINDW 52 Window data write � �
</p>
<p>FNC9X 9X Arbitrary functional instruction � �
</p>
<p>MMC3R 88 MMC3 window data read � �
</p>
<p>MMC3W 89 MMC3 window data write � �
</p>
<p>MMCWR 98 MMC2 window data read � �
</p>
<p>MMCWW 99 MMC2 window data write � �
</p>
<p>DIFU 57 Rising edge detection � �
</p>
<p>DIFD 58 Falling edge detection � �
</p>
<p>EOR 59 Exclusive OR � �
</p>
<p>AND 60 Logical product � �
</p>
<p>OR 61 Logical add � �
</p>
<p>NOT 62 Logical negation � �
</p>
<p>END 64 End of subprograms � �
</p>
<p>CALL 65 Conditional subprogram call � �
</p>
<p>CALLU 66 Unconditional subprogram call � �
</p>
<p>SP 71 Subprogram � �
</p>
<p>SPE 72 End of a subprogram � �
</p>
<p>�  :  Cannot be used    �  :  Can be used    �  :  Can be used (with some restrictions)
</p>
<p>NOTE
With PMC&ndash;RB5/RB6 of the Series 16i/18i MODEL A, the DISP instruction can be used only to ensure
compatibility with the Series 16 MODEL A/B.
With the Series 16i/18i MODEL A, FANUC recommends the use of the DISPB instruction that provides
extended functions such as high&ndash;speed display and kanji character display.
With the Series 16i/18i MODEL A, if both the DISP instruction and DISPB instruction are used in the same
sequence program, the kanji display function of the DISPB instruction cannot be used.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>111
</p>
<p>Table 5 (a)  Types and Processing of Functional Instructions (7) Part 1
</p>
<p>SUB
Model
</p>
<p>Name SUBnumber Processing Series 21 � MODEL �number
PMC-RA1 PMC-RA�
</p>
<p>END1 1 First level program end � �
</p>
<p>END2 2 Second level program end � �
</p>
<p>END3 48 Third level program end � �
</p>
<p>TMR 3 Timer processing � �
</p>
<p>TMRB 24 Fixed timer processing � �
</p>
<p>TMRC 54 Timer processing � �
</p>
<p>DEC 4 Decoding � �
</p>
<p>DECB 25 Binary decoding � �
</p>
<p>CTR 5 Counter processing � �
</p>
<p>CTRC 55 Counter processing � �
</p>
<p>ROT 6 Rotation control � �
</p>
<p>ROTB 26 Binary rotation control � �
</p>
<p>COD 7 Code conversion � �
</p>
<p>CODB 27 Binary code conversion � �
</p>
<p>MOVE 8 ANDed data transfer � �
</p>
<p>MOVOR 28 ORed data transfer � �
</p>
<p>MOVB 43 Transfer of one byte � �
</p>
<p>MOVW 44 Transfer of two bytes � �
</p>
<p>MOVN 45 Transfer of arbitrary bytes � �
</p>
<p>COM 9 Common line control � �
</p>
<p>COME 29 Common line control end � �
</p>
<p>JMP 10 Jump � �
</p>
<p>JMPE 30 Jump end � �
</p>
<p>JMPB 68 Label jump 1 � �
</p>
<p>JMPC 73 Label jump 2 � �
</p>
<p>LBL 69 Label specification � �
</p>
<p>PARI 11 Parity check � �
</p>
<p>DCNV 14 Data conversion � �
</p>
<p>DCNVB 31 Binary data conversion � �
</p>
<p>COMP 15 Comparison � �
</p>
<p>COMPB 32 Binary comparison � �
</p>
<p>COIN 16 Coincidence check � �
</p>
<p>SFT 33 Shift register � �
</p>
<p>DSCH 17 Data search � �
</p>
<p>DSCHB 34 Binary data search � �
</p>
<p>XMOV 18 Indexed data transfer � �
</p>
<p>XMOVB 35 Binary indexed data transfer � �
</p>
<p>ADD 19 BCD addition � �
</p>
<p>�  :  Cannot be used    �  :  Can be used
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>112
</p>
<p>Table 5 (a)  Types and Processing of Functional Instructions (7) Part 2
</p>
<p>SUB
Model
</p>
<p>Name SUBnumber Processing Series 21 � MODEL �number
PMC-RA1 PMC-RA�
</p>
<p>ADDB 36 Binary addition � �
</p>
<p>SUB 20 BCD subtraction � �
</p>
<p>SUBB 37 Binary subtraction � �
</p>
<p>MUL 21 BCD multiplication � �
</p>
<p>MULB 38 Binary multiplication � �
</p>
<p>DIV 22 BCD division � �
</p>
<p>DIVB 39 Binary division � �
</p>
<p>NUME 23 Definition of constant � �
</p>
<p>NUMEB 40 Definition of binary constant � �
</p>
<p>DISP 49 Message display � �
</p>
<p>DISPB 41 Extended message display � �
</p>
<p>EXIN 42 External data input � �
</p>
<p>AXCTL 53 PMC axis control � �
</p>
<p>WINDR 51 Window data read � �
</p>
<p>WINDW 52 Window data write � �
</p>
<p>FNC9X 9X Arbitrary functional instruction � �
</p>
<p>MMC3R 88 MMC3 window data read � �
</p>
<p>MMC3W 89 MMC3 window data write � �
</p>
<p>MMCWR 98 MMC2 window data read � �
</p>
<p>MMCWW 99 MMC2 window data write � �
</p>
<p>DIFU 57 Rising edge detection � �
</p>
<p>DIFD 58 Falling edge detection � �
</p>
<p>EOR 59 Exclusive OR � �
</p>
<p>AND 60 Logical product � �
</p>
<p>OR 61 Logical add � �
</p>
<p>NOT 62 Logical negation � �
</p>
<p>END 64 End of subprograms � �
</p>
<p>CALL 65 Conditional subprogram call � �
</p>
<p>CALLU 66 Unconditional subprogram call � �
</p>
<p>SP 71 Subprogram � �
</p>
<p>SPE 72 End of a subprogram � �
</p>
<p>�  :  Cannot be used    �  :  Can be usedww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>113
</p>
<p>The execution time constant is a ratio of the execution time of a functional
instruction to the execution time of 10 basic instruction steps (1.5 &micro;s).
Execution time constants are used when a ladder program is executed in
the separate mode.
</p>
<p>���	� 5 (b)  Execution Time Constants of Functional Instructions (1)
</p>
<p>Instruc- ��� Processing
Model
</p>
<p>tion Number Processing PMC-RB PMC-RC
</p>
<p>END1 1 End of a first-level ladder program 171 1033
</p>
<p>END2 2 End of a second-level ladder program 26 45
</p>
<p>END3 48 End of a third-level ladder program � 0
</p>
<p>TMR 3 Timer processing 19 33
</p>
<p>TMRB 24 Fixed timer processing 19 34
</p>
<p>TMRC 54 Timer processing 17 29
</p>
<p>DEC 4 Decoding 21 28
</p>
<p>DECB 25 Binary decoding 16 23
</p>
<p>CTR 5 Counter processing 21 35
</p>
<p>CTRC 55 Counter processing 18 26
</p>
<p>ROT 6 Rotation control 37 53
</p>
<p>ROTB 26 Binary rotation control 27 39
</p>
<p>COD 7 Code conversion 20 29
</p>
<p>CODB 27 Binary code conversion 19 29
</p>
<p>MOVE 8 Data transfer after Logical AND 19 27
</p>
<p>MOVOR 28 Data transfer after logical OR 13 19
</p>
<p>COM 9 Common line control 11 14
</p>
<p>COME 29 End of common line control 0.1 0.1
</p>
<p>JMP 10 Jump 12 16
</p>
<p>JMPE 30 End of a jump 9 11
</p>
<p>PARI 11 Parity check 13 19
</p>
<p>DCNV 14 Data conversion 25 37
</p>
<p>DCNVB 31 Binary data conversion 132 233
</p>
<p>COMP 15 Comparison 22 36
</p>
<p>COMPB 32 Binary comparison 20 31
</p>
<p>COIN 16 Coincidence check 21 36
</p>
<p>SFT 33 Shift register 15 22
</p>
<p>DSCH 17 Data search 237 287
</p>
<p>DSCHB 34 Binary data search 351 596
</p>
<p>XMOV 18 Indexed data transfer 26 38
</p>
<p>XMOVB 35 Binary indexed data transfer 27 37
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>114
</p>
<p>���	� 5 (b)  Execution Time Constants of Functional Instructions (2)
</p>
<p>Instruc- ��� Processing
Model
</p>
<p>tion Number Processing PMC-RB PMC-RC
</p>
<p>ADD 19 Addition 22 33
</p>
<p>ADDB 36 Binary addition 25 39
</p>
<p>SUB 20 Subtraction 21 32
</p>
<p>SUBB 37 Binary subtraction 25 39
</p>
<p>MUL 21 Multiplication 42 63
</p>
<p>MULB 38 Binary multiplication 28 45
</p>
<p>DIV 22 Division 44 66
</p>
<p>DIVB 39 Binary division 33 53
</p>
<p>NUME 23 Constant definition 18 25
</p>
<p>NUMEB 40 Binary constant definition 13 20
</p>
<p>DISP 49 Message display 51 93
</p>
<p>DISPB 41 Extended message display 177 297
</p>
<p>EXIN 42 External data input 29 49
</p>
<p>WINDR 51 NC window data read 101 293
</p>
<p>WINDW 52 NC window data write 101 293
</p>
<p>FNC9X 9X Arbitrary functional instruction (X=0 to 7) � 21
</p>
<p>MMC3R 88 MMC3 window data read 342 375
</p>
<p>MMC3W 89 MMC3 window data write 385 421
</p>
<p>MMCWR 98 MMC window data read 100 293
</p>
<p>MMCWW 99 MMC window data write 100 293
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>115
</p>
<p>This constant represents how many times the execution time of a
functional instruction corresponds to the execution time of 10 basic
instructions (about 1.5&micro;s) .  The execution time of a basic instruction is
about 0.15 &micro;s.
</p>
<p>The general format and restrictions common to each functional
instruction are given below, details on each instructions will follow later.
Refer to this paragraph without fail, since it covers the provisions on using
a functional instruction and other important items.
</p>
<p>(1) Format
Since the functional instructions cannot be represented with relay
symbols, the format shown in Fig. 5 (a) must be used.  The format
includes control conditions, an instruction, parameters, W1, R9000
to R9005 (Functional instruction operation result register).
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>A
</p>
<p>W1
</p>
<p>B
</p>
<p>R 10.1
</p>
<p>L0 L1
C D
</p>
<p>R 2.4 R 3.1
RST
</p>
<p>R 5.7
ACT
</p>
<p>R 7.1
</p>
<p>I
n
s
t
r
u
c
t
i
o
n
</p>
<p>Para-
meter
</p>
<p>(1)
</p>
<p> 
 
</p>
<p>(2)
</p>
<p> 
 
</p>
<p>(3)
</p>
<p> 
 
</p>
<p>(4)
</p>
<p>(3)
</p>
<p>(2)
</p>
<p>(1)
</p>
<p>(0)
</p>
<p>(E1)
</p>
<p>Control conditions Parameter (Note)
</p>
<p>R9000
</p>
<p>R9001
</p>
<p>R9002
</p>
<p>R9003
</p>
<p>R9004
</p>
<p>R9005
</p>
<p>����5 (a)  Function instruction format
</p>
<p>Execution time constant:
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>116
</p>
<p>Table 5 (c)  Coding of function instruction
</p>
<p>Coding sheet Status of operating result
</p>
<p>Step
Number Instruction
</p>
<p>Address
No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD R1 . 0 A A
</p>
<p>2 AND R1 . 1 B A�B
</p>
<p>3 RD. STK R2 . 4 C A�B C
</p>
<p>4 AND. NOT R3 . 1 D A�B C�D
</p>
<p>5 RD. STK R5 . 7 RST A�B C�D RST
</p>
<p>6 RD. STK R7 . 1 ACT A�B C�D RST ACT
</p>
<p>7 SUB �� Instruction A�B C�D RST ACT
</p>
<p>8 (PRM) (Note 2) ���� Parameter 1 A�B C�D RST ACT
</p>
<p>9 (PRM) ���� Parameter 2 A�B C�D RST ACT
</p>
<p>10 (PRM) ���� Parameter 3 A�B C�D RST ACT
</p>
<p>11 (PRM) ���� Parameter 4 A�B C�D RST ACT
</p>
<p>12 WRT R10 . 1 W1 output A�B C�D RST W1
</p>
<p>NOTE
1 Numbers in parentheses under control conditions indicate
</p>
<p>the position of the stored register.
2 (PRM) of steps 8 to 11 under Instruction means that P must
</p>
<p>be input when a parameter is input from the programmer,
and PRM is not required to be input when a parameter is
input from a paper tape.
</p>
<p>(2) Control condition
The number and meaning of control conditions vary with each
functional instruction.  The control conditions are entered in the stick
register as shown in Table 5 (b).  The sequence is fixed and cannot
be changed or omitted.
</p>
<p>NOTE
For the functional instructions, with a RST as a control
condition, the RST has the highest priority.  Accordingly
when RST=1, the RST processing is done even when
ACT=0.
</p>
<p>(3) Instruction
The types of instructions are shown in Table 5 (a).  The Programmer
has exclusive keys for functional instructions TMR and DEC.  They
are input by T and D keys, respectively.  The other functional
instructions are given by &ldquo;S&rdquo; key and a following number.  When
instructions are input by relay symbols, software keys are used to
input them.  Refer to chapter III  or IV for details.
</p>
<p>(4) Parameter
Unlike basic instructions, functional instructions can handle numeric
values.  Thus the reference data or addresses containing data are
entered under Parameter.  The number and meaning vary with each
functional instruction.  The P key is used to enter parameters in the
Programmer.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>117
</p>
<p>(5) W1
The operation results of a functional instruction, when represented with
one bit of 1 or 0, is output to W1 whose address can be determined freely
by the programmer. Its meaning varies with each functional instruction.
Note that some functional instructions have no W1.
</p>
<p>(6) Data to be processed
Data handled by functional instructions are of binary coded decimal
(BCD) code and binary code.
In the conventional PMCs, the numeric data is processed mainly
based on the BCD code.  However, in the PMC-RB/RC, it is
recommended to handle all pieces of numeric data with the binary
code.  The reasons for this are:
</p>
<p>(a) In the Series 16, the numeric data (M, S, T, B code) between the
CNC and the PMC should be of the binary code.
</p>
<p>(b) Numeric data on which the CPU performs processing must be in
binary format. When numeric data is always processed in binary
format, therefore, neither BCD&ndash;to&ndash;binary nor binary&ndash;to&ndash;BCD
conversion is necessary, thus enabling faster PMC processing.
</p>
<p>(c) When the data is of the binary code, the range of the numeric data
processable becomes wide.  Also, negative numeric data can be
processed easily, and the arithmetic operation functions are
strengthened.  The binary numeric data is handled, as a rule, on
the basis of 1 byte (&ndash;128 to+127), 2 bytes (&ndash;32768 to +32767),
and 4 bytes (&ndash;99999999 to +99999999).
</p>
<p>(d) When various numeric data items are entered or displayed using
the keys on the CRT/MDI panel, all the numeric data items in
binary are conveniently specified or displayed in decimal.
Therefore, no problem arises, though the data stored in the
internal memory is of the binary code.  Pay attention to this only
when referring to the memory by the sequence program.  See (7).
In the functional instructions, binary data is mainly handled.
</p>
<p>(7) Example of numeric data
</p>
<p>(a) BCD code data
The basic data handled with the BCD code is of 1 byte (0 to 99)
or 2 bytes (0 to 9999).  The BCD 4-digit data is entered into two
bytes of continuous addresses as shown below.
Example: When BCD data 1234 is stored to addresses R250 
</p>
<p>and R251.
</p>
<p>0 0 1 1 0 1
</p>
<p>7 6 5 4 3 2
</p>
<p>0
</p>
<p>1
</p>
<p>0
</p>
<p>0
</p>
<p>3 4
</p>
<p>R250
</p>
<p>0 0 0 1 0 0
</p>
<p>7 6 5 4 3 2
</p>
<p>1
</p>
<p>1
</p>
<p>0
</p>
<p>0
</p>
<p>1 2
</p>
<p>R251
</p>
<p>Specify smaller address R250 by a functional instruction.
(Note)  The low order digits are entered to the smaller address.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>118
</p>
<p>(b) Binary code data
The basic data handled with the binary code is of 1 byte (&ndash;128 to
+127), 2 bytes (&ndash;32,768 to +32,767) and 4 bytes (&ndash;99,999,999 to
+99,999,999).  The data is stored at addresses R200, R201, R202
and R203 as shown below.
</p>
<p>1 byte data (&ndash;128 to +127)
</p>
<p>�
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>R200 26 25 24 23 22 21 20
</p>
<p>27
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>R200 26 25 24 23 22 21 20
</p>
<p>0 : Positive
</p>
<p>1 : Negative
</p>
<p>�R201 214 213 212 211 210 29 28
</p>
<p>2 byte data (&ndash;32,768 to + 32,767)
</p>
<p>27
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>R200 26 25 24 23 22 21 20
</p>
<p>215R201 214 213 212 211 210 29 28
</p>
<p>4 byte data (&ndash;99999999 to +99999999)
</p>
<p>223R202 222 221 220 219 218 217 216
</p>
<p>�R203 230 229 228 227 226 225 224
</p>
<p>By a functional instruction, specify smaller address R200.  
A negative value is set by the two&rsquo;s complement code.
</p>
<p>0 0 0 0 0 0
</p>
<p>7 6 5 4 3
</p>
<p>0 1 (+1)
</p>
<p>1 1 1 1 1 1 1 1 (&ndash;1)
</p>
<p>0 1 1 1 1 1 1 1 (+127)
</p>
<p>1 0 0 0 0 0 0 1 (&ndash;127)
</p>
<p>2 1 0
</p>
<p>Example:  1 byte data
</p>
<p>(8) Addresses of numerical data handled in the function instructions
When numerical data handled in the function instructions are 2 bytes
or 4 bytes, addresses of numerical data specified by parameters of
function instructions are better to take even numbers.  
The use of even addresses slightly reduces the execution time of
functional instructions.  
These parameters of the functional instructions mainly handling
binary data are marked with an asterisk as follows.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>119
</p>
<p>Error output
</p>
<p>RST
</p>
<p>W1
</p>
<p>ACT
</p>
<p>ADDB
</p>
<p>(SUB36)
</p>
<p>����
</p>
<p>Specifying
a format
</p>
<p>*
����
</p>
<p>Address
for an
</p>
<p>augend
</p>
<p>*
����
</p>
<p>Address
for an
</p>
<p>addend
</p>
<p>*
����
</p>
<p>Address for
outputting
the sum
</p>
<p>* When 2-byte or 4-byte data is handled, assigning even addresses to addresses marked with *
 reduces the time required to execute functional instructions.
</p>
<p>A        +        B        =          C
</p>
<p>����5 (b)
</p>
<p>In even addresses, the number after R is even with internal relays, and
the number after D is even in data tables.
</p>
<p>(9) Functional instruction calculation result register (R9000 to R9005)
(See Fig. 5 (c))
The result of calculation of the functional instruction is set in the
register.
This register is used commonly to the functional instructions.
Therefore, refer to the information in the register immediately after the
functional instruction is executed.  Otherwise, the previous information
disappears when the next functional instruction is executed.
The calculation information in the register cannot be transferred
between different levels of the sequence program.  For example, it is
impossible to read the set information by referring to registers
R9000&rsquo;s by the 2nd level program. When the subtraction instruction
(SUBB) is executed by the 1st level program.
The calculation information set in the register is guaranteed up to the
point just before the functional instruction for setting the next
calculation information is executed between the same level of
programs.  The calculation information set in this register differs
according to the functional instruction.  It can be read out by the
sequence program, but cannot be written.
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>R9000
</p>
<p>R9001
</p>
<p>R9002
</p>
<p>R9003
</p>
<p>R9004
</p>
<p>R9005
</p>
<p>����5 (c)
</p>
<p>This register is a 6 byte register (R9000 to R9005), and the data of
1 bit unit or 1 byte unit can be referred to.
When reading the data of bit 1 of R9000, specify RD R9000.1.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>120
</p>
<p>Must be specifies once in a sequence program, either at the end of the 1st
level sequence, or at the beginning of the 2nd level sequence when there
is no 1st level sequence.
</p>
<p>Fig. 5.1.2 shows the format of END.1 and Table 5.1.2 shows the coding.
</p>
<p>END1
(SUB  1)
</p>
<p>�	��5.1.2  Format of END.1
</p>
<p>���
� 5.1.2  Coding of END.1
</p>
<p>Coding sheet
</p>
<p>Step 
Number Instruction
</p>
<p>Address
Number
</p>
<p>Bit 
Number Remarks
</p>
<p>0 0 8 2 SUB 1 End of 1st level
</p>
<p>5.1
END1 (1ST LEVEL
SEQUENCE
PROGRAM END)
</p>
<p>5.1.1
Function
</p>
<p>5.1.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>121
</p>
<p>Specify at the end of the 2nd level sequence.
</p>
<p>Fig.5.2.2 shows the expression format and Table 5.2.2 shows the coding
format.
</p>
<p>END2
(SUB  2)
</p>
<p>�	��5.2.2  Format of END.2
</p>
<p>���
� 5.2.2  Coding of END.2
</p>
<p>Coding sheet
</p>
<p>Step 
Number Instruction
</p>
<p>Address
Number
</p>
<p>Bit 
Number Remarks
</p>
<p>1 3 6 2 SUB 2 2nd level sequence program end
</p>
<p>5.2
END2 (2ND LEVEL
SEQUENCE
PROGRAM END)
</p>
<p>5.2.1
Function
</p>
<p>5.2.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>122
</p>
<p>Specify this command at the end of the 3rd level sequence program, i.e.
it indicates the end of the sequence program.  If there is no 3rd level
sequence program, specify this command immediately after END.2
command.
</p>
<p>Fig.5.3.2 shows description format and Table 5.3.2 shows coding format.
</p>
<p>END3
(SUB  48)
</p>
<p>�	��5.3.2  END.3 description format
</p>
<p>���
� 5.3.2  END.3 coding format
</p>
<p>Coding sheet
</p>
<p>Step 
Number Instruction
</p>
<p>Address
Number
</p>
<p>Bit 
Number Remarks
</p>
<p>2 1 2 2 SUB 48 End of 3rd level program
</p>
<p>5.3
END3 (END OF 3RD
LEVEL SEQUENCE)
(PMC-RC/RC3/RC4/
NB/NB2 ONLY)
</p>
<p>5.3.1
Function
</p>
<p>5.3.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>123
</p>
<p>This is an on-delay timer.
</p>
<p>Fig.5.4.4 (a) shows description format and Table 5.4.4 shows coding
format.
</p>
<p>ACT=0: Turns off the timer relay (TM��).
ACT=1: Initiates the timer.
</p>
<p>When the time preset is reached with ACT=1 as shown in Fig.5.4.4 (b),
the timer relay turns on.  The address of the timer relay is determined by
designer.
</p>
<p>ACT
</p>
<p>TMR �� TM��
</p>
<p>Timer relay
</p>
<p>���.�
</p>
<p>Control condition Instruction
</p>
<p>Timer number
</p>
<p>���.�
</p>
<p>�	��5.4.4 (a)  Format of TMR
</p>
<p>���
� 5.4.4  Coding of TMR
</p>
<p>Step 
Number Instruction
</p>
<p>Address
Number
</p>
<p>Bit 
Number Remarks
</p>
<p>1 RD ����.  � ACT
</p>
<p>2 TMR  ��
</p>
<p>3 WRT ���.  � TM��
</p>
<p>TM��
</p>
<p>ACT
</p>
<p>T indicates the time set in this timer
command.
</p>
<p>T
</p>
<p>�	��5.4.4 (b)  Operation of the timer
</p>
<p>5.4
TMR (TIMER)
</p>
<p>5.4.1
Function
</p>
<p>5.4.2
Format
</p>
<p>5.4.3
Control Condition
</p>
<p>5.4.4
Timer Relay (TM ��)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>124
</p>
<p>The timer can be set via the CRT/MDI unit of the CNC (See Chapter II).
The setting time is every 48 ms for timer number 1 to 8 and every 8 ms
for timer number 9 to 40.  A time less than 48 ms is discarded for timer
number 1 to 8.  The time set by timers 9 to 40 is every 8 ms.  Any
remainder is discarded.  For example, if 38 ms is set, the remainder 6
(38=8�4+6) is discarded, and only 32 ms is actually set.
</p>
<p>Model
</p>
<p>Type of timer
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4
</p>
<p>48 ms timer 
number
</p>
<p>1 to 8 1 to 8 1 to 8 1 to 8 1 to 8 1 to 8 1 to 8 1 to 8 1 to 8 1 to 8
</p>
<p>8 ms timer number 9 to 40 9 to 40 9 to 40 9 to 40 9 to 40 9 to 40 9 to 40 9 to 40 9 to 40 9 to 150
</p>
<p>Model
</p>
<p>Type of timer
</p>
<p>RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>48 ms timer 
number
</p>
<p>1 to 8 1 to 8 1 to 8 1 to 8 1 to 8 1 to 8 1 to 8
</p>
<p>8 ms timer number 9 to 40 9 to 150 9 to 40 9 to 40 9 to 150 9 to 40 9 to 150
</p>
<p>Type of timer Setting time Error
</p>
<p>48 ms timer 48 ms to 1572.8 s &ndash;48 to 0 ms
</p>
<p>8 ms timer 8 ms to 262.1 s &ndash;8 to 0 ms
</p>
<p>Variation in time is caused only by operation time of the Timer
Instruction.  For example, when a timer instruction is used in the 2nd level
sequence part, the variation does not include the delay time (Max. 2nd
level sequence one cycle time) until the sequence actuates after the set
time is reached.
</p>
<p>5.4.5
Setting Timers
</p>
<p>5.4.6
Timer Accuracy
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>125
</p>
<p>This timer is used as a fixed on-delay timer.  The variable timer in section
5.4 sets time of the timer into the nonvolatile memory, and can be reset
via the CRT/MDI when necessary.
Time present in this fixed timer is written to the ROM together with the
sequence program, so the timer time once set cannot be changed unless
the whole ROM is exchanged.
</p>
<p>The format is expressed as follows (Fig.5.5.2).
</p>
<p>ACT TMRB
</p>
<p>(SUB24)
</p>
<p>���
</p>
<p>Timer
number
</p>
<p>TMB
���
</p>
<p>�&middot;&middot;&middot;&middot;&middot; �
</p>
<p>Preset
time
</p>
<p>Timer relay
</p>
<p>����5.5.2  Format of TMRB
</p>
<p>ACT=0: Turns off timer relay 
(TMB���).
</p>
<p>ACT=1: Start timer.
</p>
<p>As shown in Fig.5.5.4, timer relay is set ON after certain time preset in
the parameter of this instruction pasts after ACT=1.
The designer will decide the address of the internal relay in the timer relay.
</p>
<p>TMB
</p>
<p>ACT
</p>
<p>T indicates the time set in this timer
command.
</p>
<p>T
</p>
<p>����5.5.4  Timer operation
</p>
<p>5.5
TMRB (FIXED TIMER)
</p>
<p>5.5.1
Function
</p>
<p>5.5.2
Format
</p>
<p>5.5.3
Control Conditions
</p>
<p>5.5.4
Timer Relay
(TMB���)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>126
</p>
<p>(a) Timer number
Sets timer number (1 to 100) of the fixed timers.
</p>
<p>(b) Preset time (8 to 262,136 ms)
Processing is done every 8 ms in this fixed timer.
The preset time is therefore integral times of 8 ms and the odds are
omitted.
For example, when set 38 ms, 38=8�4+6, the odd 6 is omitted, and
the preset time becomes 32 ms.
The range of the preset time is 8 to 262,136 ms.
</p>
<p>Time varies &ndash;8 to 0 ms from the setting time.
The varing time in this timer is caused only the error occurred when the
timer instruction performs operation process.
Error caused by sequence program processing time (time of 1 cycle of the
second level), etc. are not included.
</p>
<p>5.5.5
Parameter
</p>
<p>5.5.6
Precision of the Timer
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>127
</p>
<p>This is the on-delay timer.
A timer setting time is set at an arbitrary address.  The selection of an
address determines whether the timer is a variable timer or fixed timer.
No limit is imposed on the number of timers provided areas can be
allocated.
</p>
<p>Fig.5.6.2 and Table 5.6.2 show the expression format and the coding
format, respectively.
</p>
<p>ACT TMRC
</p>
<p>(SUB54)
</p>
<p>�
</p>
<p>Timer
accuracy
</p>
<p>����
</p>
<p>Time set
time
</p>
<p>address
</p>
<p>����
</p>
<p>Time
resister
address
</p>
<p>TM
��
</p>
<p>�	��5.6.2  TMRC expression format
</p>
<p>���
� 5.6.2  TMRC coding format
</p>
<p>Step 
Number Instruction
</p>
<p>Address
Number
</p>
<p>Bit 
Number Remarks
</p>
<p>1 RD ����.  �
</p>
<p>2 SUB 54 TMRC command
</p>
<p>3 (PRM) � Timer accuracy
</p>
<p>4 (PRM) ��� Timer set time address
</p>
<p>5 (PRM) ���� Timer register address
</p>
<p>6 WRT ����.  � TM��
</p>
<p>ACT=0 : Turns off the timer relay 
(TM��).
</p>
<p>ACT=1 : Starts the timer.
</p>
<p>Timer precision Setting value Setting time Error
</p>
<p>8 ms 0 1 to 262,136 &ndash;8 to 0 ms
</p>
<p>48 ms 1 1 to 1,572,816 &ndash;48 to +0 ms
</p>
<p>1 second (Note) 2 1 to 32,767 0 to +1 s
</p>
<p>10 s (Note) 3 1 to 327,670 0 to +10 s
</p>
<p>1 m (Note) 4 1 to 32,767 0 to +1 m
</p>
<p>NOTE
This function is usable only with the following models:
FS16C/18C PMC&ndash;RB5/RB6
FS16i/18i PMC&ndash;RB5/RB6
FS21i PMC&ndash;RA5
</p>
<p>5.6
TMRC (TIMER)
</p>
<p>5.6.1
Function
</p>
<p>5.6.2
Format
</p>
<p>5.6.3
Control Condition
</p>
<p>5.6.4
Timer Accuracy
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>128
</p>
<p>Sets the first address of the timer set time field.
The continuous 2-byte memory space is required for the timer set time
field.
Field D is normally used as this field.
</p>
<p>Timer set time + 0
</p>
<p>Time : Timer set time 
(1 to 32,767)
</p>
<p>Timer set time + 1
</p>
<p>TIME
</p>
<p>The timer set time is converted into the binary value in 8 ms (48 ms) units.
The timer set time is shown as follows:
</p>
<p>8 ms 8 to 262,136 ms
48 ms 48 to 1,572,816 ms
1 s 1 to 32,767s
10 s 1 to 327,670s
1 m 1 to 32,767m
</p>
<p>Set the start address of a timer register area.
A timer register area must be allocated to a continuous four&ndash;byte memory
area starting from the set address. Normally, the R area is used as a timer
register area. This area should be used by the PMC system, and therefore
should not be used by the sequence program.
</p>
<p>Timer register + 1
Timer register
</p>
<p>Timer register + 2
</p>
<p>Timer register + 3
</p>
<p>Timer register + 0
</p>
<p>As shown in Fig. 5.6.7, after ACT is set to 1, the timer relay is turned on
once the time specified in this command has elapsed.
</p>
<p>ACT
</p>
<p>T indicates the time set in this timer
command.
</p>
<p>T
TM ��
</p>
<p>����5.6.7  Timer operation
</p>
<p>5.6.5
Timer Set Time
Address
</p>
<p>5.6.6
Timer Register
Address
</p>
<p>5.6.7
Timer Relay (TM ��)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>129
</p>
<p>Outputs 1 when the two-digit BCD code signal is equal to a specified
number, and 0 when not.  Is used mainly to decode M or T function.
</p>
<p>Fig.5.7.2 and Table 5.7.2 show the expression format and Table 5.7.2
show the coding format.
</p>
<p>ACT
</p>
<p>DEC
</p>
<p>���. �
</p>
<p>Control condition
</p>
<p>����
</p>
<p>���. �
</p>
<p>Address of decode signal
</p>
<p>Decode 
instruction
</p>
<p>Decoding result output
</p>
<p>W1����
</p>
<p>Instruction
��
</p>
<p>Number of digits
instruction
</p>
<p>��
</p>
<p>Number of digits instruction
</p>
<p>�	��5.7.2  Format of DEC
</p>
<p>���
� 5.7.2  Coding of DEC
</p>
<p>Step 
Number Instruction
</p>
<p>Address
Number
</p>
<p>Bit 
Number Remarks
</p>
<p>1 RD ���. � ACT
</p>
<p>2 DEC ����
</p>
<p>3 (PRM) ����
</p>
<p>4 WRT ���. � W1, Decoding result output
</p>
<p>ACT=0 : Turns the decoding result output off (W1).
ACT=1 : Performs decoding.
</p>
<p>When the specified number is equal to the code signal, W1=1;
when not, W1=0.
</p>
<p>Specify the address containing two-digit BCD code signals.
</p>
<p>5.7
DEC (DECODE)
</p>
<p>5.7.1
Function
</p>
<p>5.7.2
Format
</p>
<p>5.7.3
Control Condition
</p>
<p>5.7.4
Code Signal Addressww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>130
</p>
<p>There are two paths, the number and the number of digits.
Decode specification
</p>
<p>� � � �
</p>
<p>Number specification
</p>
<p>Number of digits specification
</p>
<p>(i) Number:
Specify the decode number.
Must always be decoded in two digits.
</p>
<p>(ii) Number of digits:
01 : The high-order digit of two decimal digits is set to 0 and 
</p>
<p>only the low-order digit is decoded.
10 : The low-order digit is set to 0 and only the high-order digit
</p>
<p>is decoded.
11 : Two decimal digits are decoded.
</p>
<p>W1 is 1 when the status of the code signal at a specified address is equal
to a specified number, 0 when not.  The address of W1 is determined by
designer.
</p>
<p>MF
</p>
<p>DEC
</p>
<p>F7.0
</p>
<p>F10 M30
X
</p>
<p>3011
</p>
<p>DEN
</p>
<p>F1.3 R228.1
</p>
<p>M30
</p>
<p>�	��5.7.6  Ladder diagram using the DEC instruction
</p>
<p>���
� 5.7.6  Coding for Fig.5.7.6
Coding sheet
</p>
<p>Step 
Number Instruction
</p>
<p>Address
Number
</p>
<p>Bit 
Number Remarks
</p>
<p>1 RD F 7.0
</p>
<p>2 AND F 1 .3
</p>
<p>3 DEC F 10
</p>
<p>4 (PRM) 3011
</p>
<p>5 WRT R228 . 1 M30X
</p>
<p>5.7.5
Decode Specification
</p>
<p>5.7.6
W1 
(Decoding Result
Output)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>131
</p>
<p>DECB decodes one, two, or four-byte binary code data.  When one of the
specified eight consecutive numbers matches the code data, a logical high
value (value 1) is set in the output data bit which corresponds to the
specified number.  When these numbers do not match, a logical low value
(value 0) is set.
Use this instruction for decoding data of the M or T function.
</p>
<p>Fig.5.8.2 (b) show the expression format.
</p>
<p>DECB
</p>
<p>(SUB 25)
</p>
<p>7
</p>
<p>Decode designating
number
</p>
<p>Code
data
</p>
<p>����
</p>
<p>���� 6 5 4 3 2 1 0
</p>
<p>+0
</p>
<p>+1
</p>
<p>+7
</p>
<p>Decode result output
</p>
<p>Decode designating numbers
</p>
<p>Eight numbers, each of which is added by 0, 1, 2, . . . , and 7 to the specified number
</p>
<p>are decoded.
</p>
<p>When number 62 is specified, for example, eight numbers of 62 to 69 are decoded.
</p>
<p>If code data is 62, 0 bit of output data is turned on; if 69, 7th bit is turned on.
</p>
<p>1, 2 or 4-byte
binary code data Decode designating
</p>
<p>number
</p>
<p>Decode designating
number
</p>
<p>����5.8.2 (a)  Function of DECB
</p>
<p>ACT DECB
</p>
<p>(SUB 25)
</p>
<p>����
����
</p>
<p>Decode
designa-
</p>
<p>tion
</p>
<p>�
</p>
<p>Format
specifi-c
</p>
<p>ation
</p>
<p>*
����
</p>
<p>Code
data
</p>
<p>address
</p>
<p>����
</p>
<p>Decode
result
output
</p>
<p>address
</p>
<p>����5.8.2 (b)  Expression format of DECB
</p>
<p>5.8
DECB (BINARY
DECODING)
</p>
<p>5.8.1
Function (Fig.5.8.2 (a))
</p>
<p>5.8.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>132
</p>
<p>(a) Command (ACT)
ACT=0: Resets (all the eight) output data bits.
ACT=1: Decodes data.
</p>
<p>Result of processing is set in the output data address.
</p>
<p>(a) Format specification
Specifies code data format:
</p>
<p>1 : Code data is in binary format, occupying 1 byte
2 : Code data is in binary format, occupying 2 bytes
4 : Code data is in binary format, occupying 4 bytes
</p>
<p>(b) Code data address
Specifies an address which stores code data.
</p>
<p>(c) Number specification decode designation
Specifies the first of the eight successive numbers to be decoded.
</p>
<p>(d) Decode result address
Specifies an address where the decoded result shall be output.  A
one-byte area is required in the memory for the output.
</p>
<p>5.8.3
Control Conditions
</p>
<p>5.8.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>133
</p>
<p>CTR is used as a counter.  Counters are used for various purposes for NC
Machine tools.  
Numerical data such as preset values and count values can be used with
either BCD format or binary format by a system parameter.
</p>
<p>NOTE
When a incollect BCD data was set to a BCD type counter,
the morement of CTR cannot be sured.
</p>
<p>This counter has the following functions to meet various applications.
</p>
<p>(a) Preset counter
Outputs a signal when the preset count is reached.  The number can
be preset from the CRT/MDI panel, or set in the sequence program.
</p>
<p>(b) Ring counter
Upon reaching the preset count, returns to the initial value by issuing
another count signal.
</p>
<p>(c) Up/down counter
The count can be either up or down.
</p>
<p>(d) Selection of initial value
Selects the initial value as either 0 or 1.
A combination of the preceding functions results in the ring counter
below.
</p>
<p>8 1
2
</p>
<p>3
</p>
<p>45
</p>
<p>6
</p>
<p>7
</p>
<p>Presetting : 8
</p>
<p>Initial value : 1
</p>
<p>Such a counter permits the position of a rotor to be memorized.
</p>
<p>5.9
CTR (COUNTER)
</p>
<p>5.9.1
Function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>134
</p>
<p>Fig.5.9.2 show the expression format and Table 5.9.2 show the coding
format.
</p>
<p>CN0
</p>
<p>W1
</p>
<p>���. �
</p>
<p>UPDOWN
</p>
<p>CTR
(SUB 5)
</p>
<p>RST
</p>
<p>���. �
ACT
</p>
<p>���. �
</p>
<p>���. �
</p>
<p>����
</p>
<p>���. �
</p>
<p>Count up output
</p>
<p>Control condition
</p>
<p>Counter number
</p>
<p>Instruction (SUB 5)
</p>
<p>����5.9.2  Format of CRT instruction
</p>
<p>Table 5.9.2  Coding for Fig.5.9.2
</p>
<p>Coding sheet Memory status of control condition
</p>
<p>Step
Number Instruction
</p>
<p>Address
No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD ��� . � CN0 CN0
</p>
<p>2 RD. STK ��� . � UPDOWN CN0 UPDOWN
</p>
<p>3 RD. STK ��� . � RST CN0 UPDOWN RST
</p>
<p>4 RD. STK ��� . � ACT CN0 UPDOWN RST ACT
</p>
<p>5 SUB 5 CTR instruction CN0 UPDOWN RST ACT
</p>
<p>6 (PRM) �� Counter number CN0 UPDOWN RST ACT
</p>
<p>7 WRT ��� . � W1 output number CN0 UPDOWN RST W1
</p>
<p>(a) Specify the initial value.  (CN0)
CN0=0:Begins the value of the counter with 0.
</p>
<p>0, 1, 2, 3 &middot;&middot;&middot;&middot;&middot; n.
CN0=1:Begins the value of the counter with 1 (0 is not used).
</p>
<p>1, 2, 3 &middot;&middot;&middot;&middot;&middot; n.
</p>
<p>(b) Specify up or down counter.
UPDOWN=0:
</p>
<p>Up counter.  The counter begins with 0 when CN0=0; 
1 when 1.
</p>
<p>UPDOWN=1:
Down counter.  The counter begins with the preset value.
</p>
<p>5.9.2
Format
</p>
<p>5.9.3
Control Conditionsww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>135
</p>
<p>(c) Reset (RST)
RST=0: Releases reset.
RST=1: Enables reset.
W1 becomes 0.  The integrated value is reset to the initial value.
</p>
<p>NOTE
Set RST to 1, only when reset is required.
</p>
<p>(d) Count signal (ACT)
</p>
<p>&ldquo; 0 &rdquo;
</p>
<p>&ldquo; 1 &rdquo;
</p>
<p>Count Count
</p>
<p>ACT
0 : Counter does not operate.  W1 does not change.
</p>
<p>1 : Count is made by catching the rise of ACT.
</p>
<p>Counters of 2 bytes (2 bytes for each of the preset values and cumulative
values) are available.  The usable numbers are listed below.
</p>
<p>Model PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4
</p>
<p>Counter number 1 to 20 1 to 20 1 to 20 1 to 20 1 to 20 1 to 20 1 to 20 1 to 20 1 to 20 1 to 50
</p>
<p>Model RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>Counter number 1 to 20 1 to 50 1 to 20 1 to 20 1 to 50 1 to 20 1 to 50
</p>
<p>When the count is up to a preset value, W1=1.  The address of W1 can be
determined arbitrarily.
When the counter reaches the set value, W1 is set to 1.
When the counter reaches 0 or 1, W1 is set to 1.
</p>
<p>5.9.4
Counter Number
</p>
<p>5.9.5
Countup Output (W1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>136
</p>
<p>[Example 1]
As a preset counter (See Fig.5.9.6 (a))
The number of workpieces to be machined is counted.  When the number
reaches the preset count, a signal is output.
</p>
<p>� L1 is a circuit to make logic 1.
</p>
<p>� Since the count ranges from 0 to 9999, contact B of L1 is used for
making CN0=0.
</p>
<p>� Since it is to be up counter, contract B of L1 is used make 
UPDOWN=0.
</p>
<p>� The reset signal of the counter uses input signal CRST.M from the
machine tool.
</p>
<p>� The count signal is M30X, which was decoded from the CNC 
output M code.  M30X contains contact B of CUP to prevent 
counting past the preset value, as long as reset is not enabled after
countup.
</p>
<p>L1
</p>
<p>R200.1
L1
</p>
<p>CTR
(SUB 5)
</p>
<p>CRST.M
</p>
<p>X36.0
CUP
</p>
<p>R200.1
</p>
<p>Y6.1
</p>
<p>0001
</p>
<p>Count up output
</p>
<p>L1
</p>
<p>R200.1
</p>
<p>CUP
</p>
<p>Y6.1
</p>
<p>L1
</p>
<p>R200.1
</p>
<p>L1
</p>
<p>R200.1
</p>
<p>(UPDOWN)
</p>
<p>(CN0)
</p>
<p>(RST)
</p>
<p>(ACT)
</p>
<p>M30X
</p>
<p>R200.3
</p>
<p>(3)
</p>
<p>(2)
</p>
<p>(1)
</p>
<p>(0)
</p>
<p>(1)
</p>
<p>����5.9.6 (a)  Ladder diagram for the counter, example 1
</p>
<p>5.9.6
Examples of Using the
Counter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>137
</p>
<p>[Example 2]
Use of the counter to store the position of a rotor.  (See Fig.5.9.6 (b))
</p>
<p>L1
</p>
<p>R200.1
REV
</p>
<p>CTR
</p>
<p>(SUB 5)
</p>
<p>POS
</p>
<p>X36.0
</p>
<p>R200.1
0002
</p>
<p>&ldquo; 1 &rdquo;
</p>
<p>R200.1
</p>
<p>R200.0
</p>
<p>L1
</p>
<p>R200.1
</p>
<p>L1
</p>
<p>R200.1
</p>
<p>(UPDOWN)
</p>
<p>(CN0)
</p>
<p>(RST)
</p>
<p>(ACT)
</p>
<p>(3)
</p>
<p>(2)
</p>
<p>(1)
</p>
<p>(0)
</p>
<p>L1
</p>
<p>R200.1
</p>
<p>����5.9.6 (b)  Ladder diagram for the counter, example 2
</p>
<p>4
</p>
<p>1
</p>
<p>2
</p>
<p>3 5
</p>
<p>6
</p>
<p>7
</p>
<p>8
</p>
<p>9
1011
</p>
<p>12
</p>
<p>Fixed position for indexing
</p>
<p>����5.9.6 (c)  Indexing for a rotor
</p>
<p>Fig.5.9.6 (b) shows a ladder diagram for a counter to store the position of
a rotor of Fig.5.9.6 (c).
</p>
<p>(1) Control conditions
</p>
<p>(a) Count start number
When a 12-angle rotor shown in Fig.5.9.6 (c) is used, the count
starting number is 1.  Contact A of L1 is used for making CN0=1.
</p>
<p>(b) Specify up and down
The signal REV changes according to the then direction of
rotation.  It becomes 0 for forward rotation and 1 for reverse
rotation.  Thus, the counter is an up counter for forward rotation
and a down counter for reverse rotation.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>138
</p>
<p>(c) Reset
In this example, since W1 is not used, RST=0, and contact B of
L1 is used.
</p>
<p>(d) Count signal
The count signal POS turns on and off 12 times each time the rotor
rotates once.
</p>
<p>(2) Counter number and W1
In this example, the second counter is used.  The result of W1 is not
used, but its address must be determined.
</p>
<p>(3) Operation
</p>
<p>(a) Setting the preset value
Since the rotor to be controlled is 12-angle as shown in Fig.5.9.6
(c), 12 must be preset in the counter.  It is set from the CRT/MDI
panel.
</p>
<p>(b) Setting the current value
When the power is turned on, the position of the rotor must be
equated with the count on the counter.  The count is set via the
CRT/MDI panel.  Once a current value is set, then correct current
positions will be loaded to the counter every time.
</p>
<p>(c) The POS signal turns on and off each time the rotor rotates.
The number of times of the POS signal turns on and off is counted
by the counter, as below.
</p>
<p>1, 2, 3, . . . 11, 12, 1, 2, . . . 
for forward rotation
</p>
<p>1, 12, 11, . . . 3, 2, 1, 12 . . . 
for reverse rotation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>139
</p>
<p>The numeral data of this counter are all binary.  This counter has the
following functions and can be used according to the application:
</p>
<p>(a) Preset counter
Preset the count value and if the count reaches this preset value,
outputs to show that.
</p>
<p>(b) Ring counter
This is the ring counter which is reset to the initial value when the
count signal is input after the count reaches the preset value.
</p>
<p>(c) Up/down counter
This is the reversible counter to be used as both the up counter and
down counter.
</p>
<p>(d) Selection of the initial value
Either 0 or 1 can be selected as the initial value.
</p>
<p>Fig.5.10.2 and Table 5.10.2 show the expression format and the coding
format, respectively.
</p>
<p>CN0
</p>
<p>W1
</p>
<p>UPDOWN
</p>
<p>CTRC
</p>
<p>SUB 55
</p>
<p>RST
</p>
<p>ACT
</p>
<p>����
</p>
<p>Counter
preset value
</p>
<p>address
</p>
<p>����
</p>
<p>Counter
register
address
</p>
<p>�	��5.10.2  CTRC expression format
</p>
<p>���
� 5.10.2  CRTC coding format
</p>
<p>Step 
Number Instruction
</p>
<p>Address
Number
</p>
<p>Bit 
Number Remarks
</p>
<p>1 RD ����.  � CN0
</p>
<p>2 RD.STK ����.  � UPDOWN
</p>
<p>3 RD.STK ����.  � RST
</p>
<p>4 RD.STK ����.  � ACT
</p>
<p>5 SUB 55 CRTC command
</p>
<p>6 (PRM) ���� Counter preset address
</p>
<p>7 (PRM) ���� Counter register address
</p>
<p>8 WRT ����.  � W1
</p>
<p>5.10
CTRC (COUNTER)
</p>
<p>5.10.1
Functions
</p>
<p>5.10.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>140
</p>
<p>(a) Specifying the initial value (CN0)
CN0=0 : The count value starts with &ldquo;0&rdquo;.  0, 1, 2, 3, . . . n
CN0=1 : The count value starts with &ldquo;1&rdquo;.  1, 2, 3, . . . n
</p>
<p>(b) Specifying up or down count (UPDOWN)
UPDOWN=0:
</p>
<p>Up counter. 
The initial value is &ldquo;0&rdquo; when CN0=0 or &ldquo;1&rdquo; when CN0=1.
</p>
<p>UPDOWN=1:
Down counter.  The initial value is the preset value.
</p>
<p>(c) Reset (RST)
RST=0 : Reset cancelled.
RST=1 : Reset.  W1 is reset to &ldquo;0&rdquo;.  The accumulated value is 
</p>
<p>reset to the initial value.
</p>
<p>(d) Count signal (ACT)
ACT=0 : The counter does not operate.  W1 does not change.
ACT=1 : The counter operates at the rise of this signal.
</p>
<p>The first address of the counter preset value field is set.
The continuous 2-byte memory space from the first address is required for
this field.  Field D is normally used.
</p>
<p>Counter preset value+0
CTR:  Preset value 
</p>
<p>(0 to 32,767)
Counter preset value+1
</p>
<p>CTR
</p>
<p>The counter preset value is binary.  Therefore, it ranges from 0 to 32767.
</p>
<p>The first address of the counter register field is set.
The continuous 4-byte memory space from the first address is required for
this field.  Field D is normally used.
</p>
<p>NOTE
When field R is specified as the counter register address,
the counter starts with count value &ldquo;0&rdquo; after powered on.
</p>
<p>5.10.3
Control Conditions
</p>
<p>5.10.4
Counter Preset Value
Address
</p>
<p>5.10.5
Counter Register
Address
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>141
</p>
<p>If the count value reaches the preset value, W1 is set to &ldquo;1&rdquo;.
The W1 address can be determined freely.
</p>
<p>CTR
</p>
<p>WORK
</p>
<p>Counter register +0
</p>
<p>Counter register +1
</p>
<p>Counter register +2
</p>
<p>Counter register +3
</p>
<p>Count value
</p>
<p>WORK : Unusable
</p>
<p>5.10.6
Count-up Output (W1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>142
</p>
<p>Controls rotors, such as the tool post, ATC, rotary table, etc., and is used
for the following functions.
</p>
<p>(a) Selection of the rotation direction via the shorter path
</p>
<p>(b) Calculation of the number of steps between the current position and
the goal position
</p>
<p>(c) Calculation of the position one position before the goal or of the
number of steps up to one position before the goal
</p>
<p>Fig.5.11.2 shows the expression format and Table 5.11.2 shows the
coding format.
</p>
<p>DIR
</p>
<p>W1����. �
</p>
<p>POS
</p>
<p>ROT
(SUB 6)
</p>
<p>INC
</p>
<p>����. �
</p>
<p>ACT
</p>
<p>����. �
</p>
<p>����. �
</p>
<p>(1)
</p>
<p>����
</p>
<p>����. �
</p>
<p>Rotating direction
output
</p>
<p>Control condition Instruction
</p>
<p>RN0
</p>
<p>����. �
</p>
<p>BYT
</p>
<p>����. �
</p>
<p>(5)
</p>
<p>(4)
</p>
<p>(3)
</p>
<p>(2)
</p>
<p>(1)
</p>
<p>(0)
</p>
<p>(2)
</p>
<p>����
</p>
<p>(3)
</p>
<p>����
</p>
<p>(4)
</p>
<p>����
</p>
<p>Calculating result output address
</p>
<p>Goal position address
</p>
<p>Current position address
</p>
<p>Rotor indexing address
</p>
<p>����5.11.2  ROT instruction format
</p>
<p>5.11
ROT (ROTATION
CONTROL)
</p>
<p>5.11.1
Function
</p>
<p>5.11.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>143
</p>
<p>Table 5.11.2  Coding for Fig.5.11.2
</p>
<p>Coding sheet Status of operating result
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
No. Bit No. Remarks ST5 ST4 ST3 ST2 ST1 ST0
</p>
<p>1 RD ���� . � RN0 RN0
</p>
<p>2 RD. STK ���� . � BYT RN0 BYT
</p>
<p>3 RD. STK ���� . � DIR RN0 BYT DIR
</p>
<p>4 RD. STK ���� . � POS RN0 BYT DIR POS
</p>
<p>5 RD. STK ���� . � INC RN0 BYT DIR POS INC
</p>
<p>6 RD. STK ���� . � ACT RN0 BYT DIR POS INC ACT
</p>
<p>7 SUB 6 ROT RN0 BYT DIR POS INC ACT
</p>
<p>8 (PRM) ���� Rotor indexing number RN0 BYT DIR POS INC ACT
</p>
<p>9 (PRM) ���� Current position RN0 BYT DIR POS INC ACT
</p>
<p>10 (PRM) ���� Goal position address RN0 BYT DIR POS INC ACT
</p>
<p>11 (PRM) ���� Calculating result output address RN0 BYT DIR POS INC ACT
</p>
<p>12 WRT ��� . � RN0 BYT DIR POS INC W1
</p>
<p>13
</p>
<p>14
</p>
<p>15
</p>
<p>(a) Specify the starting number of the rotor.
RN0=0 : Begins the number of the position of the rotor with 0.
RN0=1 : Begins the number of the position of the rotor with 1.
</p>
<p>(b) Specify the number of digits of the process data (position data).
BYT=0: BCD two digits
BYT=1: BCD four digits
</p>
<p>(c) Select the rotation direction via the shorter path or not.
DIR=0 : No direction is selected.  The direction of rotation is 
</p>
<p>only forward.
DIR=1 : Selected.  See (8) for details on the rotation direction.
</p>
<p>(d) Specify the operating conditions.
POS=0 : Calculates the goal position.
POS=1 : Calculates the position one position before the goal 
</p>
<p>position.
</p>
<p>(e) Specify the position or the number of steps.
INC=0 : Calculates the number of the position.  If the position 
</p>
<p>one position before the goal position is to be calculated,
specify INC=0 and POS=1
</p>
<p>INC=1 : Calculates the number of steps.  If the difference 
between the current position and the goal position is to
be calculated, specify INC=1 and POS=0.
</p>
<p>(f) Execution command
ACT=0: The ROT instruction is not executed.  W1 does not 
</p>
<p>change.
ACT=1: Executed.  Normally, set ACT=0.  If the operation 
</p>
<p>results are required, set ACT=1.
</p>
<p>5.11.3
Control Conditions
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>144
</p>
<p>Specify the rotor indexing number.
</p>
<p>Specify the address storing the current position.
</p>
<p>Specify the address storing the goal position (or command value), for
example the address storing the CNC output T code.
</p>
<p>Calculate the number of steps for the rotor to rotate, the number of steps
up to the position one position before, or the position before the goal.
When the calculating result is to be used, always check that ACT=1.
</p>
<p>The direction of rotation for control of rotation via the shorter path is
output to W1.  When W1=0, the direction is forward (FOR) when 1,
reverse (REV).  The definition of FOR and REV is shown in Fig.5.11.8.
If the number given to the rotor is ascending, the rotation is FOR; if
descending, REV.  The address of W1 can be determined arbitrarily.
When, however, the result of W1 is to be used, always check that ACT=1.
</p>
<p>1
</p>
<p>10
</p>
<p>11
</p>
<p>12 2
</p>
<p>3
</p>
<p>4
</p>
<p>5
</p>
<p>6
7
</p>
<p>8
</p>
<p>9
</p>
<p>(a)
An example of a 12-position rotor
</p>
<p>Indexing fixed position
</p>
<p>FOR REV
</p>
<p>1
</p>
<p>4
</p>
<p>3
</p>
<p>2 12
</p>
<p>11
</p>
<p>10
</p>
<p>9
</p>
<p>8
7
</p>
<p>6
</p>
<p>5
</p>
<p>(b)
</p>
<p>Indexing fixed position
</p>
<p>FORREV
</p>
<p>����5.11.8  Rotation direction
</p>
<p>5.11.4
Rotor Indexing Number
</p>
<p>5.11.5
Current Position
Address
</p>
<p>5.11.6
Goal Position Address
</p>
<p>5.11.7
Operation Result
Output Address
</p>
<p>5.11.8
Rotating Direction
Output (W1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>145
</p>
<p>This instruction is used to control rotating elements including the tool
post, ATC (Automatic Tool Changer), rotary table, etc.  In the ROT
command (5.11) a parameter indicating the number of rotating element
indexing positions is a fixed data in programming.  For ROTB, however,
you can specify an address for the number of rotating element index
positions, allowing change even after programming.  The data handled are
all in the binary format.  Otherwise,  ROTB is coded in the same way as
ROT.
</p>
<p>Fig.5.12.2 shows the expression format of ROTB
</p>
<p>DIR
</p>
<p>W1
</p>
<p>POS
ROTB
</p>
<p>(SUB 26)
</p>
<p>INC
</p>
<p>ACT
</p>
<p>  �
</p>
<p>Format
specifi-c
</p>
<p>ation
</p>
<p>RN0
</p>
<p>*
</p>
<p>����
</p>
<p>Rotating
element
indexed
position
address
</p>
<p>*
</p>
<p>����
</p>
<p>Current
position
address
</p>
<p>*
</p>
<p>����
</p>
<p>Target
position
address
</p>
<p>*
</p>
<p>����
</p>
<p>Arith-me
tic result
output
address
</p>
<p>����5.12.2  Expression format of ROTB
</p>
<p>The control conditions do not differ basically from those for ROT
command described in section 5.11.  However, BYT has been eliminated
from ROTB (it forms part of the ROTB parameters).
For the reset, see ROT.
</p>
<p>5.12
ROTB 
(BINARY ROTATION
CONTROL)
</p>
<p>5.12.1
Function
</p>
<p>5.12.2
Format
</p>
<p>5.12.3
Control Conditionsww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>146
</p>
<p>(a) Format
��������" ��#� ����#� ��� �� �! � �&amp;#�"�� �"� #�� ��!"# ����# �� #��
��!���#�! #� "�����&amp; #�� �$���! �� �&amp;#�"�
</p>
<p>� 
 � �&amp;#�
� 
 � �&amp;#�"
� 
 � �&amp;#�"
</p>
<p>��� �$��!���� ��#� ��$���! �� ����%�� ��"�#���" ��! #�� !�#�#���
������#"� �$!!��# ���!�""� �#��� �!� �� #�� ����!&amp; ��!��#�
���!���!�� #��&amp; !� $�!� #�� ����!&amp; "���� "�������� �&amp; ��#�
����#��
</p>
<p>(b) ��#�#��� ������# ����%�� ��"�#��� ���!�""
��������" #�� ���!�"" ���#������ #�� �$���! �� !�#�!&amp; ������#
��"�#���" #� �� ����%���
</p>
<p>(c) &#13;#��! ��!���#�!"
��! #�� �$��#���" ��� $"� �� #�� �#��! ��!���#�!"� "�� ���#���
	����
</p>
<p>See Section 5.11.
</p>
<p>Fig. 5.12 (b) illustrates a ladder diagram for a 12-position rotor to be
controlled for rotation via the shorter path and for deceleration at the
position one position before the goal.
� The goal position is specified with CNC 32B of binary code (address
</p>
<p>F26 to F29).
</p>
<p>� The current position is entered with the binary code signal (address
</p>
<p>X41) from the machine tool.
</p>
<p>� The result of calculating the position one position before the goal is
</p>
<p>output to address R230 (work area).
</p>
<p>� Operation starts with the output TF (address F7.3) from the CNC.
</p>
<p>� The coincidence check instruction (COIN) is used to detect the
</p>
<p>deceleration and stop positions.
</p>
<p>5.12.4
Parameters
</p>
<p>5.12.5
Output for Rotational
Direction (W1)
</p>
<p>5.12.6
Example of Using the
ROTB Instruction
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>147
</p>
<p>A
</p>
<p>ROTB
(SUB 26)
</p>
<p>A
</p>
<p>A
4
</p>
<p>Refer-
ence
data
</p>
<p>format
</p>
<p>Logic 1
</p>
<p>(4)
</p>
<p>R0228.0
</p>
<p>R0228.0
</p>
<p>D0000
</p>
<p>Rotor
indexing
number
</p>
<p>X0041
</p>
<p>Current 
position 
address
</p>
<p>F0026
</p>
<p>Goal 
position 
address
</p>
<p>R0230
</p>
<p>Calcula-
tion 
result
output
</p>
<p>address
</p>
<p>R0228.0
</p>
<p>A (3)
</p>
<p>R0228.0
</p>
<p>A (2)
</p>
<p>R0228.0
</p>
<p>A (1)
</p>
<p>R0228.0
</p>
<p>TF (0)
</p>
<p>F0007.3
</p>
<p>CW-M CCW-M
</p>
<p>Y0005.6 Y0005.6
</p>
<p>CR-
CCW
</p>
<p>R0228.1
</p>
<p>A
</p>
<p>R0228.0
</p>
<p>COMPB
(SUB 32)
</p>
<p>TF (0) 1004
Refer-
ence 
data
</p>
<p>format
</p>
<p>R0230
Refer-
ence 
data
</p>
<p>X0041
Compari
</p>
<p>-son 
data
</p>
<p>address
</p>
<p>F0007.3
</p>
<p>TF
</p>
<p>R9000.0
</p>
<p>TDEC
</p>
<p>R0228.2
</p>
<p>R0228.2
</p>
<p>DEC-M
</p>
<p>Y0005.5
TCOMPB
</p>
<p>R0228.3
</p>
<p>DEC-M
</p>
<p>Y0005.5
</p>
<p>TF
</p>
<p>F0007.3
</p>
<p>Deceleration 
position 
detection
</p>
<p>Deceleration  
command
</p>
<p>Shorter 
path or not
</p>
<p>COMPB
(SUB 32)
</p>
<p>TF (0) 1004
Refer-
ence 
data
</p>
<p>format
</p>
<p>F0026
Refer-e
</p>
<p>nce 
data
</p>
<p>X0041
Compari
</p>
<p>-son 
data
</p>
<p>address
</p>
<p>F0007.3
</p>
<p>R9000.0
</p>
<p>TCO
MPB
</p>
<p>R0228.3
</p>
<p>CW-M
</p>
<p>Y0005.6
</p>
<p>Goal position 
(stop position) 
detection
</p>
<p>Forward r
otation 
command
</p>
<p>TF
</p>
<p>F0007.3
</p>
<p>TF
</p>
<p>F0007.3
</p>
<p>CR-CCW TCOMPB
</p>
<p>R0228.1 R0228.3
</p>
<p>CCW-M Reverse 
rotation 
command
</p>
<p>TF
</p>
<p>F0007.3 R0228.1 R0228.3
</p>
<p>CR-CCW
</p>
<p>Y0005.6
</p>
<p>TDEC
</p>
<p>F0007.3
</p>
<p>TCOMPB
</p>
<p>����5.12.6  Example of a Ladder Diagram for the ROTB Instruction
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>148
</p>
<p>Converts BCD codes into an arbitrary two- or four-digits BCD numbers.
For code conversion shown in Fig.5.13.1 the conversion input data
address, conversion table, and convert data output address must be
provided.
Set a table address, in which the data to be retrieved from the conversion
table is contained, to conversion table input data address in a two-digits
BCD number.  The conversion table is entered in sequence with the
numbers to be retrieved in the two- or four-digits number.  The contents
of the conversion table of the number entered in the conversion input data
address is output to the convert data output address.  As shown in
Fig.5.13.1, when 3 is entered in the conversion input data address, the
contents 137 located at 3 in the conversion table is output to the convert
data output address.
</p>
<p>Conversion input
data address
</p>
<p>����
</p>
<p>3
</p>
<p>Specifies table internal
number (BCD two-digits).
</p>
<p>&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
</p>
<p>&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
</p>
<p>1373
</p>
<p>2
</p>
<p>1
</p>
<p>0
</p>
<p>Conversion table
</p>
<p>4
</p>
<p>n
</p>
<p>Table internal address
</p>
<p>Convert data
output address
</p>
<p>����
</p>
<p>Data of the specified table internal address is
output to this address.
</p>
<p>����5.13.1  Code conversion diagram
</p>
<p>5.13
COD 
(CODE CONVERSION)
</p>
<p>5.13.1
Function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>149
</p>
<p>Fig.5.13.2 shows the format for the COD instruction and Table 5.13.2
shows the coding format.
</p>
<p>W1
</p>
<p>BYT
</p>
<p>COD
</p>
<p>(SUB 7)
</p>
<p>RST
</p>
<p>����. �
</p>
<p>ACT
</p>
<p>����. �
</p>
<p>����. �
</p>
<p>����
</p>
<p>Error output
</p>
<p>Control condition
</p>
<p>���� ����
</p>
<p>Converted data output 
address
Conversion input data address
</p>
<p>Size of table data
</p>
<p>Instruction
</p>
<p>Table address Convert data
</p>
<p>1
</p>
<p>2
</p>
<p>3
</p>
<p>4
</p>
<p>� � � �
</p>
<p>� � � �
</p>
<p>� � � �
</p>
<p>� � � �
</p>
<p>Conversion data table
</p>
<p>����5.13.2  COD instruction
</p>
<p>Table 5.13.2  Coding for Fig.5.13.2
</p>
<p>Coding sheet Memory status of control condition
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Addres
s No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD ��� . � BYT BYT
</p>
<p>2 RD. STK ��� . � RST BYT RST
</p>
<p>3 RD. STK ��� . � ACT BYT RST ACT
</p>
<p>4 SUB 7 COD instruction
</p>
<p>5 (PRM) ���� Size of table data (1)
</p>
<p>6 (PRM) ���� Conversion input data address (2)
</p>
<p>7 (PRM) ���� Convert data output address (3)
</p>
<p>8 (PRM) ���� Convert data at table address 0 (4)
</p>
<p>9 (PRM) ���� Convert data at table address 1 (5)
</p>
<p>10 : : :
</p>
<p>11 WRT ��� . � Error output W1
</p>
<p>5.13.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>150
</p>
<p>(a) Specify the data size.
BYT=0 : Specifies that the conversion table data is to be BCD 
</p>
<p>two digits.
BYT=1 : Specifies that the conversion table data is to be BCD 
</p>
<p>four digits.
</p>
<p>(b) Error output reset
RST=0 : Disable reset
RST=1 : Sets error output W1 to 0 (resets).
</p>
<p>(c) Execution command
ACT=0 : The COD instruction is not executed.  W1 does not 
</p>
<p>change.
ACT=1 : Executed.
</p>
<p>A conversion table data address from 0 to 99 can be specified.
Specify n+1 as the size of table when n is the last table internal number.
</p>
<p>The conversion table address includes a table address in which converted
data is loaded.  Data in the conversion table can be retrieved by specifying
a conversion table address.
One byte (BCD 2-digit) is required for this conversion input data address.
</p>
<p>The convert data output address is the address where the data stored in the
table is to be output.  The convert data BCD two digits in size, requires
only a 1-byte memory at the convert data output address.
Convert data BCD four digits in size, requires a 2-byte memory at the
convert data output address.
</p>
<p>If an error occurs in the conversion input address during execution of the
COD instruction, W1=1 to indicate an error.  
For example, W1=1 results if a number exceeding the table size specified
in the sequence program is specified as the conversion input address.
When W1=1, it is desirable to effect an appropriate interlock, such as
having the error lamp on the machine tool operator&rsquo;s panel light or
stopping axis feed.
</p>
<p>The size of the conversion data table is from 00 to 99.
The conversion data can be either BCD two digits or four digits, which
is specified depends on the control conditions
</p>
<p>5.13.3
Control Conditions
</p>
<p>5.13.4
Size of Table Data
</p>
<p>5.13.5
Conversion Input Data
Address
</p>
<p>5.13.6
Convert Data Output
Address
</p>
<p>5.13.7
Error Output (W1)
</p>
<p>5.13.8
Conversion Data Table
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>151
</p>
<p>This instruction converts data in binary format to an optional binary
format 1-byte, 2-byte,  or 4-byte data.
Conversion input data address, conversion table, and conversion data
output address are necessary for data conversion; as shown in Fig.5.14.1.
Compared to the 5.13 &rdquo;COD Function Instruction&rdquo;, this CODB function
instruction handles numerical data 1-, 2- and 4-byte length binary format
data, and the conversion table can be extended to maximum 256.
</p>
<p>Conversion
data address
</p>
<p>����
</p>
<p>2
</p>
<p>Specify table address
here.(binary format1 byte)
</p>
<p>&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
</p>
<p>3
</p>
<p>2
</p>
<p>1
</p>
<p>0
</p>
<p>Conversion table
</p>
<p>n
</p>
<p>Table address
</p>
<p>Conversion data
output address
</p>
<p>����
Data stored in the specified
table address is output to
this address
</p>
<p>1250
</p>
<p>&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
</p>
<p>n : max. 255
</p>
<p>(Note 1) This table data is binary
format 2-byte data.
</p>
<p>(Note 2) Conversion table is written
in the ROM together
together with the program,
because it is defined in the
sequence program.
</p>
<p>����5.14.1  Code conversion diagram
</p>
<p>Fig.5.14.2 shows the expression format of CODB.
</p>
<p>W1
</p>
<p>CODB
</p>
<p>(SUB 27)
</p>
<p>RST
</p>
<p>ACT
</p>
<p>  �
</p>
<p>Format
designa-
</p>
<p>tion
</p>
<p>Error output
���
</p>
<p>Number
of
conver-s
ion table
data
</p>
<p>����
</p>
<p>Conversi
on input
data
address
</p>
<p>*
</p>
<p>����
</p>
<p>Conversi
on data
output
address
</p>
<p>����5.14.2  Expression format of CODB
</p>
<p>5.14
CODB (BINARY
CODE CONVERSION)
</p>
<p>5.14.1
Function
</p>
<p>5.14.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>152
</p>
<p>(a) Reset (RST)
RST=0 : Do not reset.
RST=1 : Reset error output W1 (W1=0).
</p>
<p>(b) Activate command (ACT)
ACT=0: Do not execute CODB instruction
ACT=1: Execute CODB instruction.
</p>
<p>(a) Format designation
Designates binary numerical size in the conversion table.
</p>
<p>1 : Numerical data is binary 1-byte data.
2 : Numerical data is binary 2-byte data.
4 : Numerical data is binary 4-byte data.
</p>
<p>(b) Number of conversion table data
Designates size of conversion table. 256 (0 to 255) data can be made.
</p>
<p>(c) Conversion input data address
Data in the conversion data table can be taken out by specifying the
table number. The address specifying the table number is called
conversion input data address, and 1-byte memory is required from
the specified address.
</p>
<p>(d) Conversion data output address
Address to output data stored in the specified table number is called
conversion data output address.
Memory of the byte length specified in the format designation is
necessary from the specified address.
</p>
<p>Size of the conversion data table is maximum 256 (from 0 to 255).
This conversion data table is programmed between the parameter
conversion data output address of this instruction and the error output
(W1).
</p>
<p>If there are any abnormality when executing the CODB instruction,
W1=1 and error will be output.
</p>
<p>5.14.3
Control Conditions
</p>
<p>5.14.4
Parameters
</p>
<p>5.14.5
Conversion Data Table
</p>
<p>5.14.6
Error Output (W1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>153
</p>
<p>ANDs logical multiplication data and input data, and outputs the results
to a specified address. Can also be used to remove unnecessary bits from
an eight-bit signal in a specific address, etc.
(Logical multiplication data) (Input data) to a specified address 
The input data is one byte (eight bits).
</p>
<p>0 0 0 0 0 0
</p>
<p>7 6 5 4 3 2
</p>
<p>0
</p>
<p>1
</p>
<p>0
</p>
<p>0
</p>
<p>Input data
</p>
<p>Low-order four-bit logical
multiplication data
</p>
<p>� � � � � �� �
</p>
<p>High-order four-bit 
logical multiplication data
</p>
<p>Logical
multi-plication data
</p>
<p>Fig.5.15.2 shows the expression format and Table 5.15.2 shows the
coding format.
</p>
<p>MOVE
</p>
<p>(SUB 8)
</p>
<p>ACT
</p>
<p>����. �
</p>
<p>(1)
</p>
<p>����
</p>
<p>Control condition
</p>
<p>(2)
</p>
<p>����
</p>
<p>(3)
</p>
<p>����
</p>
<p>(4)
</p>
<p>����
</p>
<p>Output address
</p>
<p>Input data address
</p>
<p>Low-order 4-bit logical multiplication data
</p>
<p>High-order 4-bit logical multiplication data
</p>
<p>����5.15.2  Move instruction format
</p>
<p>Table 5.15.2  Coding for Fig.5.15.2
</p>
<p>Coding sheet
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD ��� . � ACT ACT
</p>
<p>2 SUB 8 MOVE instruction
</p>
<p>3 (PRM) ���� High-order 4-bit logical 
multiplication data (1)
</p>
<p>4 (PRM) ���� Low-order 4-bit logical 
multiplication data (2)
</p>
<p>5 (PRM) ���� Input data address (3)
</p>
<p>6 (PRM) ���� Output data address (4)
</p>
<p>5.15
MOVE 
(LOGICAL PRODUCT
TRANSFER)
</p>
<p>5.15.1
Function
</p>
<p>5.15.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>154
</p>
<p>ACT=0: Move instruction not executed.
ACT=1: Executed.
</p>
<p>If a code signal and another signal co-exist at address X35 for an input
signal from the machine tool, to compare the code signal and a code signal
at another address, the rest of signals in address X35 becomes an obstacle.
Thus, the MOVE instruction can be used to output only the code signal
at address X35 address R210.
</p>
<p>MOVE
</p>
<p>(SUB 8)
</p>
<p>A
</p>
<p>R228.1
</p>
<p>(1)
</p>
<p>0001
</p>
<p>(2)
</p>
<p>1111
</p>
<p>(3)
</p>
<p>X035
</p>
<p>(4)
</p>
<p>R210
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>Address X35
</p>
<p>Code signal
</p>
<p>Another signa
</p>
<p>0 0 0 1 1 1 1 1Logical multiplication data
</p>
<p>Low-order four-bit logical multiplication data
</p>
<p>High-order four-bit logical multiplication data
</p>
<p>0 0 0Address R210
</p>
<p>Code signal
</p>
<p>����5.15.4  MOVE instruction ladder diagram
</p>
<p>5.15.3
Execution Command
</p>
<p>5.15.4
Example of Using the
MOVE Instruction
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>155
</p>
<p>This instruction ORs the input data and the logical sum data and
transfers the result to the destination.
</p>
<p>OR
</p>
<p>Input data Logical sum data
</p>
<p>Output data
</p>
<p>Fig.5.16.2 shows the expression format of MOVOR.
</p>
<p>MOVOR
</p>
<p>(SUB 28)
</p>
<p>ACT
����
</p>
<p>Input data
address
</p>
<p>����
</p>
<p>Logical
sum data
address
</p>
<p>����
</p>
<p>Output
address
</p>
<p>����5.16.2  Expression format of MOVOR
</p>
<p>(a) Command (ACT)
ACT=0: Do not execute MOVOR.
ACT=1: Execute MOVOR.
</p>
<p>(a) Input data address
Specifies the address for the input data.
</p>
<p>(b) Logical sum data address
Specifies the address of the logical sum data with which to OR the
transferred data.
</p>
<p>(c) Output address
This is the address to contain the logical sum obtained. It is also
possible to obtain the logical sum (OR) of the input and the logical
sum data and output the result in the logical sum data address. For
this, you must set the logical sum data address for the output address.
</p>
<p>5.16
MOVOR 
(DATA TRANSFER
AFTER LOGICAL
SUM)
</p>
<p>5.16.1
Function
</p>
<p>5.16.2
Format
</p>
<p>5.16.3
Control Conditions
</p>
<p>5.16.4
Parametersww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>156
</p>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The specified number of coils or the coils in a region up to the common
line control end instruction (COME) are turned off.  (See Fig.5.17.1.1)
Relay number specification is set when a numeric other than zero is
specified in a parameter for the number of turned off coils.
Specification of the region up to the common line control end instruction
is set when zero is specified for the number of turned off coils.
When the common line control end instruction is programmed in the relay
number specification, error is indicated when programming is completed.
</p>
<p>COM
</p>
<p>SUB 9
</p>
<p>ACT ����
</p>
<p>Number of
turned-off
coils
</p>
<p>Effective only when the number of
turned-off coils is set to zero.
</p>
<p>0 : Region specification
Other than 0 : Numeric specification
</p>
<p>COME
</p>
<p>SUB 29
</p>
<p>0 to 9999
</p>
<p>����5.17.1.1  Function of COM
</p>
<p>5.17
COM (COMMON LINE
CONTROL)
</p>
<p>5.17.1
COM (Common Line
Control)
</p>
<p>5.17.1.1 
Function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>157
</p>
<p>Fig.5.17.1.2 (a) shows the expression format of COM
</p>
<p>COM
</p>
<p>SUB 9
</p>
<p>����
</p>
<p>Number of
turned-off
</p>
<p>coils
</p>
<p>����5.17.1.2 (a)  Expression format of COM
</p>
<p>W1
</p>
<p>COMACT 2
</p>
<p>(a) When COM ACT=1, execution 
begins with the step after COM.
</p>
<p>(b) When COM ACT=0, coil W1 and coil 
W2 are turned OFF unconditionally, 
and execution begins with the next 
step after W2.
</p>
<p>W2
</p>
<p>A B
</p>
<p>D
</p>
<p>C
</p>
<p>11.0 11.1
</p>
<p>B F G
</p>
<p>W3
</p>
<p>(a)
</p>
<p>ACT=1
</p>
<p>(b)
</p>
<p>ACT=0
</p>
<p>����5.17.1.2 (b)  Ladder diagram for the COM instruction
</p>
<p>ACT=0 : The specified number of coils or the coils within the region 
specified are unconditionally turned off (set to 0).
</p>
<p>ACT=1 : No processing is performed.
Processing is performed from the step next to the COM instruction.
</p>
<p>5.17.1.2 
Format
</p>
<p>5.17.2
Control Conditionsww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>158
</p>
<p>(a) Number of turned-off coils
Specify 0 to 9999.
0 : Region specification
Other than 0:  Coil number specification
</p>
<p>W1
</p>
<p>W2
</p>
<p>A B
</p>
<p>D
</p>
<p>C
</p>
<p>E F G
</p>
<p>W3
</p>
<p>ACT
</p>
<p>ACT
</p>
<p>����5.17.3 (a)  Relay circuit example
</p>
<p>NOTE
1 A  functional  instruction  in  a  range  specified  by  COM  executes  processing, 
</p>
<p>regardless of COM ACT. However, if COM ACT=0, the coil of the execution result becomes 0.
2 Another COM instruction cannot be specified in the range specified by the COM instruction.
3 If COM ACT=0, the coil written in by a WRT.  NOT instruction in a range specified by COM
</p>
<p>becomes 1 unconditionally.
4 The number of coils cannot be specified in PMC-RA1, PMC-RA2, or PMC-RB2.  Assume the
</p>
<p>number of coils to be 0 and specify the region with the common line control end (COME)
command.
</p>
<p>W1
</p>
<p>COM
</p>
<p>ACT
</p>
<p>3
</p>
<p>Regardless of the ACT condition of the
COM instruction, if ACT1=1, the input
data of MOVE function is transferred to
the output address
</p>
<p>W2
</p>
<p>B
</p>
<p>D
</p>
<p>C
</p>
<p>E
</p>
<p>W3
</p>
<p>MOVE
</p>
<p>High-orde
r 4-bit
logical
multiplicat
ion data
</p>
<p>Low-order
4-bit
logical
multiplicat
ion data
</p>
<p>Input
data
address
</p>
<p>Output
address
</p>
<p>ACT2
COIN
</p>
<p>Reference
data
(address)
</p>
<p>Comparis
on data
(address)
</p>
<p>ACT1
</p>
<p>When ACT=0 in the COM instruction,
W2=0 unconditionally.
</p>
<p>A
</p>
<p>����5.17.3 (b)
</p>
<p>5.17.3
Parameter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>159
</p>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The COM instruction controls the coils in a range up to a common line
control end instruction (COME).  (See Fig.5.17.5)  Specify 0 as the
number of coils, and specify a range to be controlled using the common
line end instruction.
When the common line end instruction is not specified, the message COM
FUNCTION MISSING is displayed.
</p>
<p>Valid range of 
the COM 
instruction
</p>
<p>COM
</p>
<p>SUB  9
</p>
<p>0
</p>
<p>COME
</p>
<p>SUB 29
</p>
<p>ACT
</p>
<p>�
</p>
<p>�
</p>
<p>����5.17.5  Function of COM
</p>
<p>Fig.5.17.6 shows the expression format of the functional instruction
COM.
</p>
<p>COM
</p>
<p>SUB  9
</p>
<p>0
</p>
<p>ACT
</p>
<p>����5.17.6  Expression Format of COM
</p>
<p>5.17.4
COM (Common Line
Control)
</p>
<p>5.17.5
Function
</p>
<p>5.17.6
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>160
</p>
<p>ACT = 0 : The coils in the specified range are unconditionally turned 
off (set to 0).
</p>
<p>ACT = 1 : The same operation as when COM is not used is performed.
</p>
<p>(a) Specify 0.  (Range specification only)
</p>
<p>NOTE
1 COM instruction operation
</p>
<p>Suppose the following Ladder diagram including a COM
instruction exists:
</p>
<p>Then, for the coil &rdquo;OUTx,&rdquo; this Ladder diagram has the same
effect as the following Ladder diagram:
</p>
<p>So, the functional instructions in the range specified with a
COM instruction are processed, regardless of the setting of
ACT of the COM instruction.  Note, however, that the coil for
the execution of a functional instruction is unconditionally
set to 0 when COM ACT = 0.
</p>
<p>2 In the range specified with a COM instruction, no additional
COM instruction can be specified.
</p>
<p>3 As explained in the figures in Note 1, the coil for WRT.NOT
in the range specified with a COM instruction is
unconditionally set to 1 when COM ACT = 0.
</p>
<p>COM
</p>
<p>SUB  9
</p>
<p>0
</p>
<p>ACT
</p>
<p>ON                                                                         OUT1
</p>
<p>OFF                                                                       OUT2
</p>
<p>ON                                                       ACT          OUT1
</p>
<p>OFF                                                      ACT          OUT2
</p>
<p>5.17.7
Control Conditions
</p>
<p>5.17.8
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>161
</p>
<p>This instruction indicates the division in the region specification of the
common line control instruction (COM). 
This instruction cannot be used alone. It must he used together with the
COM instruction.
</p>
<p>Fig.5.18.2 shows the expression format of COME
</p>
<p>COME
</p>
<p>SUB 29
</p>
<p>����5.18.2  Expression format of COME
</p>
<p>5.18
COME  (COMMON
LINE CONTROL END)
</p>
<p>5.18.1
Function
</p>
<p>5.18.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>162
</p>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>This instruction jumps the specified number of coils or the logic
instructions (including the functional instructions) contained within the
region up to the jump end instruction (JMPE).
Coil number specification is set when a numeral other than zero is
specified in the parameter for the number of coils.
Specification of the region up to the jump end instruction is set when zero
is set for the number of coils.  Nesting of jump instructions is not allowed.
</p>
<p>JMP
</p>
<p>SUB 10
</p>
<p>ACT ����
</p>
<p>Number
of jumped
</p>
<p>coils
</p>
<p>0 to 9999
</p>
<p>Effective only when the number of
jumped  coils is set to zero.
</p>
<p>0 : Region specification
Other tha 0 : Coil number specification
</p>
<p>JMPE
</p>
<p>SUB 30
</p>
<p>����5.19.2
</p>
<p>ACT JMP
</p>
<p>SUB 10
</p>
<p>����
</p>
<p>Number
of jumped
</p>
<p>coils
</p>
<p>5.19
JMP (JUMP)
</p>
<p>5.19.1
JMP (Jump)
</p>
<p>5.19.2
Function
</p>
<p>5.19.3
Formatww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>163
</p>
<p>ACT=0 : Nojump.Processing begins with the step after the JMP instruction.
ACT=1 : The logic instructions contained within the specified number of 
</p>
<p>coils or the specified region are jumped. Processing is performed
from the next step.
</p>
<p>(a) Number of jumped coils
Specify 0 to 9999.
0 : Region specification jump
Other than 0 : Coil number specification jump
When the jump end instruction is programmed in the coil number
specification, error is indicated when programming is completed.
</p>
<p>���
� 5.19.5  JMP instruction coding
Step
</p>
<p>Number
Instruc-
</p>
<p>tion
Address
Number
</p>
<p>Bit 
Number Remarks
</p>
<p>1 RD ���. � ACT
</p>
<p>2 SUB 10 JMP instruction
</p>
<p>3 (PRM) ���� Number of coils to be jumped
</p>
<p>NOTE
The number of coils can be specified only for the
PMC&ndash;RB/RC. Assume the number of coils to be 0 and
specify the region with the jump end (JMPE) command.
</p>
<p>Fig.5.19.6 shows a ladder diagram for the JMP instruction. When
ACT=0, the next step to the JMP instruction is executed. When ACT=1,
logical operations are skipped according to the specified number of coils.
Note that, when ACT=1, even if signal A changes from 1 to 0 or vice versa
as shown in Fig.5.19.6, W1 remains in a status before ACT=1. Similarly,
W2 remains unchanged, even if signals B, C, and D change. Using the
JMP instruction does not reduce the execution time of the sequence.
</p>
<p>W1
</p>
<p>JMP
</p>
<p>(SUB 10)
</p>
<p>ACT
</p>
<p>2
</p>
<p>W2
</p>
<p>A
</p>
<p>C
</p>
<p>B
</p>
<p>10.1
</p>
<p>E F
W3
</p>
<p>ACT=0
</p>
<p>ACT=1
</p>
<p>20.1
</p>
<p>D
</p>
<p>�	��5.19.6  Ladder diagram for the JMP instruction
</p>
<p>5.19.4
Control Conditions
</p>
<p>5.19.5
Parameter
</p>
<p>5.19.6
Operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>164
</p>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The JMP instruction causes a departure from the normal sequence to
executing instructions.  When a JMP instruction is specified, processing
jumps to a jump and instruction (JMPE) without executing the logical
instructions (including functional instructions) in the range delimited by
a jump end instruction (JMPE).  (See Fig.5.19.7.1)  Specify 0 as the
number of coils, and specify a range to be skipped using the jump end
instruction.
When the jump end instruction is not specified, the message JUMP
FUNCTION MISSING is displayed.
</p>
<p>Valid range of the
JMP instruction
</p>
<p>JMP
</p>
<p>SUB  10
</p>
<p>0
</p>
<p>JMPE
</p>
<p>SUB  30
</p>
<p>ACT
</p>
<p>�
</p>
<p>�
</p>
<p>����5.19.7.1  Function of JMP
</p>
<p>Fig.5.19.7.2 shows the expression format of the functional instruction
JMP.
</p>
<p>JMP
</p>
<p>SUB  10
</p>
<p>0
</p>
<p>ACT
</p>
<p>����5.19.7.2  Expression Format of JMP
</p>
<p>5.19.7
JMP (Jump)
</p>
<p>5.19.7.1 
Function
</p>
<p>5.19.7.2 
Formatww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>165
</p>
<p>ACT=1 : The logical instructions (including functional instructions) in
the specified range are skipped; program execution proceeds to
the next step.
</p>
<p>ACT=0 : The same operation as when JMP is not used is performed.
</p>
<p>(a) Specify 0.  (Range specification only)
</p>
<p>NOTE
JMP instruction operation
</p>
<p>When ACT = 1, processing jumps to a jump end instruction
(JMPE); the logical instructions (including functional
instructions) in the specified jump range are not executed.
When the Ladder program is executed in the nonseparate
mode, this instruction can reduce the Ladder execution
period (scan time).
</p>
<p>5.19.7.3 
Control Conditions
</p>
<p>5.19.7.4 
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>166
</p>
<p>This instruction indicates the division in the region specification of the
jump instruction (JMP).
It cannot be used alone. It must be used together with the JMP instruction.
</p>
<p>JMPE
</p>
<p>SUB 30
</p>
<p>5.20
JMPE (JUMP END)
</p>
<p>5.20.1
Function
</p>
<p>5.20.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>167
</p>
<p>Checks the parity of code signals, and outputs an error if an abnormality
is detected. Secifies either an even- or odd-parity check. Only one-byte
(eight bits) of data can be checked.
</p>
<p>Fig.5.21.2 shows the expression format and Table 5.21.2 shows the
coding format.
</p>
<p>PARI
</p>
<p>(SUB 11)
</p>
<p>O.E
</p>
<p>����
</p>
<p>(2)
</p>
<p>����. �
</p>
<p>RST (1)
</p>
<p>����. �
</p>
<p>ACT (0)
</p>
<p>����. �
</p>
<p>Control condition Instruction
</p>
<p>Check data address
</p>
<p>W1
</p>
<p>Error output
</p>
<p>����. �
</p>
<p>����5.21.2  PARI instruction format
</p>
<p>Table 5.21.2  PARI instruction coding
</p>
<p>Coding sheet Memory status of control condition
Step
</p>
<p>Number Instruction
Address
</p>
<p>No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD ���. � ACT O.E
</p>
<p>2 RD. STK ���. � ACT O.E RST
</p>
<p>3 RD. STK ���. � ACT O.E RST ACT
</p>
<p>4 SUB 11 PARI instruction
</p>
<p>5 (PRM) ���� Check data address
</p>
<p>6 ����. � Error output W1
</p>
<p>5.21
PARI 
(PARITY CHECK)
</p>
<p>5.21.1
Function
</p>
<p>5.21.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>168
</p>
<p>(a) Specify even or odd.
O.E=0 : Even-parity check
O.E=1 : Odd-parity check
</p>
<p>(b) Reset
RST=0 : Disables reset.
RST=1 : Sets error output W1 to 0. That is, when a parity error 
</p>
<p>occurs, setting RST to 1 results in resetting.
</p>
<p>(c) Execution command
ACT=0 : Parity checks are not performed. W1 does not alter.
ACT=1 : Executes the PARI instruction, performing a parity check.
</p>
<p>If the results of executing the PARI instruction is abnormal, W1=1 and
an error is posted. The W1 address can be determined arbitrarily.
</p>
<p>Fig.5.21.5 shows odd-parity checking of a code signal entered at
address X036.
</p>
<p>0
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>Address X036
</p>
<p>6-bit code signal
</p>
<p>Odd-parity bit
</p>
<p>PARI
</p>
<p>(SUB 11)
</p>
<p>A
</p>
<p>X036
</p>
<p>(2)
</p>
<p>R228.0
</p>
<p>ERST.M
(1)
</p>
<p>X32.7
</p>
<p>TF (0)
</p>
<p>F7.3
</p>
<p>ERR
</p>
<p>R228.0
</p>
<p>R228.0
</p>
<p>A
</p>
<p>A
</p>
<p>A
</p>
<p>R228.0
</p>
<p>����5.21.5  Ladder diagram for the PARI instruction
</p>
<p>NOTE
For bits 0 to 7, bits other than those for the parity check must
be 0.
</p>
<p>5.21.3
Control Conditions
</p>
<p>5.21.4
Error Output (W1)
</p>
<p>5.21.5
Example of Using the
PARI Instruction
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>169
</p>
<p>Converts binary-code into BCD-code and vice versa.
</p>
<p>Fig.5.22.2 shows the expression format and Table 5.22.2 shows the
coding format.
</p>
<p>DCNV
</p>
<p>(SUB 14)
CNV
</p>
<p>(1)
</p>
<p>����
(2)
</p>
<p>���. �
</p>
<p>RST (1)
</p>
<p>���. �
</p>
<p>ACT (0)
</p>
<p>���. �
</p>
<p>Instruction Input data address
</p>
<p>W1
</p>
<p>Error output
</p>
<p>(1)
</p>
<p>����
</p>
<p>���. �
</p>
<p>Conversion result output address
</p>
<p>BYT (3)
</p>
<p>���. �
</p>
<p>Control condition
</p>
<p>����5.22.2  DCNV instruction format
</p>
<p>Table 5.22.2  DCNV instruction coding
</p>
<p>Coding sheet Memory status of control condition
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD � ��� . � BYT BYT
</p>
<p>2 RD. STK ��� . � CNV BYT CNV
</p>
<p>3 RD. STK ��� . � RST BYT CNV RST
</p>
<p>4 RD. STK ��� . � ACT BYT CNV RST ACT
</p>
<p>5 SUB 14 DCNV instruction
</p>
<p>6 (PRM) ���� (1) Input data address
</p>
<p>7 (PRM) ���� (2) Conversion result output address
</p>
<p>8 WRT ��� . � W1 error output W1
</p>
<p>5.22
DCNV 
(DATA CONVERSION)
</p>
<p>5.22.1
Function
</p>
<p>5.22.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>170
</p>
<p>(a) Specify data size.
BYT=0 : Process data in length of one byte (8 bits)
BYT=1 : Process data in length of two byte (16 bits)
</p>
<p>(b) Specify the type of conversion
CNV=0 : Converts binary-code into BCD-code.
CNV=1 : Converts BCD-code into binary-code.
</p>
<p>(c) Reset
RST=0 : Disables reset.
RST=1 : Resets error output W1. That is, setting RST to 1 when 
</p>
<p>W1, makes W1=0.
</p>
<p>(d) Execution command
ACT=0 : Data is not converted. W1 does not alter.
ACT=1 : Data is converted.
</p>
<p>W1=0 : Normal
W1=1 : Conversion error
</p>
<p>W1=1 if the input data which should be BCD data, is binary 
data, or if the data size (byte length) specified in advance is 
exceeded when converting binary data into BCD data.
</p>
<p>5.22.3
Control Conditions
</p>
<p>5.22.4
Error Output (W1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>171
</p>
<p>This instruction converts 1, 2, and 4-byte binary code into BCD code or
vice versa. To execute this instruction, you must preserve the necessary
number of bytes in the memory for the conversion result output data.
</p>
<p>Fig.5.23.2 shows the expression format of DCNVB
</p>
<p>DCNVB
</p>
<p>(SUB 31)
</p>
<p>CNV
</p>
<p>  �
</p>
<p>Format
specifi-ca
</p>
<p>tion
</p>
<p>RST
</p>
<p>ACT
</p>
<p>W1
</p>
<p>*
</p>
<p>����
</p>
<p>Input data
address
</p>
<p>SIN
</p>
<p>*
</p>
<p>����
</p>
<p>Conver-si
on result
output
</p>
<p>address
</p>
<p>����5.23.2  Expression format of DCNVB
</p>
<p>(a) Sign of the data to be converted (SIN)
This parameter is significant only when you are converting BCD data
into binary coded data. It gives the sign of the BCD data.
Note that though it is insignificant when you are converting binary 
</p>
<p>into BCD data, you cannot omit it.
SIN=0 : Data (BCD code) to be input is positive.
SIN=1 : Data (BCD code) to be input is negative.
</p>
<p>(b) Type of conversion (CNV)
CNV=0 : Convert binary data into BCD data
CNV=1 : Convert BCD data into binary data.
</p>
<p>(c) Reset (RST)
RST=0 : Release reset
RST=1 : Reset error output W1. In other words, set W1=0.
</p>
<p>(d) Execution command (ACT)
ACT=0 : Data is not converted. The value of W1 remains unchanged.
ACT=1 : Data is converted.
</p>
<p>5.23
DCNVB (EXTENDED
DATA CONVERSION)
</p>
<p>5.23.1
Function
</p>
<p>5.23.2
Format
</p>
<p>5.23.3
Control Conditions
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>172
</p>
<p>(a) Format specification
Specify data length (1,2, or 4 bytes).
Use the first digit of the parameter to specify byte length.
</p>
<p>1 : one byte
2 : two bytes
4 : four bytes
</p>
<p>(b) Input data address
Specify the address containing the input data address.
</p>
<p>(c) Address for the conversion result output
Specify the address to output the data converted to BCD or binary
format.
</p>
<p>W1=0 : Correct conversion
W1=1 : Abnormally 
(The data to be converted is specified as BCD data but is found to be
binary data, or the specified number of bytes cannot contain (and hence
an overflow occurs) the BCD data into which a binary data is converted.)
</p>
<p>This register is set with data on operation. If register bit 1 is on, they
signify the following.
For the positive/negative signs when binary data is converted into BCD
data, see R9000.
</p>
<p>R9000
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>Overflow 
(data exceeds the number of bytes specified)
</p>
<p>Negative
</p>
<p>5.23.4
Parameters
</p>
<p>5.23.5
Error Output (W1)
</p>
<p>5.23.6
Operation Output
Register (R9000)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>173
</p>
<p>Compares input and comparison values.
</p>
<p>Fig.5.24.2 shows the expression format and Table 5.24.2 shows the
coding format.
</p>
<p>COMP
</p>
<p>(SUB 15)
</p>
<p>BYT
  �
</p>
<p>���.�
</p>
<p>ACT
</p>
<p>���.�
</p>
<p>W1
</p>
<p>����.�
</p>
<p>���� ����
</p>
<p>Instruction
</p>
<p>Input data format 
(constant or address)
</p>
<p>Input value
Comparison value
</p>
<p>Comparison
result output
</p>
<p>Control condition
</p>
<p>����5.24.2  COMP instruction format
</p>
<p>Table 5.24.2  COMP instruction coding
</p>
<p>Coding sheet Memory status of control condition
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD ��� . � BYT BYT
</p>
<p>2 RD. STK ��� . � ACT BYT ACT
</p>
<p>3 SUB 15 COMP instruction
</p>
<p>4 (PRM) � Input data format
</p>
<p>5 (PRM) ���� Input data
</p>
<p>6 (PRM) ���� Comparison data address
</p>
<p>7 WRT ��� . � W1: Comparison result output W1
</p>
<p>5.24
COMP
(COMPARISON)
</p>
<p>5.24.1
Function
</p>
<p>5.24.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>174
</p>
<p>(a) Specify the data size.
BYT=0 : Process data (input value and comparison value) is BCD 
</p>
<p>two digits long.
BYT=1 : Process data (input value and comparison value) is four 
</p>
<p>digits long.
</p>
<p>(b) Execution command
ACT=0 : The COMP instruction is not executed. W1 does not alter.
ACT=1 : The COMP instruction is executed and the result is output
</p>
<p>to W1.
</p>
<p>0 : Specifies input data with a constant.
1 : Specifies input data with an address
</p>
<p>Not specify input data directly, but specify an address storing input
data.
</p>
<p>The input data can be specified as either a constant or the address storing
it. The selection is made by a parameter of format specification.
</p>
<p>Specifies the address storing the comparison data.
</p>
<p>W1=0 :Reference data &gt; Comparison data
W1=1 :Reference data� Comparison data
</p>
<p>5.24.3
Control Conditions
</p>
<p>5.24.4
Input Data Format
</p>
<p>5.24.5
Input Data
</p>
<p>5.24.6
Comparison Data
Address
</p>
<p>5.24.7
Comparison Result
Output
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>175
</p>
<p>This instruction compares 1, 2, and 4-byte binary data with one another.
Results of comparison are set in the operation output register (R9000).
Sufficient number of bytes are necessary in the memory to hold the input
data and comparison data.
</p>
<p>Fig.5.25.2 shows the expression format of COMPB.
</p>
<p>COMPB
</p>
<p>SUB 32
</p>
<p>����
</p>
<p>Format
specifi-
cation
</p>
<p>*
</p>
<p>����
</p>
<p>Input data
(address)
</p>
<p>*
</p>
<p>����
</p>
<p>Address of
data to be
compared
</p>
<p>ACT
</p>
<p>����5.25.2  Expression format of COMPB
</p>
<p>(a) Command (ACT)
ACT=0 : Do not execute COMPB.
ACT=1 : Execute COMPB.
</p>
<p>(a) Format specification
Specify data length (1,2, or 4 bytes) and format for the input data 
(&rsquo;constants data&rsquo; or &rsquo;address data&rsquo;).
</p>
<p>Specification of data length
</p>
<p>0
</p>
<p>Specification of format
</p>
<p>1 : 1 byte length data
2 : 2 byte length data
4 : 4 byte length data
</p>
<p>0
</p>
<p>0 : Constants
1 : Address
</p>
<p>(b) Input data (address)
Format for the input data is determined by the specification in a).
</p>
<p>(c) Address of data to be compared
Indicates the address in which the comparison data is stored.
</p>
<p>5.25
COMPB
(COMPARISON
BETWEEN BINARY
DATA)
</p>
<p>5.25.1
Function
</p>
<p>5.25.2
Format
</p>
<p>5.25.3
Control Conditions
</p>
<p>5.25.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>176
</p>
<p>The data involved in the operation are set in this register.  This register is
set with data on operation.  If register bit 1 is on, they indicate the
following:
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>R9000
</p>
<p>Zero (input data=data compared)
</p>
<p>Negative (input data&lt;data compared)
</p>
<p>Overflow
</p>
<p>5.25.5
Operation Output
Register (R9000)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>177
</p>
<p>Checks whether the input value and comparison value coincide.
This instruction is available with BCD data.
</p>
<p>Fig.5.26.2 shows the expression format and Table 5.26.2 shows the
coding format.
</p>
<p>COIN
</p>
<p>(SUB 16)
</p>
<p>BYT (1)
</p>
<p>  �
���.�
</p>
<p>ACT
</p>
<p>���.�
</p>
<p>W1
</p>
<p>����.�
</p>
<p>(2)
</p>
<p>����
</p>
<p>(3)
</p>
<p>����
</p>
<p>Instruction
</p>
<p>Input value format (constant or address)
</p>
<p>Input value
Comparison value 
address
</p>
<p>Result
(1)
</p>
<p>(0)
</p>
<p>Control conditions
</p>
<p>Output
</p>
<p>����5.26.2  COIN instruction format
</p>
<p>Table 5.26.2  COIN instruction coding
</p>
<p>Coding sheet Memory status of control condition
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD ��� . � BYT BYT
</p>
<p>2 RD. STK ��� . � ACT BYT ACT
</p>
<p>3 SUB 16 COIN instruction
</p>
<p>4 (PRM) � Reference value format
</p>
<p>5 (PRM) ���� Reference value
</p>
<p>6 (PRM) ���� Comparison value address
</p>
<p>7 WRT ��� . � W1: Checking result output W1
</p>
<p>5.26
COIN (COINCIDENCE
CHECK)
</p>
<p>5.26.1
Function
</p>
<p>5.26.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>178
</p>
<p>(a) Specify the data size.
BYT=0 : Process data (input value, and comparison values).  
</p>
<p>Each BCD is two digits long.
BYT=1 : Each BCD four digits long.
</p>
<p>(b) Execution command
ACT=0 : The COIN instruction is not executed. W1 does not
change.
ACT=1 : The COIN instruction is executed and the results is output
</p>
<p>to W1.
</p>
<p>0 :  Specifies input data as a constant.
1 :  Specifies input data as an address.
</p>
<p>The input data can be specified as either a constant or an address storing
it. The selection is made by a parameter of format designation.
</p>
<p>Specifies the address storing the comparison data.
</p>
<p>W1=0 : Input data � Comparison data
W1=1 : Input data = Comparison data
</p>
<p>5.26.3
Control Conditions
</p>
<p>5.26.4
Input Data Format.
</p>
<p>5.26.5
Input Data
</p>
<p>5.26.6
Comparison Data
Address
</p>
<p>5.26.7
Comparison Result
Output
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>179
</p>
<p>This instruction shifts 2-byte (16-bit) data by a bit to the left or right. Note
that W1=1 when data &rdquo;1&rdquo; is shifted from the left extremity (bit 15) in left
shift or from the right extremity (bit 0) in right shift.
</p>
<p>SFT
</p>
<p>(SUB 33)
</p>
<p>CONT
</p>
<p>*
</p>
<p>����
</p>
<p>Address of 
shift data
</p>
<p>RST
</p>
<p>ACT
</p>
<p>W1
</p>
<p>DIR
</p>
<p>(a) Shift direction specification (DIR)
DIR=0 : Left shift
DIR=1 : Right shift
</p>
<p>(b) Condition specification (CONT)
CONT=0:
On &rdquo;1&rdquo; bit shifts by one bit in the specified direction.
The condition of an adjacent bit (eighter right or left adjacent bit
according to the specification of shift direction DIR) is set to the
original bit position of the on &rdquo;1&rdquo; bit.
Also, &rdquo;0&rdquo; is set to bit 0 after shifting in the left direction or set to hit
15 after shifting in the right direction.
In case of leftward shift;
</p>
<p>7 6 5 4 3 2 1 015 14 13 12 11 10 9 8
</p>
<p>Left shift
</p>
<p>Bit shifts leftward every bit
</p>
<p>Shift out at bit 15
Zero is set to bit 0.
</p>
<p>CONT=1: 
Shift is the same as above, but 1s are set to shifted bits.
</p>
<p>5.27
SFT 
(SHIFT REGISTER)
</p>
<p>5.27.1
Function
</p>
<p>5.27.2
Format
</p>
<p>5.27.3
Control Conditions
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>180
</p>
<p>9 815 14 13 12 11 10 7 6 5 4 3 2 1 0
</p>
<p>Left shift
0 0 0 0 0 0 1
</p>
<p>Each bit shifts leftward.  Status 1 remains unchanged
</p>
<p>1 001 1 0 01 1
</p>
<p>(c) Reset (RST)
The shifted out data (W1=1) is reset (W1=0).
</p>
<p>RST=0 : W1 is not reset.
RST=1 : W1 is reset (W1=0).
</p>
<p>(d) Actuation signal (ACT)
Shift processing is done when ACT=1. For shifting one bit only,
execute an instruction when ACT=1, and then, set ACT to 0
(ACT=0).
</p>
<p>(a) Shift data addresses
Sets shift data addresses. These designated addresses require a
continuous 2-byte memory for shift data.
Bit numbers are represented by bit 0 to 15 as shown below. When
addresses are designated for programming, an address number is
attached every 8 bits, and the designable bit numbers are 0 to 7.
</p>
<p>15 9 814 13 12 11 10
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>Designated address
</p>
<p>Designated address +1
</p>
<p>W1=0 : &rdquo;1&rdquo; was not shifted out because of the shift operation.
W1=1 : &rdquo;1&rdquo; was shifted out because of the shift operation.
</p>
<p>5.27.4
Parameters
</p>
<p>5.27.5
W1
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>181
</p>
<p>DSCH is only valid for data tables (see section 6.3) which can be used by
the PMC. DSCH searches the data table for a specified data, outputs an
address storing it counting from the beginning of the data table. If the data
cannot be found, an output is made accordingly.
</p>
<p>Search data
</p>
<p>Data table
</p>
<p>100
</p>
<p>0
</p>
<p>1
</p>
<p>2
</p>
<p>n
</p>
<p>Table internal number
</p>
<p>100
</p>
<p>2
</p>
<p>Search data result output
</p>
<p>����5.28.1
</p>
<p>NOTE
Parameter of this functional instruction and the data table
heading address specified here are table internal number 0.
The table internal number specified here, however, is
different from that mentioned in 6.3.
</p>
<p>Fig.5.28.2 shows the expression format and Table 5.28.2 shows the
coding format.
</p>
<p>DSCH
</p>
<p>(SUB 17)
</p>
<p>BYT
</p>
<p>(1)
</p>
<p>����
</p>
<p>����.�
ACT
</p>
<p>����.�
</p>
<p>W1
</p>
<p>����.�
</p>
<p>(2)
</p>
<p>����
</p>
<p>(3)
</p>
<p>����
</p>
<p>Control condition
</p>
<p>Instruction
</p>
<p>Number of data of the data table (Table capacity)
</p>
<p>Data table heading address
</p>
<p>Search data address
</p>
<p>Search data 
presence/absence 
output address
</p>
<p>BYT
</p>
<p>����.�
</p>
<p>(2)
</p>
<p>(1)
</p>
<p>(0)
</p>
<p>Search result output address
</p>
<p>(4)
</p>
<p>����
</p>
<p>����5.28.2  DSCH instruction format
</p>
<p>5.28
DSCH 
(DATA SEARCH)
</p>
<p>5.28.1
Function
</p>
<p>5.28.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>182
</p>
<p>Table 5.28.2  DSCH instruction coding
</p>
<p>Coding sheet Memory status of control condition
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD ��� . � BYT BYT
</p>
<p>2 RD. STK ��� . � RST BYT RST
</p>
<p>3 RD. STK ��� . � ACT BYT RST ACT
</p>
<p>4 SUB 17 DSCH instruction
</p>
<p>5 (PRM) ���� Number of data of the data table
</p>
<p>6 (PRM) ���� Data table heading address
</p>
<p>7 (PRM) ���� Search data address
</p>
<p>8 (PRM) ���� Search result output address
</p>
<p>9 WRT ��� . � Search data presence/absence output adress W1
</p>
<p>(a) Specify data size.
BYT=0 : Data stored in the data table, BCD two digits long.
BYT=1 : Data stored in the data table, BCD four digits long.
</p>
<p>(b) Reset
RST=0 : Release reset
RST=1 : Enables a reset, that is, sets W1 to 0.
</p>
<p>(c) Execution command
ACT=0 : The DSCH instruction is not executed. W1 does not change.
ACT=1 : The DSCH is executed, and the table internal number 
</p>
<p>storing the desired data is output., If the data cannot be 
found, W1=1.
</p>
<p>Specifies the size of the data table. If the beginning of the data table is 0
and the end is n, n+1 is set as the number of data of the data table.
</p>
<p>Addresses that can be used in a data table are fixed. When preparing a data
table, the addresses to be used must be determined beforehand, specify the
head address of a data table here.
</p>
<p>Indicates the address of the data to be searched.
</p>
<p>If the data being searched for is found, the internal number of the table
storing the data is output to this field.  This address field is called a search
result output address field.
The search result output address field requires memory whose size is the
number of bytes conforming to the size of the data specified by BYT.
</p>
<p>5.28.3
Control Conditions
</p>
<p>5.28.4
Number Of Data of the
Data Table
</p>
<p>5.28.5
Data Table Head
Address
</p>
<p>5.28.6
Search Data Address
</p>
<p>5.28.7
Search Result Output
Address
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>183
</p>
<p>W1=0 : The data to be searched exists.
W1=1 : The data to be searched does not exist.
</p>
<p>5.28.8
Search Data
Presence/Absence
Output
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>184
</p>
<p>Alike the DSCH instruction of Section 5.28, this function instruction
instructs data search in the data table.
There are two differences; the numerical data handled in this instruction
are all in binary format; and number of data (table capacity) in the data
table can be specified by specifying the address, thus allowing change in
table capacity even after writing the sequence program in the ROM.
</p>
<p>1
</p>
<p>0
</p>
<p>3
</p>
<p>n
</p>
<p>Table number Data table
</p>
<p>Search data
</p>
<p>Search result output
</p>
<p>100100
</p>
<p>2
</p>
<p>2
</p>
<p>����5.29.1
</p>
<p>DSCHB
</p>
<p>(SUB 34)
  �
</p>
<p>Format
designa-
</p>
<p>tion
</p>
<p>ACT
</p>
<p>W1
</p>
<p>*
����
</p>
<p>Storage
address of
number of
</p>
<p>data in
data table
</p>
<p>*
����
</p>
<p>Data table
head
</p>
<p>address
</p>
<p>RST
*
</p>
<p>����
</p>
<p>Search
data
</p>
<p>address
</p>
<p>Search result*
����
</p>
<p>Output
address of
</p>
<p>search
result
</p>
<p>����5.29.2
</p>
<p>5.29
DSCHB (BINARY
DATA SEARCH)
</p>
<p>5.29.1
Function
</p>
<p>5.29.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>185
</p>
<p>(a) Reset (RST)
RST=0 : Release reset
RST=1 : Reset. W1=&rdquo;0&rdquo;.
</p>
<p>(b) Activation command
ACT=0 : Do not execute DSCHB instruction. W1 does not change.
ACT=1 : Execute DSCHB instruction. If the search data is found,
</p>
<p>table number where the data is stored will be output. If the
search data is not found, W1 becomes 1.
</p>
<p>(a) Format designation
Specifies data length. Specify byte length in the first digit of the 
parameter. 
</p>
<p>1 : 1-byte long data
2 : 2-byte long data
4 : 4-byte long data
</p>
<p>(b) Storage address of number of data in data table
Specifies address in which number of data in the data table is set.
This address requires memory of number of byte according to the
format designation.
Number of data in the table is n+1 (headnumber in the table is 0 and
the last number is n).
</p>
<p>(c) Data table head address
Sets head address of data table.
</p>
<p>(d) Search data address
Address in which search data is set.
</p>
<p>(e) Search result output address
After searching, if search data is found, the table number where the
data is stored will be output. The searched table number is output in
this search result output address. This address requires memory of
number of byte according to the format designation.
</p>
<p>W1=0 :Search data found.
W1=1 :Search data not found.
</p>
<p>5.29.3
Control Conditions
</p>
<p>5.29.4
Parameter
</p>
<p>5.29.5
Search Result (W1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>186
</p>
<p>Reads or rewrites the contents of the data table. Like the DSCH
instruction, XMOV is only valid for data tables which can be used by the
PMC.
</p>
<p>NOTE
The data table heading address specified here is table
internal number 0. The table internal number specified here,
however, is different from that mentioned in 6.3.
</p>
<p>0
</p>
<p>1
</p>
<p>3
</p>
<p>n
</p>
<p>Table internal number Data table
</p>
<p>Input or output data
</p>
<p>2
</p>
<p>2
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
</p>
<p>&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
</p>
<p>Table internal storing
input or output data
</p>
<p>1 Read out data from the data table.
2 Write data in the data table.
</p>
<p>1
</p>
<p>2
</p>
<p>����5.30.1  Reading and writing of data
</p>
<p>Fig.5.30.2 shows the expression format and Table 5.30.2 shows the
coding format.
</p>
<p>XMOV
</p>
<p>(SUB 18)RST
</p>
<p>(1)
</p>
<p>����
</p>
<p>����.�
</p>
<p>ACT
</p>
<p>����.�
</p>
<p>W1
</p>
<p>����.�
</p>
<p>(2)
</p>
<p>����
</p>
<p>(3)
</p>
<p>����
</p>
<p>Control condition
</p>
<p>Instruction
</p>
<p>Number of data of the data table (Table capacity)
</p>
<p>Data table heading address
</p>
<p>Address storing input/output data
</p>
<p>Error output
</p>
<p>RW
</p>
<p>����.�
</p>
<p>(2)
</p>
<p>(1)
</p>
<p>(0)
</p>
<p>Address storing tabel internal number
</p>
<p>(4)
</p>
<p>����
</p>
<p>BYT
</p>
<p>����.�
</p>
<p>(3)
</p>
<p>����5.30.2  XMOV instruction format
</p>
<p>5.30
XMOV (INDEXED
DATA TRANSFER)
</p>
<p>5.30.1
Function
</p>
<p>5.30.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>187
</p>
<p>Table 5.30.2  XMOV instruction coding
</p>
<p>Coding sheet Memory status of control conditions
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD ��� . � BYT BYT
</p>
<p>2 RD. STK ��� . � RW BYT RW
</p>
<p>3 RD. STK ��� . � RST BYT RW RST
</p>
<p>4 RD. STK ��� . � ACT BYT RW RST ACT
</p>
<p>5 SUB 18 XMOV instruction
</p>
<p>6 (PRM) ���� Number of data of the data table
</p>
<p>7 (PRM) ���� Data table heading address
</p>
<p>8 (PRM) ���� Address storing input/output data
</p>
<p>9 (PRM) ���� Address storing table internal number
</p>
<p>10 WRT ��� . � Error output W1
</p>
<p>(a) Specify the number of digits of data.
BYT=0 : Data stored in the data table, BCD in two digits long.
BYT=1 : Data stored in the data table, BCD in four digits long.
</p>
<p>(b) Specify read or write
RW=0 : Data is read from the data table.
RW=1 : Data is write in the data table.
</p>
<p>(c) Reset
RST=0 : Release reset.
RST=1 : Enables reset, that is, sets W1 to 0.
</p>
<p>(d) Execution command
ACT=0 : The XMOV instruction is not executed. W1 does not
change.
ACT=1 : The XMOV instruction is executed.
</p>
<p>Specifies the size of the data table. If the beginning of the data table is 0
and the end is n, n+1 is set as the number of data of the data table.
</p>
<p>Address that can be used in a data table are fixed.  When preparing a data
table, the addresses to be used must be determined beforehand, and the
head address placed in that data table .
</p>
<p>The input/output data storage address is the address storing the specified
data, and is external to the data table. The contents of the data table is read
or rewritten.
</p>
<p>5.30.3
Control Conditions
</p>
<p>5.30.4
Number of Data Of the
Data Table
</p>
<p>5.30.5
Data Table Head
Address
</p>
<p>5.30.6
Address Storing
Input/Output Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>188
</p>
<p>The table internal number storage address is the address storing the table
internal number of the data to be read or rewritten.
This address requires memory specified by the formaat designation
(BYT).
</p>
<p>W1=0 :There is no error.
W1=1 :There is an error.
</p>
<p>An error occurs if a table internal number exceeding the 
previously programmed number of the data table is specified.
</p>
<p>5.30.7
Address Storing the
Table Internal Number
</p>
<p>5.30.8
Error Output
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>189
</p>
<p>Alike the XMOV instruction of Section 5.30, this function instruction
instructs reading and rewriting of data in the data.
There are two differences; the numerical data handled in this instruction
are all in binary format; and number of data (table capacity) in the data
table can be specified by specifying the address, thus allowing change in
table capacity even after writing the sequence program in the ROM.
</p>
<p>0
</p>
<p>1
</p>
<p>3
</p>
<p>n
</p>
<p>Table internal number Data table
</p>
<p>Input or output data
</p>
<p>2
</p>
<p>2
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
</p>
<p>&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
</p>
<p>Table number where
input/output data is stored
</p>
<p>1 Data read from data table
2 Data write to data table
</p>
<p>1
</p>
<p>2
</p>
<p>����5.31.1  Data read and data write
</p>
<p>XMOVB
</p>
<p>(SUB 35)
</p>
<p>RST
</p>
<p>  �
</p>
<p>Format
designa-
</p>
<p>tion
</p>
<p>ACT
</p>
<p>W1
</p>
<p>*
����
</p>
<p>Storage
address
</p>
<p>of
number
of data
in data
table
</p>
<p>*
����
</p>
<p>Data
table
head
</p>
<p>address
</p>
<p>RW
*
</p>
<p>����
</p>
<p>I/O data
storage
address
</p>
<p>*
����
</p>
<p>Table
number
storage
address
</p>
<p>5.31
XMOVB (BINARY
INDEX MODIFIER
DATA TRANSFER)
</p>
<p>5.31.1
Function
</p>
<p>5.31.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>190
</p>
<p>(a) Read, write designation (RW)
RW=0 : Read data  from data table.
RW=1 : Write data to data table.
</p>
<p>(b) Reset (RST)
RST=0 : Reset release.
RST=1 : Reset. W=1.
</p>
<p>(c) Activation command (ACT)
ACT=0: Do not execute MOV instruction. 
</p>
<p>There is no change in W1.
ACT=1: Execute MOV instruction.
</p>
<p>(a) Format designation
Specifies data length. Specify byte length in the first digit of the 
parameter.
</p>
<p>1 : 1-byte long data
2 : 2-byte long data
4 : 4-byte long data
</p>
<p>(b) Storage address of number of data in data table
Specifies address in which number of data in the data table is set.
This address requires 1 or 2-byte memory according to the format
designation.
Number of data in the table is n+1 (head number in the table is 0 and
the last number is n).
</p>
<p>(c) Data table head address
Sets head address in the data table.
</p>
<p>(d) Input/Output data storage address
Reads and rewrites data in the data table. The data read or rewritten
is stored in this address.
</p>
<p>(e) Table number storage address
When reading or rewriting data in the data table, table number of
where to read or rewrite must be specified. The specified table
number is stored in this table number storage address. This address
requires 1 or 2-byte memory according to the format designation.
</p>
<p>W1=0 :No error
W1=1 :Error found.
Error will be output if number of data more than pre-programmed in the
data table is specified.
</p>
<p>5.31.3
Control Conditions
</p>
<p>5.31.4
Parameters
</p>
<p>5.31.5
Error Output (W1)ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>191
</p>
<p>Adds BCD two-or four-digit data.
</p>
<p>Fig.5.32.2 shows the expression format and Table 5.32.2 shows the
coding format.
</p>
<p>ADD
</p>
<p>(SUB 19)
</p>
<p>RST
</p>
<p>(1)
</p>
<p>  �
</p>
<p>����.�
ACT
</p>
<p>����.�
</p>
<p>W1
</p>
<p>���.�
</p>
<p>(2)
</p>
<p>����
</p>
<p>(3)
</p>
<p>����
</p>
<p>Instruction
</p>
<p>Format of addend (Constant or address)
</p>
<p>Summand address
</p>
<p>Addend
</p>
<p>Error output
</p>
<p>BYT
</p>
<p>����.�
</p>
<p>(2)
</p>
<p>(1)
</p>
<p>(0)
</p>
<p>Sum output address
</p>
<p>(4)
</p>
<p>����
</p>
<p>A  +  B   =  C
</p>
<p>Control conditions
</p>
<p>����5.32.2  ADD instruction format
</p>
<p>Table 5.32.2  DSCH instruction coding
Coding sheet Memory status of control conditions
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD ��� . � BYT BYT
</p>
<p>2 RD. STK ��� . � RST BYT RST
</p>
<p>3 RD. STK ��� . � ACT BYT RST ACT
</p>
<p>4 SUB 19 ADD instruction
</p>
<p>5 (PRM) � Addend format
</p>
<p>6 (PRM) ���� Summand address
</p>
<p>7 (PRM) ���� Addend (address)
</p>
<p>8 (PRM) ���� Sum output address
</p>
<p>9 WRT ��� . � Error output W1
</p>
<p>5.32
ADD (ADDITION)
</p>
<p>5.32.1
Function
</p>
<p>5.32.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>192
</p>
<p>(a) Specify the number of digits of data.
BYT=0 : Data is BCD two digits long.
BYT=1 : Data is BCD four digits long.
</p>
<p>(b) Reset
RST=0 : Release reset.
RST=1 : Resets error output W1, that is, sets W1 to 0.
</p>
<p>(c) Execution command  
ACT=0 : The ADD instruction is not executed.
ACT=1 : The ADD instruction is executed.
</p>
<p>0 : Specifies addend with a constant.
1 : Specifies addend with an address.
</p>
<p>Set the address storing the summand.
</p>
<p>Addressing of the addend depends on 4).
</p>
<p>Set the address to which the sum is to be output.
</p>
<p>If the sum exceeds the data size specified in 3), a), W1=1 is set to indicate
an error.
</p>
<p>5.32.3
Control Conditions
</p>
<p>5.32.4
Data Format of Addend
</p>
<p>5.32.5
Summand Address
</p>
<p>5.32.6
Addend (Address)
</p>
<p>5.32.7
Sum Output Address
</p>
<p>5.32.8
Error Output
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>193
</p>
<p>This instruction performs binary addition between 1-, 2-, and 4-byte data.
In the operation result register (R9000), operating data is set besides the
numerical data representing the operation  results. The required number
of bytes is necessary to store each augend, the added, and the operation
output data.
</p>
<p>ADDB
</p>
<p>(SUB 36)
</p>
<p>����
</p>
<p>Format 
specifi-
cation
</p>
<p>ACT
W1
</p>
<p>*
����
</p>
<p>Augend 
address
</p>
<p>*
����
</p>
<p>Addend 
address or
constant
</p>
<p>Error output
RST
</p>
<p>*
����
</p>
<p>Result
(sum)
address
</p>
<p>A   +   B   =   C
</p>
<p>(a) Reset (RST)
RST=0 : Release reset
RST=1 : Resets error output W1. In other words, makes W1=0.
</p>
<p>(b) Command (ACT)
ACT=0 : Do not execute ADDB. W1 does not change now.
ACT=1 : Execute ADDB.
</p>
<p>(a) Format specification
Specifies data length (1,2, and 4 bytes) and the format for the addend
(constant or address).
</p>
<p>Data length specification
</p>
<p>0
</p>
<p>Format specification
</p>
<p>1 : 1 byte length data
2 : 2 bytes length data
4 : 4 bytes length data
</p>
<p>0
</p>
<p>0 : Constant data
1 : Address data
</p>
<p>5.33
ADDB 
(BINARY ADDITION)
</p>
<p>5.33.1
Function
</p>
<p>5.33.2
Format
</p>
<p>5.33.3
Control Conditions
</p>
<p>5.33.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>194
</p>
<p>(b) Augend address
Address containing the augend.
</p>
<p>(c) Addend data (address)
Specification in (a) determines the format of the addend.
</p>
<p>(d) Result output address
Specifies the address to contain the result of operation.
</p>
<p>W1=0 :Operation correct
W1=1 :Operation incorrect
W1 goes on (W1=1) if the result of addition exceeds the specified data
length.
</p>
<p>This register is set with data on operation.  If register bit is on, they signify
the following operation data:
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>R9000
</p>
<p>Overflow
</p>
<p>Zero
</p>
<p>Negative
</p>
<p>5.33.5
Error Output (W1)
</p>
<p>5.33.6
Operation Output
Register (R9000)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>195
</p>
<p>Subtracts BCD two-or four-digit data.
</p>
<p>Fig.5.34.2 shows the expression format and Table 5.34.2 shows the
coding format.
</p>
<p>SUB
</p>
<p>(SUB 20)
</p>
<p>RST
</p>
<p>(1)
</p>
<p>  �
</p>
<p>����.�
</p>
<p>ACT
</p>
<p>����.�
</p>
<p>W1
</p>
<p>����.�
</p>
<p>���� ����
</p>
<p>Control condition
</p>
<p>Instruction
</p>
<p>Minuend data format
</p>
<p>Subtrahend (data address)
</p>
<p>Subtrahend (address or constant)
</p>
<p>Error output
</p>
<p>BYT
</p>
<p>����.�
</p>
<p>(2)
</p>
<p>(1)
</p>
<p>(0)
</p>
<p>Difference output address
</p>
<p>����
</p>
<p>����5.34.2  SUB Instruction format
</p>
<p>Table 5.34.2  SUB instruction format
Coding sheet Memory status of control conditions
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD ��� . � BYT BYT
</p>
<p>2 RD. STK ��� . � RST BYT RST
</p>
<p>3 RD. STK ��� . � ACT BYT RST ACT
</p>
<p>4 SUB 20 SUB instruction
</p>
<p>5 (PRM) � Data format of subtrahend
</p>
<p>6 (PRM) ���� Minuend address
</p>
<p>7 (PRM) ���� Subtrahend (address)
</p>
<p>8 (PRM) ���� Difference output address
</p>
<p>9 WRT ��� . � Error output W1
</p>
<p>5.34
SUB (SUBTRACTION)
</p>
<p>5.34.1
Function
</p>
<p>5.34.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>196
</p>
<p>(�) Specification of the number of digits of data.
BYT=0 : Data BCD two digits long
BYT=1 : Data BCD four digits long
</p>
<p>RST=0 : Release reset.
RST=1 : Resets error output W1, that is, sets W1 to 0.
</p>
<p>ACT=0 : The SUB instruction is not executed. W1 does not change.
ACT=1 : The SUB instruction is executed.
</p>
<p>0 : Specifies subtrahend with a constant.
1 : Specifies subtrahend with an address.
</p>
<p>Set the address storing the minuend.
</p>
<p>Addressing of the subtrahend depends on (6).
</p>
<p>Sets the address to which the difference is output.
</p>
<p>W1 is set 1 to indicate an error if the difference is negative.
</p>
<p>5.34.3
Control Conditions
</p>
<p>5.34.4
Reset
</p>
<p>5.34.5
Execution Command
</p>
<p>5.34.6
Data Format of
Subtrahend
</p>
<p>5.34.7
Minuend Address
</p>
<p>5.34.8
Subtrahend (Address)
</p>
<p>5.34.9
Difference Output
Address
</p>
<p>5.34.10
Error Output
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>197
</p>
<p>This instruction subtracts one data from another, both data being in the
binary format of 1, 2 or 4 bytes. 
In the operation result register (R9000), operation data is set besides the
numerical data representing the operation. A required number of bytes is
necessary to store the subtrahend, minuend, and the result (difference).
</p>
<p>SUBB
</p>
<p>(SUB 37)
</p>
<p>����
</p>
<p>Format
specifi-
cation
</p>
<p>ACT W1
</p>
<p>*
����
</p>
<p>Menuend
address
</p>
<p>*
����
</p>
<p>Subtrahend
addressor
constant
</p>
<p>Error output
</p>
<p>RST
*
</p>
<p>����
</p>
<p>Differenc
e output
address
</p>
<p>A      &ndash;      B       =        C
</p>
<p>(a) Reset (RST)
RST=0 : Release reset
RST=1 : Resets error output W1. (Set W1 to 0.)
</p>
<p>(b) Command (ACT)
ACT=0: Do not execute SUBB. W1 does not change now.
ACT=1: Execute SUBB.
</p>
<p>(a) Format specification
Specifies data length (1, 2, and 4 bytes) and the format for the 
subtrahend (constant or address).
</p>
<p>Data length specification
    1 : 1 byte length data
    2 : 2 bytes length data
    4 : 4 bytes length data
</p>
<p>0
</p>
<p>Format specification
    0 : Constant data
    1 : Address data
</p>
<p>0
</p>
<p>(b) Minuend address
Address containing the minuend.
</p>
<p>5.35
SUBB (BINARY
SUBTRACTION)
</p>
<p>5.35.1
Function
</p>
<p>5.35.2
Format
</p>
<p>5.35.3
Control Conditions
</p>
<p>5.35.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>198
</p>
<p>(c) Minuend data (address)
Specification in (a) determines the format of the minuend.
</p>
<p>(d) Result output address
Specifies the address to contain the result of operation.
</p>
<p>W1=0 :Operation correct
W1=1 :Operation incorrect
W1 goes on (W1=1) if the result of subtraction exceeds the specified data
length.
</p>
<p>This register is set with data on operation.  If register bit is on, they signify
the following operation data:
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>R9000
</p>
<p>Zero
</p>
<p>Negative
</p>
<p>Overflow
</p>
<p>5.35.5
Error Output (W1)
</p>
<p>5.35.6
Operation Output
Register (R9000)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>199
</p>
<p>Multiplies BCD two-or four-digit data. The product must also be BCD
two-or four-digit data.
</p>
<p>Fig.5.36.2 shows the expression format and Table 5.36.2 shows the
coding format.
</p>
<p>MUL
</p>
<p>(SUB 21)
</p>
<p>RST
</p>
<p>(1)
</p>
<p>  �
</p>
<p>���.�
ACT
</p>
<p>���.�
</p>
<p>W1
</p>
<p>����.�
</p>
<p>(2)
</p>
<p>����
</p>
<p>(3)
</p>
<p>����
</p>
<p>Control conditions
</p>
<p>Instruction
</p>
<p>Data format of multiplier (constant or address)
</p>
<p>Multiplicand address
</p>
<p>Multiplier (address or constant)
</p>
<p>Error output
</p>
<p>BYT
</p>
<p>���.�
</p>
<p>(2)
</p>
<p>(1)
</p>
<p>(0)
</p>
<p>Product output address
</p>
<p>(4)
</p>
<p>����
</p>
<p>A  &times;  B   =  C
</p>
<p>����5.36.2  MUL instruction format
</p>
<p>Table 5.36.2  MUL instruction coding
</p>
<p>Coding sheet Memory status of control conditions
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD ��� . � BYT BYT
</p>
<p>2 RD. STK ��� . � RST BYT RST
</p>
<p>3 RD. STK ��� . � ACT BYT RST ACT
</p>
<p>4 SUB 21 MUL instruction
</p>
<p>5 (PRM) � Data format of multiplier
</p>
<p>6 (PRM) ���� Multiplicand address
</p>
<p>7 (PRM) ���� Multiplier (address)
</p>
<p>8 (PRM) ���� Product output address
</p>
<p>9 WRT ��� . � Error output W1
</p>
<p>5.36
MUL 
(MULTIPLICATION)
</p>
<p>5.36.1
Function
</p>
<p>5.36.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>200
</p>
<p>(a) Specify the number of digits of data. 
BYT=0 : Data is BCD two digits long.
BYT=1 : Data is BCD four digits long.
</p>
<p>(b) Reset
RST=0 : Releases reset.
RST=1 : Resets error output W1, that is, sets W1 to 0.
</p>
<p>(c) Execution command  
ACT=0 : The MUL instruction is not executed. W1 does not
change.
ACT=1 : The MUL instruction is executed.
</p>
<p>0 : Specifies multiplier with a constant.
1 : Specifies multiplier with an address.
</p>
<p>Sets the address storing the multiplicand.
</p>
<p>Addressing of the multiplier depends on 4).
</p>
<p>Set the address to which the product is output.
</p>
<p>W1=1 is set to indicate an error if the product exceeds the size specified
in 3), a).
</p>
<p>5.36.3
Control Conditions
</p>
<p>5.36.4
Data Format of
Multiplier
</p>
<p>5.36.5
Multiplicand Address
</p>
<p>5.36.6
Multiplier (Address)
</p>
<p>5.36.7
Product Output
Address
</p>
<p>5.36.8
Error Output
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>201
</p>
<p>This instruction multiplies 1-, 2-, and 4-byte binary data items. In the
operation result register (R9000), operation data is set besides the
numerical data representing the operation. 
A required number of bytes is necessary to store multiplicand, multiplier,
and the result (product).
</p>
<p>MULB
</p>
<p>(SUB 38)
</p>
<p>����
</p>
<p>Format
specifi-
cation
</p>
<p>ACT W1
</p>
<p>*
����
</p>
<p>Multi-plic
and
</p>
<p>address
</p>
<p>*
����
</p>
<p>Multiplier
address or
constant
</p>
<p>Error output
RST *
</p>
<p>����
</p>
<p>Product
output
</p>
<p>address
</p>
<p>A       &times;       B       =       C
</p>
<p>(a) Reset (RST)
RST=0 : Release reset
RST=1 : Resets error output W1. In other words, makes W1=0.
</p>
<p>(b) Command (ACT)
ACT=0: Do not execute MULB. W1 does not change now.
ACT=1: Execute MULB.
</p>
<p>(a) Format specification
Specifies data length (1, 2, and 4 bytes) and the format for the 
multiplier (constant or address).
</p>
<p>Data length specification
</p>
<p>0
</p>
<p>Format specification
</p>
<p>1 : 1 byte length data
2 : 2 bytes length data
4 : 4 bytes length data
</p>
<p>0
</p>
<p>0 : Constant data
1 : Address data
</p>
<p>5.37
MULB (BINARY
MULTIPLICATION)
</p>
<p>5.37.1
Function
</p>
<p>5.37.2
Format
</p>
<p>5.37.3
Control Conditions
</p>
<p>5.37.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>202
</p>
<p>(b) Multiplicand address
Address containing the multiplicand.
</p>
<p>(c) Multiplier data (address or constant)
Specification in (a) determines the format of the multiplier.
</p>
<p>(d) Result output address
Specifies the address to contain the result of operation.
</p>
<p>W1=0 :Operation correct
W1=1 :Operation incorrect
W1 goes on (W1=1) if the result of multiplication exceeds the specified
data length.
</p>
<p>This register is set with data on operation.  If register bit is on, they signify
the following operation data:
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>R9000
</p>
<p>Overflow
</p>
<p>Zero
</p>
<p>Negative
</p>
<p>5.37.5
Error Output (W1)
</p>
<p>5.37.6
Operation Output
Register (R9000)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>203
</p>
<p>Divides BCD two-or four-digit data. Remainders are discarded.
</p>
<p>Fig.5.38.2 shows the expression format and Table 5.38.2 shows the
coding format.
</p>
<p>DIV
</p>
<p>(SUB 22)
</p>
<p>RST
</p>
<p>(1)
</p>
<p>  �
</p>
<p>����.�
</p>
<p>ACT
</p>
<p>����.�
</p>
<p>W1
</p>
<p>���.�
</p>
<p>(2)
</p>
<p>����
</p>
<p>(3)
</p>
<p>����
</p>
<p>Control conditions
</p>
<p>Instruction
</p>
<p>Data format of divider
</p>
<p>Dividend address
</p>
<p>Divisor (address or constant)
</p>
<p>Error output
</p>
<p>BYT
</p>
<p>����.�
</p>
<p>(2)
</p>
<p>(1)
</p>
<p>(0)
</p>
<p>Quotient output address
</p>
<p>(4)
</p>
<p>����
</p>
<p>����5.38.2  DIV instruction format
</p>
<p>Table 5.38.2  DIV instruction coding
</p>
<p>Coding sheet Memory status of control conditions
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD ��� . � BYT BYT
</p>
<p>2 RD. STK ��� . � RST BYT RST
</p>
<p>3 RD. STK ��� . � ACT BYT RST ACT
</p>
<p>4 SUB 22 DIV instruction
</p>
<p>5 (PRM) � Data format of divider
</p>
<p>6 (PRM) ���� Dividend address
</p>
<p>7 (PRM) ���� Divider (address)
</p>
<p>8 (PRM) ���� Quatient output address
</p>
<p>9 WRT ��� . � Error output W1
</p>
<p>5.38
DIV (DIVISION)
</p>
<p>5.38.1
Function
</p>
<p>5.38.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>204
</p>
<p>(a) Specify the number of digits of data. 
BYT=0 : Data is BCD two digits long.
BYT=1 : Data is BCD four digits long.
</p>
<p>(b) Reset
RST=0 : Releases reset.
RST=1 : Resets error output W1, that is, sets W1 to 0.
</p>
<p>(c) Execution command  
ACT=0 : The DIV instruction is not executed. W1 does not change.
ACT=1 : The DIV instruction is executed.
</p>
<p>0 : Specifies divisor data by constant.
1 : Specifies divisor data by address.
</p>
<p>Sets the address storing the dividend.
</p>
<p>Addressing of the divisor depends on 4).
</p>
<p>Sets the address to which the quotient is output.
</p>
<p>W1=1 is set to indicate an error if the divider is 0.
</p>
<p>5.38.3
Control Conditions
</p>
<p>5.38.4
Divisor Data Format
Designation
</p>
<p>5.38.5
Dividend Address
</p>
<p>5.38.6
Divisor (Address)
</p>
<p>5.38.7
Quotient Output
Address
</p>
<p>5.38.8
Error Output
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>205
</p>
<p>This instruction divides binary data items 1, 2, and 4 byte in length. In the
operation result register (R9000), operation data is set and remainder is
set to R9002 and following addresses.  
A required number of bytes is necessary to store the dividend, divisor, and
the result (quotient).
</p>
<p>DIVB
</p>
<p>SUB 39
</p>
<p>����
</p>
<p>Format
specifi-
cation
</p>
<p>ACT
W1
</p>
<p>*
����
</p>
<p>Dividend
address
</p>
<p>*
����
</p>
<p>Divisor
(address)
</p>
<p>or
constant
</p>
<p>Error data
</p>
<p>RST
*
</p>
<p>����
</p>
<p>Quotient
address
</p>
<p>A        /        B        =        C
</p>
<p>(a) Reset (RST)
RST=0 : Release reset
RST=1 : Resets error output W1. In other words, makes W1=0.
</p>
<p>(b) Command (ACT)
ACT=0: Do not execute DIVB. W1 does not change now.
ACT=1: Execute DIVB.
</p>
<p>(a) Format specification
Specifies data length (1, 2, and 4 bytes) and the format for the divisor
(constant or address).
</p>
<p>Data length specification
</p>
<p>    1 : 1 byte length data
    2 : 2 bytes length data
    4 : 4 bytes length data
</p>
<p>0
</p>
<p>Format specification
</p>
<p>     0 : Constant data
     1 : Address data
</p>
<p>0
</p>
<p>5.39
DIVB (BINARY
DIVISION)
</p>
<p>5.39.1
Function
</p>
<p>5.39.2
Format
</p>
<p>5.39.3
Control Conditions
</p>
<p>5.39.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>206
</p>
<p>(b) Dividend address
Address containing the dividend
</p>
<p>(c) Divisor data (address)
Specification in (a) determines the format of the divisor.
</p>
<p>(d) Result output address
Specified the address to contain the result of operation.
</p>
<p>W1=0 :Operation correct
W1=1 :Operation incorrect
W1 goes on (W1=1) if the divisor is 0.
</p>
<p>This register is set with data on operation.  If register bit is on, they signify
the following operation data:
</p>
<p>0
</p>
<p>R9000
</p>
<p>Zero
</p>
<p>7 6 5 4 3 2 1
</p>
<p>Negative
</p>
<p>Depending on its length, the remainder is stored in one or more of
registers R9002 to R9005.
</p>
<p>5.39.5
Error Putput (W1)
</p>
<p>5.39.6
Operation Output
Register (R9000)
</p>
<p>5.39.7
Remainder Output
Address
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>207
</p>
<p>Defines constants, when required.  In this case, constants are defined with
this instructions.
</p>
<p>Fig.5.40.2 shows the expression format and Table 5.45.40.2 shows the
coding format.
</p>
<p>NUME
</p>
<p>(SUB 23)
</p>
<p>(1)
</p>
<p>����
</p>
<p>(2)
</p>
<p>����
ACT
</p>
<p>���.�
</p>
<p>BYT
</p>
<p>���.�
</p>
<p>(1)
</p>
<p>(0)
</p>
<p>Control condition
Instruction Constant Constant outputaddress
</p>
<p>����5.40.2  NUME instruction format
</p>
<p>Table 5.40.2  NUME instruction coding
</p>
<p>Coding sheet Memory status of control conditions
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
No. Bit No. Remarks ST3 ST2 ST1 ST0
</p>
<p>1 RD ��� . � BYT BYT
</p>
<p>2 RD. STK ��� . � ACT BYT ACT
</p>
<p>3 SUB 23 NUME instruction
</p>
<p>4 (PRM) ���� Constant
</p>
<p>5 (PRM) ���� Constant output address
</p>
<p>(a) Specify the number of digits of a constant. 
BYT=0 : Constant is BCD two digits long.
BYT=1 : Constant is BCD four digits long.
</p>
<p>(b) Execution command
ACT=0 : The NUME instruction is not executed.
ACT=1 : The NUME instruction is executed.
</p>
<p>Sets the constant as the number of digits specified in Item (a) in Subsec.
5.40.3. 
</p>
<p>Sets the address to which the constant defined in Subsec. 5.40.4 is output.
</p>
<p>5.40
NUME (DEFINITION
OF CONSTANT)
</p>
<p>5.40.1
Function
</p>
<p>5.40.2
Format
</p>
<p>5.40.3
Control Conditions
</p>
<p>5.40.4
Constant
</p>
<p>5.40.5
Constant Output
Address
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>208
</p>
<p>This instruction defines 1, 2, or 4-bytes long binary constant. Data entered
in decimal during programming is converted into binary data during
program execution. The binary data is stored in the specified memory
address(es).
</p>
<p>NUMEB
</p>
<p>(SUB 40)
</p>
<p>  �
</p>
<p>Format
specifi-
cation
</p>
<p>�����
</p>
<p>Constant
</p>
<p>ACT
</p>
<p>*
</p>
<p>����
</p>
<p>Constant
output
</p>
<p>address
</p>
<p>(a) Command (ACT)
ACT= 0: Do not execute NUMEB. 
ACT= 1: Execute NUMEB.
</p>
<p>(a) Format specification
Specifies data length (1, 2, or 4 bytes). 
Use the first parameter digit to specify byte length:
</p>
<p>1 : 1 byte
2 : 2 bytes
4 : 4 bytes
</p>
<p>(b) Constant
Defined constants in decimal format. The constant must not executed
the number of bytes specified (format specification).
</p>
<p>(c) Constant output address
Specifies the address of the area for output of the binary data. A
continuous memory area of the specified number of bytes is required
from the specified address.
</p>
<p>5.41
NUMEB (DEFINITION
OF BINARY
CONSTANTS)
</p>
<p>5.41.1
Function
</p>
<p>5.41.2
Format
</p>
<p>5.41.3
Control Conditions
</p>
<p>5.41.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>209
</p>
<p>DISP is used to display messages on the CRT screen, CNC of which enters
alarm status. Message data to be displayed is specified after the
parameters of the functional instruction. One DISP functional instruction
can define up to 16 types of message. Display is performed by setting the
control condition ACT to 1. In order to display and then clear a message,
set the display-request bit corresponding to the message data number to
1 and 0, respectively. 
Up to one alarm message (message data putting the CNC in alarm status)
can be displayed on one screen. When one message is cleared, a message
is displayed. Similarly, each time one of the message is displayed.  One
operator message (message data not putting the CNC in alarm status) can
be displayed on a screen. When an operator message is cleared in a state
when four operator messages are displayed, the subsequent operator
message is displayed.
</p>
<p>Fig.5.42.2 shows the instruction format and Table 5.42.2 shows the
coding format.
</p>
<p>5.42
DISP(MESSAGE
DISPLAY)
(PMC&ndash;RB/RB2/RB3/
RB4/RB5/RB6/RC/
RC3/RC4 ONLY)
</p>
<p>5.42.1
Function
</p>
<p>5.42.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>210
</p>
<p>1 � n � 16
</p>
<p>Message data
</p>
<p>ACT DISP
</p>
<p>(SUB 49)
</p>
<p>(1)
</p>
<p>����
</p>
<p>Control condition
</p>
<p>Instruction
</p>
<p>Total sum of data of message data
</p>
<p>W1
</p>
<p>Process end(2)
</p>
<p>����
</p>
<p>���. �
</p>
<p>(3)
</p>
<p>����
</p>
<p>Number of data of one message data
</p>
<p>Message control address
</p>
<p>Message data 1
</p>
<p>1
</p>
<p>2
</p>
<p>m
</p>
<p>1
</p>
<p>2
</p>
<p>m
</p>
<p>1
</p>
<p>2
</p>
<p>m
</p>
<p>Message data 2
</p>
<p>Message data n
</p>
<p>Message characters
</p>
<p>Message number
</p>
<p>Message characters
</p>
<p>Message number
</p>
<p>Message characters
</p>
<p>Message number
</p>
<p>����5.42.2  DISP instruction format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>211
</p>
<p>Table 5.42.2  DISP instruction coding
</p>
<p>Coding sheet Memory status of control
conditions
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
No. Bit No. Remarks ST2 ST1 ST0
</p>
<p>RD ��� . � ACT ACT
</p>
<p>SUB 49 DISP ACT
</p>
<p>(PRM) ���� Total sum of data of message data
</p>
<p>(PRM) ���� Number of data of one message item
</p>
<p>(PRM) ���� Message control address
</p>
<p>(PRM) ���� Message number
</p>
<p>(PRM) ���� 2
</p>
<p>(PRM) ���� 3
</p>
<p>: : : Message characters
</p>
<p>: : :
</p>
<p>(PRM) ���� m
</p>
<p>(PRM) ���� Message number
</p>
<p>(PRM) ���� 2
</p>
<p>(PRM) ���� 3
</p>
<p>: : : Message characters
</p>
<p>: : :
</p>
<p>(PRM) ���� m
</p>
<p>: : :
</p>
<p>: : :
</p>
<p>(PRM) ���� Message number
</p>
<p>(PRM) ���� 2
</p>
<p>(PRM) ���� 3
</p>
<p>: : : Message characters
</p>
<p>: : :
</p>
<p>(PRM) ���� m
</p>
<p>WRT ���� Process end (W1) W1
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>212
</p>
<p>ACT=0: Nothing is processed. W1 does not change. 
ACT=1: The specified message data is displayed or cleared. 
ACT must remain 1 until processing end is reported by W1.
</p>
<p>(a) Total sum of message data of data: 
m�n
</p>
<p>(b) Number of data of one massage data: 
m Note)
</p>
<p>(c) Message control address: Specifies the address of the RAM of
internal relay area (see (7) for details).
</p>
<p>NOTE
The number of data used by each message data item, m,
must be the same. Since 00 is ignored, it can be set for
unnecessary data. For example, for particular messages
with a different number of displayed characters, set 00 so
that the number of data, m, are the same.
</p>
<p>5.42.3
Control Condition
</p>
<p>5.42.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>213
</p>
<p>(a) Message number: 
The specified number produces an appropriate event as follows.
</p>
<p>1000 to 1999 (alarm message): 
The CNC is put in alarm status and the number and following data
are displayed. The maximum number of the displayed characters
is up to 32, except for the message number. When an alarm status
occurs, the operation being executed stops. To release the alarm
status, set the display-request bit (see Fig.5.42.7) to 0.
</p>
<p>2000 to 2099 (operator message): 
The CNC is not put in alarm status and the number and following
data are displayed. The maximum number of the displayed
characters is 255, except for the message number.
</p>
<p>2100 to 2999 (operator message): 
The CNC is not put in alarm status and the number is not displayed.
Only the following data (up to 255 characters) is displayed.
</p>
<p>5000&ndash;5999 (alarm messages on path 2):
Path 2 is placed in the alarm state. A displayed message number is
a specified number from which 4000 is subtracted. The number of
displayed characters excluding this number is 32 or less. If the
alarm state arises during axis movement, a gradual stop occurs. The
alarm state can be released by setting the display request bit to 0.
</p>
<p>7000&ndash;7999 (alarm messages on path 3):
Path 3 is placed in the alarm state. The displayed message number
is a specified number from which 6000 is subtracted. The number
of displayed characters excluding this number is 32 or less. If the
alarm state arises during axis movement, a gradual stop occurs. The
alarm state can be released by setting the display request bit to 0.
</p>
<p>NOTE
If all characters in the operator message are kana
characters, up to 254 kana characters are displayed.
</p>
<p>(b) Message character
An alphanumeric character is specified with a two-digit decimal (two
characters per step). Table 5.42.6 shows the correspondence between
characters and specified numbers. 
The above message data is always specified because it is written on
ROM.  The message data cannot therefore be changed as desired.
However, arbitrary numeric data of up to four BCD digits can be
displayed according to the specified variable data.  The spindle tool
number which changes whenever ACT tools are changed and the
number of the tool at the tool-change position can be displayed, for
example.  For specifying variable data, see (10) below.
</p>
<p>5.42.5
Message Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>214
</p>
<p>W1=0 :Processing ends. Normally, W1=0. If W1=0 after W1=1, 
processing ends.
</p>
<p>W1=1 :In process.  W1=1 when ACT=1. 
</p>
<p>Table 5.42.6  Correspondince between characters and specified numbers
</p>
<p>Specified
number
</p>
<p>Corresponding
character
</p>
<p>Specified
number
</p>
<p>Corresponding
character
</p>
<p>Specified
number
</p>
<p>Corresponding
character
</p>
<p>Specified
number
</p>
<p>Corresponding
character
</p>
<p>32
</p>
<p>33
</p>
<p>34
</p>
<p>35
</p>
<p>36
</p>
<p>37
</p>
<p>38
</p>
<p>39
</p>
<p>40
</p>
<p>41
</p>
<p>42
</p>
<p>43
</p>
<p>44
</p>
<p>45
</p>
<p>46
</p>
<p>47
</p>
<p>48
</p>
<p>49
</p>
<p>50
</p>
<p>51
</p>
<p>52
</p>
<p>53
</p>
<p>54
</p>
<p>55
</p>
<p>56
</p>
<p>57
</p>
<p>58
</p>
<p>59
</p>
<p>60
</p>
<p>61
</p>
<p>62
</p>
<p>63
</p>
<p>(space) 64
</p>
<p>65
</p>
<p>66
</p>
<p>67
</p>
<p>68
</p>
<p>69
</p>
<p>70
</p>
<p>71
</p>
<p>72
</p>
<p>73
</p>
<p>74
</p>
<p>75
</p>
<p>76
</p>
<p>77
</p>
<p>78
</p>
<p>79
</p>
<p>80
</p>
<p>81
</p>
<p>82
</p>
<p>83
</p>
<p>84
</p>
<p>85
</p>
<p>86
</p>
<p>87
</p>
<p>88
</p>
<p>89
</p>
<p>90
</p>
<p>91
</p>
<p>92
</p>
<p>93
</p>
<p>94
</p>
<p>95
</p>
<p>160
</p>
<p>161
</p>
<p>162
</p>
<p>163
</p>
<p>164
</p>
<p>165
</p>
<p>166
</p>
<p>167
</p>
<p>168
</p>
<p>169
</p>
<p>170
</p>
<p>171
</p>
<p>172
</p>
<p>173
</p>
<p>174
</p>
<p>175
</p>
<p>176
</p>
<p>177
</p>
<p>178
</p>
<p>179
</p>
<p>180
</p>
<p>181
</p>
<p>182
</p>
<p>183
</p>
<p>184
</p>
<p>185
</p>
<p>186
</p>
<p>187
</p>
<p>188
</p>
<p>189
</p>
<p>190
</p>
<p>191
</p>
<p>192
</p>
<p>193
</p>
<p>194
</p>
<p>195
</p>
<p>196
</p>
<p>197
</p>
<p>198
</p>
<p>199
</p>
<p>200
</p>
<p>201
</p>
<p>202
</p>
<p>203
</p>
<p>204
</p>
<p>205
</p>
<p>206
</p>
<p>207
</p>
<p>208
</p>
<p>209
</p>
<p>210
</p>
<p>211
</p>
<p>212
</p>
<p>213
</p>
<p>214
</p>
<p>215
</p>
<p>216
</p>
<p>217
</p>
<p>218
</p>
<p>219
</p>
<p>220
</p>
<p>221
</p>
<p>222
</p>
<p>223
</p>
<p>*1) minus   *2) Under bar   *3) Long bar
</p>
<p>5.42.6
Error Output (W1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>215
</p>
<p>The parameters and message data used by this functional instruction are
as follows.
</p>
<p>Parameter
</p>
<p>SUB49
</p>
<p>Message 
data
</p>
<p>Message
data
</p>
<p>Message 
data
</p>
<p>1
</p>
<p>2
</p>
<p>3
</p>
<p>Message data 2 is displayed on the CRT screen
</p>
<p>RAM
address
</p>
<p>7
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>1
</p>
<p>0
</p>
<p>1
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>6 5 4 3 2 1 0
</p>
<p>Display request
</p>
<p>Display state
</p>
<p>R200
</p>
<p>R201
</p>
<p>R202
</p>
<p>R203
</p>
<p>Message 
data n
</p>
<p>Two bytes of R200 and R201, the address specified in the message control address and
that address plus +1, (display request), are required to specify a message to be displayed.
Even if the number of message data items is small, two bytes are always required. 0 is set to
unnecessary data. 0 is set automatically when the CNC is powered on.
Two bytes of R202 and R203, the specified address plus +2 and the same address plus +3,
(displayed state), show the message displayed on the CRT screen.
When there is more than one display request, only a prescribed number of message are
displayed on the CRT screen. Actually displayed messages are known by the displayed
state. The displayed state is set automatically in the two bytes of the displayed state and can
be referred to by the sequence program. Those bytes must not be written in.
</p>
<p>Total sum of data of message data
</p>
<p>Number of data of one message item
</p>
<p>Message control address 
(Specify a message to be displayed, using an address of RAM in the internal relay area is
taken to here, R200 is taken.)
</p>
<p>One DISP functional instruction requires the four consecutive bytes
following the address specified in the above message control address
in order to check the display request and displayed status.
</p>
<p>When messages are displayed or cleared, message data 1 to n (n�
16) and display-request bits correspond to each other as shown in
Fig.5.42.7.
</p>
<p>To display and clear a message data item, set the corresponding bit
to 1 and 0, respectively, and the control condition ACT to 1.
</p>
<p>If the sequence program checks messages displayed on the screen,
message data 1 to n and display-request bits correspond to each other
as shown in Fig.5.42.7.
</p>
<p>Message data for which 1 is set among the 16 displayed status bits,
is the message data currently being displayed.
</p>
<p>5.42.7
Parameters and
Message Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>Note)
</p>
<p>Specified 
address
</p>
<p>Specified 
address  +1
</p>
<p>Specified 
address  +2
</p>
<p>Specified 
address  +3
</p>
<p>Display
request
</p>
<p>Display
state
</p>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>216
</p>
<p>7 6 5 4 3 2 1 0
Message
</p>
<p>data
8
</p>
<p>Message
data
</p>
<p>7
</p>
<p>Message
data
</p>
<p>6
</p>
<p>Message
data
</p>
<p>5
</p>
<p>Message
data
</p>
<p>4
</p>
<p>Message
data
</p>
<p>3
</p>
<p>Message
data
</p>
<p>2
</p>
<p>Message
data
</p>
<p>1
Message
</p>
<p>data
16
</p>
<p>Message
data
15
</p>
<p>Message
data
14
</p>
<p>Message
data
13
</p>
<p>Message
data
12
</p>
<p>Message
data
11
</p>
<p>Message
data
10
</p>
<p>Message
data
</p>
<p>9
Message
</p>
<p>data
8
</p>
<p>Message
data
</p>
<p>7
</p>
<p>Message
data
</p>
<p>6
</p>
<p>Message
data
</p>
<p>5
</p>
<p>Message
data
</p>
<p>4
</p>
<p>Message
data
</p>
<p>3
</p>
<p>Message
data
</p>
<p>2
</p>
<p>Message
data
</p>
<p>1
Message
</p>
<p>data
16
</p>
<p>Message
data
15
</p>
<p>Message
data
14
</p>
<p>Message
data
13
</p>
<p>Message
data
12
</p>
<p>Message
data
11
</p>
<p>Message
data
10
</p>
<p>Message
data
</p>
<p>9
</p>
<p>����5.42.7  Correspondence between message data and display request/displayed status
</p>
<p>NOTE
&rdquo;Specified address&rdquo; means an address specified in the
message control address of a DISP instruction parameter.
</p>
<p>(a) CNC external data input function
The DISP instruction displays mes-sages using external data input
function or external message display, which in-volves external
work-number search, external tool offset, external work co-ordinate
system shift, etc. as well as message display. The DISP instruction
cannot display messages when any of these functions is being
executed. To check this, EPCA (any address in inter-nal relay area)
and EPCB (any address in control relay area) are used as interlock
signal. The sequence program sets EPCA to 1 while the message is
displayed, and to 0 upon competion of processing. The sequence
program sets EPCB to 1 while any function other than the above is
being processed, and to 0 upon completion of processing.
When EPCB = 1, messages must not be displayed (DISP ACT must
not be 1). Set ACT to 1 after making sure that EPCB = 0.
When the function other than message display is executed, execute
after making sure that EPCA = 0.  DISP instruction and external data
input function (external tool offset, external work number search)
must be programmed in the same sequence level.
</p>
<p>(b) External data input function address
During DISP instruction execution (EPCA = 1), the PMC� CNC
interface of the external data input function must not be used for
processing of external tool offset, external work-number search or
external work coordinate system shifting. If EPCA = 1, use the JUMP
instruction, for example, to skip writing data, so that nothing is
written in the interface.
</p>
<p>(c) ACT and W1 of the DISP instruction
(a) Timing of ACT ON
</p>
<p>If EPCB = 0, ACT may be set to 1 with any timing. For instance,
when all display-request bits are off or when the status displayed
on the screen and the display requests are the same, that is, when
there are no new display requests, even if ACT = 1, the DISP
instruction processes nothing and the operation terminates (W1
= 0).
Even if another display-request bit is set on and ACT is set to 1
</p>
<p>5.42.8
Remarks on Using the
DISP Instruction
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>217
</p>
<p>with a prescribed number of messages (four alarm messages or
one operator messages) displayed on the screen, no message is
displayed for that request, but W1 = 0 after W1 = 1 and W1 = 1
again during execution of the next cycle. In other words, W1 only
changes back and forth between 1 and 0.
</p>
<p>(b) Using two or more DISP instructions
If EPCB = 0, ACT of each DISP instruction may be turned on
simultaneously. Until the DISP instruction whose ACT was set
to 1 earlier, has been completed (W1 = 0), executing of the next
DISP instruction is kept waiting. W1 of the DISP instruction kept
waiting remains 0 at this time. Consequently, no messages more
than those specified number are displayed, as discussed in (a).
From (i) and (ii) above, set ACT to 1 whenever EPCB = 0. Do not
set ACT to 1 when EPCB = 1.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>218
</p>
<p>(a) Display three types of messages with the following conditions.
SPER = 1 and &ldquo;SPINDLE    ALARM&rdquo; (Message data 1)
ATCER = 1 and &ldquo;ACT    ALARM&rdquo; (Message data 2)
WORK = 1 and &ldquo;WORK    SET UP&rdquo; (Message data 3)
</p>
<p>ACT
</p>
<p>W1
</p>
<p>EPCB
</p>
<p>1  1010  SPINDLE  ALARM
</p>
<p>2  1020  ATC  ALARM
</p>
<p>3  2100  WORK  SET UP
</p>
<p>AddressR220
</p>
<p>R201.2
</p>
<p>ATCER
</p>
<p>WORK
</p>
<p>7
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>MSI
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>0
</p>
<p>6 5 4 3 2 1 0
</p>
<p>Display request
</p>
<p>Display state
</p>
<p>R221
</p>
<p>R222
</p>
<p>R223
</p>
<p>AL2 AL1
</p>
<p>SPER
AL1
</p>
<p>AL2
</p>
<p>MS1
</p>
<p>ACT
</p>
<p>R220.0
</p>
<p>R220.1
</p>
<p>R220.2
</p>
<p>� SPINDLE ALARM Message data 1 : AL1
� ATC ALARM Message data 2 : AL2
� WORK SET UP Message data 3 : MS1
</p>
<p>Whenever EPCB=0, ACT=1
</p>
<p>DISP
</p>
<p>SUB
</p>
<p>49
</p>
<p>Total 
sum 
</p>
<p>of 
</p>
<p>message
s
</p>
<p>30
</p>
<p>One
</p>
<p>messag
</p>
<p>es 10
</p>
<p>Control
</p>
<p>addres
</p>
<p>s
</p>
<p>R220
</p>
<p>W1
R201.2
</p>
<p>When ACT=1, promptly R1=1,  display being begun.  
When display is completed, automatically W1=0.
</p>
<p>EP
CAR201.3
</p>
<p>R295.0
</p>
<p>Interlock signal for external data input function
</p>
<p>[Message data specified]
</p>
<p>Messa
ge
</p>
<p>R201.3
</p>
<p>����5.42.9 (a)
</p>
<p>5.42.9
Examples of Using The
DISP Instruction
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>219
</p>
<p>Table 5.42.9
</p>
<p>Step
Number
</p>
<p>Instruc-
tion Address No. Bit No. Remarks ST2 ST1 ST0
</p>
<p>RD R201.2 ACT
</p>
<p>SUB 49
</p>
<p>(PRM) 30 Total sum of data of message data
</p>
<p>(PRM) 10 Number of data of one message
</p>
<p>(PRM) R220 Message control address
(PRM)
</p>
<p>(PRM) 1010 Message No.
</p>
<p>8380 SP
</p>
<p>7378 IN
</p>
<p>6876 DL
</p>
<p>6932 E_ Message data 1
</p>
<p>6576 AL (10 data m=10)
</p>
<p>6582 AR
</p>
<p>7700 M
</p>
<p>(Note1)
</p>
<p>0000
</p>
<p>0000
</p>
<p>1020 Message No.
</p>
<p>6584 AT
</p>
<p>6732 C_
</p>
<p>6576 AL
Message data 2
</p>
<p>6582 AR
Message data 2
(10 data m=10)
</p>
<p>7700 M
(10 data m=10)
</p>
<p>0000
</p>
<p>0000
</p>
<p>0000
</p>
<p>0000
</p>
<p>2100 Message No.
</p>
<p>8779 W0
</p>
<p>8275 RK
</p>
<p>3200 _
Message data 3
</p>
<p>0192
Message data 3
(10 data m=10)
</p>
<p>0222
(10 data m 10)
</p>
<p>0221
</p>
<p>0196
</p>
<p>0222
</p>
<p>(PRM) 0216
</p>
<p>ACT
WRT R201.3 Process end (W1) W1
</p>
<p>RD R201.3 W1
</p>
<p>WRT R295.0 W1
</p>
<p>NOTE
1 00 is ignored data.
2 Display example (The following is displayed on the screen in message data 1). 
</p>
<p>1010 SPINDLE ALARM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>220
</p>
<p>(b) Using three DISP instructions and one external tool offset
</p>
<p>EPCA
</p>
<p>Jump
</p>
<p>External tool
offset end
condition
</p>
<p>External tool
offset start
condition
</p>
<p>ACT
</p>
<p>EPCB
ACT
</p>
<p> 
</p>
<p>DISP
</p>
<p>    
</p>
<p>W1
</p>
<p>ACT
</p>
<p> 
</p>
<p>DISP
</p>
<p>    
</p>
<p>W2
</p>
<p>ACT
</p>
<p> 
</p>
<p>DISP
</p>
<p>    
</p>
<p>W3
</p>
<p>W1
EP
CA
</p>
<p>W2
</p>
<p>W3
</p>
<p>ACT
JMP
</p>
<p>W3
</p>
<p>W3
</p>
<p>EPCB
</p>
<p>EP
CB
</p>
<p>En
</p>
<p>Processing 
of
</p>
<p>external tool offset
</p>
<p>n
</p>
<p>Set ACT to 1 whenever no external tool offset is
being precessed (EPCB=0)
</p>
<p>1st DISP instruction
</p>
<p>2nd DISP instruction
</p>
<p>3rd DISP instruction
</p>
<p>Use as external tool offset interlock.
EPCA=1 during execution of each DISP 
instruction.  When EPCA=0, see (8), (iii)
</p>
<p>Use a JMP instruction, for example, so that no
external data input interface (addresses) may be
DISP instruction (EPCA=1).
</p>
<p>Always turn EPCB off on completion of external tool
offset.  &ldquo;completion&rdquo; is when processing has been
exactly completed and NC signal REND=0.
</p>
<p>Writing into external data input interface
</p>
<p>����5.42.9 (b)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>221
</p>
<p>Conform to the following instruction format.  Variable data, i.e., any
numeric value of up to four BCD digits, can be displayed.
</p>
<p>SUB49
</p>
<p>����
</p>
<p>����
</p>
<p>Message characters
</p>
<p>Message control address
</p>
<p>Total number of steps in message data����
</p>
<p>Number of steps in one message data item
</p>
<p>���� Message number
</p>
<p>����
</p>
<p>990m
</p>
<p>����
����
</p>
<p>Variable data specification
</p>
<p>Variable data address
</p>
<p>Message number
</p>
<p>Message characters
</p>
<p>����
</p>
<p>����
</p>
<p>990m
</p>
<p>����
</p>
<p>Message number
</p>
<p>Variable data specification
</p>
<p>Variable data address
</p>
<p>Message characters
</p>
<p>990m
</p>
<p>���� Variable data address
</p>
<p>Variable data specification
</p>
<p>Instruction format
</p>
<p>NOTE
1 One step is used at variable data specification 990m.
2 The number of steps is the same for each message data
</p>
<p>item.   The number of 
characters to be displayed varies according to the value
specified for m.
</p>
<p>3 Multiple variable data items can be used in one message
data item.
</p>
<p>(1) Specifying variable data
</p>
<p>Specifies the number of digits in the variable data.
(1�m�4)
</p>
<p>Variable data
</p>
<p>9 9 0 m
</p>
<p>5.42.10
Variable Data Display
by Specifying Variable
Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>222
</p>
<p>(2) Variable data address
����: ������� &#13;� �	� ���� 
� �	
�	 ���
���� ���� 
� ��&#13;���
</p>
<p>(3) Variable data
Specify variable data consisting of up to four BCD digits (the number
of digits specified for m) to be displayed at the address specified by
the variable data address using the sequence program.
For example, variable data 1234 is specified at variable data address
R300 in BCD as shown below:
</p>
<p>AddressR300 0011
</p>
<p>0001R301
</p>
<p>0100
</p>
<p>0010
</p>
<p>(4) Example
To display TOOL NO 123
</p>
<p>SUB49
0007 Total number of steps in message data
0007 Number of steps in one message data item
R300 Message control address
2100 Message number
8479 TO
7396 OL
3278 N
7932 O
9903 Variable data specification
</p>
<p>AddressR350 0011
</p>
<p>0001R351
</p>
<p>0100
</p>
<p>0010
</p>
<p>R350Variable data address
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>223
</p>
<p>This instruction displays messages on the CRT/MDI screen. You can also
specify the message number to generate an alarm in the CNC. This
instruction supports special functions (numerical data display and kanji
character display) in addition to the same basic functions as those of the
message display instruction (DISP), described in Section 5.42.
However, it performs a special additional function, namely, it displays
numerical data.
You can program up to 200 messages. You must use the special message
addresses in your program (see Sec. 3, &rsquo;Address&rsquo;) to simplify use of the
messages. The following are the features of this function.
</p>
<p>(a) In the program you define the total number of messages by using
DISPB, and set ACT=1.It does not matter if ACT is already set at &rsquo;1&rsquo;.
If, however, ACT = 0, DISPB will not process the messages at all.
When ACT = 1, messages are displayed according to the contents of
the message display request memory (addresses A0 to A24) and the
message data table.
Relation between the message display request memory address and
the message data table appears in Table 5.43.1.
</p>
<p>Message data table
(written in ROM)Message display request memory (RAM) Number of message data table
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>A0
</p>
<p>A1
</p>
<p>A2
</p>
<p>A2(Maximum)
</p>
<p>Address
(Message data corresponding
to address A0.0)
</p>
<p>(Message data corresponding
to address A0.1)
</p>
<p>(Message data corresponding
to address A24.7)
</p>
<p>A0.0
</p>
<p>A0.1
</p>
<p>A24.7(Maximum)
</p>
<p>����5.43.1  Message display request memory and message data table
</p>
<p>(i) Message display request memory (RAM)
Addresses A0 to A24 constitute a 200-bit area. This is a display
request memory for up to 200 messages, each bit corresponding
to a message.
If you want to display a message  on the CRT, set the
corresponding display request memory 1. Set 0 to erase the
message of CRT.
</p>
<p>(ii) Message data table
This table stores messages corres-ponding to the message display
request bits. The table is stored in the EPROM together with the
sequence program. Message data table numbers correspond to the
message display request memory addresses.
The message  data table capacity is prepared by the maximum
</p>
<p>5.43
DISPB
</p>
<p>5.43.1
Function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>224
</p>
<p>capacity of a message, or, 255 characters (255 bytes). Produce a
message data within this capacity.
A character prepared in CRT/MDI key consists of one byte, and
4 bytes are necessary for a message number (consisting of 4
characters) in the next item. A character not covered by the
CRT/MDI keys requires two bytes (a half&ndash;width kana character)
or four bytes (a kanji character or other full&ndash;width character).  For
details, see Section 5.43.6.
</p>
<p>(iii) Message number
This message number consisting of 4 digits must always be
defined at the start of each message data. The CRT display is as
specified below by this message number.
</p>
<p>� FS16-M/T, FS18-M/T, FS15, FS20, Power Mate-D (single
path control), Power Mate-F and Power Mate-H
</p>
<p>Message
number
</p>
<p>CNC
screen Display contents
</p>
<p>1000 to 1999 Alarm message
screen
</p>
<p>Alarm message
� CNC is turned to alarm state.
</p>
<p>2000 to 2099 Operator Operator message
</p>
<p>2100 to 2999 message screen Operator message (without message number)
� Only message data,  no message number, is
</p>
<p>displayed.
</p>
<p>� FS16-TT and FS18-TT
</p>
<p>Message
number
</p>
<p>CNC
screen Display contents
</p>
<p>1000 to 1999 Alarm message
screen (The 1st
tool post side)
</p>
<p>Alarm message
� The 1st tool post side of CNC is turned to alarm
</p>
<p>state.
</p>
<p>2000 to 2099 Operator Operator message
</p>
<p>2100 to 2999 message screen Operator message (without message number)
</p>
<p>5000 to 5999 Alarm message
screen (The 2nd
tool post side)
</p>
<p>Alarm message
� The 2nd tool post side of CNC is turned to alarm 
   state.
� The displayed message number is a value by 
   witch 4000 is subtracted from specified number.
</p>
<p>� For 3&ndash;path control
</p>
<p>Message
number
</p>
<p>CNC
screen Display contents
</p>
<p>1000 to 1999 Alarm screen 
(on path 1)
</p>
<p>Alarm message
� Path 1 is placed in the alarm state.
</p>
<p>2000 to 2099 Operator Operator message
</p>
<p>2100 to 2999 message screen Operator message (with no message number)
</p>
<p>5000 to 5999 Alarm screen 
(on path 2)
</p>
<p>Alarm message
� Path 2 is placed in the alarm state.
� The displayed message number is a specified
</p>
<p>number from which 4000 is subtracted.
</p>
<p>7000 to 7999 Alarm screen 
(on path 3)
</p>
<p>Alarm message
� Path 3 is placed in the alarm state.
� The displayed message number is a specified
</p>
<p>number from which 6000 is subtracted.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>225
</p>
<p>� Power Mate-D (dual path control)
</p>
<p>Message
number
</p>
<p>CNC
screen Display contents
</p>
<p>1000 to 1999 Alarm message
screen (The 1st
path  side)
</p>
<p>Alarm message
� The 1st path side of CNC is turned to alarm state.
</p>
<p>2000 to 2099 Operator
message screen
(Th h
</p>
<p>Operator message
</p>
<p>2100 to 2999 (The 1st path
side)
</p>
<p>Operator message (without message number)
</p>
<p>5000 to 5999 Alarm message
screen (The 2nd
path side)
</p>
<p>Alarm message
� The 2nd path side of CNC is turned to alarm state.
� The displayed message number is a value by
</p>
<p>witch 4000 is subtracted from specified number.
</p>
<p>6000 to 6099 Operator
message screen
(The 2nd path
side)
</p>
<p>Operator message
� The displayed message number is a value by
</p>
<p>witch 4000 is subtracted from specified number.
</p>
<p>6100 to 6999
side)
</p>
<p>Operator message (without message number)
</p>
<p>Moreover,  the DPL/ MDI display with Power Mate is as specified
below by this message number.
</p>
<p>� Power Mate-D (single path control), Power Mate-F and
Power Mate-H
</p>
<p>Message
number
</p>
<p>CNC
screen Display contents
</p>
<p>1000 to 1999 Alarm message
screen
</p>
<p>Message number
� CNC is turned to alarm state.
� Only message number,  no message data, is
</p>
<p>displayed.
</p>
<p>2000 to 2099 Operator
message screen
</p>
<p>Operator message
� Only message data, no message number, is
</p>
<p>2100 to 2999
message screen � Only message data,  no message number, is
</p>
<p>displayed.
</p>
<p>� Power Mate-D (dual path control)
</p>
<p>Message
number
</p>
<p>CNC
screen Display contents
</p>
<p>1000 to 1999 Alarm message
screen (The 1st
path side)
</p>
<p>Message number
� The 1st path side of CNC is turned to alarm state.
� Only message number,  no message data, is
</p>
<p>displayed.
</p>
<p>2000 to 2099 Operator
message screen
(Th h
</p>
<p>Operator message
� Only message data,  no message number, is
</p>
<p>2100 to 2999 (The 1st path
side)
</p>
<p>displayed.
</p>
<p>5000 to 5999 Alarm message
screen (The 2nd
path side)
</p>
<p>Message number
� The 2nd path side of CNC is turned to alarm state.
� Only message number,  no message data, is
</p>
<p>displayed.
� The displayed message number is a value by
</p>
<p>witch 4000 is subtracted from specified number.
</p>
<p>6000 to 6099 Operator
message screen
(Th d h
</p>
<p>Operator message
� Only message data,  no message number, is
</p>
<p>6100 to 6999 (The 2nd path
side)
</p>
<p>displayed.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>226
</p>
<p>NOTE
1 The number of message number which you can display at
</p>
<p>the same time to the alarm screen on DPL/MDI is up to 3.
2 The number of character which you can display to the
</p>
<p>operator message screen on DPL/MDI is up to 32
characters.  The message data since the 33rd character is
not displayed.
</p>
<p>3 A &rdquo;~&rdquo; character  (code A0H) is displayed as space character
to the screen on DPL/MDI.
</p>
<p>4 The DPL/MDI cannot display kanji (double-byte) characters.
</p>
<p>(b) You need not use numerical codes for message data input. Instead, when
programming, directly key in the characters making up the messages
(from the CRT/MDI keyboard). For the characters that CRT/MDI does
not provide for, you must enter these characters by numerical data with
special symbols &ldquo;@&rdquo;.  For details, refer to Subsec. 5.43.6).
</p>
<p>(c) Use external data input command (described later) where you must
combine the DISPB instruction with external data input function (for
external tool compensation, external workpiece No. search, etc.).
Such use of the DISPB instruction does not affect the interface of
external data input function though the common interface is used
between DISPB instruction and external data input function.
</p>
<p>(d) If you write the message data items in the ROM after programming,
you cannot change them any more (they will become fixed data
items). However, you can still change and display only the numerical
data forming part of the messages if you specify addresses storing the
numerical data as the message data and assign the required numerical
data in these addresses through sequence program.
Use of this function makes it possible for you to display frequently
varying numerical data (such as tool number etc.) during automatic
operations.
</p>
<p>(e) A message is displayed on the CNC alarm message/operator message
screen.
When using the DISPB instruction, you must satisfy the following
conditions:
To use DISPB, the optional External Data Input function or External
Message Display is necessary for CNC.
</p>
<p>ACT
</p>
<p>DISPB
</p>
<p>(SUB 41)
</p>
<p>���
</p>
<p>Number of
message
</p>
<p>5.43.2
Formatww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>227
</p>
<p>ACT=0 : Do not display messages on the CRT.
ACT=1 : Display the messages on the CRT.
</p>
<p>(a) Number of messages
Specifies the total number of messages (up to 200).
</p>
<p>To change the numerical data contained within the messages, enter in the
messages the number of digits making up the data and the memory
address to contain the data. To differentiate between the numerical data
from the other message  data, write it within [ ] in the message.
Since the brackets, [ ], are used to contain numerical data, they are not
themselves treated as symbols to be included in the messages.
</p>
<p>(a) Numerical data format
</p>
<p>Memory address storing the numerical data.
The numerical data must be of binary format.
</p>
<p>Set the bid data after character i:
</p>
<p>[Ibid, ����]
</p>
<p>b : Number of bytes (1, 2, or 4)
 i : Number of digits in the integer part (0 to 8)
d : Number of digits in the fractional part (0 to 8)
</p>
<p>NOTE
1 Sum of integer part digits and fractional part digits must be
</p>
<p>within 8.
2 Blank is displayed for digits exceeding 8 digits.
</p>
<p>(b) Example
The following message includes a 3-digit tool number at the spindle
and the offset data (�.��) for this tool. And these data is contained
in a 2-byte memory address:
</p>
<p>SPINDLE TOOL No. = [I  230,����]
OFFSET DATA = [I  212,����]
</p>
<p>Message characters not covered by the CRT/MDI keys (kanji and
half&ndash;width kana characters) can be input as follows:
</p>
<p>(a) Half&ndash;width kana characters
(i) Data format
</p>
<p>Numerical code enclosed by @ and @
(ii) Input method
</p>
<p>Enter the numerical codes corresponding to the characters to be
input, by referring to the character code table (Table 5.43).  Each
character requires two bytes. Characters covered by the
CRT/MDI keys can also be input in this way.
</p>
<p>5.43.3
Conditions
</p>
<p>5.43.4
Parameters
</p>
<p>5.43.5
Numerical Data Display
</p>
<p>5.43.6
Defining Characters
not found in the
CRT/MDI
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>228
</p>
<p>(iii)  Example
To input ATC?  OK when characters A, T, C, O, and
K are registered in the CRT/MDI unit, enter the following:
</p>
<p>(b) Kanji (full&ndash;width) characters
�  :  Can be used
�  :  Cannot be used
</p>
<p>Power
</p>
<p>Mate
</p>
<p>FS20
FS21A
</p>
<p>FS21B FS21i FS18A FS16A FS16B
FS18B
</p>
<p>FS16C
FS18C
</p>
<p>FS16i
FS18i
</p>
<p>FS15B
</p>
<p>PA1
PA3
</p>
<p>RA1
RA3
</p>
<p>RA1
RA3
</p>
<p>RA1
RA5
</p>
<p>RA1
RA3
</p>
<p>RA2 RB
RB3
</p>
<p>RB2 RC
RC3
</p>
<p>RB3
RB4
</p>
<p>RC3
RC4
</p>
<p>RB5
RB6
</p>
<p>RC3
RC4
</p>
<p>RB5
RB6
</p>
<p>NB NB2
</p>
<p>� � � � � � � � � � � � � � � �
</p>
<p>NOTE
1 The PMC&ndash;RA1 for the FS18&ndash;A can be used when the PMC management software series is
</p>
<p>4071.
2 The PMC&ndash;RB for the FS16&ndash;A can be used when the PMC management software series is
</p>
<p>4063.
3 The PMC&ndash;RC/RC3 for the FS16&ndash;A cannot be used depending on the series and edition of the
</p>
<p>CNC software.
4 For the FS16&ndash;A, set the following CNC parameter:
</p>
<p>&ndash;  No. 6300 bit 6 = 0:  Kanji characters are used for the DISPB instruction (default).
1:  Kanji characters are not used for the DISPB instruction.
</p>
<p>When kanji characters are used, the DISP instruction cannot be used.
5 On the CNC, the external data input option or external message option must be selected.
</p>
<p>(i) Data format
Numerical code enclosed by @02 and 01@
</p>
<p>(ii) Input method
Enter the numerical codes corresponding to the characters to be
input, by referring to the kanji, hiragana, and special code table
in Appendix O.  Each character requires four bytes.
</p>
<p>(iii)  Example
To input ATC?  OK when characters A, T, C, O, and K are
registered in the CRT/MDI unit, enter the following:
</p>
<p>4434 3A3A 01
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>229
</p>
<p>NOTE
1 To define @, enter @40...@, where 40 is the code
</p>
<p>corresponding to @.
@40  . . . . .  @
</p>
<p>Code for @
2 To renew the message line displayed on the CRT/MDI
</p>
<p>screen, input as:
@ OA @ at the end of the data.
</p>
<p>3 When using numerical codes, @ code occupies 1 byte, and
space code occupies 2 bytes. (Space code = 20, 2 and 0
occupies 1 byte each).
</p>
<p>4 The following control codes are used:
02 : 2&ndash;byte code (kanji and hiragana characters)
01 : 1&ndash;byte code (alphanumerics and half&ndash;width kana 
</p>
<p>characters)
Do not specify 02 or 01 between @02 and 01@, as follows.
The characters may not be correctly displayed.
</p>
<p>@02 ... 02 ... 01@    @02 ... 01 ... 01@
</p>
<p>����� 5.43.6  Character code table
</p>
<p>2 3 4 5 A B C D
</p>
<p>0  (Space) 0 @ P to _  *3)
</p>
<p>1 ! 1 A Q
</p>
<p>2 # 2 B R
</p>
<p>3 # 3 C S
</p>
<p>4 $ 4 D T
</p>
<p>5 % 5 E U
</p>
<p>6 &amp; 6 F V
</p>
<p>7 &rsquo; 7 G W
</p>
<p>8 ( 8 H X
</p>
<p>9 ) 9 I Y
</p>
<p>A * : J Z
</p>
<p>B + ; K [
</p>
<p>C , &lt; L &yen;
</p>
<p>D &plusmn;  *1) = M ]
</p>
<p>E &middot; &gt; N �
</p>
<p>F / ? O __ *2)
</p>
<p>*1) Minus,  *2) Under bar,   *3) Long bar   *4) Dakuten   *5) Han-dakuten
</p>
<p>Refer to Sec. 9.3.5.43.7
Notes when this
Functional Instruction
is Used in Subroutine
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>230
</p>
<p>Power Mate/
FS21A
</p>
<p>FS20/
FS21B
</p>
<p>FS18A FS16A FS16B
FS18B
</p>
<p>FS16C
FS18C
</p>
<p>FS21� FS16�
FS18�
</p>
<p>FS15B
</p>
<p>PA1
PA3
</p>
<p>RA1
RA3
</p>
<p>RA1, RA2
RA3
</p>
<p>RB, RB2,RB3
RC, RC3
</p>
<p>RB3
RC3
</p>
<p>RB4
RC4
</p>
<p>RB5
RC3
</p>
<p>RB6
RC4
</p>
<p>RA1
RA5
</p>
<p>RB5 RB6 NB
NB2
</p>
<p>� � � � � � � � � � � �
</p>
<p>(a) General
In the message data areas corresponding to contiguous message
display request memory locations, message data can be displayed in
any of several languages.  
The language in which a message is displayed is selected by shifting
the message display request bit according to the address bit shift
amount set in setting parameter 2.
</p>
<p>A0.0 Language 1
</p>
<p>A0.1 Language 2
</p>
<p>A0.2 Language 3
</p>
<p>A0.3 Language 4
</p>
<p>A0.4 Language 5
</p>
<p>When A0.0 is turned on after setting the message
display request bit shift amount to 2, the message
display request bit is shifted by 2 bits to display
language 3.
</p>
<p>The parameters set on the setting parameter 2 screen are listed below.
</p>
<p>� MESSAGE SHIFT VALUE
Message display request bit shift amount
</p>
<p>� MESSAGE SHIFT START ADDRESS
Start bit address of the message display request bit area to be
shifted
</p>
<p>(b) Examples
Example 1:
</p>
<p>Message data in any of four languages is set starting at A0.0 in
the order of Japanese, English, Italian, German, Japanese and so
on. The Italian message data is displayed.
Set the parameters as follows:
MESSAGE SHIFT VALUE : 2
MESSAGE SHIFT START ADDRESS : A0.0
(MESSAGE SHIFT VALUE = 
0:Japanese/1:English/2:Italian/3:German)
Manipulate A0.0, A0.4, A1.0, A1.4, and so forth with the ladder.
</p>
<p>5.43.8
Foreign Language
Display
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>231
</p>
<p>Message table
</p>
<p>A0.0 Japanese 1
</p>
<p>A0.1 English 1
</p>
<p>A0.2 Italian 1
</p>
<p>A0.3 German 1
</p>
<p>A0.4 Japanese 2
</p>
<p>A0.5 English 2
</p>
<p>A0.6 Italian 2
</p>
<p>A0.7 German 2
</p>
<p>; :
</p>
<p>Am.n  :
</p>
<p>When A0.0 is turned on, Italian 1 is
displayed. (The message data is
shifted by 2 bits).
</p>
<p>When A0.4 is turned on, Italian 2 is
displayed. (The message data is
shifted by 2 bits).
</p>
<p>Example 2:
As common alarm messages, English message data is displayed
with A0.0 through A9.7. Operator messages are set starting at
A10.0 in the order of Japanese, English, Italian, German and so
on, and German message data is displayed.
Set the parameters as follows:
MESSAGE SHIFT VALUE : 3
MESSAGE SHIFT START ADDRESS : A10.0
(MESSAGE SHIFT VALUE = 
0:Japanese/1:English/2:Italian/3:German)
Manipulate A10.0, A10.4, A11.0, A11.4, and so forth with the
ladder.
When any of A0.0 to A9.7 is turned on, the message
corresponding to the bit is displayed.
</p>
<p>Message table
</p>
<p>A0.0 English A (ALARM)
</p>
<p>A0.1 English B (ALARM)
</p>
<p>A0.2 English C (ALARM)
</p>
<p>A10.0 Japanese 1 (OPE)
</p>
<p>A10.1 English 1 (OPE)
</p>
<p>A10.2 Italian 1 (OPE)
</p>
<p>A10.3 German 1 (OPE)
</p>
<p>A10.4 Japanese 2 (OPE)
</p>
<p>A10.5 English 2 (OPE)
</p>
<p>A10.6 Italian 2 (OPE)
A10.7 German 2 (OPE)
</p>
<p>: :
</p>
<p>When A0.1 is turned on, Eng-
lish B is displayed.
</p>
<p>When A10.0 is turned on, Ger-
man 1 is displayed. (The mes-
sage data is shifted by 3 bits).
</p>
<p>When A10.4 is turned on, Ger-
man 2 is displayed. (The mes-
sage data is shifted by 3 bits).
</p>
<p>: :
� ���! :
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>232
</p>
<p>Example 3:
</p>
<p>As common alarm messages, English message data is displayed
with A0.0 through A9.7. Operator messages are set starting at
A10.0 in the order of Japanese, English, Italian, German and so
on, with 40 successive messages assigned to each language. For
these messages, German message data is displayed.
Set the parameters as follows:
MESSAGE SHIFT VALUE : 120 (40 x 3)
MESSAGE SHIFT START ADDRESS : A10.0
(MESSAGE SHIFT VALUE = 
0:Japanese/40:English/80:Italian/120:German)
Manipulate A10.0 through A14.7 with the ladder.
When any of A0.0 to A9.7 is turned on, the message
corresponding to the bit is displayed.
</p>
<p>Message table
</p>
<p>A0.0 English A (ALARM)
</p>
<p>A0.1 English B (ALARM)
</p>
<p>A0.2 English C (ALARM)
</p>
<p>A10.0  Japanese 1 (OPE)
</p>
<p>A10.1  Japanese 2 (OPE)
</p>
<p>A15.0  English 1 (OPE)
</p>
<p>A15.1  English 2 (OPE)
</p>
<p>A20.0  Italian 1 (OPE)
</p>
<p>A20.1  Italian 2 (OPE)
</p>
<p>A25.0  German 1 (OPE)
</p>
<p>A25.1  German 2 (OPE)
</p>
<p>: :
</p>
<p>When A0.1 is turned on, Eng-
lish B is displayed.
</p>
<p>When A10.0 is turned on, Ger-
man 1 is displayed.
</p>
<p>When A10.1 is turned on, Ger-
man 2 is displayed.
</p>
<p>(The message data is shifted by
120 bits).
</p>
<p>Am.n :
</p>
<p>(c) Notes
The same message number should be assigned to a message in each
language that has the same meaning.
</p>
<p>Message table
</p>
<p>A0.0 1000 English A (ALARM)
A0.1 1001 English B (ALARM)
</p>
<p>A10.0 1000 Japanese 1 (OPE)
</p>
<p>A10.1 1001 Japanese 2 (OPE)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>233
</p>
<p>This instruction is used for external data (external tool compensation,
external message function, external program number search, external
workpiece coordinates shift, etc.) input. You must use this instruction
when combining the message display instruction (DISP, DISPB) with the
external data input function. If you are not used DISP or DISPB, you need
not use this instruction either. Instead, use the external data input interface
PMC�CNC directly in your program.
The DISPB instruction uses the interface between the PMC and CNC
provided by the external data input function during display. The DISP
instruction prevents the interface signal transferred between the PMC and
CNC from being changed due to external cutter compensation or others.
You can use the EXIN instruction only when the PMC�CNC interface
is of BMI (Basic Machine Interface) and optional external data input
function is provided with CNC.
An 4-byte control data as described below is required for external data
input function (option).
</p>
<p>����
</p>
<p>Control data
address
</p>
<p>W1
</p>
<p>ACT
EXIN
</p>
<p>(SUB 42)
</p>
<p>����5.44.2
</p>
<p>ACT=0 : Do not process external data input/output.
ACT=1 : Process external data input/output.
ACT is to be maintained &rsquo;1&rsquo; till the end of external data input/output. After
external data input, reset ACT (W1 = 1).
</p>
<p>(a) Control data (except PMC&ndash;NB)
The control data requires an area of four consecutive bytes beginning
with an address to be specified.  In 16-TT and 18-TT, the first-byte
area is used for specifying a tool post.
In systems other than 16-TT and 18-TT, specify 0 for the area.
Specify data to be set for addresses G0 to G2 of the interface from
PMC to NC for the remaining three-byte  area in sequence.  For tool
post 2 of 16-TT or 18-TT, specify data to be set for addresses G1000
to G1002 in sequence.  (Be sure to set the strobe signal (ESTB) to
ON.)
</p>
<p>5.44
EXIN (EXTERNAL
DATA INPUT)
</p>
<p>5.44.1
Function
</p>
<p>5.44.2
Format
</p>
<p>5.44.3
Control Conditions
</p>
<p>5.44.4
Parameterww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>234
</p>
<p>CTL+0
</p>
<p>+1
</p>
<p>+2
</p>
<p>+3
</p>
<p>+4
</p>
<p>HEAD.NO (TT)
</p>
<p>ED0 to ED7
</p>
<p>ED8 to ED15
</p>
<p>EA0toEA6,ESTB
</p>
<p>[For systems other than 16-TT and 18-TT]
</p>
<p>CTL+0 : 0
CTL+1 to CTL+3 : Data to be specified for G0 to G2
</p>
<p>[For 16-TT and 18-TT]
(i) Tool post 1
</p>
<p>CTL+0 : 0
CTL+1 to CTL+3: Data to be specified for G0 to G2
</p>
<p>(ii) Tool post 2
CTL+0 : 2
CTL+1 to CTL+3: Data to be specified for G1000 to G1002
</p>
<p>[3&ndash;path control]
</p>
<p>(i) On path 1
CTL+0: Set 0.
CTL+1 to 3: Data to be set in G0 to G2
</p>
<p>(ii) On path 2
CTL+0: Set 0.
CTL+1 to 3: Data to be set in G1000 to G1002
</p>
<p>(iii) On path 3
CTL+0: Set 0.
CTL+1 to 3: Data to be set in G2000 to G2002
</p>
<p>NOTE
Refer to the &rdquo;Series 16 or 18 Connection Manual&rdquo; for
detailed data to be specified concerning external data input.
</p>
<p>(b) A consecutive area in eight bytes is necessary as the control data.
In 15- M/ T,  set command data in this CTL+0 -  +7 by the same data
form as  G32- 39 of BMI interface.
In 15- TT,  set command data in this CTL+0 -  +7 by the same data
form as  G112- 119 of BMI interface.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>235
</p>
<p>CTL+0
</p>
<p>      +1
</p>
<p>      +2
</p>
<p>      +3
</p>
<p>      +4
</p>
<p>      +5
</p>
<p>      +6
</p>
<p>      +7
</p>
<p>EISTB,   EOREND etc.
</p>
<p>EIA0 to EIA7
</p>
<p>EID32 to EID39
</p>
<p>EID40 to EID47
</p>
<p>EID0 to EID7
</p>
<p>EID8 to EID15
</p>
<p>EID16 to EID23
</p>
<p>EID25 to EID31
</p>
<p>A consecutive area in 16 bytes is necessary as the control data.
In 15-M/T, set command data in first CTL+0 - +7 by the same data
form as G32-39 of BMI interface. The data output from NC is written
in CTL+8 -  +15 in the same data form as BMI interface F32-39.
In 15-TT, set command data in first CTL+0 - +7 by the same data
form as G112-119 of BMI interface. The data output from NC is
written in CTL+8 - +15 in the same data form as BMI interface
F112-119.
</p>
<p>CTL+0
</p>
<p>      +1
</p>
<p>      +2
</p>
<p>      +3
</p>
<p>      +4
</p>
<p>      +5
</p>
<p>      +6
</p>
<p>      +7
</p>
<p>              +12
</p>
<p>              +13
</p>
<p>              +9
</p>
<p>EISTB,  EOREND etc         CTL+8
</p>
<p>EOSTB,  EIREND etc
</p>
<p>EIA0 to EIA7
</p>
<p>EOA0 to EOA7
</p>
<p>EID32 to EID39               +10
EOD32 to EOD39
</p>
<p>EID40 to EID47               +11
EOD40 to EOD47
</p>
<p>EID0 to EID7
</p>
<p>EOD0 to EOD7
</p>
<p>EID8 to EID15
EOD8 to EOD15
</p>
<p>EID16 to EID23               +14
</p>
<p>EOD16 to EOD23
</p>
<p>EID25 to EID31               +15
</p>
<p>EOD25 to EOD31
to to
</p>
<p>to to
</p>
<p>NOTE
Refer to the following manuals in detail of BMI interface.
&ldquo;FANUC Series 15-MODEL B Connection Manual  (BMI
interface)&rdquo;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>236
</p>
<p>This indicates end of transfer of external data.  This transfer end condition
shows the end of a series of external data input sequence. This functional
instruction executes a series of transfer sequence, and finally sets ESTB
= 0 in the PMC � NC interface.  As a result, W1 is set to 1 (W1 = 1) after
confirming that EREND = 0.
When W1 = 1, transfer of data is over. Reset ACT now.
</p>
<p>CAUTION
1 The EXIN command cannot input multiple external data items
</p>
<p>at the same time.  Be sure to issue the next EXIN command
(ACT = 1) after external data transfer ends (W1 = 1).
</p>
<p>2 Be sure to specify an interlock when the external data input function
is used by commands other than the function commands, DISP,
DISPB, and EXIN.
</p>
<p>If any of the following errors occurs during external data input, the bit in
the operation output register is set.  In this case, external data transfer ends
(W1 = 1).
</p>
<p>R9000
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>EXIN error
</p>
<p>(Description of errors)
� When the EXIN command (ACT = 1) is started, the strobe signal
</p>
<p>(ESTB) or EREND signal is already on.  The external data may be
</p>
<p>input by commands other than the function commands, DISP,
</p>
<p>DISPB, and EXIN.
</p>
<p>� An invalid head number was specified for 16-TT or 18-TT.  (Data
</p>
<p>other than 0 to 2 was specified.)
</p>
<p>� The specification of HEAD.NO is incorrect.
</p>
<p>(Data other than 0 to 3 is set for 3&ndash;path control.)
</p>
<p>Refer to Sec. 9.3.
</p>
<p>5.44.5
End of Transfer (W1)
</p>
<p>5.44.6
Operation Output
Register
</p>
<p>5.44.7
Notes when this
Functional Instruction
is Used in Subroutine
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>237
</p>
<p>This function reads various data items via the window between the PMC
and the CNC.
The &rdquo;WINDR&rdquo; is classified into two types. One type completes reading
a data during one scan time. Another type completes reading a data during
a few scan time. The former is called the function of a high&ndash;speed
response and the latter is called the function of a low&ndash;speed response.
</p>
<p>ACT
</p>
<p>WINDR
</p>
<p>(SUB 51)
</p>
<p>Control 
data
</p>
<p>address
</p>
<p>W1
</p>
<p>����5.45.2
</p>
<p>ACT=0 : The WINDR function is not executed.
ACT=1 :The WINDR function is executed. Using the function of a
</p>
<p>high&ndash;speed response, it is possible to read the data continuously
by always keeping ACT on. However, using the function of a
low&ndash;speed response, as soon as reading a data is completed,
reset &rdquo;ACT&rdquo; once (ACT=0).
</p>
<p>(a) Control data address
The PMC byte address is used to specify the area where control data
is stored.
</p>
<p>5.45
WINDR (READING
CNC WINDOW DATA)
</p>
<p>5.45.1
Function
</p>
<p>5.45.2
Format
</p>
<p>5.45.3
Control Condition
</p>
<p>5.45.4
Parameter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>238
</p>
<p>CTL+0 Function code
</p>
<p>Completion code
</p>
<p>Data length
</p>
<p>Data number
</p>
<p>Data attribute
</p>
<p>Read data
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>+n
</p>
<p>* Set the control data area by sequence
program before executing the &rdquo;WINDR&rdquo;
or &rdquo;WINDW&rdquo;.
</p>
<p>* Only the size of the read data is
necessary for the data area below to to
&rdquo;CTL+10&rdquo; usually.
</p>
<p>See Appendix B WINDOW FUNCTION DESCRIPTION.
</p>
<p>CAUTION
1 In the functional instructions &rdquo;WINDR&rdquo; and &rdquo;WINDW&rdquo;, the
</p>
<p>control data area may be temporarily rewritten. Therefore,
set the control data area by sequence program before the
&rdquo;WINDR&rdquo; or &rdquo;WINDW&rdquo; is executed even when you specify
the none volatile memory area like &rdquo;D&rdquo; address for the
control data area. Because, when the power supply is
turned off during the control data is rewritten, this rewritten
data may be memorized in a none volatile memory.
Therefore, note that the &rdquo;WINDR&rdquo; or &rdquo;WINDW&rdquo; might be
executed with the wrong control data when the power
supply is turned on next if the control data area is not set by
sequence program.
</p>
<p>2 Set the control data in the same program level as the
&rdquo;WINDR&rdquo; or &rdquo;WINDW&rdquo; is executed. If you set the control data
in the different program level, note that the &rdquo;WINDR&rdquo; or
&rdquo;WINDW&rdquo; might not be executed correctly, because the
control data is rewritten during the execution of &rdquo;WINDR&rdquo; or
&rdquo;WINDW&rdquo;.
</p>
<p>3 In the diagnosis screen, it might be seen that the value of
control data is changing. This is not abnormal. Because the
display processing and the execution processing of a
sequence program are asynchronously executed.
Therefore, the value when the control data is rewritten
(above&ndash;mentioned) is occasionally displayed. Even in this
case, the &rdquo;WINDR&rdquo; or &rdquo;WINDW&rdquo; is executed correctly.
</p>
<p>W1=0 : &rdquo;W1&rdquo; is usually reset. The &rdquo;W1=0&rdquo; indicates that the &rdquo;WINDR&rdquo;
is not executed or the &rdquo;WINDR&rdquo; being executed now.
</p>
<p>W1=1 : &rdquo;W1&rdquo; is set when the reading a data is completed by the reading
command (ACT=1). If the function of a low&ndash;speed response is
used, as soon as reading a data is completed, reset &rdquo;ACT&rdquo;
(ACT=0).
</p>
<p>5.45.5
Control Data
</p>
<p>5.45.6
Reading Completion
(W1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>239
</p>
<p>If an error occurs during execution of the &rdquo;WINDR&rdquo; or &rdquo;WINDW&rdquo;, the
bit in the operation output register is set. At the same time, the reading
completion is set (W1=1). Details of the error are output to the completion
code (CTL+2) in the control data area. See Appendix B WINDOW
FUNCTION DESCRIPTION.
</p>
<p>R9000
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>WINDR error
</p>
<p>When you use the function of a low&ndash;speed response, there are a few
limitation. Refer to &rdquo;9.3 NOTE FOR SUBROUTINES WHEN YOU
USE SUBROUTINES&rdquo; When you use the function of a high&ndash;speed
response, there is no limitation.
</p>
<p>5.45.7
Operation Output
register
</p>
<p>5.45.8
Notes when this
Functional Instruction
is Used in Subroutine
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>240
</p>
<p>This function writes various data items via the window between the PMC
and the CNC.
The &rdquo;WINDR&rdquo; is classified into the function of a low&ndash;speed response.
</p>
<p>ACT
</p>
<p>WINDW
</p>
<p>(SUB 52)
</p>
<p>Control 
data
</p>
<p>address
</p>
<p>W1
</p>
<p>����5.46.2
</p>
<p>ACT=0 : The WINDW function is not executed.
</p>
<p>ACT=1 :The WINDW function is executed. As soon as writing a data is
completed, reset &rdquo;ACT&rdquo; once (ACT=0).
</p>
<p>(a) Control data address
</p>
<p>The PMC byte address is used to specify the area where control data
is stored.
</p>
<p>Writing data
</p>
<p>CTL+0 Function code
</p>
<p>Completion code
</p>
<p>Data length
</p>
<p>Data number
</p>
<p>Data attribute
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>+42
</p>
<p>* Set the control data area by sequence
program before executing the
&rdquo;WINDR&rdquo; or &rdquo;WINDW&rdquo;.
</p>
<p>See Appendix B WINDOW FUNCTION DESCRIPTION.
</p>
<p>5.46
WINDOW (WRITING
CNC WINDOW DATA)
</p>
<p>5.46.1
Function
</p>
<p>5.46.2
Format
</p>
<p>5.46.3
Control Condition
</p>
<p>5.46.4
Parameter
</p>
<p>5.46.5
Control Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>241
</p>
<p>CAUTION
1 In the functional instructions &rdquo;WINDR&rdquo; and &rdquo;WINDW&rdquo;, the
</p>
<p>control data area may be temporarily rewritten. Therefore,
set the control data area by sequence program before the
&rdquo;WINDR&rdquo; or &rdquo;WINDW&rdquo; is executed even when you specify
the none volatile memory area like &rdquo;D&rdquo; address for the
control data area. Because, when the power supply is
turned off during the control data is rewritten, this rewritten
data may be memorized in a none volatile memory.
Therefore, note that the &rdquo;WINDR&rdquo; or &rdquo;WINDW&rdquo; might be
executed with the wrong control data when the power
supply is turned on next if the control data area is not set by
sequence program.
</p>
<p>2 Set the control data in the same program level as the
&rdquo;WINDR&rdquo; or &rdquo;WINDW&rdquo; is executed. If you set the control data
in the different program level, note that the &rdquo;WINDR&rdquo; or
&rdquo;WINDW&rdquo; might not be executed correctly, because the
control data is rewritten during the execution of &rdquo;WINDR&rdquo; or
&rdquo;WINDW&rdquo;.
</p>
<p>3 In the diagnosis screen, it might be seen that the value of
control data is changing. This is not abnormal. Because the
display processing and the execution processing of a
sequence program are asynchronously executed.
Therefore, the value when the control data is rewritten
(above&ndash;mentioned) is occasionally displayed. Even in this
case, the &rdquo;WINDR&rdquo; or &rdquo;WINDW&rdquo; is executed correctly.
</p>
<p>W1=0 : &rdquo;W1&rdquo; is usually reset. The &rdquo;W1=0&rdquo; indicates that the
&rdquo;WINDW&rdquo; is not executed or the &rdquo;WINDW&rdquo; being executed
now.
</p>
<p>W1=1 : &rdquo;W1&rdquo; is set when the writing a data is completed by the writing
command (ACT=1). As soon as writing a data is completed,
reset &rdquo;ACT&rdquo; (ACT=0).
</p>
<p>If an error occurs during execution of the &rdquo;WINDR&rdquo; or &rdquo;WINDW&rdquo;, the
bit in the operation output register is set. At the same time, the writing
completion is set (W1=1). Details of the error are output to the completion
code (CTL+2) in the control data area. See Appendix B WINDOW
FUNCTION DESCRIPTION.
</p>
<p>R9000
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>WINDW error
</p>
<p>5.46.6
Writing Completion
(W1)
</p>
<p>5.46.7
Operation Output
Registerww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>242
</p>
<p>When you use the function of a low&ndash;speed response, there are a few
limitation. Refer to &rdquo;9.3 NOTE FOR SUBROUTINES WHEN YOU
USE SUBROUTINES&rdquo;
</p>
<p>5.46.8
Notes when this
Functional Instruction
is Used in Subroutine
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>243
</p>
<p>These functional instructions (SUB90 to SUB97) are used to execute the
arbitrary functional instructions.  These instructions consist of the
addresses specifying the start condition, process end output, and control
condition.
</p>
<p>Fig.5.47.1.2 shows the notation format.  Table 5.47.1.2 shows the coding
format.
</p>
<p>SUB90
</p>
<p>FNC 90
</p>
<p>��������
</p>
<p>Control data
address
</p>
<p>ACT
</p>
<p>W1
</p>
<p>�	��5.47.1.2  FUNC 90 Notation Format
</p>
<p>���
� 5.47.1.2  FUNC 90 Coding Format
</p>
<p>Step
number
</p>
<p>Com-
mand
</p>
<p>Address
No. Bit No. Remarks
</p>
<p>1 RD ����. � ACT
</p>
<p>2 SUB 90 FUNC90 command
</p>
<p>3 (PRM) ���� Control data address
</p>
<p>4 WRT ����. � W1
</p>
<p>(a) Execution command (ACT)
This is used as the start condition of an arbitrary functional
</p>
<p>instruction.
</p>
<p>(a) Control data address
Specifies the first address in the control data area.
</p>
<p>5.47
ARBITRARY
FUNCTIONAL
INSTRUCTIONS
</p>
<p>5.47.1
FNC 90 to 97 
(Arbitrary Functional
Instructions) (Only for
PMC-RC/RC3/NB/NB2)
</p>
<p>5.47.1.1 
Function
</p>
<p>5.47.1.2 
Format
</p>
<p>5.47.1.3 
Control Condition
</p>
<p>5.47.1.4 
Parameter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>244
</p>
<p>Set the control data to be used by an arbitrary functional instruction.
If the control data is determined as follows, for example, the person who
created the ladder program determines a control address to set the control
data using the ladder program.
</p>
<p>Control data
addres
</p>
<p>7&sdot;&sdot;&sdot;&sdot;&sdot; 2 01
</p>
<p>CTL + 0
</p>
<p>CTL + 1
</p>
<p>CTL + 2
</p>
<p>CTL + 3
</p>
<p>Counter number
</p>
<p>UPDOWNCNO RST
</p>
<p>This is used as the process end output of an arbitrary functional
instruction.
</p>
<p>NOTE
If this functional instruction is displayed by the PCLAD
display function, an arbitrary functional instruction is
displayed as SUB9X, FNC99X.
</p>
<p>(a) Execution command (ACT)
The contents of the execution command can be referenced by bit 1
at R9010.
</p>
<p>(b) Control data address
The address where the control data is stored can be referenced in the
byte address format at R9012 or later.
</p>
<p>(c) Process end output (W1)
The data output when the process terminates can be referenced by bit
1 at R9011.
</p>
<p>5.47.1.5 
Control Data
</p>
<p>5.47.1.6 
Process End Output
(W1)
</p>
<p>5.47.2
Creating an Arbitrary
Function
</p>
<p>5.47.2.1 
Arbitrary Functional
Instruction and Interface
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>245
</p>
<p>R9010 97 96 95 94 93 92 91 90
</p>
<p>R9011 97 96 95 94 93 92 91 90
</p>
<p>R9012
</p>
<p>R9014 Control data address of SUB91
</p>
<p>R9026 Control data address of SUB97
</p>
<p>Byte address
</p>
<p>Execution command data
(See (3) in 5.46.1.)
</p>
<p>Process end output data
(See (5) in 5.46.1.)
</p>
<p>Control data address of SUB90
</p>
<p>Reference the start condition (ACT) of the arbitrary function by bit 1 at
R9010.  Reference the address at which the control data is stored in the
byte address format by the fields at R9012 and later.  Set the end signal
(W1) of an arbitrary function in bit 1 at R9011.  For example, to execute
the arbitrary function using SUB90, reference the start condition by
R9010.0.  Reference the control data address in the byte address format
by R9012.  Set the end signal at R9011.0.
</p>
<p>5.47.2.2 
Use of the R Field
</p>
<p>5.47.2.3 
Creating an Arbitrary
Function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>246
</p>
<p>This command reads up to 32 bytes of data via the window between PMC
and MMC.  The data can be determined as required between the PMC
ladder program and MMC application program.
</p>
<p>MMCWR
</p>
<p>(SUB98)
</p>
<p>����
</p>
<p>Input data
length
</p>
<p>address
</p>
<p>ACT
W1
</p>
<p>����
</p>
<p>Input data
address
</p>
<p>�	��5.48.2  MMCWR Command Format
</p>
<p>���
� 5.48.2  MMCWR Coding Format Coding sheet
</p>
<p>Step
number
</p>
<p>Com-
mand
</p>
<p>Address
No. Bit No. Remarks
</p>
<p>1 RD ���. � ACT
</p>
<p>2 SUB 98
</p>
<p>3 (PRM) ���� Input data length address
</p>
<p>4 (PRM) ����. Input data address
</p>
<p>5 WRT ���. � W1, processing completion
</p>
<p>ACT=0 : The MMCWR function is not executed.
ACT=1 : The MMCWR function is executed.  Hold ACT = 1 until 
</p>
<p>processing is completed and specify ACT = 0 immediately after
processing is completed (W1 = 1).
</p>
<p>(a) Input data length address (two bytes)
Specifies the length of input data transferred from MMC.  When 
transfer is completed, the length of data actually transferred is 
stored.  The maximum data length is 32 bytes.
</p>
<p>(b) Input data address
Specifies the area containing data transferred from MMC.  An area
large enough for the specified input data length is required.
</p>
<p>5.48
MMCWR (READING
MMC WINDOW DATA)
(OTHER THAN
PMC&ndash;PA1/PA3)
</p>
<p>5.48.1
Function
</p>
<p>5.48.2
Format
</p>
<p>5.48.3
Control Condition
</p>
<p>5.48.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>247
</p>
<p>W1=0 :This value is usually set.  W1 = 1 indicates that processing is 
completed.  As soon as processing is completed, specify ACT=0.
</p>
<p>W1=1 :This value is set when data transfer from MMC is completed or
if an error occurs.
</p>
<p>If an MMC window transfer error occurs, the bit in the operation output
register is set to indicate the error.  If an error occurs, the transferred data
is not stored in the input data area.
</p>
<p>R9000
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>MMCWR error
</p>
<p>The completion status information is specified in R9002 and R9003.  The
completion codes and contents, W1, and error bits are as follows:
</p>
<p>-11 &middot;&middot;&middot;&middot;&middot; Initialization at MMC is not completed. 
(W1 = 0, R9000#0 = 0)
</p>
<p>-10 &middot;&middot;&middot;&middot;&middot; Processing is in progress (W1 = 0, R9000#0 = 0)
   0 &middot;&middot;&middot;&middot;&middot; Processing is completed.(W1 = 1, R9000#0 = 0)
   2 &middot;&middot;&middot;&middot;&middot; Data length error (W1 = 1, R9000#0 = 1)
</p>
<p>(0, a negative value, or a value exceeding 33 bytes was specified
for the data length.  The length of data actually transferred 
exceeded the specified value.)
</p>
<p>   6 &middot;&middot;&middot;&middot;&middot; MMC is not provided (W1 = 1, R9000#0 = 1)
</p>
<p>Refer to Sec. 9.3.
</p>
<p>5.48.5
Processing Completion
(W1)
</p>
<p>5.48.6
Operation Output
Register
</p>
<p>5.48.7
Completion Status
Information
</p>
<p>5.48.8
Notes when this
Functional Instruction
is Used in Subroutine
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>248
</p>
<p>This command writes data containing up to 32 bytes via the window
between PMC and MMC.  The data can be determined as required
between the PMC ladder program and MMC application program.
</p>
<p>MMCWW
</p>
<p>(SUB99)
</p>
<p>����
</p>
<p>Output data
length
</p>
<p>address
</p>
<p>ACT
W1
</p>
<p>����
</p>
<p>Output data
address
</p>
<p>�	��5.49.2  MMCWW Command Format
</p>
<p>���
� 5.49.2  MMCWW Coding Format Coding sheet
</p>
<p>Step
number
</p>
<p>Com-
mand
</p>
<p>Address
No. Bit No. Remarks
</p>
<p>1 RD ���. � ACT
</p>
<p>2 SUB 99
</p>
<p>3 (PRM) ���� Output data length address
</p>
<p>4 (PRM) ����. Output data address
</p>
<p>5 WRT ���. � W1, processing completion
</p>
<p>ACT=0 : The MMCWW function is not executed.
ACT=1 : The MMCWW function is executed.  Hold ACT = 1 until 
</p>
<p>processing is completed and specify ACT = 0 immediately after
processing is completed.
</p>
<p>(a) Output data length address (two bytes)
Specifies the length of output data transferred to MMC. The  maximum
data length is 32 bytes.
</p>
<p>(b) Output data address
Specifies the area storing data to be transferred to MMC.  An area
large enough for the specified output data length is required.
</p>
<p>5.49
MMCWW (WRITING
MMC WINDOW DATA)
(OTHER THAN
PMC&ndash;PA1/PA3)
</p>
<p>5.49.1
Function
</p>
<p>5.49.2
Format
</p>
<p>5.49.3
Control Condition
</p>
<p>5.49.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>249
</p>
<p>W1=0 :This value is usually set.  W1 = 1 indicates that processing is 
completed.  As soon as processing is completed, specify ACT=0.
</p>
<p>W1=1 :This value is set when data transfer to MMC is completed or if an
error occurs.
</p>
<p>If an MMC window transfer error occurs, the bit in the operation output
register is set to indicate the error.  If an error occurs, the transferred data
is not transferred to MMC.
</p>
<p>R9000
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>MMCWW error
</p>
<p>The completion status information is specified in R9002 and R9003.  The
completion codes and contents, W1, and error bits are as follows:
</p>
<p>-11 &middot;&middot;&middot;&middot;&middot; Initialization at MMC is not completed.(W1 = 0, R9000#0 = 0)
-10 &middot;&middot;&middot;&middot;&middot; Processing is in progress. (W1 = 0, R9000#0 = 0)
   0 &middot;&middot;&middot;&middot;&middot; Processing is completed. (W1 = 1, R9000#0 = 0)
   2 &middot;&middot;&middot;&middot;&middot; Data length error (W1 = 1, R9000#0 = 1)
</p>
<p>(0, a negative value, or a value exceeding 33 bytes was specified
for the data length.)
</p>
<p>   6 &middot;&middot;&middot;&middot;&middot; MMC is not provided. (W1 = 1, R9000#0 = 1)
</p>
<p>Refer to Sec. 9.3.
</p>
<p>5.49.5
Processing Completion
(W1)
</p>
<p>5.49.6
Operation Output
Register
</p>
<p>5.49.7
Completion Status
Information
</p>
<p>5.49.8
Notes when this
Functional Instruction
is Used in Subroutine
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>250
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The MOVB instruction transfers 1-byte data from a specified source
address to a specified destination address.
</p>
<p>MOVB
</p>
<p>SUB  43
</p>
<p>Transfer
source
address
</p>
<p>Transfer
destinatio
n address
</p>
<p>ACT
</p>
<p>(a) Execution specification
ACT=0 : No data is transferred.
ACT=1 : One-byte data is transferred.
</p>
<p>5.50
MOVB (TRANSFER
OF 1 BYTE)
</p>
<p>5.50.1
Function
</p>
<p>5.50.2
Format
</p>
<p>5.50.3
Control Conditions
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>251
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The MOVW instruction transfers 2-byte data from a specified source
address to a specified destination address.
</p>
<p>MOVB
</p>
<p>SUB  44
</p>
<p>Transfer
source
address
</p>
<p>Transfer
destinatio
n address
</p>
<p>ACT
</p>
<p>(a) Execution specification
ACT=0 : No data is transferred.
ACT=1 : Two-byte data is transferred.
</p>
<p>5.51
MOVW (TRANSFER
OF 2 BYTES)
</p>
<p>5.51.1
Function
</p>
<p>5.51.2
Format
</p>
<p>5.51.3
Control Conditions
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>252
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The MOVN instruction transfers data consisting of an arbitrary number
of bytes from a specified source address to a specified destination address.
</p>
<p>MOVN
</p>
<p>SUB  45
</p>
<p>Number of
</p>
<p>bytes to be
</p>
<p>transferred
</p>
<p>Transfer
source
address
</p>
<p>Transfer
destinatio
n address
</p>
<p>ACT
</p>
<p>(a) Execution specification
ACT=0 : No data is transferred.
ACT=1 : A specified number of bytes are transferred.
</p>
<p>(a) Number of bytes to be transferred
Specify the number of bytes to be transferred.  An odd number can 
also be specified.  A number from 1 to 200 can be specified.
</p>
<p>5.52
MOVN (TRANSFER
OF AN ARBITRARY
NUMBER OF BYTES)
</p>
<p>5.52.1
Function
</p>
<p>5.52.2
Format
</p>
<p>5.52.3
Control Conditions
</p>
<p>5.52.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>253
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The DIFU instruction sets the output signal to 1 for one scanning cycle
on a rising edge of the input signal.
</p>
<p>DIFU
</p>
<p>SUB  57
</p>
<p>Rising
edge
</p>
<p>number
</p>
<p>ACT    OUT
�
</p>
<p>(a) Input signal
On a rising edge (0&rarr;1) of the input signal, the output signal is set to 1.
</p>
<p>(b) Output signal
The output signal level remains at 1 for one scanning cycle of the
ladder level where this functional instruction is operating.
</p>
<p>(a) Rising edge number
</p>
<p>Model PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>Rising edge
number
</p>
<p>_ 1 to
256
</p>
<p>_ _ 1 to
256
</p>
<p>1 to
256
</p>
<p>_ _ 1 to
256
</p>
<p>1 to
500
</p>
<p>1 to
256
</p>
<p>1 to
500
</p>
<p>_ 1 to
256
</p>
<p>1 to
500
</p>
<p>1 to
256
</p>
<p>1 to
500
</p>
<p>If the same number is used for another DIFU instruction or a DIFD
instruction (described later) in one Ladder diagram, operation is not
guaranteed.
</p>
<p>ACT
</p>
<p>OUT
</p>
<p>1 2 3 4 Execution period
</p>
<p>5.53
DIFU (RISING EDGE
DETECTION)
</p>
<p>5.53.1
Function
</p>
<p>5.53.2
Format
</p>
<p>5.53.3
Control Conditions
</p>
<p>5.53.4
Parameters
</p>
<p>5.53.5
Operationww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>254
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The DIFD instruction set the output signal to 1 for one scanning period
on a falling edge of the input signal.
</p>
<p>DIFD
</p>
<p>SUB  58
</p>
<p>Falling
edge
</p>
<p>number
</p>
<p>ACT    OUT
�
</p>
<p>(a)  Input signal
On a falling edge(1&rarr;0)of the input signal, the output signal is set to 1.
</p>
<p>(b) Output signal
The output signal level remains at 1 for one scanning period of the
ladder level where this functional instruction is operating.
</p>
<p>(a) Falling edge number
</p>
<p>Model PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>Falling edge
number
</p>
<p>_ 1 to
256
</p>
<p>_ _ 1 to
256
</p>
<p>1 to
256
</p>
<p>_ _ 1 to
256
</p>
<p>1 to
500
</p>
<p>1 to
256
</p>
<p>1 to
500
</p>
<p>_ 1 to
256
</p>
<p>1 to
500
</p>
<p>1 to
256
</p>
<p>1 to
500
</p>
<p>If the same number is used for another DIFD instruction or a DIFU
instruction (described above) in one ladder diagram, operation is not
guaranteed.
</p>
<p>1 2 3 4 Execution period
</p>
<p>OUT
</p>
<p>ACT
</p>
<p>5.54
DIFD (FALLING EDGE
DETECTION)
</p>
<p>5.54.1
Function
</p>
<p>5.54.2
Format
</p>
<p>5.54.3
Control Conditions
</p>
<p>5.54.4
Parameters
</p>
<p>5.54.5
Operationww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>255
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The EOR instruction exclusive-ORs the contents of address A with a
constant (or the contents of address B), and stores the result at address C.
</p>
<p>EOR
</p>
<p>SUB  59
</p>
<p>Format
</p>
<p>specification
</p>
<p>Address
</p>
<p>A
</p>
<p>Constant or
</p>
<p>address B
</p>
<p>Address
</p>
<p>C
</p>
<p>ACT
</p>
<p>(a) Input signal
ACT=0 : The EOR instruction is not executed.
ACT=1 : The EOR instruction is executed.
</p>
<p>��� Format specification
Specify a data length (1, 2, or 4 bytes), and an input data format
(constant or address specification).
</p>
<p>Data length specification
    1 : 1 byte
    2 : 2 bytes
    4 : 4 bytes
</p>
<p>Format specification
    0 : Constant
    1 : Address specification
</p>
<p>(b) Address A
Input data to be exclusive-ORed.  The data that is held starting at this
address and has the data length specified in format specification is
treated as input data.
</p>
<p>(c) Constant or address B
Input data to be exclusive-ORed with.  When address specification
is selected in format specification, the data that is held starting at this
address and has the data length specified in format specification is
treated as input data.
</p>
<p>(d) Address C
Address used to store the result of an exclusive OR operation.  The
result of an exclusive OR operation is stored starting at this address,
and has the data length specified in format specification.
</p>
<p>5.55
EOR 
(EXCLUSIVE OR)
</p>
<p>5.55.1
Function
</p>
<p>5.55.2
Format
</p>
<p>5.55.3
Control Conditions
</p>
<p>5.55.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>256
</p>
<p>When address A and address B hold the following data:
</p>
<p>Address A
</p>
<p>Address B
</p>
<p>1 1 1 0 0 0 1 1
</p>
<p>0 1 0 1 0 1 0 1
</p>
<p>The result of the exclusive OR operation is as follows:
</p>
<p>1 0 1 1 0 1 1 0Address C
</p>
<p>5.55.5
Operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>257
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The AND instruction ANDs the contents of address A with a constant (or
the contents of address B), and stores the result at address C.
</p>
<p>AND
</p>
<p>SUB  60
</p>
<p>Format
specification
</p>
<p>Address
A
</p>
<p>Constant
or
</p>
<p>address B
</p>
<p>Address
C
</p>
<p>ACT
</p>
<p>(a) Input signal
ACT=0 : The AND instruction is not executed.
ACT=1 : The AND instruction is executed.
</p>
<p>(a) Format specification
Specify a data length (1, 2, or 4 bytes), and an input data format 
(constant or address specification).
</p>
<p>Data length specification
    1 : 1 byte
    2 : 2 bytes
    4 : 4 bytes
</p>
<p>Format specification
    0 : Constant
    1 : Address specification
</p>
<p>(b) Address A
Input data to be ANDed.  The data that is held starting at this address
and has the data length specified in format specification is treated as
input data.
</p>
<p>(c) Constant or address B
Input data to be ANDed with.  When address specification is selected
in format specification, the data that is held starting at this address
and has the data length specified in format specification is treated as
input data.
</p>
<p>(d) Address C
Address used to store the result of an AND operation.  The result of
an AND operation is stored starting at this address, and has the data
length specified in format specification.
</p>
<p>5.56
LOGICAL AND
</p>
<p>5.56.1
Function
</p>
<p>5.56.2
Format
</p>
<p>5.56.3
Control Conditions
</p>
<p>5.56.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>258
</p>
<p>When address A and address B hold the following data:
</p>
<p>Address A
</p>
<p>Address B
</p>
<p>1 1 1 0 0 0 1 1
</p>
<p>0 1 0 1 0 1 0 1
</p>
<p>The result of the AND operation is as follows:
</p>
<p>Address C 0 1 0 0 0 0 1 0
</p>
<p>5.56.5
Operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>259
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The OR instruction ORs the contents of address A with a constant (or the
contents of address B), and stores the result at address C.
</p>
<p>OR
</p>
<p>SUB  61
</p>
<p>Format
specification
</p>
<p>Address
</p>
<p>A
</p>
<p>Constant
or
</p>
<p>address
B
</p>
<p>Address
</p>
<p>C
</p>
<p>ACT
</p>
<p>(a) Input signal
ACT=0 : The OR instruction is not executed.
ACT=1 : The OR instruction is executed.
</p>
<p>(a) Format specification
Specify a data length (1, 2, or 4 bytes), and an input data format 
(constant or address specification).
</p>
<p>Data length specification
    1 : 1 byte
    2 : 2 bytes
    4 : 4 bytes
</p>
<p>Format specification
    0: Constant
    1 : Address specification
</p>
<p>(b) Address A
Input data to be ORed.  The data that is held starting at this address
and has the data length specified in format specification is treated as
input data.
</p>
<p>(c) Constant or address B
Input data to be ORed with.  When address specification is selected
in format specification, the data that is held starting at this address
and has the data length specified in format specification is treated as
input data.
</p>
<p>(d) Address C
Address used to store the result of an OR operation.  The result of an
OR operation is stored starting at this address, and has the data length
specified in format specification.
</p>
<p>5.57
LOGICAL OR
</p>
<p>5.57.1
Function
</p>
<p>5.57.2
Format
</p>
<p>5.57.3
Control Conditions
</p>
<p>5.57.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>260
</p>
<p>When address A and address B hold the following data:
</p>
<p>Address A
</p>
<p>Address B
</p>
<p>1 1 1 0 0 0 1 1
</p>
<p>0 1 0 1 0 1 0 1
</p>
<p>The result of the OR operation is as follows:
</p>
<p>Address C 1 1 1 1 0 1 1 1
</p>
<p>5.57.5
Operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>261
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The NOT instruction inverts each bit of the contents of address A, and
stores the result at address B.
</p>
<p>NOT
</p>
<p>SUB  62
</p>
<p>Format
specification
</p>
<p>Address
</p>
<p>A
</p>
<p>Address B
</p>
<p>ACT
</p>
<p>(a) Input signal
ACT=0 : The NOT instruction is not executed.
ACT=1 : The NOT instruction is executed.
</p>
<p>(a) Format specification
Specify a data length (1, 2, or 4 bytes), and an input data format 
(constant or address specification).
</p>
<p>Data length specification
    1 : 1 byte
    2 : 2 bytes
    4 : 4 bytes
</p>
<p>(b) Address A
Input data to be inverted bit by bit.  The data that is held starting at
this address and has the data length specified in format specification
is treated as input data.
</p>
<p>(c) Address B
Address used to output the result of a NOT operation.  The result of
a NOT operation is stored starting at this address, and has the data
length specified in format specification.
</p>
<p>5.58
NOT (LOGICAL NOT)
</p>
<p>5.58.1
Function
</p>
<p>5.58.2
Format
</p>
<p>5.58.3
Control Conditions
</p>
<p>5.58.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>262
</p>
<p>When address A holds the following data:
</p>
<p>Address A 1 1 1 0 0 0 1 1
</p>
<p>The result of the NOT operation is as follows:
</p>
<p>Address B 0 0 0 1 1 1 0 0
</p>
<p>5.58.5
Operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
∆   :  Can be used (with some restrictions)
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>263
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � ∆ � � � � � � � � � � � � � �
</p>
<p>NOTE
This functional instruction cannot be used with RA1 of the
Series 16i/18i/21i&ndash;MODEL A.
</p>
<p>The MMC3R instruction reads MMC-III application data via a
PMC-MMC window.  Which buffer in the MMC-III is to be read can be
specified.  The contents of read data can be freely determined by a PMC
Ladder program and MMC-III application program.
</p>
<p>CNC
</p>
<p>Data length
</p>
<p>  Buffer 1
PMC data Buffer 1   MMC-III
</p>
<p>Offset
</p>
<p>Buffer n
</p>
<p>n = maximum of 10
</p>
<p>PMC
</p>
<p>MMC3R
</p>
<p>SUB  88
</p>
<p>Buffer
</p>
<p>specification
</p>
<p>Offset from
</p>
<p>the beginning
</p>
<p>of the buffer
</p>
<p>Data length Input data
</p>
<p>ACT   W1
</p>
<p>�
</p>
<p>ACT=0 : The MMC3R instruction is not executed.
ACT=1 : Data is read.
</p>
<p>5.59
MMC3 R (MMC-III
WINDOW DATA
READ)
</p>
<p>5.59.1
Function
</p>
<p>5.59.2
Format
</p>
<p>5.59.3
Control Conditions
(ACT)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>264
</p>
<p>��� Address for storing buffer specifications (2 bytes)
A buffer from which data is to be read is specified.  Up to 10 buffers
can be specified.  Specify the address where the buffer specification
is held.
</p>
<p>NOTE
For the method of buffer registration, refer to the relevant
MMC-III manual.
</p>
<p>(b) Address for storing an offset from the beginning of a buffer (2 bytes)
An offset from the beginning of a read buffer is specified.  Specify
the address where the offset is held.
</p>
<p>(c) Data length storage address (2 bytes)
The length of data to be read from the MMC-III is specified.  Specify
the address where the length of data is held.  The maximum allowable
data length is 256 bytes.
</p>
<p>(d) Input data storage address
Specify the address where data to be read from the MMC-III is stored.
A contiguous area not smaller than the length of data specified in c)
above is required.
</p>
<p>W1=0 :When ACT = 0, W1 = 0 is set.  If W1 = 0 is set when ACT = 1,
it indicates that read processing is in progress.
</p>
<p>W1=1 :Indicates that read processing has terminated.  Whether read 
processing has terminated normally or abnormally can be 
checked with the state of R9000 described below.
</p>
<p>When W1 indicates the termination of read processing, a termination state
is set.
</p>
<p>R9000
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>MMC3R error
</p>
<p>MMC3R=0 : Normal termination
MMC3R=1 : Abnormal termination
</p>
<p>When ACT = 1, completion status information is set in the operation
register R9002.
</p>
<p>&ndash;11 : MMC initialization not completed (W1=0, R9000#0=0) 
   0 : Normal termination (W1=1, R9000#0=0) 
   2 : Data length error (W1=1, R9000#0=1) 
</p>
<p>The specified length of data is 0, negative data is specified, or
the maximum allowable data length is exceeded.
</p>
<p>   6 : The MMC-III is not attached. (W1=1, R9000#0=1)
   3 : Buffer specification error (W1=1, R9000#0=1)
</p>
<p>5.59.4
Parameters
</p>
<p>5.59.5
Processing Completion
(W1)
</p>
<p>5.59.6
Operation Output
Register
</p>
<p>5.59.7
Completion Status
Information
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>265
</p>
<p>Refer to Sec. 9.3.5.59.8
Notes when this
Functional Instruction
is Used in Subroutine
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
∆   :  Can be used (with some restrictions)
�  :  Cannot be used
</p>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>266
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � ∆ � � � � � � � � � � � � � �
</p>
<p>NOTE
This functional instruction cannot be used with RA1 of the
Series 16i/18i/21i&ndash;MODEL A.
</p>
<p>The MMC3W instruction writes data to MMC-III application data via a
PMC-MMC window.  Which buffer in the MMC-III is to be written to can
be specified.  The contents of write data can be freely determined by a
PMC Ladder program and MMC-III application program.
</p>
<p>CNC
</p>
<p>Data length
</p>
<p>  Buffer 1
PMC data Buffer 1   MMC- III
</p>
<p>Offset
</p>
<p>Buffer n
</p>
<p>n = maximum of 10
</p>
<p>PMC
</p>
<p>MMC3R
</p>
<p>SUB  89
</p>
<p>Buffer
</p>
<p>specification
</p>
<p>Offset from
</p>
<p>the
</p>
<p>beginning of
</p>
<p>the buffer
</p>
<p>Data length Input data
</p>
<p>ACT   W1
</p>
<p>�
</p>
<p>ACT=0 : The MMC3W instruction is not executed.
ACT=1 : Data is written.
</p>
<p>5.60
MMC3W (MMC-III
WINDOW DATA
WRITE)
</p>
<p>5.60.1
Function
</p>
<p>5.60.2
Format
</p>
<p>5.60.3
Control Conditions
(ACT)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>267
</p>
<p>��� Address for storing buffer specifications (2 bytes)
A buffer to which data is to be written is specified.  Up to 10 buffers
can be specified.  Specify the address where the buffer specification
is held.
</p>
<p>NOTE
For the method of buffer registration, refer to the relevant
MMC-III manual.
</p>
<p>(b) Address for storing an offset from the beginning of a buffer (2 bytes)
An offset from the beginning of a write buffer is specified.  Specify
the address where the offset is held.
</p>
<p>(c) Data length storage address (2 bytes)
The length of data to be written to the MMC-III is specified.  Specify
the address where the length of data is held.  The maximum allowable
data length is 256 bytes.
</p>
<p>(d) Output data storage address
Specify the address where data to be written to the MMC-III is stored.
A contiguous area not smaller than the length of data specified in c)
above is required.
</p>
<p>W1=0 :When ACT = 0, W1 = 0 is set.  If W1 = 0 is set when ACT = 1,
it indicates that write processing is in progress.
</p>
<p>W1=1 :Indicates that write processing has terminated.  Whether write 
processing has terminated normally or abnormally can be 
checked with the state of R9000 described below.
</p>
<p>When W1 indicates the termination of write processing, a termination
state is set.
</p>
<p>R9000
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>MMC3R error
</p>
<p>MMC3W=0 : Normal termination
MMC3W=1 : MMC3R = 1:  Abnormal termination
</p>
<p>5.60.4
Parameters
</p>
<p>5.60.5
Processing Completion
(W1)
</p>
<p>5.60.6
Operation Output
Register
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>268
</p>
<p>When ACT = 1, completion status information is set in the operation
register R9002.
</p>
<p>-11 : MMC initialization not completed (W1=0, R9000#0=0)
   0 : Normal termination (W1=1, R9000#0=0) 
   2 : Data length error (W1=1, R9000#0=1) 
</p>
<p>The specified length of data is 0, negative data is specified, or
the maximum allowable data length is exceeded.
</p>
<p>   6 : The MMC-III is not attached. (W1=1, R9000#0=1)
   3 : Buffer specification error (W1=1, R9000#0=1)
</p>
<p>Refer to Sec. 9.3.
</p>
<p>5.60.7
Completion Status
Information
</p>
<p>5.60.8
Notes when this
Functional Instruction
is Used in Subroutine
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>269
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>SPCNT performs the following processing using spindle speed data
(16-bit binary data) that is input from the NC or some other device to the
PMC:
</p>
<p>(a) Gear selection (Up to four gears from GR1 to GR4 can be used.)
</p>
<p>(b) Calculating a spindle motor rotation command (13-bit binary data)
when automatic gear selection is enabled
</p>
<p>(c) Calculating a spindle motor rotation command (13-bit binary data)
when direct gear selection is enabled
</p>
<p>(d) Clamping the spindle motor speed to an upper or lower limit
</p>
<p>(e) Calculating a spindle motor rotation command when a spindle
override is specified
As shown in Fig.5.61.1, a spindle motor rotation command is
calculated from the spindle speed data. The maximum value (8191)
of the spindle motor command is equivalent to an analog voltage at
10V.
</p>
<p>Spindle motor rotation command (13-bit binary data)
</p>
<p>Maximum motor speed (8191)
Upper limit at which the motor 
speed is clamped
</p>
<p>Lower limit at which the motor 
speed is clamped
</p>
<p>GR1 GR2 GR3 GR4
</p>
<p>Spindle speed 
(rpm)
</p>
<p>Maximum 
spindle speed 
for GR1
</p>
<p>Maximum 
spindle speed
for GR2
</p>
<p>Maximum 
spindle speed for
GR3
</p>
<p>Maximum spindle
speed for GR4
</p>
<p>����5.61.1  Spindle Speeds and Corresponding Spindle Motor Rotation Commands
</p>
<p>The spindle motor rotation command is calculated as 13-bit binary
data.  If the spindle amplifier is a D/A converter provided in the
machine and can only handle 12-bit binary data, for example, the
calculated spindle motor rotation command must be halved before
being output (shifted right one bit position in a shift register).
</p>
<p>(i) Spindle control with automatic gear selection
This functional instruction uses spindle speed data (16-bit binary
data) and the maximum spindle speeds set in parameters GR1 to
GR4 of this functional instruction to select a gear, calculate the
spindle motor rotation command for that selected gear, and output
the result to the control data address.
Based on this output information, the sequence program must
perform gear switching as necessary and output the rotation
command to the spindle motor.
</p>
<p>5.61
SPCNT (SPINDLE
CONTROL)
</p>
<p>5.61.1
Function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>270
</p>
<p>Spindle motor 
rotation 
command
</p>
<p>Spindle speed
</p>
<p>SPCNT
</p>
<p>Spindle control
</p>
<p>Information of GR1 to GR2
�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>(ii) Spindle control with direct gear selection
When direct gear selection is set, this functional instruction does
not perform gear selection.  A gear to be used is selected by the
sequence program.  The target gear must be set at the control data
address, which is a parameter of this functional instruction, using
the sequence program. 
According to the set gear, the functional instruction calculates and
outputs a spindle motor rotation command.  In this case, the
spindle motor rotation command has a linear relationship with the
spindle speed.  The line for the selected gear is assumed to extend
to its lower limit (indicated by a dotted line).  See Fig.5.61.1.
</p>
<p>Spindle motor 
rotation 
command
</p>
<p>Spindle speed
</p>
<p>SPCNT
</p>
<p>Spindle control
</p>
<p>Information of GR1 to GR2
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>The spindle motor speed can be clamped at the upper and lower
limits also with direct gear specification.  When the CNC
performs constant surface speed control, spindle control with
direct gear specification is generally performed.
</p>
<p>SPCNT
</p>
<p>(SUB46)
</p>
<p>*
</p>
<p>����
</p>
<p>Spindle speed data
</p>
<p>address
</p>
<p>*
</p>
<p>����
</p>
<p>Spindle control
</p>
<p>parameter address
</p>
<p>*
</p>
<p>����
</p>
<p>Control data 
</p>
<p>address
</p>
<p>OVRD
</p>
<p>ACT
</p>
<p>CIRC
</p>
<p>5.61.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>Spindle control parameter +0
</p>
<p>Spindle control parameter +4
</p>
<p>Spindle control parameter +8
</p>
<p>Spindle control parameter +12
</p>
<p>Spindle control parameter +16
</p>
<p>Spindle control parameter +20
</p>
<p>Spindle control parameter +24
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>271
</p>
<p>(a) Direct gear specification (CIRC)
CIRC=0 : Disables direct gear specification.  
</p>
<p>(Enables automatic gear selection.)
CIRC=1 : Enables direct gear specification.
</p>
<p>(b) Override specification (OVRD)
OVRD=0 : Disables the override function
OVRD=1 : Enables the override function.
</p>
<p>(c) Instruction execution specification (ACT)
ACT=0 : The SPCNT instruction is not executed.
ACT=1 : The SPCNT instruction is executed.
</p>
<p>(a) Spindle speed data address
Specifies an even-numbered address at which the spindle speed data
(16-bit binary data) is stored.
</p>
<p>(b) Spindle control parameter address
Specifies an even-numbered address at which the parameters for
spindle control are stored.  Binary data is set in contiguous 24-byte
memory locations starting at the specified address.
</p>
<p>Lower spindle motor speed limit data
</p>
<p>Upper spindle motor speed limit data
</p>
<p>Maximum spindle speed for gear 1
</p>
<p>Maximum spindle speed for gear 2
</p>
<p>Maximum spindle speed for gear 3
</p>
<p>Maximum spindle speed for gear 4
</p>
<p>This 24-byte memory area is specified by addressing, and so it can
be allocated in any addressable memory location.  For this type of
data, however, a data table in nonvolatile memory is most suitable.
For maintenance convenience, the memory area should be allocated
in the first data table (table group 1).
</p>
<p>(i) Lower spindle motor speed limit data
Sets the lower spindle motor speed limit obtained from the
following expression:
</p>
<p>�
��� &#13;��	��� �
�
�
&#13;���� ����� ���� = � 8191
</p>
<p>Minimum speed (rpm) specified for 
the spindle motor
</p>
<p>Maximum speed (rpm) obtainable by the
spindle motor
</p>
<p>A value from 0 to 8191 can be specified as the lower speed limit
data.  The maximum spindle motor speed is achieved when 10 V
is applied to the motor.
</p>
<p>(ii) Upper spindle motor speed limit data
Sets the upper spindle motor speed limit obtained from the
following expression:
</p>
<p>Upper spindle motor 
speed limit data = � 8191
</p>
<p>Maximum speed (rpm) specified for 
the spindle motor
</p>
<p>Maximum speed (rpm) obtainable by 
the spindle motor
</p>
<p>5.61.3
Control Conditions
</p>
<p>5.61.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>Specified address+0
</p>
<p>Specified address+1
</p>
<p>Specified address+2
</p>
<p>Specified address+3
</p>
<p>Spindle motor 
</p>
<p>rotation command
</p>
<p>} Spindle gear
} selection
} Spindle override
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>272
</p>
<p>(iii) Maximum spindle speed for GR1
Sets a maximum spindle speed (rpm) for GR1.  The maximum
spindle speed must be set in this parameter even when GR1 gear
is not provided.  The maximum spindle speed is the speed of the
spindle when the motor operates at its maximum speed.
</p>
<p>(iv) Maximum spindle speed for GR2
Sets a maximum spindle speed (rpm) for GR2.  When GR2 is not
provided, this parameter must be set to 0.
</p>
<p>(v) Maximum spindle speed for GR3
Sets a maximum spindle speed (rpm) for GR3.  When GR3 is not
provided, this parameter must be set to 0.
</p>
<p>(vi) Maximum spindle speed for GR4
Sets a maximum spindle speed (rpm) for GR4.  When GR4 is not
provided, this parameter must be set to 0.
</p>
<p>(c) Control data address
Contiguous 4-byte memory locations starting at the even-numbered
address specified in the control data address parameter must be
specified.
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>R08 R07 R06 R05 R04 R03 R02 R01
</p>
<p>R13 R12 R11 R10 R09
</p>
<p>GR4 GR3 GR2 GR1
</p>
<p>SOV128 SOV64 SOV32 SOV16 SOV8 SOV4 SOV2 SOV1
</p>
<p>(i) Spindle gear selection
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>GR4 GR3 GR2 GR1
</p>
<p>[For automatic gear selection]
This functional instruction finds an appropriate gear using the
spindle speed data and the maximum spindle speed for each
gear, then outputs the result to GR1 to GR4.
</p>
<p>[For direct gear selection]
The sequence program sets the gear to be used in GR1 to GR4.
</p>
<p>This functional instruction calculates the spindle motor rotation
commands for all speeds from the upper motor speed limit to the
lower speed limit (extended portion indicated by dotted line).  See
Fig. 5.61.
</p>
<p>(ii) Spindle motor rotation command
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>R08 R07 R06 R05 R04 R03 R02 R01
</p>
<p>R13 R12 R11 R10 R09
</p>
<p>The spindle motor rotation command (13-bit binary data)
calculated by this functional instruction is set at these control data
addresses.  This instruction specifies a spindle motor rotation
command with a spindle override applied.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>273
</p>
<p>(iii) Spindle override
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>SOV128 SOV64 SOV32 SOV16 SOV8 SOV4 SOV2 SOV1
</p>
<p>The sequence program must set a spindle override in binary.  A
spindle override from 0% to 255% can be set in binary.
</p>
<p>Spindle control is primarily used to control the spindle speed during
normal cutting.  It can, however, also be used to:
</p>
<p>(a) Rotate the spindle motor at a specific speed when the gear is switched
The sequence program can output appropriate 13-bit binary data as
a spindle motor rotation command to rotate the spindle motor at a
specific speed, without using this functional instruction.
</p>
<p>(b) Rotate the spindle at a specific speed during spindle orientation
This is enabled by specifying appropriate spindle speed data in the
functional instruction (SPCNT). During spindle orientation, the
spindle is rotated at the specified orientation spindle speed with the
currently selected gear (gear selection is not performed). Gear
selection is disabled by setting CIRC to 1 (direct gear specification).
</p>
<p>Spindle motor 
rotation command
</p>
<p>Spindle
speed data
sent from
the NC, etc.
</p>
<p>SPCNT
</p>
<p>Spindle control Information of 
GR1 to GR2Spindle speed data
</p>
<p>Orientation
spindle
speed data
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>(c) Control the spindle in a tapping cycle
In a tapping cycle, spindle rotation is reversed at the bottom of a hole.
Using the HIGH gear to reverse the rotation requires a lower analog
voltage than using the LOW gear.  So, using the HIGH gear reduces
the machining time.
To widen the usable range of the HIGH gear, set CIRC to 1 to disable
automatic gear selection.
</p>
<p>(d) Clamp the spindle speed
When the BMI interface is used between the NC and PMC, spindle
should be controlled by the PMC (sequence program), as described
in the BMI manual.
Clamping the spindle speed is one of the spindle control operations.
The spindle control functional instruction SPCNT (SUB46) can be
used to clamp the spindle speed.  The clamping method is outlined
below.  For precise control, conform to the specifications of the
machine supplied by the machine tool builder.
</p>
<p>5.61.5
Use of Spindle Control
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>274
</p>
<p>Spindle motor 
limit value
</p>
<p>Spindle
speed data
</p>
<p>Spindle control
</p>
<p>Spindle
speed limit
data
</p>
<p>GR1 to GR4
Spindle motor 
rotation command
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>(e) Example
Suppose that the parameters are set as follows:
</p>
<p>Minimum speed specified for the spindle motor = 1000 rpm
Maximum speed specified for the spindle motor = 35000 rpm
Maximum speed obtainable by the spindle motor = 40000 rpm
(Maximum speed when 10 V is applied to the spindle motor)
Maximum speed for gear 1 = 25000 rpm
Maximum speed for gear 2 = 40000 rpm
Maximum speed for gear 3 = 6000 rpm
Maximum speed for gear 4 = 100000 rpm
</p>
<p>Spindle speed data addresses = F10 to F11 (RO0 to RO15)
The specified spindle speed signal is used.
(For details, refer to the BMI connection manual.)
Spindle control parameter addresses = D10 to D33
Control data addresses = R0 to R3
</p>
<p>(1) Create a functional instruction.
</p>
<p>SPCNT
</p>
<p>SUB46
</p>
<p>R10 D10 R0
</p>
<p>OVRD
</p>
<p>ACT
</p>
<p>CIRC
</p>
<p>NUMEB
</p>
<p>SUB40
</p>
<p>2 0 R12
</p>
<p>R9091.1
</p>
<p>MOVW
</p>
<p>SUB44
F10 R10
</p>
<p>R9091.1
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>275
</p>
<p>(2) Set the spindle speed data
Copy the spindle speed data (RO0 to RO15) to spindle speed data
addres specified at the first porameter of SPCNT.
</p>
<p>R10 RO0 to 7 Copy from F10
</p>
<p>RO8 to 15 Copy from F11
</p>
<p>0 Clear by 0
</p>
<p>0 Clear by 0
</p>
<p>(3) Set the spindle control parameters.
The lower spindle motor speed limit data and the upper spindle
motor speed limit data are obtained as follows (see i) and ii) of b)
in 4)):
</p>
<p>Lower spindle motor 
speed limit data   = � 8191 = 204 (rpm)
</p>
<p>1000
</p>
<p>40000
</p>
<p>Upper spindle motor 
speed limit data   = �  8191 = 7167 (rpm)
</p>
<p>�����
</p>
<p>�����
</p>
<p>Then, the spindle control parameters are set as follows:
</p>
<p>D10 toD13 204 Lower spindle motor speed limit data
</p>
<p>D14 to D17 7167 Upper spindle motor speed limit data
</p>
<p>D18 to D21 25000 Maximum spindle speed for gear 1
</p>
<p>D22 to D25 40000 Maximum spindle speed for gear 2
</p>
<p>D26 to D29 60000 Maximum spindle speed for gear 3
</p>
<p>D30 to D33 100000 Maximum spindle speed for gear 4
</p>
<p>(4) Calculate the spindle motor rotation command for the spindle
speed
</p>
<p>Maximum motor speed (8191)
Lower limit at which the motor 
</p>
<p>speed is clamped
(7167)
</p>
<p>Lower limit at which the motor 
speed is clamped
</p>
<p>GR1 GR2 GR3 GR4
</p>
<p>Spindle speed 
(rpm)
</p>
<p>   (204)
Maximum 
spindle speed 
for GR1 (25000)
</p>
<p>Maximum 
spindle speed 
for GR2 
(40000)
</p>
<p>Maximum spindle 
speed for GR3 
(60000)
</p>
<p>Maximum spindle
speed for GR4 
(100000)
</p>
<p>From the above graph, the following table can be obtained:
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>276
</p>
<p>����� 5.61.5   Maximum and Minimum Spindle Speeds for each Gear
</p>
<p>Minimum spindle speed (rpm) Maximum spindle speed (rpm)
</p>
<p>GR1 625 21877
</p>
<p>GR2 21878 35004
</p>
<p>GR3 35005 52506
</p>
<p>GR4 52507 87499
</p>
<p>(When CIRC = 0, OVRD = 0)
</p>
<p>Thus, if the spindle speed data is 55000 (rpm), when the spindle
override is not applied (OVRD = 0) and the direct gear
specification is not set (CIRC = 0), the spindle motor rotation
command and the spindle gear to be used are obtained as follows:
</p>
<p>R0 to R1 Spindle motor rotation command
</p>
<p>4505
</p>
<p>R2     8 (GR4) Spindle gear selection
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>277
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The END functional instruction designates the end of a ladder program.
END must be placed at the end of the ladder program.
</p>
<p>END
</p>
<p>SUB 64
</p>
<p>5.62
END (END OF A
LADDER PROGRAM)
</p>
<p>5.62.1
Function
</p>
<p>5.62.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>278
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The CALL functional instruction calls a subprogram.  When a
subprogram number is specified in CALL, a jump occurs to the
subprogram if a condition is satisfied.
</p>
<p>CALL
</p>
<p>SUB 65
</p>
<p>Subprogram
number
</p>
<p>ACT
</p>
<p>(a) Input signal
ACT=0 : The CALL instruction is not executed.
ACT=1 : The CALL instruction is executed.
</p>
<p>(a) Subprogram number
Specifies the subprogram number of a subprogram to be called.  The
subprogram number must be specified in the P address form.  A 
number from P1 to P512 can be specified.
</p>
<p>Example :  To call subprogram 1
</p>
<p>CALL
</p>
<p>SUB 65
</p>
<p>P1
</p>
<p>ACT
</p>
<p>NOTE
Be careful when using the CALL instruction with the COM,
COME, JMP, or JMPE functional instruction.  For details,
see Chapter 9 in Part I.
</p>
<p>5.63
CALL (CONDITIONAL
SUBPROGRAM
CALL)
</p>
<p>5.63.1
Function
</p>
<p>5.63.2
Format
</p>
<p>5.63.3
Control Conditions
</p>
<p>5.63.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>279
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The CALLU functional instruction calls a subprogram.  When a
subprogram number is specified, a jump occurs to the subprogram.
</p>
<p>CALLU
</p>
<p>SUB 66
</p>
<p>Subprogram
number
</p>
<p>(a) Subprogram number
Specifies the subprogram number of a subprogram to be called.  The
subprogram number must be specified in the P address form.  A
number from P1 to P512 can be specified.
</p>
<p>Example :  To call subprogram 1
</p>
<p>CALLU
</p>
<p>SUB 66
</p>
<p>P1
</p>
<p>5.64
CALLU 
(UNCONDITIONAL
SUBPROGRAM
CALL)
</p>
<p>5.64.1
Function
</p>
<p>5.64.2
Format
</p>
<p>5.64.3
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>280
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The SP functional instruction is used to create a subprogram.  A
subprogram number is specified as a subprogram name.  SP is used with
the SPE functional instruction (mentioned later) to specify the
subprogram range.
</p>
<p>SP
</p>
<p>SUB 71
</p>
<p>Subprogram
number
</p>
<p>(a) Subprogram number
Specifies the subprogram number of a subprogram to be coded
following this instruction.  The subprogram number must be
specified in the P address form.  A number from P1 to P512 can be
specified.  The specified subprogram number must be unique within
the sequence program.
</p>
<p>Example:  When the subprogram number is set to 1
</p>
<p>SP
</p>
<p>SUB 71
</p>
<p>P1
</p>
<p>5.65
SP (SUBPROGRAM)
</p>
<p>5.65.1
Function
</p>
<p>5.65.2
Format
</p>
<p>5.65.3
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>281
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The SPE functional instruction is used to create a subprogram.  SPE is
used with the SP functional instruction.  It specifies the range of a
subprogram.  When this functional instruction has been executed, control
is returned to the functional instruction that called the subprogram.
</p>
<p>SPE
</p>
<p>SUB 72
</p>
<p>5.66
SPE (END OF A
SUBPROGRAM)
</p>
<p>5.66.1
Function
</p>
<p>5.66.2
Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>282
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The JMPB functional instruction transfers control to a Ladder immediately
after the label set in a Ladder program.  The jump instruction can transfer
control freely before and after the instruction within the program unit (main
program or subprogram) in which the instruction is coded.  (See the
description of the LBL functional instruction, which is be explained later.)
As compared with the conventional JMP functional instruction, JMPB
has the following additional functions:
� More than one jump instruction can be coded for the same label.
� Jump instructions can be nested.
</p>
<p>Program unit Program unit
</p>
<p>LBL      AA
LBL      AA
</p>
<p>JMPB    BB
</p>
<p>JMPB    AA
</p>
<p>JMPB    AA
</p>
<p>JMPB    AA LBL      BB
</p>
<p>Ladder program
</p>
<p>JMPB
</p>
<p>SUB 68
</p>
<p>Specification
of the jump
destination
</p>
<p>label
</p>
<p>ACT
</p>
<p>ACT=0 : The next instruction after the JMPB instruction is executed.
ACT=1 : Control is transferred to the Ladder immediately after the 
</p>
<p>specified label.
</p>
<p>(a) Label specification
Specifies the label of the jump destination.  The label number must
be specified in the L address form.  A value from L1 to L9999 can 
</p>
<p>be specified.
</p>
<p>NOTE
1 For the specifications of this instruction, see Chapter 10 in
</p>
<p>Part I.
2 When this instruction is used to jump back to a previous
</p>
<p>instruction, care must be taken not to cause an infinite loop.
</p>
<p>5.67
JMPB (LABEL JUMP)
</p>
<p>5.67.1
Function
</p>
<p>5.67.2
Format
</p>
<p>5.67.3
Control Conditions
(ACT)
</p>
<p>5.67.4
Parametersww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>283
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The JMPC functional instruction returns control from a subprogram to the
main program.  Be sure to code the destination label in the main program.
The specifications of this JMPC functional instruction are the same as
those of the JMPC functional instruction, except that JMPC always
returns control to the main program.
� More than one jump instruction can be coded for the same label.
</p>
<p>JMPC    AA
</p>
<p>Ladder program
Main
</p>
<p>program
</p>
<p>Subprogram
</p>
<p>Main
program
</p>
<p>LBL      AA
</p>
<p>LBL      BB
</p>
<p>JMPC    BB
</p>
<p>LBL      AA
</p>
<p>JMPC    AA
</p>
<p>JMPC    AA
</p>
<p>Subprogram
</p>
<p>JMPC
</p>
<p>SUB 73
</p>
<p>Specification
of the jump
destination
</p>
<p>label
</p>
<p>ACT
</p>
<p>ACT=0 : The instruction after the JMPC instruction is executed.
ACT=1 : Control is transferred to the Ladder after the specified label.
</p>
<p>(a) Label specification
Specifies the label of the jump destination.  The label number must
be specified in the L address form.  A number from L1 to L9999 can
be specified.
</p>
<p>NOTE
1 For the specifications of this instruction, see Chapter 10 in
</p>
<p>Part I.
2 When this instruction is used to jump back to a previous
</p>
<p>instruction, care must be taken not to cause an infinite loop.
</p>
<p>5.68
JMPC (LABEL JUMP)
</p>
<p>5.68.1
Function
</p>
<p>5.68.2
Format
</p>
<p>5.68.3
Control Conditions
(ACT)
</p>
<p>5.68.4
Parametersww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>284
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>The LBL functional instruction specifies a label in a Ladder program.  It
specifies the jump destination for the JMPB and JMPC functional
instructions.  (See the explanation of the JMPB and JMPC functional
instructions.)
</p>
<p>Ladder program
</p>
<p>LBL      AA
LBL      AA
</p>
<p>JMPB    BB
</p>
<p>JMPB    AA
</p>
<p>JMPC    AA
</p>
<p>JMPC    AA LBL      BB
</p>
<p>LBL
</p>
<p>SUB 69
</p>
<p>Label
specification
</p>
<p>(a) Label specification
Specifies the jump destination for the JMPB and JMPC functional
instructions.  The label number must be specified in the L address
form.  A label number from L1 to L9999 can be specified.  A label
number can be used more than once as long as it is used in a different
program unit (main program, subprogram).
</p>
<p>NOTE
For the use of this instruction, see Chapter 10 of Part I.
</p>
<p>5.69
LBL (LABEL)
</p>
<p>5.69.1
Function
</p>
<p>5.69.2
Format
</p>
<p>5.69.3
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Available
�  :  Unavailable
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>285
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>NOTE
1 Option for Axis control by PMC function is required.
2 This functional instruction can not be used on the CNC that
</p>
<p>does not have option for Axis control by PMC.
</p>
<p>This function simplifies the handshake of DI/DO signal for the axis
control by PMC.
</p>
<p>AXCTL
</p>
<p>(SUB 53)
</p>
<p>����
</p>
<p>Group No. 
of DI/DO signal
</p>
<p>����
</p>
<p>Axis control
data addressACT
</p>
<p>RST   W1
</p>
<p>�
</p>
<p>�	��5.70.2  AXCTL Instruction Format
</p>
<p>���
� 5.70.2  AXCTL Instruction Coding
</p>
<p>Step
Number
</p>
<p>Instruc-
tion
</p>
<p>Address
Number
</p>
<p>Bit 
Number Remarks
</p>
<p>1 RD ����. � RST
</p>
<p>2 RD. STK ����. � ACT
</p>
<p>3 SUB 53
</p>
<p>4 (PRM) ���� Number of DI/DO signal
</p>
<p>5 (PRM) ���� Axis control data address
</p>
<p>6 WRT ����. � W1, processing completion
</p>
<p>ACT=0 : The AXCTL function is not executed.
ACT=1 : The AXCTL function is executed.
</p>
<p>ACT is to be maintained &lsquo;1&rsquo; till the end of AXCTL processing.
And reset ACT immediately after the processing is complete 
(W1 = 1).
</p>
<p>RST=0 : Release reset.
RST=1 : Set the reset signal (ECLRx) to 1.  All the buffered commands
</p>
<p>are invalidated and the command being executed is stopped.
Set RST at the same time as the reset of CNC when CNC 
becomes the state of alarm.
</p>
<p>NOTE
When RST and ACT become 1 at the same time, RST is
prior to ACT.
</p>
<p>5.70
AXCTL (AXIS
CONTROL BY PMC)
</p>
<p>5.70.1
Function
</p>
<p>5.70.2
Format
</p>
<p>5.70.3
Control Condition
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>286
</p>
<p>(a) Group number of DI/DO signal
</p>
<p>Specify the DI/DO signal group by the number.
1  : group A(G142 to G149, F130 to F132)
2  : group B(G154 to G161, F133 to F135)
3  : group C(G166 to G173, F136 to F138) 
</p>
<p>; Cannot be used on Power Mate-D/F
4  : group D(G178 to G185, F139 to F141) 
</p>
<p>; Cannot be used on Power Mate-D/F
5  : group E (G226 to G233, F228 to F230) 
</p>
<p>; Can be used only on Power Mate-H
6  : group F (G238 to G245, F231 to F233) 
</p>
<p>; Can be used only on Power Mate-H
</p>
<p>Add 1000 to the above number as follows if you use HEAD2 of
FS16/18&ndash;TT or 2nd path of Power Matw&ndash;D.
</p>
<p>1001 : group A (G1142 to G1149, F1130 to F1132)
1002 : group B (G1154 to G1161, F1133 to F1135)
1003 : group C (G1166 to G1173, F1136 to F1138)
</p>
<p>; Cannot be used on Power Mate
1004 : group D (G1178 to G1185, F1139 to F1141)
</p>
<p>; Cannot be used on Power Mate
</p>
<p>When 3&ndash;path control is used with the Series 16i/18i, the following
addresses are used for DI/DO signals:
</p>
<p>2001 : Group A (G2142 to G2149, F2130 to F2132)
2002 : Group B (G2154 to G2161, F2133 to F2135)
2003 : Group C (G2166 to G2173, F2136 to F2138)
2004 : Group D (G2178 to G2185, F2139 to F2141)
</p>
<p>(b) Axis control data address
Select the addresses of the locations that contain PMC axis control
data.
</p>
<p>+0
</p>
<p>1
</p>
<p>2
</p>
<p> 3
</p>
<p> 4
</p>
<p> 5
</p>
<p> 6
</p>
<p> 7
</p>
<p>Specify 0.
</p>
<p>Specify the command to set EC0x-EC6x.
</p>
<p>Specify the data to set EIF0x-EIF15x.
</p>
<p>Specify the data to set EID0x-EID31x.
</p>
<p>(x=A / B / C / D)
</p>
<p>FANUC reserved
</p>
<p>Control command
</p>
<p>Command data 1
</p>
<p>Command data 2
</p>
<p>5.70.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>287
</p>
<p>The following functions are available.
</p>
<p>Operation Control Command data 1 Command data 2
</p>
<p>Rapid traverse 00H Feedrate
</p>
<p>Need not to set if CNC
PRM. 8002#0 = 0.
</p>
<p>Total travel amount
</p>
<p>Cutting feed
(feed per min.)
</p>
<p>01H Feedrate  (Note 1) Total travel amount
</p>
<p>Cutting feed  (Note 2)
(feed per revolution)
</p>
<p>02H Feedrate per 
revolution
</p>
<p>not used
</p>
<p>Skip
(feed per min.)  (Note 2)
</p>
<p>03H Feedrate Total travel amount
</p>
<p>Dwell 04H not used Dwell time
</p>
<p>Reference pos. return 05H not used not used
</p>
<p>Continuous feed  (Note 3) 06H Feedrate Feed direction 
(Note 4)
</p>
<p>1st ref. pos. return
2nd ref. pos. return
3rd ref. pos. return
4th ref. pos. return
(Note 2)
</p>
<p>07H
08H
09H
0AH
</p>
<p>Feed rate
</p>
<p>Need not to set if CNC
PRM. 8002#0 = 0.
</p>
<p>not used
</p>
<p>External pulse
synchronization   
(Note 2)
(Note 3)
</p>
<p>0BH
0DH
0EH
0FH
</p>
<p>Pulse weighting
</p>
<p>(Only M series)
</p>
<p>not used
</p>
<p>Speed command  
(Note 2)
(Note 5)
(Note 6) (Note 2)
</p>
<p>10H Feedrate not used
</p>
<p>Machine coordinate
positioning.
(Rapid traverse)
(Note 2)
(Note 6)
</p>
<p>20H Feedrate
</p>
<p>Need not to set if CNC
PRM. 8002#0 = 0.
</p>
<p>Position of machine
coordinate.
(absolute)
</p>
<p>NOTE
1 When you specify 0 for feedrate, CNC does not work.
</p>
<p>Please release this state by RST = 1.
2 It is not available in PMC-MODEL PA1/PA3.
3 When you end a continuous feed or external pulse
</p>
<p>synchronization, set RST to 1.  And, continuous feed can&rsquo;t
be used with buffering inhibits signal = 1.  You must set the
signal to 0.
</p>
<p>4 Specify the direction by most significant bit of command
data 2.
</p>
<p>5 Command control axis must be specified to rotary axis by
setting parameter ROTx (No. 1006#0) to 0.
</p>
<p>6 Not applicable to the Power Mate.
7 For details such as the range of command data, please refer
</p>
<p>to the connecting manual for each CNC models.
8 About the miscellaneous function, please operate the
</p>
<p>DI/DO signal with basic instruction of ladder program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>288
</p>
<p>Example 1)  In case of cutting feed  (feed per min.)
</p>
<p>+0
</p>
<p>1
</p>
<p>2
</p>
<p> 3
</p>
<p> 4
</p>
<p> 5
</p>
<p> 6
</p>
<p> 7
</p>
<p>Not used (Specify 0).
</p>
<p>Command code for cutting feed.  (feed per min.)
</p>
<p>unit : mm/min.
</p>
<p>unit : 0.001mm
</p>
<p>(x=A / B / C / D)
</p>
<p>0H
</p>
<p>01H
</p>
<p>Feedrate
</p>
<p>Total travel amount
</p>
<p>Example 2)  In case of machine coordinate positioning.
</p>
<p>+0
</p>
<p>1
</p>
<p>2
</p>
<p> 3
</p>
<p> 4
</p>
<p> 5
</p>
<p> 6
</p>
<p> 7
</p>
<p>Not used (Specify 0).
</p>
<p>Command code for machine coordinate 
positioning.
</p>
<p>In case of CNC PRM8002#0= 0 not used.
    = 1 Feedrate.
</p>
<p>(Absolute)
</p>
<p>0H
</p>
<p>20H
</p>
<p>0
or
</p>
<p>Feedrate
</p>
<p>Position in machine 
coordinate system
</p>
<p>NOTE
It is necessary to set the CNC parameters relating to the axis
movement.
</p>
<p>W1=0 � It is 0 usually.  W1=1 indicates that AXCTL instruction is
completed.
Specify ACT=0 immediately after processing is completed.
(W1=1).
</p>
<p>W1=1 � It will become 1 when the command of the axis control by PMC 
is buffered on CNC (when EMBUFx=0) or when axis
movement is completed (when EMBUFx=1).
</p>
<p>5.70.5
End of Command (W1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>289
</p>
<p>When error occurs by processing the axis control by PMC, the bit of the
operation output register will be set.  At the same time, processing is over.
</p>
<p>R9000
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>Group number of DI/DO
signal specification error.
</p>
<p>NOTE
1 W1 becomes 1 regardless of the state of ACT.
2 It is not related to the state of the alarm signal (EIALx).
</p>
<p>(1) The following signals cannot be operated from this function.
Please operate by LADDER.
</p>
<p>� Axis control stop signal
ESTPx (G142#5, G154#5, G166#5, G178#5)
</p>
<p>� Servo-off signal
ESOFx (G142#4, G154#4, G166#4, G178#4)
</p>
<p>� Block stop signal
ESBKx (G142#3, G154#3, G166#3, G178#3)
</p>
<p>� Block stop inhibit signal
EMSBKx (G143#7, G155#7, G167#7, G179#7)
</p>
<p>� Controlled axis selection signal
EAX1-EAX8 (G136#0 to #7)
</p>
<p>� Override signal *FV0E-*FV7E (G151#0 to #7)
� Override cancel signal OVCE (G150#5)
� Rapid traverse override signal
</p>
<p>ROV2E, ROV1E (G150#1, #0)
� Dry run signal DRNE (G150#7)
� Manual rapid traverse RTE (G150#7)
</p>
<p>selection signal
� Skip signal SKIP/ESKIP (X4#7, #6)
� Buffering inhibit signal
</p>
<p>EMBUFx (G142#2, G154#2, G166/#2,  G178#2)
(x=A/B/C/D)
</p>
<p>WARNING
Movement cannot be sured when controlled axis selection
signal (EAXx) is changed in the state of ACT=1.
</p>
<p>(2) Buffering inhibit signal (EMBUFx)
0 : The commands are buffered on the CNC.
</p>
<p>Even if one command is being executed, the CNC accepts the next
command as long as there is vacancy in the buffer on CNC.
W1 will become 1 when the command of the axis control by PMC
is buffered on CNC.
</p>
<p>1 : Prohibits the buffering on CNC.
W1 will become 1 when the movement of the instructed axis 
control by PMC is completed.
</p>
<p>5.70.6
Operation Output
Register (R9000)
</p>
<p>5.70.7
Remarks
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>290
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3RB4 RB5 RB6 RC
RC3
RC4 NB NB2
</p>
<p>� � &times; &times; &times; &times; &times; &times; &times; &times; &times; &times; &times; &times; &times;
</p>
<p>This function outputs a signal that indicates the are in which the current
position in the mechanical coordinate system is located. The area is
specified by parameter.
</p>
<p>PSGNL
</p>
<p>(SUB 50)
</p>
<p>����
Area division
</p>
<p>����
Current position
</p>
<p>ACT
</p>
<p>specification
data address
</p>
<p>area output
address
</p>
<p>����5.71.2   PSGNL instruction format
</p>
<p>(a) Execution specification
ACT=0 : The PSGNL instruction is not executed.
ACT=1 : The PSGNLnstruction is executed.
</p>
<p>(a) Area division specification data address
Set the top address of area division specification data 29 bytes of 
continuous memory are necessary in nonvolatile memory area for 
area division specification data.
</p>
<p>5.71
PSGNL (POSITION
SIGNAL OUTPUT)
</p>
<p>5.71.1
Function
</p>
<p>5.71.2
Format
</p>
<p>5.71.3
Control Condition
</p>
<p>5.71.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>291
</p>
<p>Area division 
specification data
</p>
<p>+0
</p>
<p>+1
</p>
<p>+5
</p>
<p>+9
</p>
<p>+13
</p>
<p>+17
</p>
<p>+21
</p>
<p>+25
</p>
<p>Area division 
specification data
</p>
<p>Axis No.
or 
</p>
<p>Path No.
</p>
<p>(1 : 1st Axis,  2 : 2nd Axis,...)
</p>
<p>(1 : 1st Path&ndash;1st Axis  
  2 :2nd Path&ndash;1st Axis)
</p>
<p>II
(4bytes)
</p>
<p>III
(4bytes)
</p>
<p> IV
(4bytes)
</p>
<p>VI
(4bytes)
</p>
<p>VII
(4bytes)
</p>
<p>(1byte)
</p>
<p>  I
</p>
<p>  (4bytes)
</p>
<p>V
</p>
<p>(4bytes)
</p>
<p>� In case of axis&ndash;No. specification
Please set axis&ndash;No. to select. (1 byte data of binary format)
In case of Power Mate&ndash;H, the axis No. ranges from 1 to 6.
</p>
<p>(Example) Axis No.=1 : For machine coordinates of the 1st axis
Axis No.=2 : For machine coordinates of the 2nd axis
</p>
<p>OR
</p>
<p>� In case of path specification (Power Mate&ndash;MODEL D dual path
control)
Please set path&ndash;No. of axis to select. (1 byte data of binary format)
It is impossible to set path specification for Power Mate&ndash;H.
</p>
<p>(Example)
Path spec.=1: For machine coordinates of the 1st axis on the 1st path)
Path spec.=2: For machine coordinates of the 1st axis on the 2nd path)
</p>
<p>Each area division specification data (I, II, III, ...., VII) is 4bytes
binary format data. (Scale is 0.001mm or 0.001inch)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>Cureent position
</p>
<p>area output address
</p>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>292
</p>
<p>&lt;Example of area division&gt;
</p>
<p>&ndash; �
</p>
<p>(1) (2) (3) (4) (5) (6) (7) (8)
</p>
<p>Total stroke area
</p>
<p>I II III IV V VI VII
</p>
<p>As shown in the above diagram, check can be performed for the 8
areas (1) to (8) by dividing the total stroke area by 7 division points.
</p>
<p>NOTE
1 Please set the division points data in ascending order (I &lt;
</p>
<p>II &lt; .....&lt;VI &lt; VII).
2 Even if you need division points only under 7, you must set
</p>
<p>the division specification data for7.
</p>
<p>(b) Current position area output address
The address which is output the divided area that the currrent position
in the machine coordinates system located.
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>(1) (2) (3) (4) (5) (6) (7) (8)
</p>
<p>Corresponding bit is set to 1 indicates the area in which the current
position in the machine coordinates system is located.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10 5. FUNCTIONAL INSTRUCTIONSPMC SEQUENCE PROGRAM
</p>
<p>293
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3RB4 RB5 RB6 RC
RC3
RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � �
</p>
<p>Turn W1=1 which th ecurrent position in the machine coordinates system
is in the area specifified by parameters.
</p>
<p>PSGN2
</p>
<p>(SUB 63)
</p>
<p>Control data
address
</p>
<p>ACT ����      W1
</p>
<p>�
</p>
<p>����5.72.2  PSGN2 instruction format
</p>
<p>(a) Execution specification
ACT=0 : The PSGN2 instruction is not executed.
ACT=1 : The PSGN2 instruction is executed.
</p>
<p>(a) Control data address
Please set the top address of control data.
For the area specification data, 9bytes of continuous memory area in
the nonvolatile memory is necessary.
</p>
<p>Control data+0
</p>
<p>+1
</p>
<p>+5
Area division specification data
</p>
<p>Axis No.
or
</p>
<p>Path No.
</p>
<p>Boundary Point 1
(4bytes)
</p>
<p>Boundary Point 2
(4bytes)
</p>
<p>(1byte)
</p>
<p>(1 : 1st Axis,  2 : 2nd Axis,...)
</p>
<p>(1 : 1st Path&ndash;1st Axis  
  2 :2nd Path&ndash;1st Axis)
</p>
<p>� In case of axis&ndash;No. specification
Please set axis&ndash;No. to select. (1 byte data of binary format)
In case of Power Mate&ndash;H, the axis No. ranges from 1 to 6.
</p>
<p>(Example) Axis No.=1 : For machine coordinates of the 1st axis
Axis No.=2 : For machine coordinates of the 2nd axis
</p>
<p>OR
</p>
<p>5.72
PSGN2 (POSITION
SIGNAL OUTPUT 2)
</p>
<p>5.72.1
Function
</p>
<p>5.72.2
Format
</p>
<p>5.72.3
Control Condition
</p>
<p>5.72.4
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FUNCTIONAL INSTRUCTIONS B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>294
</p>
<p>� In case of path specification (Power Mate&ndash;MODEL D dual path
control)
Please set path&ndash;No. of axis to select. (1 byte data of binary format)
It is impossible to set path specification for Power Mate&ndash;H.
</p>
<p>(Example)
Path spec.=1: For machine coordinates of the 1st axis on the 1st path)
Path spec.=2: For machine coordinates of the 1st axis on the 2nd path)
</p>
<p>Each area divicion specification data (Boundary Point &lt;1&gt;/&lt;2&gt; is
4bytes binary format data. (Scale is 0.001mm or 0.001inch)
</p>
<p>NOTE
Please set the data division specification data in ascending
order. (bounary point 1 � bounary point 2)
</p>
<p>&lt;Example of area division&gt;
</p>
<p>W1
</p>
<p>&ndash;
</p>
<p>1
0
</p>
<p>  Note) Includes
+ �  : Boundary Point &lt;1&gt;&lt;2&gt;.
</p>
<p>Boundary Point &lt; 1 &gt; Boundary Point &lt; 2 &gt;
</p>
<p>� �
</p>
<p>Total stroke area
</p>
<p>W1=0 :The current position in the machine coordinates system is outside
of the area specified by parameters.
</p>
<p>W1=1 :The current position n the machine coordinates system is inside
of the area specified by parameters.
</p>
<p>&lt;Example for PSGN2 instruction&gt;
</p>
<p>PSGN2
</p>
<p>(SUB 63)
</p>
<p>D0320ACT      W1
</p>
<p>�
</p>
<p>Binary
</p>
<p>D0320
</p>
<p>D0321
D0322
D0323
D0324
</p>
<p>D0325
D0326
D0327
D0328
</p>
<p>00000010
</p>
<p>01100000
01111001
11111110
11111111
</p>
<p>01000000
00001101
00000011
00000000
</p>
<p>Decimal
</p>
<p>(          2)
</p>
<p>(-100000)
</p>
<p>( 200000)
</p>
<p>In this case, when the current position in the machine coordinates system
(second axis) is from &ndash;100.000 to 200.000mm ACT=1, the current
position area output becomes W1=1..
</p>
<p>5.72.5
Current Position Area
Output (W1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. NONVOLATILE MEMORYPMC SEQUENCE PROGRAM
</p>
<p>295
</p>
<p>6 NONVOLATILE MEMORY
Nonvolatile memory is considered nonvolatile if its contents are not
erased when the power is turned off.
</p>
<p>(1) Used for the timer
Time can be set and displayed from the CRT/MDI panel. The set time
can be read or written by a sequence program instruction.
</p>
<p>(2) Used for the counter
This area is used to store the preset and cumulative values of the
counter. Values can be set and displayed from the CRT/MDI panel.
These values can be read and written by a sequence program
instruction. Refer to section 3.5 for details of addresses. 
The data format is two bytes of BCD or binary, and the higher-order
digits are entered at the smaller address. 
Whether counter is processed by BCD format or binary format is
selected by a system parameter.
</p>
<p>Example) PMC counter addresses are C0 and C1 and the set value
is 1578.
</p>
<p>7 8
</p>
<p>1 5
</p>
<p>C 0
</p>
<p>BCD code (1578)
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>0 1 1 1 1 0 0 0
</p>
<p>C 1
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>0 0 0 1 0 1 0 1
</p>
<p>C 0
</p>
<p>C 1
</p>
<p>Binary code (1578)
7 6 5 4 3 2 1 0
</p>
<p>0 0 1 0 1 0 1 0
</p>
<p>27 26 25 24 23 22 21 20
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>0 0 0 0 0 1 1 0
</p>
<p>215 214 213 212 211 210 29 28
</p>
<p>To change low-order digits of the set value by a sequence program
instruction with 1 byte processing, specify C0 as the output address
of the functional instruction parameters to enter new data. 
</p>
<p>6.1
TIMER, COUNTER,
KEEP RELAY,
NONVOLATILE
MEMORY CONTROL,
DATA TABLE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. NONVOLATILE MEMORY B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>296
</p>
<p>(3) Keep relay
This memory is used as parameters, keep relays, etc. for sequence
control. Setting and display are possible from the CRT/MDI panel
and sequence program instructions can be used for reading and
writing. Since data set or displayed from the CRT/MDI panel is
binary eight bits, each of the eight digits of data is set or displayed
as 0 or 1.
</p>
<p>(4) Nonvolatile memory control (MWRTF, MWRTF2) (Address K16)
This memory is used when the position of a moving part of the
machine tool, such as a lathe turret, is stored in code (BCD, etc.) and
to maintain it while power is off.
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>K16 MWRTF2 MWRTF
</p>
<p>Setting and display are possible from the CRT/MDI panel, and
sequence program instructions can be used for reading and writing.
If, for example, power is turned off for some reason during rotation
of the turret, the turret stops and a difference between the contents of
the memory storing the position and the actual position of the turret
occurs. When power is turned on again, the machine tool will be out
of sequence. To prevent this, use the nonvolatile memory control, and
a sequence program as follows.
</p>
<p>(a) Set MWRTF in nonvolatile memory control to 1 before starting
the turret.
</p>
<p>(b) Start the turret.
</p>
<p>(c) Set MWRTF to 0 after the turret stops.
</p>
<p>(d) MWRTF remains 1 if power is turned off between a) and c).
</p>
<p>(e) When power is turned on again, automatically MWRTF2 = 1 and
an error is reported to the sequence program. Thus, the sequence
program processes (a) to (d), check for the error of MWRTF2, and
outputs an alarm when MWRTF2 = 1 (error).
</p>
<p>(f) In response, the operator should set MWRTF and MWRTF2 to 0
from the CRT/MDI panel.
</p>
<p>(g) Resume operation after the contents of the memory and the turret
position are aligned.
</p>
<p>(5) Data table
A sizable amount of numeric data (data table) can be used for
sequence control by the PMC. See section 6.3 for details.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. NONVOLATILE MEMORYPMC SEQUENCE PROGRAM
</p>
<p>297
</p>
<p>All the nonvolatile memory data can be read and written by the sequence
program. The memory read and written by the PMC sequence program
is actually not a nonvolatile memory, but a nonvolatile memory image
(RAM) storing the same data as the nonvolatile memory. When the power
supply is turned off, the data in the nonvolatile memory image disappears.
Immediately after the power is turned on, the nonvolatile memory data is
automatically transferred to the nonvolatile memory image.  Before the
power is turned off,  the data is correctly restored.
</p>
<p>When the nonvolatile memory image is rewritten by the sequence
program, the data is automatically transferred to the CMOS or bubble
memory.
</p>
<p>When the sequence program rewrite nonvolatile memory image of area,
the rewritten data is automatically transferred to the nonvolatile memory.
</p>
<p>Rewriting of nonvolatile memory can also be done by rewriting optional
addresses of the nonvolatile memory image in an optional timing. The
changed data will be automatically transferred to the nonvolatile memory.
</p>
<p>Therefore, there is not special processing necessary when the sequence
program writes or reads nonvolatile memory. It will only take some time
to write in the nonvolatile memory (512 ms).
</p>
<p>6.2
READING AND
WRITING OF
NONVOLATILE
MEMORY DATA
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. NONVOLATILE MEMORY B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>298
</p>
<p>(1) Introduction
PMC sequence control sometimes requires a sizable amount of
numeric data (herein after referred to as data table. If contents of such
data table are free to set or to read, they can be used as various PMC
sequence control data, such as tool numbers of tools on the ATC
magazine.
</p>
<p>Each table size can be set optionally in the memory for data table, and
1-, 2-, or 4-byte binary or BCD format data can be used per each table,
thus consigning a simple-to-use table.
</p>
<p>Data in the data table can be set in the nonvolatile memory or
displayed via the CRT/MDI panel.
</p>
<p>Data set in the data table can also be easily read or written by the
sequence program using function instructions as data search
(DSCHB), or index modification data transfer (XMOVB).
</p>
<p>NOTE
For details of the usable range, see the description of PMC
sequence program addresses in Part I.
</p>
<p>(2) Configuration of the PMC data table and notes on programming
</p>
<p>(a) Configuration of the data table
PMC data table consists of table control data and data table. Table
control data control the size and data format (BCD or binary) of
the tables. 
This table control data must first be set from CRT/MDI before
preparing data table. In the sequence program, the table control
data cannot be read or written.  When the contents of the
nonvolatile memory are read or written using the Floppy Cassette,
the table control data is read or written together.  Figure 6.3 (a) is
a general configuration of the data table, and Figure 6.3 (b) is a
detailed configuration of the data table. Also refer to 3.7 for data
table configuration.
</p>
<p>(b) Data table head address
If the data table starts from an odd address, for example, when a
data table is created with an odd number of one-byte data, the
DSCHB instruction operates slower than when the data table
starts from an even address.  It is recommended that the starting
address of a data table be an even number.
</p>
<p>6.3
PMC DATA TABLE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. NONVOLATILE MEMORYPMC SEQUENCE PROGRAM
</p>
<p>299
</p>
<p>Basic data table
(1860 bytes or 3000 bytes)
</p>
<p>Table control data
</p>
<p>Data table
</p>
<p>Data table number
</p>
<p>D0
D1
</p>
<p>D1859
or 
</p>
<p>D2999
</p>
<p>����6.3 (a)   General configuration of data tableww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. NONVOLATILE MEMORY B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>300
</p>
<p>0 Data
1 Data table n
:
np
</p>
<p>0 Data
1 Data table 1
:
n1
</p>
<p>0
1
2 Data
3 Data table 2
:
:
n2
</p>
<p>Address No.
</p>
<p>Table parameter
</p>
<p>Data type
</p>
<p>Number of data
</p>
<p>Data table head address
</p>
<p>D0
</p>
<p>D1
</p>
<p>D2
</p>
<p>Table parameter
</p>
<p>Data type
</p>
<p>Number of data
</p>
<p>Data table head address
</p>
<p>Table parameter
</p>
<p>Data type
</p>
<p>Number of data
</p>
<p>Data table head address
</p>
<p>Number of 
tables
</p>
<p>Table 1
control data
</p>
<p>Table 2
control data
</p>
<p>Table n
control data
</p>
<p>Table number
</p>
<p>Table number
</p>
<p>Table number
</p>
<p>Table number
</p>
<p>Table control data
</p>
<p>Data table
</p>
<p>(Note)
N1, n2, and np are the last table number
of each data table.
</p>
<p>����6.3 (b)   Detailed configuration of data table
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. NONVOLATILE MEMORYPMC SEQUENCE PROGRAM
</p>
<p>301
</p>
<p>(3) Table control data
The table control data controls a data table
If the table control data is not properly set, a data table described in
Item (4) cannot be properly created.
Referring to the description in Item (3), set the table control data, then
create a data table.
</p>
<p>(a) Number of groups of tables
Specify the number of groups of data tables in binary.
</p>
<p>(b) Control data for table groups 1 to n
Each data table has table control data consisting of the starting
address of the table, table parameters, data type, and the number
of data items.
</p>
<p>(i) Starting address of the table
Specify the starting address of the table from D0 to D1859
or D0 to D2999.
</p>
<p>(ii) Table parameter
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>MASK COD
</p>
<p>0 : A data table is specified in binary.
1 : A data table is specified in BCD.
</p>
<p>COD
</p>
<p>0 : The contents of the data table are not protected.
1 : The contents of the data table are protected.
</p>
<p>MASK
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>(iii) Data type
Specify the length of data in the data table.
</p>
<p>0 : One byte
1 : Two bytes
2 : Four bytes
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>(iv) Number of data items
Specify the number of data items used in the data table.
</p>
<p>(4) Data table
Data table can be created within the range of the memory (D address)
for the data table and separated some groups. This number of groups
is decided with the number of tables of table control data.
</p>
<p>The maximum of the number of table groups.
Except series 15b PMC&ndash;NB max 100 tables
PMC&ndash;NB max 50 tablesww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. NONVOLATILE MEMORY B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>302
</p>
<p>Table 1 (1-byte data)
</p>
<p>0
</p>
<p>1
</p>
<p>2
</p>
<p>3
</p>
<p>Table 2 (2-byte data)
</p>
<p>n
</p>
<p>1
</p>
<p>p
</p>
<p>Table number
</p>
<p>Each data table can be used in 1, 2  or 4 byte data. Table parameter
of table control data decides whether to use 1 or 2 byte data.
Therefore, 1 table number is taken for a 1-byte data when table data
is 1 byte; 2 byte data when table data is 2 bytes.
</p>
<p>(5) Entering data in a data table
Specify a location number in the data table from the CRT/MDI panel,
then enter the data.  A number for each location in the table is defined
for each data table group.
</p>
<p>NOTE
Reading and Writing of the data table are available from the
sequence program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 7. LADDER DIAGRAM FORMATPMC SEQUENCE PROGRAM
</p>
<p>303
</p>
<p>7 LADDER DIAGRAM FORMAT
A designer examines and checks the ladder diagram in the process of
design. However, it should be noted that other persons (maintenance
servicemen, for example) read the ladder diagram far longer than the
designer. 
Accordingly, the ladder diagram must be written to be easily understood
by all persons. 
For this purpose, applicable symbols, writing method, and other methods
are specified as detailed below.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. LADDER DIAGRAM FORMAT B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>304
</p>
<p>Addresses, signal names, comments, and line numbers must be inserted
into a ladder diagram to enable all users to easily read the ladder diagram.
</p>
<p>Each address consists of an address number and a bit number, and it is
represented as follows.
</p>
<p>Bit number (0 to 7)
</p>
<p>Address number 
(A numeric of 4 digits or less after an alphabetic character)
</p>
<p>An alphabetic character is prefixed to the start of each address number to
represent the kinds of signals as shown in Table 7.1.1.
</p>
<p>����� 7.1.1   Alphabetic symbols of address numbers
</p>
<p>Symbol Type of signal
</p>
<p>X Input signal entered from machine tool to PMC (MT�PMC)
</p>
<p>Y Output signal sent from PMC to machine tool (PMC�MT)
</p>
<p>F Input signal entered from CNC to PMC (CNC�PMC)
</p>
<p>G Output signal sent from PMC to CNC (PMC�CNC)
</p>
<p>R Internal relay
</p>
<p>A Message display request
</p>
<p>C Counter
</p>
<p>K Keep relay
</p>
<p>D Data table
</p>
<p>T Variable Timer
</p>
<p>L Label number
</p>
<p>P subprogram number
</p>
<p>7.1
ADDRESSES,
SIGNAL NAMES,
COMMENTS, AND
LINE NUMBERS
</p>
<p>7.1.1
Addresses
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 7. LADDER DIAGRAM FORMATPMC SEQUENCE PROGRAM
</p>
<p>305
</p>
<p>Suitable symbols shall be attached to I/O signals as signal names
according to the following procedure.
</p>
<p>(1) The names of all signals containing CNC signals and machine tool
signals are represented within 6 characters. 
Alphanumeric characters and special symbols described in this
manual are all employable.
</p>
<p>(2) For CNC�PMC signal names, signal names shown in the PMC
address table are employable as they are.
</p>
<p>(3) CNC signals to be entered from the machine tool and CNC signals
to be sent to the machine tool are identified from each other by
prefixing X or Y to the start of these CNC�PMC signal names,
respectively. A single block input signal is represented as XSRK by
prefixing X, while a start lamp output signal is represented as YSTL
by prefixing Y, for example. However, when X or Y is prefixed to the
start of an CNC�PMC signal name, certain signal names exceed 6
characters. In such a case, omit the last character from such a signal
name (*SECLP�X*SECL)
</p>
<p>A comment of within 30 characters can be inserted to a relay coil in a
sequence program and each symbol in a symbol table. 
Since it is difficult to guess the meanings of signals perculier to the
machine tool, a detailed comment is necessary.
</p>
<p>A line number should be attached to each line of the ladder diagram. For
details, refer to Sec. 7.3.
</p>
<p>7.1.2
Signal Names
</p>
<p>7.1.3
Comments
</p>
<p>7.1.4
Line Numbers
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. LADDER DIAGRAM FORMAT B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>306
</p>
<p>Symbol Description
</p>
<p>A contact
</p>
<p>B contact
</p>
<p>These are the contacts of relays in the PMC, and
</p>
<p>are used for other input from the machine side
</p>
<p>and CNC
</p>
<p>A contact
</p>
<p>B contact
</p>
<p>These are input signals from the CNC.
</p>
<p>A contact
</p>
<p>B contact
</p>
<p>These are input signals from the machine side
</p>
<p>(including the built-in manual control panel).
</p>
<p>A contact
</p>
<p>B contact
</p>
<p>These are timer contacts in the PMC
</p>
<p>This is a relay coil whose contact is used only in
</p>
<p>the PMC.
</p>
<p>This is a relay coil whose contact is output to
</p>
<p>CNC.
</p>
<p>This is a relay coil whose contact is output to the
</p>
<p>machine side.
</p>
<p>This is the coil of a timer in the PMC.
</p>
<p>This is a PMC fucnctional instruction.  The actual
</p>
<p>form varies depending on the instruction.
</p>
<p>NOTE
If the coil is represented by      or       , the relay is within the
PMC, and the contact uses            or            .
</p>
<p>7.2
SYMBOLS USED IN
THE LADDER
DIAGRAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 7. LADDER DIAGRAM FORMATPMC SEQUENCE PROGRAM
</p>
<p>307
</p>
<p>(1) Format
The size should be A3 or A4 (JIS standard).
</p>
<p>(2) Columns are used for wiring.
</p>
<p>Line number
</p>
<p>3A
</p>
<p>3B
</p>
<p>3P
</p>
<p>Spindle control
</p>
<p>(3) Divide the circuits into several functions. And program the same
function in a single program.
</p>
<p>Example) Mode control.spindle control, turret control, APC control.
</p>
<p>(4) Assign a line number to each line as follows:
</p>
<p>Line symbol (A to Z)
</p>
<p>Page number (1 to 999)
</p>
<p>(5) Write a relay contact with a signal name of the relay coil, line number
and address.
</p>
<p>Signal name
</p>
<p>Address
Line number
</p>
<p>(6) For complicated timing, timing chart should be on the same page of
the ladder diagram.
</p>
<p>(7) The meaning of the code numbers for the S, T, and M functions
should be listed on the ladder diagram.
</p>
<p>(8) The 1st level sequence part should be written at the beginning of the
ladder diagram.
</p>
<p>(9) The following data should be written on the first page of the ladder
diagram:
</p>
<p>(i) The sequence program design number
Machine tool builder shall assign design numbers of sequence
program and ROMs and manage them.
</p>
<p>(ii) Description of symbol
(iii) Setting table of timer, counter, and PMC parameters and meaning
</p>
<p>of them.
(iv) Description of functional instruction.
</p>
<p>(10)Easy-to-understand name should be assigned.
</p>
<p>7.3
LADDER DIAGRAM
FORMAT
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. LADDER DIAGRAM FORMAT B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>308
</p>
<p>A general relay sequence circuit has a finite number of contacts, so several
relays use one contact in common so as to reduce the number of contacts
used as much as possible.
</p>
<p>A
</p>
<p>R1
</p>
<p>R2
</p>
<p>B
</p>
<p>The PMC is considered to have an infinite number of relay contact and
is written as in the figure below.
</p>
<p>A
</p>
<p>R1
</p>
<p>R2
</p>
<p>BA
</p>
<p>7.4
INFINITE NUMBER
OF RELAY
CONTACTS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 8. MISCELLANEOUS ITEMPMC SEQUENCE PROGRAM
</p>
<p>309
</p>
<p>8 MISCELLANEOUS ITEM
To create a ladder program related to the axis-control function by the
PMC, refer to the subsection, &rdquo;Axis-control function by the PMC,&rdquo; in the
Connecting Manual.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>9. SEQUENCE PROGRAM
STRUCTURING B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>310
</p>
<p>9 SEQUENCE PROGRAM STRUCTURING
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>With the conventional PMC, a Ladder program is described sequentially.
By employing a Ladder language that allows structured programming, the
following benefits are derived:
</p>
<p>� A program can be understood and developed easily.
</p>
<p>� A program error can be found easily.
</p>
<p>� When an operation error occurs, the cause can be found easily.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
9. SEQUENCE PROGRAM
</p>
<p>STRUCTURINGPMC SEQUENCE PROGRAM
</p>
<p>311
</p>
<p>Three major structured programming capabilities are supported.
</p>
<p>(1) Subprogramming
A subprogram can consist of a Ladder sequence as the processing
units.
</p>
<p>&sdot;
&sdot;
&sdot;
</p>
<p>Job A &sdot; &sdot; &sdot; &sdot; �
</p>
<p>FUNC &sdot; &sdot; &sdot; &sdot; �
Job B
</p>
<p>(2) Nesting
Ladder subprograms created in 1 above are combined to structure a
Ladder sequence.
</p>
<p>�
�
�
</p>
<p>Job A Job A1 Job A11
</p>
<p>Job B Job A12
</p>
<p>Job An
</p>
<p>Main Program  Sub Program1 Sub Program2
</p>
<p>(3) Conditional branch
The main program loops and check whether conditions are satisfied.
If a condition is satisfied, the corresponding subprogram is executed.
If the condition is not satisfied, the subprogram is skipped.
</p>
<p>&sdot;
&sdot;
&sdot;
</p>
<p>PROCESS11 PROCESS11
</p>
<p>STATE1 PROCESS1
</p>
<p>PROCESS12
</p>
<p>STATE2 PROCESS2
</p>
<p>PROCESS13
</p>
<p>Main Program  Sub Program
</p>
<p>9.1
EXAMPLES OF
STRUCTURED
PROGRAMMING
</p>
<p>9.1.1
Implementation
Techniques
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>9. SEQUENCE PROGRAM
STRUCTURING B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>312
</p>
<p>(1) Example
Suppose that there are four major jobs.
</p>
<p>A
</p>
<p>B
</p>
<p>If Y0 is 1, a request to machine a workpiece is assumed, and
processing is performed (with a condition).
A  : 1  Pick up a workpiece from a pallet.  (A1)
</p>
<p>2 Machine the workpiece.  (A2)
3 Return the workpiece to the pallet. (A3)
</p>
<p>B  : 4 Move the pallet.
</p>
<p>(2) Program structure
</p>
<p>A A1 A1 A2
</p>
<p>B A2
</p>
<p>A3 B
</p>
<p>A3
</p>
<p>Sub Program P1 Sub Program P2 Sub Program P3 Sub Program P4
</p>
<p>Sub Program P5 Sub Program P6
</p>
<p>(3) Program description
</p>
<p>Machine a workpiece.
</p>
<p>Y0
</p>
<p>END1
</p>
<p>CALL MAIN
</p>
<p>END2
</p>
<p>Main Program
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>Machine a workpiece.
</p>
<p>Sub Program P1 (=MAIN)
</p>
<p>SP MAIN
</p>
<p>CALL A
</p>
<p>CALL B
</p>
<p>SPE
</p>
<p>Move a pallet.
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>9.1.2
Applications
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
9. SEQUENCE PROGRAM
</p>
<p>STRUCTURINGPMC SEQUENCE PROGRAM
</p>
<p>313
</p>
<p>Pick up a workpiece from a pallet.
</p>
<p>Sub Program P2 (=A)
</p>
<p>Machine the workpiece.
</p>
<p>SP A
</p>
<p>CALLU A1
</p>
<p>CALLU A2
</p>
<p>CALLU A3
</p>
<p>SPE
</p>
<p>Return the workpiece to the pallet.
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>Ladder coding
</p>
<p>Sub Program P3 (=A1)
</p>
<p>Pick up a workpiece 
from a pallet.
</p>
<p>SP A1
</p>
<p>SPE
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>Ladder coding
</p>
<p>Sub Program P4 (=A2)
</p>
<p>Machine the workpiece.
</p>
<p>SP A2
</p>
<p>SPE
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>Ladder coding
</p>
<p>Sub Program P5 (=A3)
</p>
<p>Return the workpiece to
 the pallet.
</p>
<p>SP A3
</p>
<p>SPE
</p>
<p>�
</p>
<p>�
</p>
<p>�ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>9. SEQUENCE PROGRAM
STRUCTURING B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>314
</p>
<p>Ladder coding
</p>
<p>Sub Program P6 (=B)
</p>
<p>SP B
</p>
<p>SPE
</p>
<p>Move the pallet.
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>(1) Main program
The main program is the Ladder program consisting of the first- and
second-level Ladder programs.  One, but only one, main program can
be created.  A subprogram cannot be called from the first-level
Ladder program.  Any number of subprograms however, can be
called from the second-level Ladder program.  The functional
instructions JMP and COM must be completed within each main
program or subprogram.
</p>
<p>(2) Subprogram
A subprogram is a program called by the second-level Ladder
program.  It is a program unit starting with the functional instruction
SP and ending with the functional instruction SPE.  Up to 512
subprograms can be created for one PMC.
</p>
<p>(3) Nesting
A subprogram can call another subprogram.  The maximum nesting
depth is eight levels.  Recursive calls are not allowed.
</p>
<p>9.1.3
Specifications
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
9. SEQUENCE PROGRAM
</p>
<p>STRUCTURINGPMC SEQUENCE PROGRAM
</p>
<p>315
</p>
<p>Conditional JUMP (or unconditional JUMP) is coded in the main
program, and the name of a subprogram to be executed is specified.  In
the subprogram, the name of the subprogram and a Ladder sequence to
be executed are coded.
</p>
<p>When a subprogram is named Pn (program name), and this name is
specified in conditional JUMP, the subprogram is executed by calling it.
</p>
<p>A symbol and comment can be added to Pn to assign a subroutine name.
</p>
<p>In the example shown in Fig. 9.2.1, the main program calls three
subprograms.  These calls are all conditional calls.  Subprogram P1 is
named SUBPRO.  It calls subprogram PROCS1 unconditionally.
</p>
<p>Main Program Sub Program P1 (=SUBPRO)
</p>
<p>ADD
</p>
<p>B
</p>
<p>0001
</p>
<p>0001
</p>
<p>F10
</p>
<p>R200
</p>
<p>END1 SP SUBPRO
</p>
<p>�
</p>
<p>CALL SUBPRO
CALLU PROCS1
</p>
<p>CALL P2 �
</p>
<p>CALL P3
</p>
<p>�
</p>
<p>END2
</p>
<p>SPE
</p>
<p>����9.2.1   Example of Subprogramming and Nesting
</p>
<p>9.2
SUBPROGRAMMING
AND NESTING
</p>
<p>9.2.1
Function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>9. SEQUENCE PROGRAM
STRUCTURING B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>316
</p>
<p>The main program is always active.  Subprograms on the other hand, are
active only when called by another program.
In the following example, subprogram SUBPRO is called by signal A.
</p>
<p>Main Program Sub Program
</p>
<p>A
</p>
<p>&sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot;
</p>
<p>&sdot; &sdot; &sdot; &sdot; �
SP SUBPRO
</p>
<p>END1
</p>
<p>&sdot; &sdot; &sdot; &sdot; �
</p>
<p>CALL SUBPRO
</p>
<p>&sdot; &sdot; &sdot; &sdot; �
</p>
<p>END2 SPE
</p>
<p>Main program
</p>
<p>Subprogram
</p>
<p>Management 
program
</p>
<p>Signal A
</p>
<p>Program cycle
</p>
<p>a b c d a
</p>
<p>Flow of execution
</p>
<p>a : Functional instruction CALL calls a subprogram in order to
transfer control to the subprogram.
</p>
<p>b : When the end of the subprogram is reached, control is returned to
the main program.
</p>
<p>c  : When the end of the main program is reached, the management
program performs Ladder program postprocessing.
</p>
<p>9.2.2
Execution Method
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
9. SEQUENCE PROGRAM
</p>
<p>STRUCTURINGPMC SEQUENCE PROGRAM
</p>
<p>317
</p>
<p>Create subprograms in the same way as the first-, second-, and third-level
Ladder programs.
</p>
<p>Example of creation
</p>
<p>A
</p>
<p>&sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot;
</p>
<p>&sdot; &sdot; &sdot; &sdot; �
</p>
<p>END1
</p>
<p>CALL SUBPRO
</p>
<p>&sdot; &sdot; &sdot; &sdot; �
</p>
<p>END2
</p>
<p>SP SUBPRO
</p>
<p>&sdot; &sdot; &sdot; &sdot; �
</p>
<p>SPE
</p>
<p>SP P20
</p>
<p>SPE
</p>
<p>END
</p>
<p>&sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot;
</p>
<p>Must create
</p>
<p>9.2.3
Creating a Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>9. SEQUENCE PROGRAM
STRUCTURING B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>318
</p>
<p>Inhibit items
</p>
<p>(1) Subprograms are nested.
</p>
<p>SP SUBPRO
</p>
<p>&sdot; &sdot; &sdot; &sdot; �
</p>
<p>SPE
</p>
<p>&sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot;
</p>
<p>SPE
</p>
<p>&sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot;
</p>
<p>(2) A subprogram is created within the first-, second-, or third-level
Ladder program.
</p>
<p>�
</p>
<p>END1
</p>
<p>SP SUBPRO
</p>
<p>END2
</p>
<p>&sdot; &sdot; &sdot; &sdot;
</p>
<p>&sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot;
</p>
<p>&sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot; &sdot;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
9. SEQUENCE PROGRAM
</p>
<p>STRUCTURINGPMC SEQUENCE PROGRAM
</p>
<p>319
</p>
<p>a) DISPB
</p>
<p>b) EXIN
</p>
<p>c) WINDR (only low-speed response)
</p>
<p>d) WINDW (only low-speed response)
</p>
<p>e) MMCWR
</p>
<p>f) MMCWW
</p>
<p>g) MMC3R
</p>
<p>h) MMC3W
</p>
<p>When you use the above-mentioned functional instructions, ACT=1 must
be held until the transfer completion information(W1) becomes 1.
Therefore, be careful of the following when using those instructions in
subprograms.
</p>
<p>� Do not stop calling the subprogram at the state which has not been
completed yet, that is executed still while using the instructions in the
subprogram.
(In other words, do not set the ACT of the CALL instruction to 0)
� If you do it the function of the instructions after that is not 
</p>
<p>guaranteed.
</p>
<p>� Call the subprogram from other subprograms at the state which has
not been completed yet while using the instructions in the
subprogram. 
� The movement of the above-mentioned functional instruction 
</p>
<p>after that is not guaranteed so that the last functional instruction
may be processing the instruction.
</p>
<p>Then, when the subprogram, in which the above-mentioned functional
instruction is used, is called from two or more places, it is necessary to
control the subprogram exclusively.  The case of the WINDR instruction
(low-speed response) is given as an example here.
</p>
<p>9.3
CAUTIONS FOR
SUBROUTINES
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>9. SEQUENCE PROGRAM
STRUCTURING B&ndash;61863E/10PMC SEQUENCE PROGRAM
</p>
<p>320
</p>
<p>Example)
When subprogram is called from two places. (The WINDR
instruction is used)
</p>
<p>Main program Subprogram 2Subprogram 1
</p>
<p>C2
</p>
<p>C1
</p>
<p>C1
</p>
<p>C1
</p>
<p>B
</p>
<p>C2
</p>
<p>C2
</p>
<p>JMPB L4 SP S-PRO1 SP S-PRO2
</p>
<p>B A  B
</p>
<p>DATA1 SET JMPB L1 WINDR DATA
</p>
<p>ON
</p>
<p>CALL S-PRO1 SPE
A
</p>
<p>A CALL S-PRO2
</p>
<p>JMPB L2
C1
</p>
<p>JMPB L3
</p>
<p>LBL L1
</p>
<p>LBL L4 ON
</p>
<p>C2
</p>
<p>DATA2 SET CALLU S-PRO2
</p>
<p>CALL S-PRO1 LBL L2
</p>
<p>SPE
</p>
<p>LBL L3
</p>
<p>C1
</p>
<p>C2A
</p>
<p>A
</p>
<p>A
</p>
<p>Description) 
Subprogram 1 controls ACT(A)and W1(B)of WINDR (subprogram 2).
By &rdquo;A&rdquo; controlled in subprogram 1, the main program decides which
relay (C1,C2) to be effective.
When the WINDR instruction is completed, the following data will
be set and the other CALL instruction is started.
It keeps working in this way.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>B&ndash;61863E/10
10. JMP INSTRUCTIONS WITH
</p>
<p>LABEL SPECIFICATIONPMC SEQUENCE PROGRAM
</p>
<p>321
</p>
<p>10 JMP INSTRUCTIONS WITH LABEL SPECIFICATION
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>(1) Relationship between JMPB/JMPC and LBL
(Forward and backward jumps to the same label are possible.)
</p>
<p>�
</p>
<p>JMPB A
</p>
<p>LBL A
</p>
<p>JMPB A
</p>
<p>JMPC A
</p>
<p>� : Possible
</p>
<p>� �
</p>
<p>CAUTION
The specifications allow backward jumps.  A backward
jump, however, may result in an infinite loop or cause the
execution time of the first-level Ladder program to exceed
1.5 ms (or 5 ms).  Create a program carefully so an infinite
loop does not occur.
</p>
<p>10.1
SPECIFICATIONS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>10. JMP INSTRUCTIONS WITH 
LABEL SPECIFICATION B&ndash;61863E/10I.  PMC SEQUENCE PROGRAM
</p>
<p>322
</p>
<p>(2) Same label
(A label can be used more than once as long as it is unique within the
main program or each subprogram.)
</p>
<p>LBL  A
</p>
<p>LBL  B
</p>
<p>    LBL  C
</p>
<p>    LBL  C
</p>
<p>    LBL  B
</p>
<p>END1
</p>
<p>END2
</p>
<p>SP  A
</p>
<p>SPE
</p>
<p>SP  B
</p>
<p>SPE
</p>
<p>First level
</p>
<p>Second level
</p>
<p>SP  A
</p>
<p>SP  B
</p>
<p>NOTE
As mentioned in (8) of Section 10.2, the same label must not
exist in the first- and second-level Ladder programs.
</p>
<p>(3) Number of labels
First-and second-level Ladder programs : Up to 256 labels
Subprogram : Up to 256 labels for each subprogram
Label number : L1 to L9999
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
10. JMP INSTRUCTIONS WITH
</p>
<p>LABEL SPECIFICATIONPMC SEQUENCE PROGRAM
</p>
<p>323
</p>
<p>(4) Relationship between JMP/JMPE and JMPB/JMPC
(JMPB and JMPC can be used with JMP and JMPE freely.)
</p>
<p>JMPB A
</p>
<p>JMPE
</p>
<p>LBL A
</p>
<p>JMPB D
</p>
<p>JMPB B
</p>
<p>JMP
</p>
<p>LBL B
</p>
<p>JMPB C
</p>
<p>LBL C
</p>
<p>JMPE
</p>
<p>LBL D
</p>
<p>�
</p>
<p>� : Possible
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>(5) Relationship between CALL/CALLU and JMPB/JMPC
(JMPB and JMPC can be used with CALL and CALLU freely.)
</p>
<p>�
</p>
<p>� : PossibleJMPB C
</p>
<p>JMPB A
</p>
<p>CALL
</p>
<p>LBL A
</p>
<p>JMPB B
</p>
<p>CALLU
</p>
<p>LBL B
</p>
<p>LBL C
</p>
<p>�
</p>
<p>�ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>10. JMP INSTRUCTIONS WITH 
LABEL SPECIFICATION B&ndash;61863E/10I.  PMC SEQUENCE PROGRAM
</p>
<p>324
</p>
<p>(6) Position of JMPC
(JMPC coded between COM and COME can cause a jump.)
</p>
<p>�
</p>
<p>� : Possible    LBL A
</p>
<p>END2
</p>
<p>SP  B
</p>
<p>COM
</p>
<p>    JMPC A
</p>
<p>COME
</p>
<p>SPE
</p>
<p>SP  A
</p>
<p>Second level
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
10. JMP INSTRUCTIONS WITH
</p>
<p>LABEL SPECIFICATIONPMC SEQUENCE PROGRAM
</p>
<p>325
</p>
<p>(1) Jump destination of JMPB (1)
(A jump over END1 or END2 is inhibited.)
</p>
<p>�
</p>
<p>� : Possible
� : Impossible
</p>
<p>�
</p>
<p>    LBL A
</p>
<p>    JMPB B
</p>
<p>    LBL B
</p>
<p>    JMPB C
</p>
<p>END1
</p>
<p>    LBL C
</p>
<p>    JMPB A
</p>
<p>END2
</p>
<p>�
</p>
<p>Second level
</p>
<p>First level
</p>
<p>(2) Jump destination of JMPB (2)
(A jump must be performed within a subprogram.)
</p>
<p>�
</p>
<p>� : Possible
� : Impossible
</p>
<p>�
</p>
<p>    JMPB A
</p>
<p>    LBL A
</p>
<p>    JMPB B
</p>
<p>SPE
</p>
<p>SP  B
</p>
<p>    LBL B
</p>
<p>SPE
</p>
<p>SP  A
</p>
<p>SP  B
</p>
<p>10.2
RESTRICTIONS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>10. JMP INSTRUCTIONS WITH 
LABEL SPECIFICATION B&ndash;61863E/10I.  PMC SEQUENCE PROGRAM
</p>
<p>326
</p>
<p>(3) Jump destination of JMPB (3)
(A jump over COM or COME is inhibited.)
</p>
<p>�
</p>
<p>� : Possible
� : Impossible
</p>
<p>�
</p>
<p>JMPB A
</p>
<p>COME
</p>
<p>LBL A
</p>
<p>JMPB D
</p>
<p>JMPB B
</p>
<p>COM
</p>
<p>LBL B
</p>
<p>JMPB C
</p>
<p>LBL C
</p>
<p>COME
</p>
<p>LBL D
</p>
<p>�
</p>
<p>�
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
10. JMP INSTRUCTIONS WITH
</p>
<p>LABEL SPECIFICATIONPMC SEQUENCE PROGRAM
</p>
<p>327
</p>
<p>(4) Jump destination of JMPC (1)
(A jump to the first-level Ladder program is inhibited.)
</p>
<p>�
</p>
<p>� : Possible
� : Impossible
</p>
<p>�
</p>
<p>LBL A
</p>
<p>END1
</p>
<p>LBL B
</p>
<p>END2
</p>
<p>SP  A
</p>
<p>JMPC B
</p>
<p>JMPC A
</p>
<p>SPE
</p>
<p>Second level
</p>
<p>First level
</p>
<p>SP  A
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>10. JMP INSTRUCTIONS WITH 
LABEL SPECIFICATION B&ndash;61863E/10I.  PMC SEQUENCE PROGRAM
</p>
<p>328
</p>
<p>(5) Jump destination of JMPC (2)
(A jump to a label between COM and COME is inhibited.)
</p>
<p>COM
</p>
<p>LBL A
</p>
<p>COME
</p>
<p>END2
</p>
<p>SP  A
</p>
<p>JMPC A
</p>
<p>SPE
</p>
<p>� : Impossible
</p>
<p>�
</p>
<p>Second level
</p>
<p>SP  A
</p>
<p>(6) Jump destination of JMPC (3)
(Control must not be returned to a label that appears earlier than the
instruction that has called the subprogram.)
</p>
<p>LBL A
</p>
<p>CALL  A
</p>
<p>END2
</p>
<p>SP  A
</p>
<p>JMPC A
</p>
<p>SPE
</p>
<p>� : Impossible
</p>
<p>�
</p>
<p>Second level
</p>
<p>SP  A
</p>
<p>CAUTION
Although Ladder diagrams can be edited, editing a Ladder
diagram may cause an infinite loop.  So, be careful not to
program such processing.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
10. JMP INSTRUCTIONS WITH
</p>
<p>LABEL SPECIFICATIONPMC SEQUENCE PROGRAM
</p>
<p>329
</p>
<p>(7) LBL for JMPB (1)
(There is no LBL in the same subprogram.)
</p>
<p>LBL A
</p>
<p>END2
</p>
<p>SP  A
</p>
<p>JMPB A
</p>
<p>SPE
</p>
<p>Second level
</p>
<p>SP  A
</p>
<p>(8) LBL for JMPB (2)
(The same LBL is found in the first- and second-level Ladder
programs.)
</p>
<p>LBL A
</p>
<p>JMPB A
</p>
<p>END1
</p>
<p>LBL A
</p>
<p>END
</p>
<p>First level
</p>
<p>Second level
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>10. JMP INSTRUCTIONS WITH 
LABEL SPECIFICATION B&ndash;61863E/10I.  PMC SEQUENCE PROGRAM
</p>
<p>330
</p>
<p>(9) LBL for JMPC
(There is no LBL in the second-level Ladder program.)
</p>
<p>LBL A
</p>
<p>END2
</p>
<p>SP  A
</p>
<p>    JMPC B
</p>
<p>SPE
</p>
<p>Second level
</p>
<p>SP  A
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>II.  PMC OPERATION (CRT/MDI)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 1. GENERAL PMC OPERATION (CRT/MDI)
</p>
<p>333
</p>
<p>1 GENERAL
The following PMC data can be set and displayed by using the CRT/MDI
panel.
</p>
<p>1) PMC I/O signal display and internal relay display (PMCDGN)
</p>
<p>PMCDGN has following screens.
</p>
<p>a) Title data display
</p>
<p>b) Status screen
</p>
<p>c) Alarm screen
</p>
<p>d) Trace function
</p>
<p>e) Memory display
</p>
<p>f) Signal Wareform display function
</p>
<p>g) User task execution status display function
</p>
<p>2) PMC data setting and display (PMCPRM)
</p>
<p>The following PMC data are provided.
</p>
<p>a) Timer
</p>
<p>b) Counter
</p>
<p>c) Keep relay
</p>
<p>d) Data table
</p>
<p>3) Display of sequence program ladder diagram (PMCLAD)
</p>
<p>4) PMC screen (PMCMDI) for the user
Press the function key &lt;CUSTOM&gt; on the CRT/MDI panel first.
</p>
<p>NOTE
This function key is effective when a user program exists in
the PMC-RC.
</p>
<p>Switch the NC and PMC menus as described below.
NC screen to PMC screen
</p>
<p>Press the SYSTEM function key on the CRT/MDI panel.  Selecting the
PMC soft key displays the PMC basic menu.
PMC screen to NC screen
</p>
<p>� Pressing the RETURN key (the leftmost key) on the PMC basic
menu screen changes the menu to the NC soft key menu.
</p>
<p>� Selecting a function key on the PMC screen changes the screen to the
corresponding NC screen.
</p>
<p>Figs. 1 l) to 1 a) show the standard CRT/MDI panels.
</p>
<p>NOTE
A key in &lt; &gt; is a function key on the CRT/MDI panel.  A key
in [  ] is a soft key described below.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. GENERAL B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>334
</p>
<p>a) 9�� small monochrome/color CRT/MDI panel for 16-TA/18-TA
(Horizontal type)
</p>
<p>Function keys Address/numeric keys
</p>
<p>SHIFT key
Cancel key
INPUT key
</p>
<p>HELP key
</p>
<p>Edit keys
</p>
<p>RESET key
</p>
<p>Soft keys Page keys
Cursor control keys
</p>
<p>b) 9�� monochrome/color CRT/MDI panel for 16-TA/18-TA
(Horizontal type)
</p>
<p>HELP key
RESET key
</p>
<p>Address/numeric keys
</p>
<p>Cancel key
</p>
<p>INPUT key
</p>
<p>Edit keys
</p>
<p>Function keys
SHIFT key
</p>
<p>Soft keys Page keys
Cursor control keysPower on/off buttom
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 1. GENERAL PMC OPERATION (CRT/MDI)
</p>
<p>335
</p>
<p>c) 10�� color LCD/MDI panel for 16-TA/18-TA (Horizontal type)
</p>
<p>HELP key
</p>
<p>RESET key
</p>
<p>Address/numeric keys
</p>
<p>Cancel key
</p>
<p>INPUT key
</p>
<p>Edit keys
</p>
<p>Function keys
</p>
<p>SHIFT key
</p>
<p>Soft keys
Page keys
</p>
<p>Cursor control keysPower on/off buttom
</p>
<p>d) 10�� color LCD/MDI panel for 16-TA/18-TA (Vertical type)
</p>
<p>HELP key
</p>
<p>RESET key
</p>
<p>Address/numeric keys
</p>
<p>Cancel key
INPUT key
</p>
<p>Edit keys
</p>
<p>Function keys
</p>
<p>SHIFT key
</p>
<p>Soft keys
</p>
<p>Page keys
</p>
<p>Cursor control keys
</p>
<p>Power on/off buttom
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. GENERAL B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>336
</p>
<p>e) 14�� color CRT/MDI panel for 16-TA/18-TA (Horizontal type)
</p>
<p>Function keys
</p>
<p>Address/numeric keys
</p>
<p>SHIFT key
</p>
<p>Cancel key
INPUT key
</p>
<p>HELP key
</p>
<p>Edit keys
</p>
<p>RESET key
</p>
<p>Soft keys
Page keys
</p>
<p>Cursor control keys
</p>
<p>Power on/off buttom
</p>
<p>f) 14�� color CRT/MDI panel for 16-TA/18-TA (Vertical type)
</p>
<p>Function keys
</p>
<p>Address/numeric keys
</p>
<p>SHIFT key Cancel key
INPUT key
</p>
<p>HELP key Edit keys
</p>
<p>RESET key
</p>
<p>Soft keys
</p>
<p>Page keys
</p>
<p>Cursor control keys
</p>
<p>Power on/off buttom
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 1. GENERAL PMC OPERATION (CRT/MDI)
</p>
<p>337
</p>
<p>g) 9�� small monochrome/color CRT/MDI panel for 16-MA/18-MA
(Horizontal type)
</p>
<p>Function keys Address/numeric keys
</p>
<p>SHIFT key
Cancel keys
INPUT key
</p>
<p>HELP key
</p>
<p>Edit keys
</p>
<p>RESET key
</p>
<p>Soft keys
Page keys
</p>
<p>Cursor control keys
</p>
<p>h) 9�� monochrome/color CRT/MDI panel for 16-MA/18-MA
(Horizontal type)
</p>
<p>Function keys
</p>
<p>Address/numeric keys
</p>
<p>SHIFT key
</p>
<p>Cancel key
</p>
<p>INPUT key
</p>
<p>HELP key
</p>
<p>Edit keys
</p>
<p>RESET key
</p>
<p>Soft keys
Page keys
</p>
<p>Cursor control keys
Power on/off buttom
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. GENERAL B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>338
</p>
<p>i) 10�� color LDC/MDI panel for 16-MA/18-MA (Horizontal type)
</p>
<p>Function keys Address/numeric keys
</p>
<p>SHIFT key
Cancel key
</p>
<p>INPUT key
</p>
<p>HELP key
</p>
<p>Edit keys
</p>
<p>RESET key
</p>
<p>Soft keys Page keys
Cursor control keys
</p>
<p>Power on/off buttom
</p>
<p>j) 10�� color LCD/MDI panel for 16-MA/18-MA (Vertical type)
</p>
<p>Function keys
</p>
<p>Address/numeric keys
</p>
<p>SHIFT key
</p>
<p>Cancel keys
INPUT key
</p>
<p>HELP key Edit keys
</p>
<p>RESET key
</p>
<p>Soft keys
</p>
<p>Page keys
</p>
<p>Cursor control keys
</p>
<p>Power on/off buttom
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 1. GENERAL PMC OPERATION (CRT/MDI)
</p>
<p>339
</p>
<p>k) 14�� color CRT/MDI panel for 16-MA/18-MA (Horizontal type)
</p>
<p>Function keys
</p>
<p>Address/numeric keys
</p>
<p>SHIFT key
</p>
<p>Cancel key
INPUT key
</p>
<p>HELP key
</p>
<p>Edit keys
</p>
<p>RESET key
</p>
<p>Soft keys
Page keys
</p>
<p>Cursor control keys
</p>
<p>Power on/off buttom
</p>
<p>l) 14�� color CRT/MDI panel for 16-MA/18-MA (Vertical type)
</p>
<p>Function keys
</p>
<p>Address/numeric keys
</p>
<p>SHIFT key Cancel key
INPUT key
</p>
<p>HELP key Edit keys
</p>
<p>RESET key
</p>
<p>Soft keys
</p>
<p>Page keys
</p>
<p>Cursor control keys
</p>
<p>Power on/off buttom
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. GENERAL B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>340
</p>
<p>Note the followings when you input PMC-address on the original MDI
boards made by MTBs without using Standard MDI Unit supplied by
FANUC.
</p>
<p>(1) If the MDI has the keys to input PMC-address (X, Y, F, G, R, A, C,
K, D, T), You can operate as same as FANUC Seires 18
(PMC-RA1/RA3).
</p>
<p>(2) If MDI does not have those keys, input PMC-address as follows.
When inputting PMC-address (in PCLAD, STATUS and so on), you
can substitute number keys (0 to 9) and a hyphen key (&ndash;) for
PMC-address capital keys (X, Y, F, G, etc.).  PMC-address capital
keys are corresponding to the number keys as follows.
</p>
<p>PMC-address keys G F Y X A R T K C D
</p>
<p>number keys 0&ndash; 1&ndash; 2&ndash; 3&ndash; 4&ndash; 5&ndash; 6&ndash; 7&ndash; 8&ndash; 9&ndash;
</p>
<p>(Example) If you want to input &ldquo;X0.0 [SRCH] &rdquo;, input &ldquo;3-0.0 [SRCH] &rdquo;.
</p>
<p>When a valid sequence program is contained in the PMC, automatic
operation can be started immediately after power&ndash;on by keep relay
setting.  This eliminates the need to display the PMC screen and run a
sequence program each time the power is turned on.  The keep relay
setting method depends on the PMC model. See Section 4.3.3.
</p>
<p>When the power for the CNC is turned on for the first time, a RAM
PARITY or NMI alarm may occur in the PMC.  This is caused by invalid
data in the sequence program storage area in the PMC.  The sequence
program must be cleared to prevent this.
</p>
<p>The automatic operation (see 1.2 above) can also be stopped by clearing
the sequence program in the PMC.
</p>
<p>The sequence program can be cleared in either of the following two ways:
</p>
<p>1. Turn on the power while pressing X and O.
</p>
<p>2. Turn on the power, display the PMC screen, and use the programmer
function of the PMC (EDIT/CLEAR).
</p>
<p>NOTE
In case of loader control function, turn on the power while
pressing X and 5.
</p>
<p>1.1
FOR MDI UNITS
OTHER THAN
STANDARD MDI
UNITS (FOR FS20
PMC-RA1 AND RA3)
</p>
<p>1.2
AUTOMATIC
OPERATION WHEN
THE POWER IS
TURNED ON
</p>
<p>1.3
CLEARING THE
SEQUENCE
PROGRAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 1. GENERAL PMC OPERATION (CRT/MDI)
</p>
<p>341
</p>
<p>The PMC-PA1 and PA3 contained in the Power Mate have a sequence
program called the &ldquo;standard ladder&rdquo; in their ROM to operate the Power
Mate without creating a sequence program.
</p>
<p>Operation)
</p>
<p>Parameter in the Power Mate
#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>8703 FLA
</p>
<p>#0 (FLA) = 0 : The FANUC standard ladder is not used.
1 : The FANUC standard ladder is used.
</p>
<p>(1) Set bit 0 (FLA) of NC parameter 8703 to 1.
</p>
<p>This generates alarm 000 (power-off request) in the Power Mate.
</p>
<p>(2) Turn off the power, then turn it on again.
</p>
<p>If the PMC contains a sequence program (PMC alarm ER22
PROGRAM NOTHING does not occur), turn on the power while
clearing the sequence program (pressing X and O).
</p>
<p>(3) The FANUC standard ladder is loaded.
</p>
<p>NOTE
If the sequence program is not cleared in the PMC, the
FANUC standard ladder is not loaded.  The existing
sequence program remains.
</p>
<p>A password can be specified for a ladder program.  Specified passwords
are stored as sequence program data. A ladder program for which the
password has been specified cannot be displayed or edited.
Symbols, comments and messages, however, can be displayed and edited
whether a password is specified or not.
</p>
<p>(1) Applicable model
</p>
<p>PMC&ndash;RA1/RA5/RB5/RB6 for Series 16i/18i/21i&ndash;A
PMC&ndash;RA1/RB3/RB4/RC3/RC4 for Series 16/18&ndash;MODEL B
PMC&ndash;RB5/RB6 for Series 16/18&ndash;MODEL C
PMC&ndash;RA1/RA3 for Series 21/210&ndash;MODEL B
PMC&ndash;NB/NB2 for Series 15&ndash;MODEL B
PMC&ndash;PA3 for Power Mate&ndash;H
</p>
<p>(2) Types of passwords
</p>
<p>A password consists of up to eight alphanumeric characters.  The
following two types of passwords are used.
Display permissible : R password (READ)
Display and editing permissible : RW password (READ+WRITE)
</p>
<p>1.4
LOADING THE
STANDARD LADDER
(FOR Power Mate
&ndash;D/F PMC&ndash;PA1 AND
PA3)
</p>
<p>1.5
LADDER PASSWORD
FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. GENERAL B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>342
</p>
<p>����� 1.5 (a) Screens Requiring Password Release and Corresponding
Password Types
</p>
<p>Selected screen (soft key) Password
</p>
<p>PMCLAD READ
</p>
<p>ONLEDT READ+WRITE
</p>
<p>M.SRCH (display) READ
</p>
<p>M.SRCH (input) READ+WRITE
</p>
<p>LADDER READ+WRITE
</p>
<p>CLRLAD READ+WRITE
</p>
<p>CLRALL READ+WRITE
</p>
<p>DBGLAD READ
</p>
<p>ONLEDT READ+WRITE
</p>
<p>����� 1.5 (b) Screens Requiring Password Release and Corresponding
Password Types (DPL/MDI)
</p>
<p>Selected screen Password
</p>
<p>LADDER READ+WRITE
</p>
<p>NOTE
1 See the following items for the selected screens listed in
</p>
<p>Table 1.5 (a).
PMCLAD : 5. PMC LADDER DIAGRAM DISPLAY 
</p>
<p> (PMCLAD) in Part II
M.SRCH : 3.5 Display the Contents of Memory 
</p>
<p> (M.SRCH) in Part II
LADDER : 5.2 Sequence program generation 
</p>
<p> (LADDER) in Part III
CLRLAD : 5.6.2 Clear the ladder program (CLRLAD)
</p>
<p> in Part III
CLRALL : 5.6.5 Clear the sequence program 
</p>
<p> (CLRALL) in Part III
DBGLAD : 8.4 Ladder Debug Function in Part III
ONLEDT : 5.8 On-line Editing in Part II
</p>
<p> 8.4.2 Soft key menu for ladder debug 
 function in Part III
</p>
<p>2 For an explanation of the selection screen of Table 1.5 (b),
see the following section:
</p>
<p>LADDER : III 11.4 Ladder Mnemonic Editing
3 With DPL/MDI of the Power Mate, the use of the following
</p>
<p>characters only is supported for clearing passwords:
Alphabetic characters : D, F, G, K, P, T, X, Y
Numeric characters : 0, 1, 2, 3, 4, 5, 6, 7, 8, 9
</p>
<p>If a character other than those listed above is used for a
password, the password cannot be cleared using the
DPL/MDI.
</p>
<p>(3) Setting a password
</p>
<p>Set a password for a ladder program on the editing/password screen
on FAPT LADDER (for personal computers).
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 1. GENERAL PMC OPERATION (CRT/MDI)
</p>
<p>343
</p>
<p>(4) Releasing password protection
</p>
<p>A ladder program for which the password has been specified cannot
be displayed or edited until the password is input correctly.  Once
password protection is released, the protection remains being
released until the power is turned off then on again.
</p>
<p>(a) When operation which requires releasing the password
protection is performed, the system displays either of the
following messages to require the protection to be released,
depending on the type of password.
</p>
<p>&ldquo;KEY IN PASSWORD(R)&rdquo; &middot;&middot;&middot; READ PASSWORD
&ldquo;KEY IN PASSWORD(R/W)&rdquo; &middot;&middot;&middot; READ+WRITE 
  PASSWORD
</p>
<p>(b) Enter the password and press the [INPUT] key.
*The entered password is not displayed.  (Echo back is not
performed.)
</p>
<p>(c) When the password is correctly specified, the protection is
released and the corresponding operation becomes available. See
Table 1.5(a).  If the password is incorrectly specified, the message
&ldquo;FALSE PASSWORD&rdquo; is displayed.
</p>
<p>NOTE
The sequence program is cleared by turning on the power
with the X and O keys being held down, whether password
protection is specified or not.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. GENERAL B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>344
</p>
<p>(5) Special password
</p>
<p>� : Usable
�: See Note.
� : Not usable
</p>
<p>Power
Mate/
</p>
<p>FS21A
</p>
<p>FS20/F
S21B
</p>
<p>FS18A FS16A FS16B
FS18B
</p>
<p>FS16C
FS18C
</p>
<p>FS21� FS16�
FS18�
</p>
<p>FS15B
</p>
<p>PA1
PA3
</p>
<p>RA1
RA3
</p>
<p>RA1, RA2
RA3
</p>
<p>RB, RB2, RB3
RC, RC3
</p>
<p>RB3
RC3
</p>
<p>RB4
RC4
</p>
<p>RB5
RC3
</p>
<p>RB6 RC4 RA1
RA5
</p>
<p>RB5 RB6 NB NB2
</p>
<p>� � � � � � � � � � � � � �
</p>
<p>NOTE
Usable editions
</p>
<p>PMC&ndash;RB4 : Series 4066 Edition 08 or later
PMC&ndash;RC4 : Series 4068 Edition 07 or later
Edit card : Series 4073 Edition 06 or later
</p>
<p>When a password beginning with the character # is set for RW
password, the subprogram after P1500 can be edited in spite of the
protection by this password.
</p>
<p>LADDER &lt;&lt;MAIN&gt;&gt;  PROGRAM:(STEP SEQUENCE DEMO PROGRAM) MONIT STOP
 P1500 ( ) USER PROGRAM NO.1
</p>
<p>  LEVEL1 LEVEL2 LEVEL3
  � P0001 � P0002 � P0004 � P0005 � P0006   � P0007
  � P0008 � P0009 � P0014 � P0015 � P0016   � P0017
  � P0021 � P0022 � P0024 � P0025 � P0026   �]P0027
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  � P1500 � P1501 �]P1502
</p>
<p>example 1)
</p>
<p>When the cursor is positioned to the subprogram P1500 and [ZOOM]
key is pressed, this subprogram P1500 can be edited in spite of the
protection by the password.
</p>
<p>example2)
</p>
<p>When the cursor is positioned to the subprogram P1 and [ZOOM] key
is pressed, if the protection by the password is not released, the
message &rdquo;KEY IN PASSWORD(R/W)&rdquo; is displayed and this
subprogram can be edited by inputting a correct password.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 1. GENERAL PMC OPERATION (CRT/MDI)
</p>
<p>345
</p>
<p>Note the following when PMC of loader control function is operated.
</p>
<p>� Operate PMC after switching to the screen for the loader control. (The
control of the main and the loader changes by pushing the SHIFT key
and the HELP key at the same time.)
</p>
<p>� Connector JD5A of main board is used when communicating with
RS232&ndash;C.
</p>
<p>� When ladder data is input and output to the memory card on the PMC
I/O screen or an edit card is used,the edit card or the memory card is
installed at connector CNMC of the loader board.
</p>
<p>� Connector JD1A of loader board is used when using I/O Link function.
</p>
<p>1.6
PMC OPERATION
FOR LOADER
CONTOROL
FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>NOTE
1 In the following description, the relation between soft keys and menu is described based on the
</p>
<p>9&rdquo; CRT/MDI panel.  The 10&rdquo;, 14&rdquo; CRT/MDI panel is provided with 10 soft keys which are those
of the 9&rdquo; CRT/MDI panel, and thus, it displays many menus as compared with the 9&rdquo; CRT/MDI
panel.
</p>
<p>2 The following operations are necessary for using the built&ndash;in programmer function:
</p>
<p>The FS18&ndash;MODEL A contains the PMC&ndash;RA1,RA2,or RA3. The series number is 4070.
The FS20 contains the PMC&ndash;RA1 or RA3. The series number is 4080.
The FS21/210&ndash;B contains PMC&ndash;RA1 or RA3. The series number is 4084.
The FS21&ndash;B(with loader control) contains PMC&ndash;RA1. The series number is 4086.
</p>
<p>2. PMC MENU SELECTION
PROCEDURE BY SOFTKEY B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>346
</p>
<p>2 PMC MENU SELECTION PROCEDURE BY SOFTKEY
Pressing the function key &lt;SYSTEM&gt; of CRT/MDI and the PMC soft
key changes the screen to the PMC basic screen.  The soft keys are
displayed at the bottom of the screen.
</p>
<p>1) PMC basic menu
</p>
<p>If the control provides a built-in programmer function, a programmer
basic menu is selected by depressing the next key.  The PMC basic
menu and programmer basic menu are alternately selected from each
other by depressing the next key.
For programmer basic menus and operation, see Chapter III &ldquo;PMC
PROGRAMMER&rdquo;.
</p>
<p>Model Operation
</p>
<p>PMC&ndash;RA1/RA2/RA3/RB/RB2/RB3
(FS16/18&ndash;MODEL A),
</p>
<p>PMC&ndash;RA1(FS16&ndash;MODEL A loader control)
</p>
<p>Mount the editing module.
</p>
<p>(A02B&ndash;0120C&ndash;C160)
</p>
<p>PMC&ndash;PA1/PA3 (Power Mate&ndash;D/H),
PMC&ndash;RA1/RB3/RB4 (FS16/18&ndash;MODEL B),
PMC&ndash;RB5/RB6 (FS16/18&ndash;MODEL C),
PMC&ndash;RA1/RA5/RB5/RB6 
(16i/18i/21i&ndash;MODEL A),
PMC&ndash;RA1/RA3 (FS20, FS21/210&ndash;B),
PMC&ndash;RA1 
(FS16&ndash;MODEL B/C, 16i/18i/21i&ndash;MODEL A, 
</p>
<p>FS21&ndash;B loadercontrol function)
</p>
<p>Mount an editing card.
</p>
<p>PMC&ndash;RC/RC3(FS16/18&ndash;MODEL A),
PMC&ndash;RC3/RC4(FS16/18&ndash;MODEL B),
PMC&ndash;NB/NB2(FS15B)
</p>
<p>The function is already contained.
</p>
<p>Common to all the models listed above Set bit 1 of K17 to 1.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
2. PMC MENU SELECTION
</p>
<p>PROCEDURE BY SOFTKEYPMC OPERATION (CRT/MDI)
</p>
<p>347
</p>
<p>PMC DIAGNOSIS FUNCTIONS           MONIT RUN
</p>
<p> SELECT ONE OF FOLLOWING SOFT KEYS
</p>
<p>PMCLAD : DYNAMIC LADDER DISPLAY
</p>
<p>PMCDGN : DIAGNOSIS FUNCTION
</p>
<p>PMCPRM : PARAMETER(T/C/K/D)
</p>
<p>RUN/STOP: RUN/STOP SEQUENCE PROGRAM
</p>
<p>EDIT : EDIT SEQUENCE PROGRAM
</p>
<p>I/O : I/O SEQUENCE PROGRAM
</p>
<p>SYSPRM : SYSTEM PARAMETER
</p>
<p>MONIT : PMC MONITOR
</p>
<p>[PMCLAD] [PMCDGN] [PMCPRM] [       ] [       ]
</p>
<p>Built-in programmer function
</p>
<p>����2 PMC basic menu screen (9&rdquo;CRT)
</p>
<p>NOTE
Without built-in programmer function of PMC-RA1, -RA2,
-RA3, -RB, -RB2, -RB3, -RB4, -RB5, or -RB6 there are only
RUN/STOP and I/O functions.
</p>
<p>2) Keys on CRT/MDI panel
</p>
<p>The following keys are related to PMC operation on CRT/MDI panel.
</p>
<p>a) &lt;SYSTEM&gt; key
</p>
<p>Selects from CNC menu to PMC basic menu.
</p>
<p>b) &lt;PAGE�&gt; key
</p>
<p>Screen page return key.
</p>
<p>c) &lt;PAGE�&gt; key
</p>
<p>Screen page advance key.
</p>
<p>d) &lt;�&gt; key
</p>
<p>Cursor shift (upward) key.
</p>
<p>e) &lt;�&gt; key
</p>
<p>Cursor shift (downward) key.
</p>
<p>f) &lt;�&gt; key
</p>
<p>Cursor shift (leftward) key.  Search function with this key is
provided in PMCLAD EDIT, LADDER (See chapter II.5 and
Chapter III.5.2.5 for details).
</p>
<p>g) &lt;�&gt; key
</p>
<p>Cursor shift (rightward) key.  Search function with this key is
provided in PMCLAD EDIT, LADDER (See chapter II.5 and
Chapter III.5.2.5 for details).
</p>
<p>h) Soft key
</p>
<p>These keys show operating functions corresponding to individual
operations when various PMC operations are done. The soft key
functions change (key menus are selected) according to
operations.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. PMC MENU SELECTION
PROCEDURE BY SOFTKEY B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>348
</p>
<p>i) Next key
</p>
<p>This key is used for extending menus of soft keys. By pressing
this key, a menu changes, and by pressing it again, the menu is
reset as before.
</p>
<p>j) Return key
</p>
<p>Various PMC operations are conducted by pressing soft keys
related to menus. 
The menus sequentially change when pressing corresponding
soft key. Use this return key to reset a menu to the original one.
</p>
<p>3) Status display
</p>
<p>The alarm status and the name of the sequence program storage that
is currently effective are displayed on all the PMC menus.
In addition, PMC-RC/RC3/RC4/NB display the states while the
debugging function is used.
</p>
<p>&gt;
</p>
<p>DBG  -RAM-  ALM
</p>
<p> [      ] [      ] [      ] [      ] [      ]
</p>
<p>Data entry
</p>
<p>Status display
</p>
<p>Soft key display
</p>
<p>� ALM : An alarm occurred in the PMC (For details, see 
Section 3.3.)
</p>
<p>� RAM : The currently effective sequence program storage
is a RAM module.
</p>
<p>� ROM : The currently effective sequence program storage
is a ROM module.
</p>
<p>� EPROM: Currently effective sequence program storage is
EPROM.  (EPROM for PMC-RA1, PMC-RA2,
PMC-RB, and PMC-RB2)
</p>
<p>� DBG : A break issued by the debugging function of
PMC-RC/RC3/RC4/NB in effective.
</p>
<p>� BRK : The break issued by the debugging function of
PMC-RC/RC3/RC4/NB has terminated.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
2. PMC MENU SELECTION
</p>
<p>PROCEDURE BY SOFTKEYPMC OPERATION (CRT/MDI)
</p>
<p>349
</p>
<p>4) Relation between PMC menus and soft keys
</p>
<p>There are 2 types, A and B, in the series of CNC.
</p>
<p>A&ndash;TYPE
</p>
<p>RUN or STOP EDIT I/O SYSPRM MONIT
</p>
<p>PMCLAD PMCDGN PMCPRM
</p>
<p>NEXT
</p>
<p>RET RET RET
</p>
<p>TOP TITLE TIMER
</p>
<p>BOTTOM STATUS COUNTR
</p>
<p>SRCH ALARM KEEPRL
</p>
<p>W- SRCH TRACE DATA
</p>
<p>N- SRCH
</p>
<p>NEXT NEXT
</p>
<p>F- SRCH M. SRCH*1
</p>
<p>ANALYS*2
</p>
<p>USRDGN*3
</p>
<p> ADRESS
(SYMBOL)
</p>
<p>Chapter II.5 Chapter II.3 Chapter II.4
</p>
<p>NOTE
The soft keys indicated by *1, *2, *3 are supported only for
certain models.  See the conditions in the description of
each relevant function.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. PMC MENU SELECTION
PROCEDURE BY SOFTKEY B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>350
</p>
<p>B&ndash;TYPE
</p>
<p>RUN or STOP EDIT I/O SYSPRM MONIT
</p>
<p>PMCLAD PMCDGN PMCPRM
</p>
<p>NEXT
</p>
<p>RET RET RET
</p>
<p>SEARCH TITLE TIMER
</p>
<p>ADRESS
(SYMBOL)
</p>
<p>STATUS COUNTR
</p>
<p>TRIGER ALARM KEEPRL
</p>
<p>WINDOW TRACE DATA
</p>
<p>SETING
</p>
<p>NEXT NEXT
</p>
<p>DUMP M. SRCH*1
</p>
<p>DPARA ANALYS*2
</p>
<p>USRDGN*3
</p>
<p>ONLEDT
</p>
<p>IOCHK*4
</p>
<p>Chapter II.5 Chapter II.3 Chapter II.4
</p>
<p>NOTE
The soft keys indicated by *1, *2, *3 are supported only for
certain models.  See the conditions in the description of
each relevant function.
</p>
<p>The softkey&rsquo; s type for the series of CNC.
</p>
<p>CNC type Power Mate FS20 FS18 FS16 FS15B
</p>
<p>PMC type PA1 PA3 RA1 RA3 RA1 RA2 RA3 RB RB2 RB3 RC RC3 NB NB2
</p>
<p>Softkey type A A A A AB A B AB A B AB AB B B
</p>
<p>Type A or B is selected depending on the Series of PMC control  software.
</p>
<p>Series of PMC control software and type of softkey are related as follows.
</p>
<p>Type A Type B
</p>
<p>FS16A 4061 4063
</p>
<p>FS18A 4070 4071
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
2. PMC MENU SELECTION
</p>
<p>PROCEDURE BY SOFTKEYPMC OPERATION (CRT/MDI)
</p>
<p>351
</p>
<p>(Reference) Series of PMC control software is displayed on the
[PMCDGN] and [TITLE] screen as shown below.
</p>
<p>PMC CONTROL PROGRAM
</p>
<p>SERIES : 4063 EDITION : 08
</p>
<p>Series of PMC control software
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>352
</p>
<p>3
PMC I/O SIGNAL DISPLAY AND INTERNAL RELAY
DISPLAY (PMCDGN)
</p>
<p>PMC I/O signals, internal relays, and other PMC diagnosis are displayed
on the screen by depressing soft key [PMCDGN].
</p>
<p>PMCLAD PMCDGN PMCPRM
</p>
<p>TITLE STATUS ALARM TRACE
</p>
<p>NEXT
</p>
<p>M.SRCH ANALYS USRDGN
</p>
<p>RET
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>353
</p>
<p>Title Data refers to the title of the sequence program created by the
machine tool builder.
</p>
<p>They consist of the following ten items :
</p>
<p>Machine tool builder name   (32 characters)
Machine tool name   (32 characters)
NC and PMC types   (32 characters)
Sequence program number   (4 characters)
Version   (2 characters)
Sequence program drawing number   (32 characters)
Date when the sequence program was created   (16 characters)
Sequence program programmer   (32 characters) 
ROM programmer   (32 characters)
Comment   (32  characters)
</p>
<p>In addition to the title display :
</p>
<p>1) Series and version of the PMC control software.
</p>
<p>2) Type of the PMC.
</p>
<p>3) For Editing module or Editing card, the series and version.
</p>
<p>4) Memory areas used for each sequence data, and execution time of
ladder program.
</p>
<p>5) Type of PMC control module and PMC sequence program.
</p>
<p>6) For the non-dividing system, the present, maximum and minimum
values for the execution time of ladder program.
</p>
<p>NOTE
When a C board is installed in the Series 16i/18i, the title
data for C can be displayed. With the arrow keys [�] and
[�], the user can switch the display between the ladder title
and C title data.
</p>
<p>To display the previous or next screen on the 9&rdquo; CRT/MDI, use the
&lt;PAGE �&gt; or &lt;PAGE �&gt; key.
</p>
<p>PMC TITLE DATA #1                  MONIT  RUN
</p>
<p> PMC PROGRAM NO.  : 1234
 EDITION NO.      : 12
 PMC CONTROL PROGRAM
     SERIES : 4063 EDITION : 08
    (SERIES : 4065 EDITION : 08)
 PMC TYPE CONTROL : RB3  PROGRAM : RB3
     MEMORY USED  : 007.8 KB
     LADDER       : 007.0 KB
     SYMBOL       : 000.0 KB
     MESSAGE      : 000.8 KB
     SCAN TIME    : 008   MS
     SCAN MAX     : 016   MS  MIN : 008  MS
</p>
<p>[TITLE ] [STATUS ] [ALARM ] [TRACE ] [      ]
</p>
<p>����3.1 (a) Title Data 1
</p>
<p>3.1
DISPLAYING TITLE
DATA
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>354
</p>
<p>PMC TITLE DATA #2                   MONIT RUN
</p>
<p> MACHINE TOOL BUILDER NAME :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> MACHINE TOOL NAME :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> CNC &amp; PMC TYPE NAME :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> PROGRAM DRAWING NO. :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p>[TITLE ] [STATUS ] [ALARM ] [TRACE ] [       ]
</p>
<p>����3.1 (b) Title data 2
</p>
<p>PMC TITLE DATA #3                   MONIT RUN
</p>
<p> DATE OF PROGRAMING :
 � &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> PROGRAM DESIGNED BY :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> ROM WRITTEN BY :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> REMARKS :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p>[TITLE ] [STATUS ] [ALARM ] [TRACE ] [       ]
</p>
<p>����3.1 (c) Title data 3
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>355
</p>
<p>The contents at all addresses (X, Y, F, G, R, A, C, K, D, T, M, N)
disignated in programs can be displayed on the CRT screen.  This display
is all done by &ldquo;0&rdquo; and &ldquo;1&rdquo; bit patterns, and symbol data is displayed
together at address bits where symbol data are difined.
</p>
<p>TITLE STATUS ALARM
</p>
<p>SEARCH NEXT
</p>
<p>M.SRCH ANALYS USRDGN
</p>
<p>RET
</p>
<p>TRACE
</p>
<p>I/O CHK
</p>
<p>1 Depress [STATUS] soft key.  The CRT screen changes as shown in
Fig. 3.2, and the soft key menu is changed.
</p>
<p>2 Depress [SEARCH] key after keying in an address to be displayed.
</p>
<p>3 A continuous 8 byte data is displayed by a bit pattern from the
designated address in the top stage of the CRT screen.
</p>
<p>4 Depress [SEARCH] key or page key to display another address.
</p>
<p> PMC SIGNAL STATUS                           MONIT RUN
</p>
<p>ADDRESS    7     6     5     4     3     2     1    0
EXDAT1  ED7   ED6   ED5   ED4   ED3   ED2   ED1  ED0
G0000      0     0     0     0     0     0     0    0
EXDAT2 ED15   ED14  ED13  ED12  ED11  ED10  ED9  ED8
G0001      0     0     0     0     0     0     0    0
       ESTB   EA6   EA5   EA4   EA3   EA2   EA1  EA0
G0002      0     0     0     0     0     0     0    0
       ERDRQ  EOREND
G0003      0     0     0     0     0     0     0    0
       MFIN5 MFIN4 MFIN3 MFIN2 MFIN1
G0004      0     0     0     0     0     0     0    0
        BFIN  AFL               TFIN  SFIN EFIND MFIN
G0005      0     0     0     0     0     0     0    0
        DLK               OVC        *ABSM  BRN  SRN
G0004      0     0     0     0     0     0     0    0
       RLSOT EXLM2 *FLWP             ST     STLK RVS
G0007      0     0     0     0     0     0     0    0
</p>
<p>[SEARCH] [      ] [      ] [      ] [      ] [      ]
</p>
<p>����3.2 Status display of PMC I/O signals and internal relays
</p>
<p>3.2
DISPLAY OF SIGNAL
STATUS (STATUS)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>356
</p>
<p>If an alarm is issued in the PMC, pressing the PMC soft key displays the
alarm message as shown in Fig. 3.3.  ALM blinks at the lower right corner
of the screen.
If a fatal error occurs, a sequence program does not start.
</p>
<p>PMC ALARM MESSAGE                  MONIT STOP
</p>
<p> ER00 PROGRAM DATA ERROR (ROM)
</p>
<p> 
</p>
<p> [TITLE ] [STATUS] [ALARM ] [TRACE ] [       ]
</p>
<p>ALM
</p>
<p>����3.3 Alarm screen
</p>
<p>For displayed messages, see the appendix, &ldquo;Alarm Message List.&rdquo;
</p>
<p>3.3
ALARM SCREEN
(ALARM)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>357
</p>
<p>This function checks the signal history which cannot be checked in the
status display.  Using one- or two-byte addressing, the function records
a state when the signal changes.  In two-byte addressing, discontinuous
addresses can be set.
</p>
<p>Pressing the [TRACE] key on the PMCDGN screen displays the trace
screen when signals are being read.  When signals are not being read, the
parameter setting screen for reading signals is displayed.  After displaying
either screen, pressing the [TRCPRM] key on the trace screen displays the
parameter setting screen and pressing the [T.DISP] key on the parameter
setting screen displays the trace screen.
</p>
<p>TITLE STATUS ALARM
</p>
<p>T.DISP EXEC NEXT
</p>
<p>M.SRCH ANALYS USRDGN
</p>
<p>RET
</p>
<p>TRACE
</p>
<p>or 
TRCPRM
</p>
<p>or
STOP
</p>
<p>Data to be used for reading signals needs to be specified to check the
signal history.
</p>
<p>1) Parameters
</p>
<p>TRACE MODE : Sets a mode used for reading signals
0 : 1-byte data
1 : 2-byte data (discontinuous addresses can be 
</p>
<p>specified)
2 : Word data (with continuous addresses)
</p>
<p>ADDRESS TYPE : Sets addresses used
0 : PMC address
1 : Physical address
</p>
<p>ADDRESS : Sets addresses at which a signal is traced
</p>
<p>MASK DATA : Sets a masked bit or bits (signals can be read with 
unnecessary bits masked)
Range : 00 to FF
</p>
<p>The above trace parameters are retained if the power is turned off.
</p>
<p>3.4
TRACE FUNCTION
(TRACE)
</p>
<p>3.4.1
Operation
</p>
<p>3.4.2
Parameter Setting
Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>358
</p>
<p>EXEC :  Starts reading signals
</p>
<p>NOTE
1 Pressing the [EXEC] key again clears the results of the
</p>
<p>previous trace.
If the trace parameters are not set correctly, the trace is not
performed.
When signals are being sampled using the function for
displaying signal waveforms, the trace is not performed.
</p>
<p>2 The result data of the trace is stored latest 256-byte.  If the
power is turned off, the results of the trace are cleared.
</p>
<p>3 Signals R9000 to R9007 cannot be traced.
4 A signal is traced at intervals of 8 ms.  If the signal changes
</p>
<p>within 8 ms, the changed signal state cannot be traced.
5 When the trace address type is specified as a physical
</p>
<p>address, specify an effective memory address.  If an
ineffective address is specified to execute the trace, a
system error may occur.
</p>
<p>STOP : Stops reading signals.
</p>
<p>PMC SIGNAL TRACE                    MONIT RUN
</p>
<p> TRACE MODE         : 1
 (0:1BYTE/1:2BYTE/2:WORD)
 1ST TRACE ADDRESS CONDITION
     ADDRESS TYPE   : 1 (0:PMC /1:PHY)
     ADDRESS        : FFE480
     MASK DATA      : 11
 2ND TRACE ADDRESS CONDITION
     ADDRESS TYPE   : 0 (0:PMC /1:PHY)
     ADDRESS        : Y0
     MASK DATA      : FF
</p>
<p>[T.DISP] [ EXEC ] [      ] [      ] [      ]
</p>
<p>����3.4.3 Trace Parameter setting screen
</p>
<p>3.4.3
Starting or Stopping
the Trace Function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>359
</p>
<p>Signal history can be checked using data specified on the parameter
setting screen.  The result of the latest trace is displayed at the cursor
position.  The cursor moves on the screen as the results of the trace are
obtained.  If the cursor moves off the screen, the results of the trace can
be followed by pressing the page key to display the subsequent screen.
</p>
<p>PMC SIGNAL TRACE                                   MONIT RUN
</p>
<p>       1ST ADDRESS = X0000 (FF)      2ND ADDRESS = Y0000 (FF)
 NO.   7  6  5  4    3  2  1  0    7  6  5  4    3  2  1  0
 0000  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0001  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0002  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0003  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0004  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0005  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0006  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0007  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0008  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0009  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0010  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0011  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0012  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0013  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0014  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
 0015  .  .  .  .    .  .  .  .    .  .  .  .    .  .  .  .
</p>
<p>[TRCPRM ] [ STOP  ] [         ] [         ] [         ]
</p>
<p>EXEC
</p>
<p>����3.4.4 Trace Screen
</p>
<p>Trace operation can be started automatically, immediately after
power&ndash;on, by setting trace parameters beforehand and by setting the keep
relay to start the trace function automatically upon power&ndash;on.  The keep
relay setting method depends on the PMC model. See Section 4.3.3.
</p>
<p>3.4.4
Trace Screen
</p>
<p>3.4.5
Automatic Tracing
Function at Power on
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>360
</p>
<p>: Standard
� : optional
</p>
<p>�: cannot be used
� : Can be used for the 4084 series.
</p>
<p>�����
&#13;����

��
</p>
<p>�����
&#13;�����
</p>
<p>FS20/
FS21A FS21B FS18A FS18B FS16A
</p>
<p>FS16A/B
FS18B
</p>
<p>FS16C
FS18C
</p>
<p>FS21i
FS16i
FS18i
</p>
<p>FS16A
FS16A
/B/C
</p>
<p>FS18B/C
</p>
<p>������	
������	
</p>
<p>FS15B
</p>
<p>PA1 PA3 ��� RA1 RA3 RA1 RA3 RA1 RA2 RA3 RA1 RB RB2 RB3 RB4 RB5 RB6 RA1 RA5 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � �
</p>
<p>� The ladder editing module is required for the PMC&ndash;RB/RB2/RB3 of
the Series 16 &ndash;MODEL A and for the PMC&ndash;RA1/RA2/RA3 of the
Series 18&ndash;MODEL A.
</p>
<p>� This function is provided as a standard function with
PMC&ndash;RA1/RB3/RB4/RB5/RB6/RC3/RC4 of the Series
16/18&ndash;MODEL B/C, and PMC&ndash;RA1/RA3 of the Series 21/210&ndash;MB.
</p>
<p>1) Pressing the [M.SRCH] soft key changes the screen to that shown in
Fig. 3.5.  The displayed soft keys also change.
</p>
<p>2) Enter a physical address in hexadecimal from which the contents of
the memory are to be displayed.  Then pressing the [SEARCH] key
displays 256 bytes of stored data starting from the specified address.
</p>
<p>Example) Entering 100000, then pressing the [SEARCH] key 
displays the contents of the memory starting from 
100000H.
</p>
<p>3) An address can be changed using the &lt;PAGE &darr;&gt; or &lt;PAGE &uarr;&gt; key.
4) Pressing either the [BYTE], [WORD], or [D.WORD] soft key
</p>
<p>displays data of the corresponding type.
</p>
<p>CAUTION
If an address at which the memory is not used is specified,
a system error occurs.  Be sure to specify the correct
address.
</p>
<p>3.5
DISPLAYING THE
CONTENTS OF
MEMORY
</p>
<p>3.5.1
Operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>361
</p>
<p>To store data in memory, set bit 4 of keep relay K17 to 1, move the cursor
to a position at which the address of the data to be changed in RAM is
displayed, and enter data in units of data type in hexadecimal.
</p>
<p>Example) Entering 0F41, then pressing the [INPUT] key stores 0F41
at the address specified by the cursor.
</p>
<p>CAUTION
Some values cause a system error.
</p>
<p>PMC CONTENTS OF MEMORY                                  MONIT RUN
</p>
<p> 100000  0000 0000 0000 0000 0000 0000 0000 0000  ................
 100010  4142 4344 4546 4748 494A 4B4C 4D4E 4F50  ABCDEFGHIJKLMNOP
 100020  2020 2020 2020 2020 2020 2020 2020 2020
 100030  5152 5354 5556 5758 595A 2020 2020 2020  QRSTUVWXYZ
</p>
<p> 100040  0000 0000 0000 0000 0000 0000 0000 0000  ................
 100050  0000 0000 0000 0000 0000 0000 0000 0000  ................
 100060  0000 0000 0000 0000 0000 0000 0000 0000  ................
 100070  0000 0000 0000 0000 0000 0000 0000 0000  ................
 100080  4641 4E55 4320 434F 2E2C 5444 0000 0000  FANUC CO.LTD....
 100090  0000 0000 0000 0000 0000 0000 0000 0000  ................
 1000A0  0000 0000 0000 0000 0000 0000 0000 0000  ................
 1000B0  0000 0000 0000 0000 0000 0000 0000 0000  ................
</p>
<p> 1000C0  0000 0000 0000 0000 0000 0000 0000 0000  ................
 1000D0  0000 0000 0000 0000 0000 0000 0000 0000  ................
 1000E0  0000 0000 0000 0000 0000 0000 0000 0000  ................
 1000F0  0000 0000 0000 0000 0000 0000 0000 0000
</p>
<p>&gt;
</p>
<p> [  SEARCH  ] [  INPUT   ] [          ] [          ] [          ]
</p>
<p>����3.5.2 Memory Display
</p>
<p>3.5.2
Function for Storing
Data in Memory
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>362
</p>
<p>: Standard
� : optional
</p>
<p>�: cannot be used
� : Can be used for the 4084 series.
</p>
<p>Power
Mate&ndash;D/F
</p>
<p>Power
Mate&ndash;H
</p>
<p>FS20/
FS21A
</p>
<p>FS21B FS18A FS18B FS16A FS16A/B
FS18B
</p>
<p>FS16C
FS18C
</p>
<p>FS21i
FS16i
FS18i
</p>
<p>FS16A FS16A
/B/C
</p>
<p>FS18B/C
</p>
<p>FS16B/C
FS18B/C
</p>
<p>FS15B
</p>
<p>PA1 PA3 PA3 RA1 RA3 RA1 RA3 RA1 RA2 RA3 RA1 RB RB2 RB3 RB4 RB5 RB6 RA1 RA5 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � � � � � � �
</p>
<p>� The ladder edit module is required with PMC&ndash;RB/RB2/RB3 of the
Series 16&ndash;MODEL A, and PMC&ndash;RA2/RA3 of the Series 18&ndash;MODEL
A.
</p>
<p>� The ladder edit card is required with PMC&ndash;RA1/RB3/RB4 of the Series
16/18&ndash;MODEL B, PMC&ndash;RA1/RB5/RB6 of the Series 16/18&ndash;MODEL
C, PMC&ndash;RA1/RA3 of the Series 21/210&ndash;MODEL B, and PMC&ndash;PA3
of the Power Mate&ndash;MODEL&ndash;H.
</p>
<p>� Work RAM is required with PMC&ndash;RC/RC3 of the Series 16&ndash;MODEL
A.
</p>
<p>� This function is provided as a standard function with PMC&ndash;RC3/RC4
of the Series 16/18&ndash;MODEL B/C.
</p>
<p>� The ladder edit card is required with PMC&ndash;RA5/RB5/RB6 of the Series
16i/18i/21i&ndash;MODEL A.
</p>
<p>1) Maximum number of signals traced at the same time:  16
2) Maximum sampling period:  10 s
3) Sampling interval:  8 ms
</p>
<p>Pressing the [ANALYS] key on the PMCDGN screen displays the
parameter screen for diagnosing signals.  Pressing the [SCOPE] soft key
on the parameter screen displays the screen showing signal diagnosis.  To
return to the parameter screen, press the [SGNPRM] soft key.
</p>
<p>3.6
FUNCTION FOR
DISPLAYING SIGNAL
WAVEFORMS
(ANALYS)
</p>
<p>3.6.1
Specifications
</p>
<p>3.6.2
Operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>363
</p>
<p>TITLE STATUS ALARM
</p>
<p>M.SRCH ANALYS USRDGN
</p>
<p>NEXT
</p>
<p>SCOPE DELETE INITRET
</p>
<p>TRACE
</p>
<p>or 
SYMBOL
</p>
<p>SGNPRM START T.SRCH ADRESS
</p>
<p>EXCHG
</p>
<p>SELECT CANCEL
</p>
<p>TO CANCEL
</p>
<p>EXEC CANCEL
</p>
<p>NEXT
</p>
<p>RET
</p>
<p>ADRESS
</p>
<p>or 
SYMBOL
</p>
<p>SCALE
</p>
<p>To trace the state of a signal, the trace conditions need to be specified on
the parameter screen.  In a 9&rdquo; screen, a trace address can be specified by
pressing the &lt;PAGE�&gt; key.  (See Fig. 3.6 (b).)
</p>
<p>1) Setting parameters
</p>
<p>Move the cursor to a parameter to be specified.  Enter a value and
press the [INPUT] key.  To delete the value of the parameter, move
the cursor to the parameter, then press the [DELETE] soft key.
</p>
<p>a) SAMPLING TIME
</p>
<p>Specify the maximum trace time in the range of 1 to 10 s.
</p>
<p>b) TRIGGER ADDRESS
</p>
<p>Specify a trigger address from which the tracing starts on the
PMC address.  A symbol name can be used.
</p>
<p>c) CONDITION
</p>
<p>Specify the conditions at which the tracing starts.
</p>
<p>0 : When the [START] key is pressed
1 : When the [START] key is pressed and the trigger address 
</p>
<p>signal rises
2 : When the [START] key is pressed and the trigger address 
</p>
<p>signal falls
</p>
<p>NOTE
Conditions 1 and 2 are effective when a trigger address is
specified.
</p>
<p>3.6.3
Parameter Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>364
</p>
<p>d) TRIGGER MODE
</p>
<p>Sampled data for up to 10 seconds is stored in the trace buffer.
A signal is stored in the buffer within 8 ms.
This parameter specifies the starting and end points for obtaining
data.
</p>
<p>0 : AFTER
</p>
<p>In this mode, signal states are obtained in the period specified
in parameter SAMPLING TIME from the time when the
trigger conditions are satisfied.
</p>
<p>1 : ABOUT
</p>
<p>In this mode, signal states are obtained in the period specified
in the parameter SAMPLING TIME with the time at the
middle when the trigger conditions are satisfied.
</p>
<p>2 : BEFORE
</p>
<p>In this mode, signal states are obtained in the period specified
in parameter SAMPLING TIME before the trigger
conditions are satisfied.
</p>
<p>3 : ONLY
</p>
<p>In this mode, the signal states are obtained only when the
trigger conditions are satisfied.
</p>
<p>NOTE
Trigger mode 1 and 2 are effective when condition 1 or 2 is
set.
</p>
<p>e) SIGNAL ADDRESS
</p>
<p>Specify up to 16 addresses at which the tracing is performed with
PMC addresses or symbol names.
</p>
<p>2) Initializing signal diagnosis data
</p>
<p>Pressing the [INIT] soft key on the parameter screen initializes
parameter data and trace data.
</p>
<p>3) Displaying symbols for trigger addresses and trace addresses
</p>
<p>Pressing the [ADRESS] soft key displays trigger and trace addresses
for which symbols are defined and the key changes to the [SYMBOL]
key.  Pressing the [SYMBOL] key displays the symbols for trigger
and trace addresses and the key changes to the [ADRESS] key.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>365
</p>
<p>PMC SIGNAL PARAMETER MONIT RUN
</p>
<p>   SAMPLING TIME : 10(1-10SEC)
</p>
<p>   TRIGGER ADDRESS : *ESP
</p>
<p>   CONDITION :  1
   (0:START 1:TRIGGER-ON 2:TRIGGER-OFF)
</p>
<p>   TRIGGER MODE :  1
   (0:AFTER 1:ABOUT 2:BEFORE 3:ONLY)
</p>
<p>&gt;
</p>
<p> [SCOPE ] [DELETE] [INIT  ] [ADRESS] [       ]
</p>
<p>ADRESS/SYMBOL
</p>
<p>����3.6.3 (a) Parameter Setting Screen 1
</p>
<p>PMC SIGNAL PARAMETER MONIT RUN
</p>
<p>SIGNAL ADDRESS
</p>
<p>1 : ED0  9 : X0000.0
2 : ED1 10 : X0000.1
3 : ED2 11 : X0000.2
4 : ED3 12 : X0000.3
5 : ED4 13 : X0000.4
6 : ED5 14 : X0000.5
7 : ED6 15 : X0000.6
8 : ED7 16 : X0000.7
</p>
<p>&gt;
</p>
<p> [SCOPE ] [DELETE] [INIT  ] [ADRESS] [       ]
</p>
<p>ADRESS/SYMBOL
</p>
<p>����3.6.3 (b) Parameter Setting Screen 2
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>366
</p>
<p>After parameters are specified on the parameter screen,  select the signal
diagnosis screen.
</p>
<p>Pressing the [START] soft key starts to trace the specified signal.
</p>
<p>While the signals are traced, &ldquo;EXECUTING&rdquo; is displayed.  When the
tracing is finished, the period in which the specified signal was traced is
displayed on the screen.
</p>
<p>When the optional graphic function is provided, the waveform is
displayed by using the graphic function.
</p>
<p>When the function is not provided, waveform is displayed with &ldquo;�&rdquo;
indicating the signal is on and &ldquo;_&rdquo; indicating the signal off.
</p>
<p>In the ONLY mode, even when the optional graphic function is
provided,&ldquo;�&rdquo; and &ldquo;_&rdquo; is used to display the waveform as shown in Fig.
3.6.4.
</p>
<p>1) Starting or stopping the data sampling
</p>
<p>Pressing the [START] key starts sampling.  Pressing the [STOP] key
stops sampling and the sampled data is displayed.
</p>
<p>2) Displaying traced data by specifying a period
</p>
<p>Enter a period in ms in which traced data is to be displayed.  Pressing
the [T.SRCH] key displays the traced data.
</p>
<p>Example) Entering 800, then pressing the [T.SRCH] key displays the
waveform from 512 ms to 1024 ms.
</p>
<p>3) Displaying symbols for trigger and trace addresses
</p>
<p>When symbols are defined for trigger and trace addresses, the
symbols and addresses are displayed
</p>
<p>4) Exchanging positions at which traced data is displayed
</p>
<p>Pressing the [EXCHG] key moves the cursor to the first traced
address.  Position the cursor to the trace address to be exchanged,
using the &lt;�&gt; or &lt;�&gt; key, then press the [SELECT] key.  Next,
position the cursor to the trace address with which the selected trace
address is to be exchanged, then press the [TO] key.  Finally, press the
[EXEC] key.  The trace data is exchanged.
</p>
<p>During the above operation, all other soft keys are disabled until the
[EXEC] key has been pressed.  To cancel the exchange, press the
[CANCEL] key.
</p>
<p>5) Changing the time division (This function is available when the
graphic function is used.)
</p>
<p>When displaying the signal waveform, the time division can be
changed.
</p>
<p>Setting 8 8 ms/divisions. . . . . 
16 16 ms/divisions. . . . 
32 32 ms/divisions. . . . 
</p>
<p>Pressing only the [SCALE] key increments the minimum scale from
8 to 32 ms, as follows:
</p>
<p>6) Shifting traced data upward or downward
</p>
<p>Pressing the &lt;PAGE�&gt; key shifts traced data upward.  Pressing the
&lt;PAGE �&gt; key shifts traced data downward.
</p>
<p>7) Shifting traced data left or right
</p>
<p>3.6.4
Signal Diagnosis
Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>367
</p>
<p>Pressing the &ldquo;�&rdquo; key shifts traced data to the left.  Pressing the &ldquo;�&rdquo;
key shifts traced data to the right.
</p>
<p>PMC SIGNAL ANALYSIS(SCOPE) MONIT RUN
 SAMPLING TIME  :    10   CONDITION   : 1
 TRIGGER ADDRESS:*ESP     TRIGGER MODE: 1
</p>
<p>ED0
</p>
<p>ED1
</p>
<p>ED2
</p>
<p>ED3
</p>
<p>ED4
</p>
<p>ED3
</p>
<p>-256    0(MSEC)
</p>
<p>[SGNPRM] [START ] [T.SRCH ] [ADRESS ] [      ]
</p>
<p>START/STOP ADRESS/SYMBOL
</p>
<p>����3.6.4 Screen Displaying Signal Diagnosis
</p>
<p>Since parameter and sampling data is stored in nonvolatile memory, data
is retained when the power is turned off.
Data sampling can be started automatically, immediately after power&ndash;on,
by setting sampling parameters and setting the keep relay beforehand.
The keep relay setting method depends on the PMC model. See Section
4.3.3.
</p>
<p>3.6.5
Reading Signals
Automatically at Power
on
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>368
</p>
<p>Pressing the [USRDGN] key dynamically displays the running states of
user tasks (including the third level of a ladder program) in the PMC (Fig.
3.7).
</p>
<p>� : Can be used
� : Cannot be used
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � � � � � �
</p>
<p>Work RAM is necessary (A02B-0120-H987 for the PMC-RC and
PMC-RC3 and A02B-0162-J151 or A02B-0162-J152 for the PMC-NB).
</p>
<p>For details, refer to the &ldquo;PMC-RC/RC3/RC4/NB Programming Manual
(C language)&rdquo; (B-61863E-1).
</p>
<p> PMC MONIT USER TASK #1 MONIT RUN
</p>
<p> ID NAME      LV STATUS WAIT-INF WAIT-ID
    LAD3      10 READY
 10 TASK_O1 @ 10 ACTIVE
 11 TASK_O2 # 11 READY
 12 TASK_O3   12 WAIT    TIM
 13 TASK_O4   13 WAIT    EVT.O 1
 14 TASK_O5   14 WAIT    EVT.A 3
 15 TASK_O6   15 WAIT    PKT 2340
 16 TASK_O7      STOP
 17 TASK8      17 READY
</p>
<p>  &gt;
</p>
<p> [       ][       ][       ][       ][       ]
</p>
<p>����3.7 Screen Displaying the Running States of User Tasks
</p>
<p>[Displayed items]
</p>
<p>ID   NAME  LV    STATUS  WAIT-INF   WAIT-ID
</p>
<p>11  TASK1 #  13     WAIT   EVT.O 10
</p>
<p>ID for wait information
</p>
<p>Wait information
</p>
<p>Running state
</p>
<p>Task level
</p>
<p>Operation
</p>
<p>Task name
</p>
<p>Task ID
</p>
<p>1) Operation
</p>
<p>Code Description
</p>
<p># RS-232C being used
</p>
<p>@ NC command edit being used
</p>
<p>3.7
DISPLAYING THE
RUNNING STATE OF
A USER TASK
(USRDGN)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>369
</p>
<p>2) Running state
</p>
<p>Code Description
</p>
<p>ACTIVE Running
</p>
<p>READY Ready
</p>
<p>WAIT Waiting
</p>
<p>STOP Task stopped
</p>
<p>ERROR The system deleted the task because the task had called library that
is not supported.
</p>
<p>3) Wait information
</p>
<p>Code Description
</p>
<p>TIM Waiting for time-out
</p>
<p>EVT.A Waiting for AND condition of event flags
</p>
<p>EVT.O Waiting for OR condition of event flags
</p>
<p>SEM Waiting for semaphore
</p>
<p>MBX.R Waiting for READ of the mail box
</p>
<p>MBX.W Waiting for WRITE of the mail box
</p>
<p>PKT Waiting for a packet to be received
</p>
<p>PCMDI Waiting for the PCMDI command to be issued
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>370
</p>
<p>� : Supprted
� : Not supported
</p>
<p>Power
Mate&ndash;
D/F/G
</p>
<p>Power
Mate&ndash;H
</p>
<p>FS21
TA/TB
</p>
<p>FS20 FS18 FS16&ndash;A FS16&ndash;B FS18&ndash;B FS21i FS16i FS18i FS15&ndash;B
</p>
<p>� � � � � � � � � � � �
</p>
<p>In case of FS16&ndash;B/FS18&ndash;B :
</p>
<p>TITLE STATUS ALARM
</p>
<p>NEXT
</p>
<p>IOLNK IOLNK2
</p>
<p>RET
</p>
<p>TRACE
</p>
<p>INPUT DELETE DELALL
</p>
<p>IOLNK IOLNK2
</p>
<p>NEXTRET
</p>
<p>PRV.CH
</p>
<p>M.SRCH ANALYS USRDGN IOCHK
</p>
<p>NXT.CH
</p>
<p>PMC I/O CHECK
</p>
<p>SELECT ONE OF FOLLOWING SOFT KEYS
</p>
<p>IOLNK : I/O LINK CHECK
</p>
<p>IOLNK2 : I/O LINK&ndash;II SETTING
</p>
<p>����3.8 I/O Check Menu Screen
</p>
<p>The I/O check screen has two functions. By pressing the soft key, the
following screens are displayed.
</p>
<p>[IOLNK ] : I/O Link connecting check screen.
</p>
<p>[IOLNK2] : I/O Link&ndash;II parameter setting screen.
</p>
<p>3.8
DISPLAYING AND
SETTING THE
CONFIGURATION
STATUS OF I/O
DEVICES(IOCHK)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>371
</p>
<p>In case of FS15&ndash;B :
FS15&ndash;B has not supported [IOLNK2] screen. By pressing [IOCHK] key,
I/O Link connecting check screen is selected directly.
</p>
<p>TITLE STATUS ALARM
</p>
<p>NEXT
</p>
<p>TRACE
</p>
<p>M.SRCH ANALYS USRDGN IOCHK
</p>
<p>The I/O Link connecting check screen displays the types and ID codes of
the connected I/O devices for each group. When I/O device is not
connected, &rdquo;NO I/O DEVICE&rdquo; is displayed. When input to or output from
an I/O devices is abnormal, check if the configuration of the connected
I/O devices correct is by referring the screen.
</p>
<p>I/O CHECK
</p>
<p>GROUP ID KIND OF UNIT
</p>
<p> 00 80 CONNECTION UNIT
</p>
<p> 01 82 OPERATOR PANEL
</p>
<p> 02 84 I/O UNIT MODEL A
</p>
<p> 03 96 CONNECTION UNIT
</p>
<p> 04 4A POWER MATE
</p>
<p>�	��3.8.1 (a) Example of the I/O Link Screen
</p>
<p>���
� 3.8.1 I/O Devices and ID Codes
</p>
<p>Displayed I/O device name ID Actual I/O device
</p>
<p>CONNECTION UNIT 80 Connection unit
</p>
<p>OPERATOR PANEL 82 Operator&rsquo;s panel connection unit
</p>
<p>I/O-B3 83 Expanded I/O B3
</p>
<p>I/O UNIT MODEL A 84 to 87 I/O UNIT MODEL A
</p>
<p>I/O UNIT MODEL B 9D to 9E I/O UNIT MODEL B
</p>
<p>POWER MATE 4A Power Mate
</p>
<p>CONNECTION UNIT 96 I/O Link connection unit
</p>
<p>I/O MODULE A9 to AA Distributed I/O
</p>
<p>OTHER UNIT  Other than above
</p>
<p>3.8.1
I/O Link Connecting
Check Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>372
</p>
<p>When the screen is displayed like fig.3.8.1(a) The I/O devices are
composed like following fig.3.8.1(2).
</p>
<p>Group  0
</p>
<p>Group  1
</p>
<p>Group  2
</p>
<p>Group  3
</p>
<p>Group  4
</p>
<p>Connection
</p>
<p>Unit
</p>
<p>Operator&rsquo;s
Panel Connec-
tion Unit
</p>
<p>I/O
</p>
<p>Unit MODEL A
</p>
<p>Connection
</p>
<p>Unit
</p>
<p>CNC
</p>
<p>Power  Mate
</p>
<p>����3.8.1 (b) I/O Link Configuration
</p>
<p>In case of using the I/O Link&ndash;II function, set the following I/O Link&ndash;II
parameter on this screen. Depending on the kind of I/O Link&ndash;II interface
board, master/slave screen is displayed automatically.
Please refer to
FANUC I/O Link&ndash;II operating manual (B&ndash;62714EN)
about details of I/O Link&ndash;II and each parameter.
</p>
<p>(1) Set parameters.
Move the cursor to the parameter by using the cursor key.
Type the data and press the soft key[INPUT] or MDI key&lt;INPUT&gt;.
The set parameter is saved to the I/O Link&ndash;II board when the data is
input.
</p>
<p>(2) Change channel.
Change the channel by the soft key [PRV.CH],[NXT.CH]. These keys
are not displayed when the single channel is used.
</p>
<p>(3) Delete parameter.
Move the cursor to the parameter by using the cursor key.
Press the soft key[DELETE].
</p>
<p>(4) Delete all parameters.
Press the soft key[DELALL].
Press the soft key[EXEC] to delete all parameters.
Press the soft key[CANCEL] to cancel the deletion.
</p>
<p>(5) Change page.
This screen is composed of two pages when the 9 inch CRT is used.
Change the page by using (PAGE) key of MDI.
</p>
<p>3.8.2
I/O Link&ndash;II Parameter
Setting Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>373
</p>
<p>(6) Re&ndash;start I/O Link&ndash;II
Press the soft key [START] to re&ndash;start I/O Link&ndash;II after editing the
parameter.
When the re&ndash;start is completed normally, &rdquo;LINK STARTED&rdquo; is
displayed.
If the re&ndash;start fails, &rdquo;START ERROR&rdquo; is displayed. In this case, check
the parameter that is set.
</p>
<p>Example of parameter setting of master.
</p>
<p>PMC I/O LINK&ndash;II CH 1 (1/2)
</p>
<p>GENERAL:
</p>
<p>MAX SLAVE NO. = 03 (1&ndash;31)
</p>
<p>SCAN TIME = 0100 (1&ndash;9999)MSEC
</p>
<p>STATUS ADDRESS = R0500
</p>
<p>DI/DO SETTING:
</p>
<p>DI/DO MAP MODE = 1 (1,2)
</p>
<p>DI/DO DATA SIZE = 16 (0&ndash;32)
</p>
<p>DO ADDRESS = R0100
</p>
<p>DI ADDRESS = R0150
</p>
<p>[INPUT ] [DELETE ] [DELALL] [PRV.CH] [NXT.CH]
</p>
<p>PMC I/O LINK&ndash;II CH 1 (2/2)
</p>
<p>MESSAGE I/O SETTING:
</p>
<p>MESSAGE SIZE = 032 (0&ndash;128)
</p>
<p>OUTPUT ADDRESS = R0200
</p>
<p>INPUT ADDRESS = R0250
</p>
<p>STATUS:
</p>
<p>REFRESH TIME = 40 MSEC
</p>
<p>I/O LINK&ndash;II = 6546/01 (MASTER)
</p>
<p>[INPUT ] [DELETE ] [DELALL] [PRV.CH] [NXT.CH]
</p>
<p>����3.8.2 (a) Example of the I/O Link&ndash;II Screen.(Master)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>374
</p>
<p>Example of parameter setting of slave.
</p>
<p>PMC I/O LINK&ndash;II CH 1 (1/2)
</p>
<p>GENERAL:
</p>
<p>MAX SLAVE NO. = 03 (1&ndash;31)
</p>
<p>STATION NO. = 02 (1&ndash;31)
</p>
<p>STATUS ADDRESS = R0900
</p>
<p>DI/DO SETTING:
</p>
<p>DI/DO MAP MODE = 0 (0,2)
</p>
<p>DI/DO DATA SIZE = 16 (0&ndash;32)
</p>
<p>DO ADDRESS = R0000
</p>
<p>DI ADDRESS = R0032
</p>
<p>[INPUT ] [DELETE ] [DELALL] [PRV.CH] [NXT.CH]
</p>
<p>PMC I/O LINK&ndash;II CH 1 (2/2)
</p>
<p>MESSAGE I/O SETTING:
</p>
<p>MESSAGE SIZE = 032 (0&ndash;128)
</p>
<p>OUTPUT ADDRESS = R0256
</p>
<p>INPUT ADDRESS = R0296
</p>
<p>STATUS:
</p>
<p>I/O LINK&ndash;II = 6545/01 (SLAVE )
</p>
<p>[INPUT ] [DELETE ] [DELALL] [PRV.CH] [NXT.CH]
</p>
<p>����3.8.2 (b) Example of the I/O Link&ndash;II Screen.(Slave)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>375
</p>
<p>� : Usable
�: See Note.
</p>
<p>� : Not usable
</p>
<p>Power
Mate
</p>
<p>FS20/
FS21A
</p>
<p>FS18A FS16A FS16B
FS18B
</p>
<p>FS16C
FS18C
</p>
<p>FS21� FS16�
FS18�
</p>
<p>FS15B
</p>
<p>PA1
PA3
</p>
<p>RA1
RA3
</p>
<p>RA1, RA2
RA3
</p>
<p>RB, RB2, RB3
RC, RC3
</p>
<p>RB3
RC3
</p>
<p>RB4
RC4
</p>
<p>RB5
RC3
</p>
<p>RB6
RC4
</p>
<p>RA5 RB5 RB6 NB
NB2
</p>
<p>� � � � � � � � � � � �
</p>
<p>NOTE
With the FS16i/18i, the edit card or C board are required.
With the FS21i, the edit card is required.
With RA1 of the FS16i/18i/21i, only FORCING mode is
valid.
</p>
<p>This function can forcibly enter a value for the signal of an arbitrary PMC
address.  With this function, for example, an X value can be forcibly
entered to enable sequence program debugging without using a machine,
and a Y value can be forcibly entered to enable the signal wiring on the
machine to be checked efficiently without using a sequence program.
This function is added to the status display function.
</p>
<p>(1) Input mode
Two input modes are available.  The user can choose between the two
modes, depending on the application.
</p>
<p>(a) FORCING mode
This mode is applicable to all addresses.  When input/output scan
is performed by a sequence program, however, a signal modified
by the forced input/output function is overwritten, and the result
of modification made by the forced input/output function is lost.
</p>
<p>Machine
</p>
<p>Overwrite
</p>
<p>Overwrite
</p>
<p>Ladder
</p>
<p>I/O address
X, Y
</p>
<p>G, F, R, T, K, C, D. .
</p>
<p>Overwrite
</p>
<p>3.9
FORCED
INPUT/OUTPUT
FUNCTION
</p>
<p>3.9.1
Overview
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>376
</p>
<p>Example 1:
</p>
<p>In this example, the forced input/output function is applied to R0
in the ladder program below.
</p>
<p>MOVE 1 1 1 1
</p>
<p>1 1 1 1
</p>
<p>K 0
</p>
<p>R 0
</p>
<p>X0.0
</p>
<p>a. The initial signal states are as follows:
X0.0 = off, K0 = 55H, R0 = 00H
</p>
<p>b. FFH is forcibly entered to R0.
X0.0 = off, K0 = 55H, R0 = FFH
</p>
<p>c. When X0.0 is turned on, R0 assumes the result of output by
the sequence program as follows:
X0.0 = on, K0 = 55H, R0 = 55H
</p>
<p>Example 2:
</p>
<p>In this example, the forced input/output function is applied to X0
in a configuration where the I/O UNIT&ndash;MODEL A is connected
to X0 over an I/O link.
The input value from the I/O UNIT&ndash;MODEL A is transferred to
X0 at certain intervals.  So, even if the value of X0 is forcibly
modified, X0 is overwritten in the next cycle.  Thus, the value of
X0 is restored to the value input from the I/O UNIT&ndash;MODEL A.
</p>
<p>I/O UNIT&ndash;MODEL A NC
</p>
<p>X0 = FFH X0 = FFH
</p>
<p>The value of X0 is forcibly
modified to 00H.
</p>
<p>X0 = 00H
</p>
<p>In the next cycle, the value of X0 is restored to that
entered from the I/O UNIT&ndash;MODEL A.
</p>
<p>I/O UNIT&ndash;MODEL A NC
</p>
<p>X0 = FFH X0 = FFH
</p>
<p>Cyclical transfer may also be performed for addresses that are not
assigned.  So, use the forced input/output function for X in
FORCING mode to debug a sequence program when no machine
is connected or assigned.  Use the OVERRIDE mode to debug a
sequence program in the case of I/O connection.
</p>
<p>(b) OVERRIDE mode
That state in which values modified by the forced input/output
function cannot be overwritten by a sequence program or
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>377
</p>
<p>machine signal is referred to as OVERRIDE mode. In
OVERRIDE mode, OVERRIDE can be set for arbitrary X and Y
signals.
FORCING is applied to those X and Y addresses where
OVERRIDE is not set, and also to addresses other than the X and
Y addresses.
</p>
<p>Machine
</p>
<p>Overwrite disabled
</p>
<p>Ladder
</p>
<p>I/O address
X, Y
</p>
<p>G, F, R, T, K, C, D. .
</p>
<p>Overwrite
</p>
<p>(OVERRIDE)
</p>
<p>(NOT OVERRIDE)
X, Y
</p>
<p>Overwrite disabled
</p>
<p>Example:
</p>
<p>In this example, the forced input/output function is applied to X0
in a configuration where the I/O UNIT&ndash;MODEL A is connected
to X0 with an I/O link.
</p>
<p>I/O UNIT&ndash;MODEL A NC
</p>
<p>X0 = FFH X0 = FFH
</p>
<p>OVERRIDE is set for X0.
</p>
<p>A value transferred from the I/O
UNIT&ndash;MODEL A is invalidated.
</p>
<p>I/O UNIT&ndash;MODEL A NC
</p>
<p>X0 = FFH X0 = FFH
</p>
<p>_
</p>
<p>I/O UNIT&ndash;MODEL A NC
</p>
<p>X0 = FFH X0 = 00H
</p>
<p>_
</p>
<p>Value 00H is forcibly entered to X0.
</p>
<p>Thus, the forced input/output function for X addresses in
OVERRIDE mode can be used to debug a sequence program
while a machine is connected.
When a Y address is placed in the OVERRIDE state, a value that
has been forcibly modified by the forced input/output function is
output to the machine.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>378
</p>
<p>CAUTION
1 In OVERRIDE mode, input/output signals are updated at
</p>
<p>8&ndash;ms intervals in sync with the first ladder level. When an
I/O link is used which is usually updated at 2&ndash;ms intervals,
an input/output signal timing delay occurs. For this reason,
note that a sequence that depends on input/output signal
timing may perform an unpredictable operation.
</p>
<p>2 Note that, when OVERRIDE mode is set, the interval of the
second level may be extended slightly.
</p>
<p>3 Even if OVERRIDE is set for a Y address, the resultant value
of a ladder operation before being modified by the forced
input/output function is displayed as the coil on/off value in
ladder dynamic display.
A value, after being modified by the forced input/output
function, is output to the machine. So, note that the on/off
indication in ladder dynamic display does not match a value
output to the machine.
Example:
</p>
<p>In this example, the forced input/output function is used
for Y0.0 in the ladder below in a configuration where the
I/O UNIT&ndash;MODEL A is connected to Y0 with an I/O link.
Before OVERRIDE setting, the on/off indication in
dynamic display matches a value output to the I/O
UNIT&ndash;MODEL A as shown below.
</p>
<p>If 1 is entered forcibly after setting OVERRIDE for Y0.0,
the value modified by the forced input/output function is
output to the I/O UNIT&ndash;MODEL A as shown below.
</p>
<p>I/O UNIT&ndash;MODEL A NC
</p>
<p>Y0.0 = off
</p>
<p>X0.0 Y0.0
</p>
<p>(Off) (Off)
</p>
<p>(Dynamic display)
</p>
<p>I/O UNIT&ndash;MODEL A NC
</p>
<p>Y0.0 = on
</p>
<p>X0.0 Y0.0
</p>
<p>(Off) (Off)
</p>
<p>(Dynamic display)
</p>
<p>Use the procedures below to set the input/output modes.
</p>
<p>(1) Operation for enabling FORCING mode
Use the procedure below.
</p>
<p>(a) Mount an edit card or C board.
</p>
<p>(b) Turn on the power.
</p>
<p>(c) Set the PROGRAM ENABLE (bit 1 of K17 or bit 1 of K900)
setting parameter to YES.
</p>
<p>(2) Operation for enabling OVERRIDE mode
Use the procedure below.
</p>
<p>3.9.2
Setting/Operation for
Enabling Forced
Input/Output
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>379
</p>
<p>(a) Mount an edit card or C board.
</p>
<p>(b) Turn on the power.
</p>
<p>(c) Set the PROGRAM ENABLE (bit 1 of K17 or bit 1 of K900)
setting parameter to YES.
</p>
<p>(d) Set the OVERRIDE ENABLE setting parameter (OVERRIDE)
to YES.
</p>
<p>(e) Turn the power off, then back on.
</p>
<p>WARNING
Special care must be exercised when modifying a signal
with the forced input/output function. If the forced
input/output function is used incorrectly, the operation of the
machine may be unpredictable. Never use this function
when persons are near the machine.
</p>
<p>CAUTION
1 When shipping a machine, disable this function.
2 This function is disabled by extracting the edit card or setting
</p>
<p>the PROGRAM ENABLE setting parameter to NO.
3 The setting of OVERRIDE is not maintained when the
</p>
<p>power is turned off. When the power is turned on again, the
setting of OVERRIDE is cleared for all X and Y addresses.
</p>
<p>(1) Soft keys
</p>
<p>TITLE STATUS ALARM
</p>
<p>SEARCH
</p>
<p>SEARCH ON STATUS
</p>
<p>TRACE
</p>
<p>OVRSET OVRRST INIT
</p>
<p>EXEC CANCEL
</p>
<p>FORCE
</p>
<p>OFF
</p>
<p>(2) Details of the soft keys
</p>
<p>(a) [SEARCH]
Searches for an address to be displayed.
</p>
<p>(b) [ON] (Note 1)
Forcibly changes the value of a signal to 1.
</p>
<p>3.9.3
Screen Display
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>380
</p>
<p>(c) [OFF] (Note 1)
Forcibly changes the value of a signal to 0.
</p>
<p>(d) [FORCE]/[STATUS] (Note 1)
Switches between the status display screen and forced
input/output screen.
</p>
<p>(e) [OVRSET] (Note 2)
Sets OVERRIDE for a signal.
</p>
<p>(f) [OVRRST] (Note 2)
Clears an OVERRIDE setting for a signal.
</p>
<p>(g) [INIT] (Note 2)
Clears OVERRIDE for all the X and Y areas.
</p>
<p>NOTE
1 The soft key is enabled in FORCING mode.
2 The soft key is enabled in OVERRIDE mode.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>381
</p>
<p>(3) Forced input/output screens
</p>
<p>PMC SIGNAL STATUS MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000 0 0 0 0 0 0 0 0
</p>
<p>X0001 0 0 0 0 0 0 0 1
</p>
<p>X0002 0 0 0 0 0 0 1 0
</p>
<p>X0003 0 0 0 0 0 1 0 0
</p>
<p>X0004 0 0 0 0 1 0 0 0
</p>
<p>X0005 0 0 0 1 0 0 0 0
</p>
<p>X0006 0 0 1 0 0 0 0 0
</p>
<p>X0007 0 1 0 0 0 0 0 0
</p>
<p>[SEARCH] [      ] [      ] [      ] [ FORCE ]
</p>
<p>PMC SIGNAL FORCING MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000 0 0 0 0 0 0 0 0
</p>
<p>X0001 0 0 0 0 0 0 0 1
</p>
<p>X0002 0 0 0 0 0 0 1 0
</p>
<p>X0003 0 0 0 0 0 1 0 0
</p>
<p>X0004 0 0 0 0 1 0 0 0
</p>
<p>X0005 0 0 0 1 0 0 0 0
</p>
<p>X0006 0 0 1 0 0 0 0 0
</p>
<p>X0007 0 1 0 0 0 0 0 0
</p>
<p>[SEARCH] [  ON  ] [  OFF  ] [      ] [STATUS]
</p>
<p>FORCING Mode Status Screen
</p>
<p>FORCING Mode Setting Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>382
</p>
<p>PMC SIGNAL STATUS OVERRIDE MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000 0 0 0 0 0 0 0 0
</p>
<p>X0001 0 0 0 0 0 0 0   &gt;1
</p>
<p>X0002 0 0 0 0 0 0   &gt;1 0
</p>
<p>X0003 0 0 0 0 0   &gt;1 0 0
</p>
<p>X0004 0 0 0 0   &gt;1 0 0 0
</p>
<p>X0005 0 0 0   &gt;1 0 0 0 0
</p>
<p>X0006 0 0   &gt;1 0 0 0 0 0
</p>
<p>X0007 0   &gt;1 0 0 0 0 0 0
</p>
<p>[SEARCH] [      ] [      ] [      ] [ FORCE ]
</p>
<p>PMC SIGNAL FORCING OVERRIDE MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000 0 0 0 0 0 0 0 0
</p>
<p>X0001 0 0 0 0 0 0 0  0&gt;1
</p>
<p>X0002 0 0 0 0 0 0  1&gt;1 0
</p>
<p>X0003 0 0 0 0 0  1&gt;1 0 0
</p>
<p>X0004 0 0 0 0  0&gt;1 0 0 0
</p>
<p>X0005 0 0 0  0&gt;1 0 0 0 0
</p>
<p>X0006 0 0  0&gt;1 0 0 0 0 0
</p>
<p>X0007 0  1&gt;1 0 0 0 0 0 0
</p>
<p>[SEARCH] [  ON  ] [  OFF  ] [      ] [STATUS]
</p>
<p>OVERRIDE Mode Status Screen
</p>
<p>OVERRIDE Mode Setting Screen
</p>
<p>[OVRSET] [ OVRRST ] [      ] [  INIT ] [     ]
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>383
</p>
<p>The method described below applies to both FORCING and OVERRIDE
modes.
</p>
<p>(1) Modifying signal values on a bit&ndash;by&ndash;bit basis
Position the cursor to a desired input bit, then enter a desired value
by using one of the following three methods:
</p>
<p>(a) Enter 1, then press the INPUT key or the [ON] soft key.
The signal is forcibly turned on.
</p>
<p>(b) Enter 0, then press the INPUT key or the [OFF] soft key.
The signal is forcibly turned off.
</p>
<p>(c) Press the INPUT key.
The on/off state of the signal is reversed.
</p>
<p>PMC SIGNAL FORCING OVERRIDE MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000 0 0 0 0 0 0 0 0
</p>
<p>(2) Modifying signal values on a byte&ndash;by&ndash;byte basis
Move the cursor to a desired input byte, then enter a desired value by
using one of the following three methods:
</p>
<p>(a) Enter a binary number of no more than 8 digits, then press the
INPUT key. (If an entered number is shorter than 8 digits, the
number is entered starting from bit 0.)
</p>
<p>Example: When 100 is entered, the number is entered at the
following bit positions:
</p>
<p>Bit No. 7 6 5 4 3 2 1 0
0 0 0 0 0 1 0 0
</p>
<p>(b) Press the [ON] soft key.
All bits of the specified byte are set to 1.
</p>
<p>(c) Press the [OFF] soft key.
All bits of the specified byte are set to 0.
</p>
<p>PMC SIGNAL FORCING OVERRIDE MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000 0 0 0 0 0 0 0 0
</p>
<p>3.9.4
Modifying the Values of
Signals by Forced
Input/Output
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY 
(PMCDGN) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>384
</p>
<p>(1) Setting OVERRIDE
OVERRIDE can be set as described below.
By using the [OVRSET] soft key, place the desired bit/byte in the
OVERRIDE state.
</p>
<p>(a) Setting OVERRIDE on a bit&ndash;by&ndash;bit basis
Move the cursor to the desired bit, then press the [OVRSET] soft
key.
</p>
<p>PMC SIGNAL FORCING OVERRIDE MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000 0 0 0 0 0 0 0 0
</p>
<p>Then, the display changes as shown below.
</p>
<p>PMC SIGNAL FORCING OVERRIDE MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000 0 0 0 0 0 0&gt; 0 0 0
</p>
<p>(b) Setting OVERRIDE on a byte&ndash;by&ndash;byte basis
Position the cursor to the desired byte, then press the [OVRSET]
soft key.
</p>
<p>PMC SIGNAL FORCING OVERRIDE MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000 0 0 0 0 0 0 0 0
</p>
<p>Then, the display changes as shown below.
</p>
<p>PMC SIGNAL FORCING OVERRIDE MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000  0&gt;0  0&gt;0  0&gt;0  0&gt;0  0&gt;0  0&gt;0  0&gt;0  0&gt;0
</p>
<p>When OVERRIDE is set, the signal resumes the state existing
before OVERRIDE setting. When OVERRIDE is set for a pulse
signal, for example, the signal state existing when the [OVRSET]
soft key is pressed is overridden.
Each bit for which OVERRIDE is set has &rdquo;&gt;&rdquo; added in the status
display.
In OVERRIDE mode, those signal states that are not in the
OVERRIDE state are also displayed.
</p>
<p>For an X signal:
(Input signal from the machine) 0 &gt; 1 (input signal to the 
</p>
<p>ladder)
</p>
<p>For a Y signal
(Output signal from the ladder) 0 &gt; 1 (output signal to the
</p>
<p>machine)
</p>
<p>3.9.5
Setting/Clearing
OVERRIDE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. PMC I/O SIGNAL DISPLAY AND
INTERNAL RELAY DISPLAY
</p>
<p>(PMCDGN)PMC OPERATION (CRT/MDI)
</p>
<p>385
</p>
<p>(2) Clearing OVERRIDE
By using the [OVRRST] soft key, clear the OVERRIDE state of the
desired bit/byte.
This operation returns the state of a signal to the state existing before
OVERRIDE setting.
</p>
<p>(a) Clearing OVERRIDE on a bit&ndash;by&ndash;bit basis
Position the cursor to the desired bit, then press the [OVRRST]
soft key.
</p>
<p>PMC SIGNAL FORCING OVERRIDE MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000 0 0 0 0 0 1&gt; 0 0 0
</p>
<p>Then, the display changes as shown below.
</p>
<p>PMC SIGNAL FORCING OVERRIDE MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000 0 0 0 0 0 1 0 0
</p>
<p>(b) Clearing OVERRIDE on a byte&ndash;by&ndash;byte basis
Position the cursor to the desired byte, then press the [OVRRST]
soft key.
</p>
<p>PMC SIGNAL FORCING OVERRIDE MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000  1&gt;0  0&gt;1  1&gt;0  0&gt;0  1&gt;0  1&gt;1  1&gt;0  0&gt;1
</p>
<p>Then, the display changes as shown below.
</p>
<p>PMC SIGNAL FORCING OVERRIDE MONIT  RUN
</p>
<p>NO. 7 6 5 4 3 2 1 0
</p>
<p>X0000 1 0 1 0 1 1 1 0
</p>
<p>(c) Clearing OVERRIDE for all X and Y areas
Press the [INIT] soft key. Then, the message &rdquo;CLEAR
OVERRIDES OK?&rdquo; is displayed.
By using the soft key [EXEC]/[CANCEL], execute or cancel the
clearing of OVERRIDE.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC PARAMETERS SETTING AND 
DISPLAY (PMCPRM) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>386
</p>
<p>4 PMC PARAMETERS SETTING AND DISPLAY (PMCPRM)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
4. PMC PARAMETERS SETTING AND
</p>
<p>DISPLAY (PMCPRM)PMC OPERATION (CRT/MDI)
</p>
<p>387
</p>
<p>Parameters of TIMER, COUNTER, KEEP RELAY and DATA TABLE,
which are nonvolatile, are set and displayed with CRT/MDI panel.
To use this function, press the soft key [PMCPRM] of PMC basic menu
screen.
</p>
<p>NOTE
The address and contents of the nonvolatile memory are
described in 3.5 to 3.8 of  I&ndash;3. &rdquo;ADDRESS&rdquo; and
I&ndash;6.&rdquo;NONVOLATILE MEMORY&rdquo;.
</p>
<p>4.1
OUTLINE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>: Alternative
</p>
<p>: Alternative
</p>
<p>4. PMC PARAMETERS SETTING AND 
DISPLAY (PMCPRM) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>388
</p>
<p>1 Place the sequence program in the STOP state.
</p>
<p>2 When the sequence program is in the RUN state, perform the setting
below.
</p>
<p>(1) Set NC to &rdquo;MDI&rdquo; mode or &rdquo;Emergency Stop&rdquo; status.
</p>
<p>(2) Set &rdquo;PWE&rdquo; of NC setting screen or Program Protect
Signal(&rdquo;KEY4&rdquo;) to 1.  (See the following table.)
</p>
<p>PWE KEY4
</p>
<p>TIMER �
</p>
<p>COUNTER � �
</p>
<p>KEEP RELAY �
</p>
<p>DATA TABLE � �
</p>
<p>3 Press the following soft keys to select the screens.
</p>
<p>[TIMER ] :  TIMER screen
[COUNTR]:  COUNTER screen
[KEEPRL] :  KEEP RELAY screen 
[ DATA ] :  DATA TABLE screen
</p>
<p>4 By using cursor keys, move cursor to the position for setting value.
</p>
<p>5 Press the INPUT key after typing the value.
</p>
<p>6 Set &rdquo;PWE&rdquo; or &rdquo;KEY4&rdquo; to 0 after setting value.
</p>
<p>1 This function is effective on the screen of TIMER, COUNTER,
KEEP RELAY, and DATA TABLE.
</p>
<p>2 Up to 10 data can be inputted at once.
</p>
<p>3 The cursor is moved to the final data position of inputted data.
</p>
<p>(1) Input method
</p>
<p>� &ldquo; ; (EOB)&rdquo; is used for separating data.
</p>
<p>Press the INPUT key after typing &ldquo;100; 200; 300&rdquo;.
</p>
<p>� &ldquo; ; =&rdquo; is used for inputting the same value as preceding data.
</p>
<p>Press the INPUT key after typing &ldquo;100; =; =; 200; =&rdquo;, and it
becomes &ldquo;100, 100, 100, 200, 200&rdquo;.
</p>
<p>� &ldquo; ; ; &rdquo; is used for skipping an input address.
</p>
<p>Press the INPUT key after typing &ldquo;100; ; 100&rdquo;.
</p>
<p>The second data is not inputted.
</p>
<p>4.2
INPUT PMC
PARAMETERS FROM
MDI PANEL
</p>
<p>4.2.1
Multiple Data Input
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
4. PMC PARAMETERS SETTING AND
</p>
<p>DISPLAY (PMCPRM)PMC OPERATION (CRT/MDI)
</p>
<p>389
</p>
<p>The TIMER times of the functional instruction TMR(SUB 3) are set and
displayed on this screen.
</p>
<p> 01     T00     2016      11     T20     1000
 02     T02       48      12     T22        8
 03     T04      960      13     T24        0
 04     T06     1008      14     T26       32
 05     T08        0      15     T28        0
 06     T10        0      16     T30        0
 07     T12       96      17     T32     2000
 08     T14        0      18     T34        0
 09     T16        8      19     T36        8
 10     T18       16      20     T38    10000
</p>
<p>[TIMER ] [COUNTR ] [KEEPRL ] [ DATA ] [      ]
</p>
<p>The addresses refered by sequence program
</p>
<p>PMC PRM  (TIMER)   #001 MONIT RUN
</p>
<p>Page No.(Change pages with the page keys.)
</p>
<p>The TIMER No.s used by TIMER instruction
</p>
<p> NO.  ADDRESS   DATA      NO.  ADDRESS   DATA TIMER times(See the following table.)
</p>
<p>TIMER
No.s
</p>
<p>Minimum
time
</p>
<p>Maximum
time
</p>
<p>1 to 8 48 (ms) 1572.8 (s)
</p>
<p>9 to 40 or
</p>
<p>8 (ms) 262.136 (s)
9 to 150 
</p>
<p>(*1)
</p>
<p>*1 The usable numbers vary from one model to
another. For details, see Section 5.4 in Part I.
</p>
<p>4.3
SETTING AND
DISPLAY SCREEN
</p>
<p>4.3.1
Timer Screen (TIMER)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC PARAMETERS SETTING AND 
DISPLAY (PMCPRM) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>390
</p>
<p>The maximum(PRESET) values and CURRENT values of the functional
instruction CTR(SUB 5) are set and displayed on this screen.
</p>
<p>  01   C00     4     1
  02   C04     4     2
  03   C08     4     3
  04   C12     5     4
  05   C16     4     5
  06   C20   545     6
  07   C24     5     3
  08   C28     6     2
  09   C32     6     1
  10   C36     6     4
</p>
<p>[TIMER ] [COUNTR ] [KEEPRL ] [ DATA ] [      ]
</p>
<p>0-9999 in BCD(0-32767 in Binary) can be set as
the PRESET and CURRENT values.
</p>
<p>The maximum(PRESET) values of COUNTER 
(The minimum values are specified in CTR instruction.)
</p>
<p>  MONIT RUN
</p>
<p>The COUNTER No.s used by CTR instruction
</p>
<p>The addresses refered by sequence program
</p>
<p>Page No.(Change pages with the page keys.)
</p>
<p>PMC PRM  (COUNTER)  #001
</p>
<p>  NO. ADDRESS PRESET CURRENT The CURRENT values of COUNTER
</p>
<p>The KEEP RELAYs and the Data for Controlling nonvolatile memory are
set and displayed on this screen.
</p>
<p>The address used by sequence program
</p>
<p> 01    K00  00000000   11    K10 00000000
 02    K01  00000000   12    K11 00000000
 03    K02  00000000   13    K12 00000000
 04    K03  00000000   14    K13 00000000
 05    K04  00000000   15    K14 00000000
 06    K05  00000000   16    K15 00000000
 07    K06  00000000   17    K16 00000000
 08    K07  00000000   18    K17 00000110
 09    K08  00000000   19    K18 00000000
 10    K09  00000000   20    K19 00000000
</p>
<p>[TIMER ] [COUNTR ] [KEEPRL ] [ DATA ] [       ]
</p>
<p> PMC PRM  (KEEP RELAY) MONIT RUN
</p>
<p> NO. ADDRESS DATA   NO. ADDRESS DATA
</p>
<p>� : This area is reserved for special use. (Note)
</p>
<p>4.3.2
Counter Screen
(COUNTR)
</p>
<p>4.3.3
Keep Relay (KEEPRL)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
4. PMC PARAMETERS SETTING AND
</p>
<p>DISPLAY (PMCPRM)PMC OPERATION (CRT/MDI)
</p>
<p>391
</p>
<p>NOTE
1 The Data for Controlling Nonvolatile Memory(K16)
</p>
<p>Refer to I&ndash;6.1(4)&rdquo;Nonvolatile Memory Control&rdquo;.
2 The Data for PMC Management Software(K17,18,19)
</p>
<p>Be careful of using the following KEEP RELAYs, because
they are used by PMC Management Software.
</p>
<p>The Data for PMC Management Software
</p>
<p>Model PA1 PA3
PMC control software data 1 K17 K17
</p>
<p>PMC control software data 2 K18 K18
</p>
<p>Not used K19 K19
</p>
<p>Model RA1 RA2 RA3/RA5
</p>
<p>PMC control software data 1 K17 K17 K17
</p>
<p>PMC control software data 2 K18 K18 K18
</p>
<p>Not used K19 K19 K19
</p>
<p>Model RB RB2 RB3/RB5
RB4/
RB6
</p>
<p>PMC control software data 1 K17 K17 K17 K900
</p>
<p>PMC control software data 2 K18 K18 K18 K901
</p>
<p>Not used K19 K19 K19 K902
to
</p>
<p>K909
</p>
<p>Model RC RC3 RC4
PMC control software data 1 K17 K17 K900
</p>
<p>PMC control software data 2 K18 K18 K901
</p>
<p>PMC control software data 3 K19 K19 K902
</p>
<p>Not used K903
to
</p>
<p>K909
</p>
<p>Model NB NB2
PMC control software data 1 K17 K900
</p>
<p>PMC control software data 2 K18 K901
</p>
<p>PMC control software data 3 K19 K902
</p>
<p>Not used K903
to
</p>
<p>K909
</p>
<p>PMC control software data 1 (K17 or K900)
</p>
<p>DTBLDSP ANASTAT TRCSTART MEMINP SELCTMDL AUTORUN PRGRAM LADMASK
</p>
<p>K17
or
K900
</p>
<p>#7 DTBLDSP 0 : The PMC parameter data table control screen is
displayed.
</p>
<p>1 : The PMC parameter data table control screen is
not displayed.
</p>
<p>#6 ANASTAT 0 : In the function for displaying signal waveforms,
sampling starts when the [START] soft key is pressed.
</p>
<p>1 : In the function for displaying signal waveforms,
sampling starts automatically when the power is
turned on.
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC PARAMETERS SETTING AND 
DISPLAY (PMCPRM) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>392
</p>
<p>   * This bit is effective only for applicable models specified in 3.6,
&ldquo;Function for Displaying Signal Waveforms (ANALYS),&rdquo; in Part
II.
</p>
<p>#5 TRCSTAT 0 : In the signal trace function, tracing starts when
the [EXEC] soft key is pressed.
</p>
<p>1 : In the signal trace function, tracing starts
automatically when the power is turned on.
</p>
<p>#4 MEMINP 0 : Data cannot be entered in the memory content
display function.
</p>
<p>1 : Data can be entered in the memory content
display function.
</p>
<p>   * This bit is effective only for applicable models specified in 3.5,
&ldquo;Display the Contents of Memory (M.SRCH),&rdquo;  in Part II.
</p>
<p>#3 SELCTMDL 0 : The sequence program stored in ROM (EPROM)
is enabled.
</p>
<p>1 : The sequence program stored in the RAM
module or ROM module (only for
PMC-RB2/RB3) is enabled.
</p>
<p>   * This bit enables either the EPROM module or ROM/RAM
module when both modules are provided.  It is effective for the
PMC-RA1, RA2, RA3, RB, RB2, and RB3. (It is not effective for
the Series 20 or Series 16/18 MODEL-B.)
</p>
<p>#2 AUTORUN 0 : In RAM operation, a sequence program is not
executed when the power is turned on.
</p>
<p>1 : In RAM operation, a sequence program is
executed automatically when the power is turned
on (as in ROM operation).
</p>
<p>   * For the PMC of the Series 16/18 MODEL-B/C, Series
16i/18i/21i&ndash;MODEL A, this bit has the following meanings.
</p>
<p>0 : The sequence program is executed automatically
when the power is turned on.
</p>
<p>1 : The sequence program is executed when the
[RUN] soft key is pressed.
</p>
<p>#1 PRGRAM 0 : The built-in programmer function is not
operated.
(The programmer menu is not displayed, either.)
</p>
<p>1 : The built-in programmer function is operated.
(The programmer menu is displayed.)
</p>
<p>#0 LADMASK 0 : Ladder dynamic display (PCLAD) is performed.
</p>
<p>1 : Ladder dynamic display (PCLAD) is not
performed.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
4. PMC PARAMETERS SETTING AND
</p>
<p>DISPLAY (PMCPRM)PMC OPERATION (CRT/MDI)
</p>
<p>393
</p>
<p>PMC control software data 2 (K18 or K901)
</p>
<p>IGNDINT CHKPRTY CALCPRTY TRNSRAM TRGSTAT DBGSTAT IGNKEY
</p>
<p>K18
or
K901
</p>
<p>#7 IGNDINT 0 : When the screen is switched to the PCMMDI
screen, the CRT is initialized.
</p>
<p>1 : When the screen is switched to the PCMMDI
screen, the CRT is not initialized.
</p>
<p>   * The flag is used to determine whether PMC control software
initializes the CRT when the screen is switched to the PCMMDI
screen.  Design application software sot that the CRT is initialized
when this flag is on.
</p>
<p>#5 CHKPRTY 0 : The parity check is performed for the system
ROM and program ROM/RAM.
</p>
<p>1 : The parity check is not performed for the system
ROM and program ROM/RAM.
</p>
<p>#4 CALCPRTY 0 : The built-in programmer function performs
RAM parity calculation.
</p>
<p>1 : The built-in programmer function does not
performs RAM parity calculation.
</p>
<p>#3 TRNSRAM 0 : A ladder program is not automatically sent to the
backup RAM after on-line editing is completed.
</p>
<p>1 : A ladder program is automatically sent to the
backup RAM after on-line editing is completed.
</p>
<p>#2 TRGSTAT 0 : The trigger stop function does not automatically
start when the power is turned on.
</p>
<p>1 : The trigger stop function automatically starts
when the power is turned on.
</p>
<p>#1 DBGSTAT 0 : In the C language debug function, the break
processing does not automatically start when the
power is turned on.
</p>
<p>1 : In the C language debug function, the break
processing automatically starts when the power is
turned on.
</p>
<p>   * This flag is effective for the PMC-RC/RC3.
</p>
<p>#0 IGNKEY 0 : Function keys are enabled when a user program
displays the user screen.
</p>
<p>1 : Function keys are disabled when a user program
displays the user screen.
</p>
<p>   * This flag is effective for the PMC-RC/RC3/RC4/NB/NB2.  When
this bit is set to 1 of the user screen, the screen cannot be switched
to the NC screen using function keys.  A program which always
sets this bit to 0 or which changes the screen to the NC screen is
required.
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC PARAMETERS SETTING AND 
DISPLAY (PMCPRM) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>394
</p>
<p>PMC control software data 3 (K19 or K902)
</p>
<p>LCD&ndash;MONO C-REJECT FROM-WRT
</p>
<p>K19
or
K902
</p>
<p>#3 LCD&ndash;MONO 0 : Ladder&ndash;related display is brightness&ndash;adjusted
when a monochrome LCD is used with the VGA
setting.
</p>
<p>1 : Ladder&ndash;related display is not
brightness&ndash;adjusted but is displayed in reverse
video when a monochrome LCD is used with the
VGA setting.
</p>
<p>#1 C-REJECT 0 : A C-language program is activated.
</p>
<p>1 : A C-language program is forcibly not activated.
</p>
<p>   * The flag is effective for the PMC-RC/RC3/RC4.
</p>
<p>#0 FROM-WRT 0 : The program is not automatically written to
F&ndash;ROM.
</p>
<p>1 : After a lodder program on C program has been
edited, the program is automatically written to
F&ndash;ROM.
</p>
<p>CAUTION
Be sure to set bits not used in the PMC control software data
to 0.
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>K17 DTBLDSP ANASTAT TRCSTART MEMINP AUTORUN PRGRAM LADMASK
</p>
<p>#7 DTBLDSP 0 : The PMC parameter data table control screen is
displayed.
</p>
<p>1 : The PMC parameter data table control screen is
not displayed.
</p>
<p>#6 ANASTAT 0 : Sampling is started with the signal waveform
display function by using the execution soft key.
</p>
<p>1 : Sampling is started with the signal waveform
display function, automatically after the power is
turned on.
(This setting cannot be used with the Power
Mate&ndash;D/F.)
</p>
<p>#5 TRCSTAT 0 : Trace operation is started with the signal trace
function by using the trace execution soft key.
</p>
<p>1 : Trace operation is started with the signal trace
function, automatically after the power is turned
on.
</p>
<p>#4 MEMINP 0 : Data cannot be entered with the memory contents
display function.
</p>
<p>1 : Data can be entered with the memory contents
display function.
(This setting cannot be used with the Power
Mate&ndash;D/F.)
</p>
<p>In case of PMC&ndash;PA1/PA3
on Power Mate
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
4. PMC PARAMETERS SETTING AND
</p>
<p>DISPLAY (PMCPRM)PMC OPERATION (CRT/MDI)
</p>
<p>395
</p>
<p>#2 AUTORUN 0 : The sequence program is executed automatically
after the power is turned on.
(This setting cannot be used with the Power
Mate&ndash;D/F.)
</p>
<p>1 : The sequence program is executed by using the
sequence program execution soft key.
</p>
<p>#1 PRGRAM 0 : The built&ndash;in programmer function is not
operated. (The programmer menu is not
displayed either.)
</p>
<p>1 : The built&ndash;in programmer function is operated.
(The programmer menu is displayed.)
</p>
<p>#0 LADMASK 0 : Ladder dynamic display (PMCLAD) is
performed.
</p>
<p>1 : Ladder dynamic display (PMCLAD) is not
performed.
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>K18 CHKPRTY CALCPRTY TRANSRAM TRGSTAT
</p>
<p>#5 CHKPRTY 0 : System ROM and program ROM/RAM parity
checks are performed.
</p>
<p>1 : System ROM and program ROM/RAM parity
checks are not performed.
</p>
<p>#4 CALCPRTY 0 : A RAM parity calculation is performed with the
built&ndash;in programmer function.
</p>
<p>1 : A RAM parity calculation is not performed with
the built&ndash;in programmer function.
</p>
<p>#3 TRNSRAM 0 : Upon the completion of online editing, the ladder
program is not automatically transferred to RAM
for editing.
</p>
<p>1 : Upon the completion of online editing, the ladder
program is automatically transferred to RAM for
editing. (This setting cannot be used with the
Power Mate&ndash;D/F.)
</p>
<p>#2 TRGSTAT 0 : When the power is turned on, the trigger stop
function is not started automatically.
</p>
<p>1 : When the power is turned on, the trigger stop
function is started automatically.
(This setting cannot be used with the Power
Mate&ndash;D/F.)
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>K19 FROM&ndash;WRT
</p>
<p>#0 FROM&ndash;WRT 0 : After a ladder is edited, the ladder is not
automatically written to F&ndash;ROM.
</p>
<p>1 : After a ladder is edited, the ladder is
automatically written to F&ndash;ROM.
(This setting cannot be used with the Power
Mate&ndash;D/F.)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC PARAMETERS SETTING AND 
DISPLAY (PMCPRM) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>396
</p>
<p>CAUTION
The unused area of the data for the PMC management
software must always be set to 0.
</p>
<p>DATA TABLE consists of two screens, that is, Data Table Controlling
Data screen and Data Table screen.
</p>
<p>(1) Data Table Controlling Data Screen
</p>
<p>Data Table Controlling Data Screen for controlling Data Table is
displayed by pressing the soft key [DATA].
</p>
<p>The number of group of Data Table 
</p>
<p>The data numbers of each Data TableNO. ADDRESS PARAMETER TYPE NO. OF DATA
001  D0000  00000000   0  20
002  D0020  00000010   0  81
003  D0101  00000001   1 100
004  D0301  00000000   2  50
005  D0501  00000011   0   5
006  D0506  00000000   0  10
007  D0506  00000000   1  10
008  D0506  00000000   2  10
</p>
<p>PMC DATA TBL CONTROL #001           MONIT RUN
</p>
<p>    GROUP TABLE COUNT = 1
</p>
<p>NO. ADDRESS PARAMETER TYPE NO. OF DATA
001  D0000  00000000   0 1860
</p>
<p>002  * 3000:PMC-RB3/RB5
/RC/RC3/NB
</p>
<p> * 8000:PMC-RB4/RB6/NB2
</p>
<p>Group No.s
</p>
<p>The top address of Data Table
</p>
<p>Table Parameters(Note)
</p>
<p>Page No. (Change pages with the page keys)
</p>
<p>Data length
 (0:1byte, 1:2bytes, 2:4bytes)
</p>
<p>PMC DATA TBL CONTROL #001          MONIT RUN
</p>
<p>GROUP TABLE COUNT = 16
</p>
<p>[G.DATA] [G.CONT] [NO.SRH] [      ] [ INIT ]
</p>
<p>Press this key after typing the group No., and the cursor is moved to the group.
</p>
<p>Press this key after typing the number of group, and the Group Table Count is set.
</p>
<p>You can change the screen to Data Table.
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>* You can set the same address in other groups.
</p>
<p>You can initialize the Data Table setting data. The
initial data is as follows.
</p>
<p>4.3.4
Data Table (DATA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
4. PMC PARAMETERS SETTING AND
</p>
<p>DISPLAY (PMCPRM)PMC OPERATION (CRT/MDI)
</p>
<p>397
</p>
<p>NOTE
Table Parameter 
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>0  :  Binary
1  :  BCD
</p>
<p>0  :  Available to input
1  :  Unavailable to input (Protection mode)
</p>
<p>0  :  Binary of BCD (The bit 0 is valid
1  :  Hexadecimal (The bit 0 is invalid.)
</p>
<p>(2) Data Table Screen
</p>
<p>If the Data Table Controlling Data is set, Data Table Screen is
displayed by pressing the soft key [G.DATA].
</p>
<p>The address used by sequence program
001  D0000 10
002  D0001 48
003  D0002  5
004  D0003 64
005  D0004  0
006  D0005  0
007  D0006 48
008  D0007 10
009  D0008  1
010  D0009  1
</p>
<p>[C.DATA] [G-SRCH] [SEARCH] [      ] [      ]
</p>
<p>PMC PRM (DATA)   001/001           MONIT RUN
</p>
<p>Group No.s
</p>
<p>Page No. 
(Change pages with the page keys)
</p>
<p>NO. ADDRESS DATA
</p>
<p>Press this key after typing the address (ex.D8;D can be omitted), and the cursor
is moved to the address in the current group.
</p>
<p>If you search the Data Table in the other group, press this key after typing the
group No., and the cursor is moved to the top of the address in the specified
group.
</p>
<p>You can change the screen to Data Table Controlling Data.
ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC PARAMETERS SETTING AND 
DISPLAY (PMCPRM) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>398
</p>
<p>Part of KEEP RELAY parameters can be set on SETTING Screen.
</p>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � ∆ � � � ∆ � � � � � ∆ ∆ � � �
</p>
<p>NOTE
∆: Can be used for the specific series of CNC.
</p>
<p>(Series 16 : B005/11 to, B105/08 to, B305/04 to, B009/03
to, All serieses of model C)
(Series 18 : BD03/12 to, BE03/09 to, BG23/03 to, BG03/06
to, BD09/02 to, BE09/14 to, All serieses of model C)
</p>
<p>PMC&ndash;PA3 can be used only with Power Mate&ndash;H.
</p>
<p>� The display items are different according to the type of CNC.
</p>
<p>� The parameter is set by a soft key or the &lt;INPUT&gt; key with 0 or 1.
</p>
<p>� Once an item has been set, the cursor moves to the next item.
</p>
<p>[PMC-RA1/RA3/RB/RB3/RB4 on SETTING screen]
</p>
<p>PMC PRM (SETTING)                   MONIT RUN
</p>
<p>PROGRAMMER ENABLE    = 0(0:NO 1:YES)
</p>
<p>LADDER START (RAM)   = 0(0:MANUAL 1:AUTO)
</p>
<p>SELECT ROM/RAM       = 0(0:ROM 1:RAM)
</p>
<p>SIGNAL TRACE START   = 0(0:MANUAL 1:AUTO)
</p>
<p>DATA TBL CNTL SCREEN = 0(0:YES 1:NO)
</p>
<p>SIGNAL TRIGGER START = 0(0:MANUAL 1:AUTO)
</p>
<p>TRANS LADDER(ONLEDT) = 0(0:MANUAL 1: AUTO)
</p>
<p>[ NO   ] [ YES  ] [      ] [      ] [      ]
</p>
<p> (K17. 1)
</p>
<p> (K17. 2)
</p>
<p> (K17. 3)
</p>
<p> (K17. 5)
</p>
<p> (K17. 7)
</p>
<p> (K18. 2)
</p>
<p> (K18. 3)
</p>
<p>*  The bracketed addresses show the related KEEP RELAYs.
</p>
<p>4.4
SETTING SCREEN
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
4. PMC PARAMETERS SETTING AND
</p>
<p>DISPLAY (PMCPRM)PMC OPERATION (CRT/MDI)
</p>
<p>399
</p>
<p>[PMC&ndash;PA3 on SETTING screen]
</p>
<p>PMC PRM (SETTING)                    MONIT RUN
</p>
<p>PROGRAMMER ENABLE   = 0(0:NO 1:YES)
</p>
<p>LADDER START        = 0(0:AUTO 1:MANUAL)
</p>
<p>RAM WRITE ENABLE = 0(0:NO 1:YES)
</p>
<p>SIGNAL TRACE START = 0(0:MANUAL 1:AUTO)
</p>
<p>DATA TBL CNTL SCREEN = 0(0:YES 1:NO)
</p>
<p>SIGNAL TRIGGER START = 0(0:MANUAL 1:AUTO)
</p>
<p>[ NO   ] [ YES  ] [      ] [      ] [      ]
</p>
<p> (K17. 1)
</p>
<p> (K17. 2)
</p>
<p>(K17. 4)
</p>
<p>(K17. 5)
</p>
<p>(K17. 7)
</p>
<p>(K18. 2)
</p>
<p>*   The bracketed address show the related KEEP RELAYs
</p>
<p>[PMC-RC/RC3/RC4 on SETTING screen]
</p>
<p>PMC PRM (SETTING)                   MONIT RUN
</p>
<p>PROGRAMMER ENABLE    = 0(0:NO 1:YES)
LADDER START (RAM)   = 0(0:MANUAL 1:AUTO)
RAM WRITE ENABLE     = 0(0:NO 1:YES)
SIGNAL TRACE START   = 0(0:MANUAL 1:AUTO)
SIGNAL ANALYS START  = 0(0:MANUAL 1:AUTO)
DATA TBL CNTL SCREEN = 0(0:YES 1:NO)
FUNC KEY INP(CUSTOM) = 0(0:AVAL 1:IGNORE)
DEBUG FUNC START     = 0(0:MANUAL 1:AUTO)
SIGNAL TRIGGER START = 0(0:MANUAL 1:AUTO)
TRANS LADDER (ONLEDT)= 0(0:MANUAL 1:AUTO)
INITPMC-MDI SCREEN   = 0(0:YES 1:NO)
</p>
<p>[ NO   ] [ YES  ] [      ] [      ] [      ]
</p>
<p> (K17. 1)
 (K17. 2)
 (K17. 4)
 (K17. 5)
 (K17. 6)
 (K17. 7)
 (K18. 0)
 (K18. 1)
 (K18. 2)
 (K18. 3)
 (K18. 7)
</p>
<p>*  The bracketed addresses show the related KEEP RELAYs.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC PARAMETERS SETTING AND 
DISPLAY (PMCPRM) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>400
</p>
<p>[PMC&ndash;NB/NB2 on SETTING screen]
</p>
<p>PMC PRM (SETTING)                            MONIT RUN
</p>
<p>PROGRAMMER ENABLE = 0 (0:NO 1:YES)
AUTOMATIC LADDER START = 0 (0:MANUAL 1:AUTO)
RAM WRITE ENABLE IN [M.SRC] = 0 (0:NO 1:YES)
SIGNAL TRACE START = 0 (0:MANUAL 1:AUTO)
SIGNAL ANALYSIS START = 0 (0:MANUAL 1:AUTO)
DATA TABLE CONTROL SCREEN = 0 (0:YES 1:NO)
NC/PC KEY EFFECTIVE = 0 (0:AVAL 1:IGNORE)
DEBUG FUNCTION START = 0 (0:MANUAL 1:AUTO)
SIGNAL TRIGGER START = 0 (0:MANUAL 1:AUTO)
TRANSFER LADDER (ONLINE&ndash;EDIT) = 0 (0:MANUAL 1:AUTO)
INITIALIZE PMC&ndash;MDI SCREEN = 0 (0:YES 1:NO)
WRITE TO F&ndash;ROM (EDIT) = 0 (0:NO 1:YES)
REJECT LANGUAGE = 0 (0:NO 1:YES)
SIGNAL ANALYSIS DISPLAY MODE = 0 (0:GRAPHIC 1:TEXT)
SPECIFY NC WINDOW FORMAT = 0 (0:AUTO 1:MANUAL)
NC WINDOW FORMAT (TOOL DATA) = 0 (0:EXPAND 1:STANDARD)
</p>
<p>[ NO   ] [ YES  ] [       ] [       ] [       ]
</p>
<p>      NB       NB2
 (K17. 1, K900.1)
 (K17. 2, K900.2)
 (K17. 4, K900.4)
 (K17. 5, K900.5)
 (K17. 6, K900.6)
 (K17. 7, K900.7)
 (K18. 0, K901.0)
 (K18. 1, K901.1)
 (K18. 2, K901.2)
 (K18. 3, K901.3)
 (K18. 7, K901.7)
 (K19. 0, K902.0)
 (K19. 1, K902.1)
</p>
<p>* The bracketed addresses show the related KEEP RELAYs.
</p>
<p>SIGNAL TRIGGER ENABLE
</p>
<p>Displayed in case of PMC&ndash;NB(4047).
</p>
<p>Stop function of ladder diagram display by trigger of signal is set.
</p>
<p>The trigger stop function can be used by selecting &rdquo;YES&rdquo; ,and turning
off and on the power.
</p>
<p>WRITE TO F&ndash;ROM (EDIT)
</p>
<p>Setting to write the LADDER data in F&ndash;ROM, when the edit of
LADDER ends.
</p>
<p>When you select &rdquo;YES&rdquo; and then get out of the EDIT screen, a
message confirming if you write to F&ndash;ROM is displayed.
</p>
<p>REJECT LANGUAGE
</p>
<p>It is setting of the start of the program of C language.
</p>
<p>When &rdquo;YES&rdquo; is selected, the program of C language is not started.
</p>
<p>SIGNAL ANALYSIS DISPLAY MODE
</p>
<p>The display form in the signal waveform display function is set.
</p>
<p>The display form can be selected.
</p>
<p>Select &rdquo;TEXT&rdquo; and it is displayed by the character.
</p>
<p>Select &rdquo;GRAPHIC&rdquo; and it is displayed by the line.
</p>
<p>SPECIFY NC WINDOW FORMAT
</p>
<p>The form in functional instruction WINDR and WINDW are set.
</p>
<p>When &rdquo;AUTO&rdquo; is selected, the format is automatically distinguished
by the state of bit 4 of NC parameter 7401.
</p>
<p>When &rdquo;MANUAL&rdquo; is selected, the format is selected by &rdquo;NC
WINDOW FORMAT (TOOL DATA)&rdquo;.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
4. PMC PARAMETERS SETTING AND
</p>
<p>DISPLAY (PMCPRM)PMC OPERATION (CRT/MDI)
</p>
<p>401
</p>
<p>NC WINDOW FORMAT (TOOL DATA)
</p>
<p>The format in functional instruction WINDR and WINDW are set.
</p>
<p>When &rdquo;MANUAL&rdquo; is selected by &rdquo;SPECIFY NC WINDOW
FORMAT&rdquo;, this item is effective.
</p>
<p>The window instruction of a new format can be used by selecting
&rdquo;EXPAND&rdquo;.
</p>
<p>(The same meaning as bit 4 of NC parameter 7401 is 1.)
</p>
<p>An old window instruction can be used by selecting &rdquo;STANDARD&rdquo;
</p>
<p>(The same meaning as bit 4 of NC parameter 7401 is 0.)
</p>
<p>Enable or disable the following function and mode:
</p>
<p>� Language&ndash;by&ndash;language message function
</p>
<p>� OVERRIDE mode of the forced input/output function
</p>
<p>(1) Setting screen display
Each setting screen can be displayed by pressing the [NEXT] or
[PREV] soft key on the setting parameter screen.
</p>
<p>[ YES ] [ NO ] [ ] [ PREV ] [ NEXT ]
</p>
<p>[ INPUT ] [ ] [ ] [ PREV ] [ NEXT ]
</p>
<p>Setting parameter
</p>
<p>[ YES ] [ NO ] [ ] [ PREV ] [ NEXT ]
</p>
<p>Setting parameter 
(language&ndash;by&ndash;language
message function)
</p>
<p>Setting parameter (OVERRIDE mode
of the forced input/output function)
</p>
<p>Each setting parameter can be set when the respective conditions are
satisfied.
</p>
<p>(a) Language&ndash;by&ndash;language message function
</p>
<p>� The PROGRAM ENABLE setting parameter is set to YES 
(bit 1 of K17 or bit 1 of K900 is set to 1).
</p>
<p>� The PMC model is RB6.
</p>
<p>(b) OVERRIDE mode of the forced input/output function
</p>
<p>� The PROGRAM ENABLE setting parameter is set to YES 
(bit 1 of K17 or bit 1 of K900 is set to 1)
</p>
<p>4.4.1
Other Setting Screens
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC PARAMETERS SETTING AND 
DISPLAY (PMCPRM) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>402
</p>
<p>� The PMC model is RA5, RB5, or RB6.
</p>
<p>� The editing function is provided.
</p>
<p>(2) Setting operations
</p>
<p>(a) Setting the language&ndash;by&ndash;language message function
Position the cursor to the each setting item with the arrow keys,
enter the desired data, then press the [INPUT] soft key.
</p>
<p>PMC PRM (MESSAGE SHIFT)   MONIT RUN
</p>
<p>MESSAGE SHIFT VALUE         =       0
MESSAGE SHIFT START ADDRESS = A0000.0
</p>
<p>[INPUT] [    ] [ ] [ PREV ] [ NEXT ]
</p>
<p>(i) Parameters
� MESSAGE SHIFT VALUE
</p>
<p>Enter a desired message display request bit shift amount.
A value from 0 to 999 can be entered. The initially displayed
value is 0.
Entered data is maintained even after the power is turned off.
</p>
<p>� MESSAGE SHIFT START ADDRESS
Enter a shift start bit address in the message display request
bit area.
An address A value can be entered. The initially displayed
value is A0.0.
Entered data is maintained even after the power is turned off.
</p>
<p>CAUTION
Data entered for MESSAGE SHIFT START ADDRESS is
valid only when a value other than 0 is entered for
MESSAGE SHIFT VALUE.
</p>
<p>(b) OVERRIDE mode of the forced input/output function
</p>
<p>� Set OVERRIDE mode by using the soft key or by entering
0 or 1 followed by the &lt;INPUT&gt; key.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
4. PMC PARAMETERS SETTING AND
</p>
<p>DISPLAY (PMCPRM)PMC OPERATION (CRT/MDI)
</p>
<p>403
</p>
<p>PMC PRM (OVERRIDE)        MONIT RUN
</p>
<p>OVERRIDE ENABLE        = 0   (0:NO  1:YES)
</p>
<p>[  NO  ] [  YES ] [ ] [ PREV ] [ NEXT ]
</p>
<p>OVERRIDE ENABLE 0 : OVERRIDE mode is disabled.
</p>
<p>1 : OVERRIDE mode is enabled.
</p>
<p>CAUTION
If the setting of this parameter is modified, the new setting
becomes effective when the power is next turned on. After
this parameter has been modified, the power must be
turned off then back on.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. PMC PARAMETERS SETTING AND 
DISPLAY (PMCPRM) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>404
</p>
<p>If you make a keyboard without cursor keys, you must move cursor by
searching the address or so. In case of TIMER,COUNTER and KEEP
RELAY, press the soft key [TIMER],[COUNTR] or [KEEPRL] after
typing the address(Ex.1,2). 
In case of Data Table Controlling Data, press the soft key [DATA](or
[NO.SRH] if Data Table screen has already been displayed) after typing
the group No.(Ex.3). In case of the Data Table, press the soft key
[SEARCH] after typing the address in the Data Table screen which
contains the address you want to search(Ex.4).
</p>
<p>Ex.1) In case of setting the TIMER NO.11(ADDRESS T20)
</p>
<p>1 Press the soft key [TIMER] after typing T20(or T21;T can be
omitted.).
</p>
<p>2 Press the INPUT key after typing the value.
</p>
<p>Ex.2) In case of setting PRESET and CURRENT values of the
COUNTER NO.02(ADDRESS C04)
</p>
<p>1 PRESET � Press the soft key [COUNTER] after typing C4 (or 
C5;C can be omitted).
</p>
<p>CURRENT � Press the soft key [COUNTER] after typing 
C6 (or C7;C can be omitted).
</p>
<p>2 Press the INPUT key after typing the value.
</p>
<p>CAUTION
It is not the number(NO.) but the address(ADDRESS) that
you type in searching.
</p>
<p>Ex.3) In case of the ADDRESS,PARAMETER,TYPE and NO. OF
DATA of the Data Table Controlling Data NO.002.
</p>
<p>1 Press the soft key [NO.SRH] after typing 2, and the cursor is
moved to the ADDRESS position.
</p>
<p>2 Press the INPUT key after typing the ADDRESS(ex.D20;D must
not be omitted), and the cursor is automatically moved to the next
position(PARAMETER). The cursor is moved only by pressing
the INPUT  key.
</p>
<p>3 In the same way, set the PARAMETER,TYPE and NO. OF
DATA. If you finish setting the NO. OF DATA, the cursor is
moved to the position(ADDRESS) in the same line.
</p>
<p>Ex.4) In case of setting D22 in the Data Table of the group 2
</p>
<p>1 Press the soft key [G.DATA] on the Data Table Controlling Data
screen, and the Data Table screen is displayed.
</p>
<p>2 Press the soft key [G-SRCH] after typing 2 on the Data Table
screen, and the Data Table of the group 2 is displayed.
</p>
<p>3 Press the soft key [SEARCH] after typing D22(D can be omitted).
</p>
<p>4 Press the INPUT key after typing the value.
</p>
<p>4.5
NOTE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. PMC LADDER DIAGRAM DISPLAY
</p>
<p> (PMCLAD)PMC OPERATION (CRT/MDI)
</p>
<p>405
</p>
<p>5 PMC LADDER DIAGRAM DISPLAY (PMCLAD)
Displaying the PMC ladder diagram on CRT/MDI panel is available.
This ladder diagram display function offers functions effectively used for
locating troubles in addition to the simple ladder diagram display.
</p>
<p>The following functions are done using the soft keys.
</p>
<p>(1) Search  and  display  of  optional  relay  coil  on  ladder  diagrams.
</p>
<p>(2) Ladder diagram dynamic display.
</p>
<p>(3) Stop of ladder diagram display by trigger of signal (on or off).
</p>
<p>(4) Screen-dividing display.
</p>
<p>(5) Monitor display of signal condition.
</p>
<p>(6) Monitor display of parameter in functional instructions.
</p>
<p>(7) ON LINE edit.
</p>
<p>For this operation, depress [PMCLAD] soft key of PMC basic menu to
bring the following menu.
</p>
<p>PMCLAD PMCDGN PMCPRM
</p>
<p>TOP BOTTOM SRCH W-SRCH
</p>
<p>NEXT
</p>
<p>F-SRCH
</p>
<p>RET
</p>
<p>PMCLAD PMCDGN PMCPRM
</p>
<p>WINDOW
</p>
<p>NEXT
</p>
<p> DPARA
(NDPARA)
</p>
<p>RET
</p>
<p>A&ndash;TYPE
</p>
<p>B&ndash;TYPE
</p>
<p>N-SRCH
</p>
<p>ADRESS
(SYMBOL)
</p>
<p>Sec. 5.5 Sec. 5.5 Sec. 5.5 Sec. 5.5 Sec.5.5
</p>
<p>Sec. 5.5 Sec. 5.4
</p>
<p>ADRESS
(SYMBOL)
</p>
<p>SEARCH TRIGER
</p>
<p>DUMP ONLEDT
</p>
<p>Sec. 5.5 Sec. 5.4 Sec. 5.6 Sec. 5.7
</p>
<p>Sec. 5.2 Sec. 5.3 Sec. 5.8
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. PMC LADDER DIAGRAM DISPLAY
(PMCLAD) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>406
</p>
<p>The following functions can be done the ladder diagram display screen.
</p>
<p>(a) Specified relay coil of ladder diagrams can be searched and
displayed.
</p>
<p>(b) Ladder diagram dynamic display.
</p>
<p>The logical on-off states during a sequence program execution are
displayed on a ladder diagram by changing the brightness in case
of a monochrome CRT or by changing colors in case of a color
CRT.
</p>
<p>(1) Ladder diagram display
</p>
<p>Press [PMCLAD] soft key, then the ladder diagram will be displayed.
Eight relay contacts and relay coils in total are displayed in the
horizontal direction of the CRT screen.
</p>
<p>If the number of relay contacts exceed the above value, they are
displayed in 2 or more lines.
</p>
<p>LADDER                               MONIT RUN
</p>
<p>   MA  SPDALM X2.4
</p>
<p> [SEARCH] [ADRESS ] [TRIGER] [WINDOW] [      ]
</p>
<p> [ DUMP ] [ DPARA ] [      ] [ONLEDT] [      ]
</p>
<p>MACHINE
READY
</p>
<p>MACHINE
ALARM
</p>
<p>Signal name
</p>
<p>(Within 6 characters)
Address or
symbol name
</p>
<p>Comments
(within 30
characters)
</p>
<p>9 lines
</p>
<p>����5.1 Ladder diagram display
</p>
<p>5.1
LADDER DIAGRAM
DISPLAY
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. PMC LADDER DIAGRAM DISPLAY
</p>
<p> (PMCLAD)PMC OPERATION (CRT/MDI)
</p>
<p>407
</p>
<p>Ladder diagram and signal status dump can be displayed together.
</p>
<p>The dump is displayed over 2 lines at the last line of ladder diagram by
pressing the [DUMP] soft key.
</p>
<p>PAGE�� keys or [SEARCH] soft key is used for changing of PMC
address.
</p>
<p>LADDER  *TITLE DATA REMARKS 32 BYTES  *  NET 00001-00004     MONIT RUN
</p>
<p>ADDRESS DUMP
G0000 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 .......
G0016 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 .......
</p>
<p>[  BYTE  ] [  WORD  ] [ D.WORD  ] [        ] [        ]
</p>
<p> X1000.0
</p>
<p> X1000.1
</p>
<p> X1000.3
</p>
<p> X1001.0
</p>
<p> X1000.2
</p>
<p> ACT
</p>
<p> X1001.1
</p>
<p> X1001.3
</p>
<p> X1001.2  X1001.1
</p>
<p> X1001.0
</p>
<p> X1000.0
</p>
<p> X1000.1
</p>
<p>SUB 3   0002
TMR
</p>
<p>The [DUMP] soft key has the following functions.
</p>
<p>(1) [BYTE] : Byte type display (1 BYTE)
</p>
<p>&ldquo;G0000 00 14 00 00 01 00 00 00 00 00 00 00 00 00 00 00&rdquo;
</p>
<p>&ldquo;G0016 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00&rdquo;
</p>
<p>(2) [WORD] : Word type display (2 BYTE)
</p>
<p>&ldquo;G0000 1400 0000 0001 0000 0000 0000 0000 0000&rdquo;
</p>
<p>&ldquo;G0016 0000 0000 0000 0000 0000 0000 0000 0000&rdquo;
</p>
<p>(3) [D.WORD] : Long word type display (4 BYTE)
</p>
<p>&ldquo;G0000 00001400 00000001 00000000 00000000&rdquo;
</p>
<p>&ldquo;G0016 00000000 00000000 00000000 00000000&rdquo;
</p>
<p>5.2
DUMP DISPLAY ON
LADDER DIAGRAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. PMC LADDER DIAGRAM DISPLAY
(PMCLAD) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>408
</p>
<p>The value of parameter of a functional instruction is displayed in the
functional instruction of a ladder diagram.
</p>
<p>LADDER  *TITLE DATA REMARKS 32 BYTES   *  NET 00001-00004     MONIT RUN
</p>
<p>[  DUMP  ] [ DPARA  ] [        ] [ ONLEDT  ] [        ]
</p>
<p> X1000.0
</p>
<p> X1000.0
</p>
<p> ABSDE
</p>
<p> RST
</p>
<p> X1000.0
</p>
<p> X1000.3
</p>
<p> (NDPARA)
</p>
<p> ACT
SUB36   2
ADDB
</p>
<p>    D0000
   [    0] &larr;(Content of D0)
</p>
<p>1
</p>
<p>    D0000
   [    0]
</p>
<p>The function of the soft key is as follows :
</p>
<p>(1) [DPARA] : The value of parameter is displayed in functional 
instruction.
</p>
<p>(2) [NDPARA] : The value of parameter is not displayed in functional
instruction.
</p>
<p>No. Functionalinstr ction
Data
no s
</p>
<p>Data length of instruction
parameter (1: byte, 2: word, 4: d. word) Displaying
</p>
<p>forminstr uction no. s
1 2 3 4 5 6
</p>
<p>form
</p>
<p>1 END1 0
2 END2 0
3 TMR* 2 4 4 Binary
4 DEC 1 1 BCD
5 CTR** 2 2 2 Binary
6 ROT 3 2 2 2 BCD
7 COD 2 1 2 BCD
8 MOVE 2 1 1 HEX
9 COM 0
10 JMP 0
11 PARI 1 1
12
13
14 DCNV 2 2 2 (Note 1)
15 COMP 2 2 2 BCD
16 COIN 2 2 2 BCD
17 DSCH 3 2 2 2 BCD
18 XMOV 3 2 2 2 BCD
19 ADD 3 2 2 2 BCD
20 SUB 3 2 2 2 BCD
</p>
<p>5.3
PARAMETER
DISPLAY ON
LADDER DIAGRAM
</p>
<p>5.3.1
The Value of
Functional Instruction
Parameter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. PMC LADDER DIAGRAM DISPLAY
</p>
<p> (PMCLAD)PMC OPERATION (CRT/MDI)
</p>
<p>409
</p>
<p>No. Displayingform
</p>
<p>Data length of instruction
parameter (1: byte, 2: word, 4: d. word)Data
</p>
<p>no. s
Functional
instructionNo.
</p>
<p>Displaying
form
</p>
<p>654321
</p>
<p>Data
no. s
</p>
<p>Functional
instruction
</p>
<p>21 MUL 3 2 2 2 BCD
</p>
<p>22 DIV 3 2 2 2 BCD
23 NUME 1 2 BCD
24 TMRB* 1 4 Binary
25 DECB 2 1/2/4 1
26 ROTB 4 1/2/4 1/2/4 1/2/4 1/2/4 Binary
27 CODB 2 1 1/2/4
28 MOVOR 3 1 1 1 HEX
29 COME 0
30 JMPE 0
31 DCNVB 2 1/2/4 1/2/4 (Note1)
32 COMPB 2 1/2/4 1/2/4 Binary
33 SFT 1 HEX
34 DSCHB 4 1/2/4 1/2/4 1/2/4 1/2/4 Binary
35 XMOVB 4 1/2/4 1/2/4 1/2/4 1/2/4 Binary
36 ADDB 3 1/2/4 1/2/4 1/2/4 Binary
37 SUBB 3 1/2/4 1/2/4 1/2/4 Binary
38 MULB 3 1/2/4 1/2/4 1/2/4 Binary
39 DIVB 3 1/2/4 1/2/4 1/2/4 Binary
40 NUMEB 1 1/2/4 Binary
41 DISPB 0
42 EXIN 1 4 HEX
43 MOVB 2 1 1 Binary
44 MOVW 2 2 2 Binary
45 MOVN 2 4 4 Binary
46
47
48 END3 0
49 DISP 1 4 HEX
50 PSGNL 2 1 1 HEX
51 WINDR 1 2 Binary
52 WINDW 1 2 Binary
53 AXCTL 1 4 HEX
54 TMRC* 2 4 4 Binary
55 CTRC** 2 2 2 Binary
56
57 DIFU 0
58 DIFD 0
59 EOR 3 1/2/4 1/2/4 1/2/4 HEX
60 AND 3 1/2/4 1/2/4 1/2/4 HEX
61 OR 3 1/2/4 1/2/4 1/2/4 HEX
62 NOT 2 1/2/4 1/2/4 HEX
63 PSGN2 1 1 HEX
64 END 0
65 CALL 0
66 CALLU 0
67
68 JMPB 0
69 LBL 0
70
71 SP 0
72 SPE 0
73 JMPC 0
74
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>87
88 MMC3R 4 2 2 2 2 Unsign
89 MMC3W 4 2 2 2 2 Unsign
90 FNC90 1 2 Binary
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. PMC LADDER DIAGRAM DISPLAY
(PMCLAD) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>410
</p>
<p>No. Displayingform
</p>
<p>Data length of instruction
parameter (1: byte, 2: word, 4: d. word)Data
</p>
<p>no. s
Functional
instructionNo.
</p>
<p>Displaying
form
</p>
<p>654321
</p>
<p>Data
no. s
</p>
<p>Functional
instruction
</p>
<p>91 FNC91 1 2 Binary
</p>
<p>92 FNC92 1 2 Binary
93 FNC93 1 2 Binary
94 FNC94 1 2 Binary
95 FNC95 1 2 Binary
96 FNC96 1 2 Binary
97 FNC97 1 2 Binary
98 MMCWR 2 2 2 Unsign
99 MMCWW 2 2 2 Unsign
</p>
<p>NOTE
The data length of BCD is displayed for 1 is 2-figures, 2 is
4-figures.
</p>
<p>1 The value of parameter is not displayed in this instruction.
* The timer is displayed the content of timer number (3: TMR,
</p>
<p>24: TMRB, 54: TMRC).
** The counter is displayed the content of counter number (5:
</p>
<p>CTR, 55: CTRC).
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. PMC LADDER DIAGRAM DISPLAY
</p>
<p> (PMCLAD)PMC OPERATION (CRT/MDI)
</p>
<p>411
</p>
<p>If symbol data and comments are defined to the PMC address, a  comment
is displayed for symbol display and relay coil.
</p>
<p>By pressing soft key [ADRESS], the symbol displayed relay is
address-displayed.
By pressing soft key [SYMBOL], the symbol displayed relay is
symbol-displayed.
(See III. PMC programer, 5. 4 Symbol data setting)
</p>
<p>LADDER                                                        MONIT RUN
</p>
<p>[ SEARCH ] [ ADRESS ] [ TRIGER ] [ WINDOW  ] [        ]
</p>
<p>   MA         SPDALM X2.4 MACHINE
READY
</p>
<p> (SYMBOL)
</p>
<p>MACHINE
ALARM
</p>
<p>Signal name
Address or
symbol name
mments
</p>
<p>Comments
</p>
<p>(1) [ADRESS] : is used to display the address name.
</p>
<p>(2) [SYMBOL] : is used to display the symbol name.
</p>
<p>5.4
SYMBOL AND
COMMENT DISPLAY
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. PMC LADDER DIAGRAM DISPLAY
(PMCLAD) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>412
</p>
<p>Specified relay coil points of ladder diagrams can be displayed on the
screen.
</p>
<p>For this operation, press [SEARCH] soft key to bring the following menu.
</p>
<p>SEARCH ADRESS TRIGER WINDOW
</p>
<p>TOP BOTTOM SRCH W- SRCH
</p>
<p>NEXT
</p>
<p>F- SRCH
</p>
<p>RET
</p>
<p>N- SRCH
</p>
<p>The function of the soft key is as follows :
</p>
<p>(1) [TOP] : Displays the first NET of the ladder from the 
beginning of the screen.
</p>
<p>(2) [BOTTOM] : Displays the last NET of the ladder from the 
beginning of the screen.
</p>
<p>(3) [SRCH] : When the address and bit number or symbol name to
be searched are typed in and the [SRCH] key is 
pressed, the specified address or symbol is searched
from the top of the current screen.  If the specified 
relay cannot be found until the last NET of the ladder,
the relay are searched again from the first ladder until
the NET where they started being searched.
</p>
<p>(4) [W-SRCH] : This is used for searching a relay coil.  Press 
[W-SRCH] soft key after keying in an address and bit
number or symbol name.  If the same address and bit
number or the same symbol name is detected, the 
screen containing it will be displayed.
</p>
<p>(5) [N-SRCH] : Displays the ladder with the specified NET number
from the beginning of the screen.  Moreover, when
pressing the [N-SRCH] key without keying the NET
number, the display is scrolled down by one NET.
</p>
<p>(6) [F-SRCH] : When the functional instruction name or functional
instruction number is typed in and the [F-SRCH] key
is pressed, the functional instruction is searched.
</p>
<p>5.5
SEARCH OF
SPECIFIED RELAY
COIL POINTS IN
LADDER DIAGRAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. PMC LADDER DIAGRAM DISPLAY
</p>
<p> (PMCLAD)PMC OPERATION (CRT/MDI)
</p>
<p>413
</p>
<p>�  :  Can be used
�  :  Cannot  be  us
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � � � ∆ ∆ � � �
</p>
<p>NOTE
∆: Can be used for the specific series of CNC
</p>
<p>(Series 16 : B005/11 to, B105/08 to, B305/04 to, B009/03
to, All serieses of model C)
(Series 18 : BD03/12 to, BE03/09 to, BG23/03 to, BG03/06
to, BD09/02 to, BE09/14 to, All serieses of model C)
</p>
<p>PMC&ndash;PA3 can be used only with Power Mate&ndash;H.
</p>
<p>The ladder display can be stopped by manual operation or trigger of
signal.
</p>
<p>The former ladder diagram display renews signal status every moment.
But by using this function, all the ladder diagram at the specified moment
can be checked.
</p>
<p>The stop conditions as a trigger are specified by rising or falling edge
detection of the designated signal.
</p>
<p>* Display of setting trigger
</p>
<p>The setting address, condition and counter are displayed at the title
line.
</p>
<p>&ldquo;MODE : ON : X0000.0 : 0 : 0001 &rdquo;
</p>
<p>COUNT :  Trigger checking number (default 1)
</p>
<p>POINT :  Trigger checking point (default 0)
</p>
<p>     0    the top of the 1st level
     1    after END1 execution
     2    after END2 execution
     3    after END3 execution
</p>
<p>ADR  :  Trigger setting address
</p>
<p>ON  :  Rising edge detection (TRGON) ,
OFF  :  Falling edge detection (TRGOFF)
</p>
<p>* Setting form    adr ; p1 ; p2 + [TRGON/TRGOFF] soft key 
Note)  &ldquo; ; &rdquo;   = &ldquo;EOB&rdquo;
</p>
<p>adr (trigger address) ; p1 (trigger point) ; p2 (trigger checking number
(1 to 65535))
</p>
<p>* Because parameters are stored in the nonvolatile memory, they are
not lost even if the power is turned off.
</p>
<p>When bit 2 of keep relay K18 is set to 1 after parameters for sampling
are specified, the trigger function automatically starts when the power
is turned on.
</p>
<p>5.6
STOP OF LADDER
DIAGRAM DISPLAY
BY TRIGGER OF
SIGNAL
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. PMC LADDER DIAGRAM DISPLAY
(PMCLAD) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>414
</p>
<p>For this operation, press [TRIGER] soft key to bring the following menu.
</p>
<p>SEARCH ADRESS TRIGER WINDOW
</p>
<p>TRGON TRGOFF START
(STOP)
</p>
<p>NEXT
</p>
<p>DUMP  DPARA
(NDPARA)
</p>
<p>RET
</p>
<p>TRGSRC INIT
</p>
<p>The function of the soft key is as follows :
</p>
<p>(1) [TRGON] : Trigger is set on condition that the ladder status stops
when the status of designated signal is rising.
</p>
<p>(2) [TRGOFF] : Trigger is set on condition that the ladder status stops
when the status of designated signal is falling.
</p>
<p>(3) [START] : Change start/stop of trigger execution.  While this 
function is executing, &ldquo;TRG&rdquo; is blinking.
</p>
<p>(4) [TRGSRC] : Search and blink the instruction stopped by trigger.
</p>
<p>(5) [INIT] : The setting of trigger is initialized.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. PMC LADDER DIAGRAM DISPLAY
</p>
<p> (PMCLAD)PMC OPERATION (CRT/MDI)
</p>
<p>415
</p>
<p>This function is used for dividing display of ladder diagram.
</p>
<p>The maximum number of division is 6.
</p>
<p>LADDER  *TITLE DATA REMARKS 32 BYTES   *  NET 00001-00004     MONIT RUN
</p>
<p>*NET NO. 00001 &ndash; 00001
 X1000.1   X1000.1   X1000.1   X1000.1   X1000.1   X1000.2  Y1000.0
</p>
<p> *ESP      SMBL     X100.0    X100.0    X100.0
</p>
<p>*NET NO. 00001 &ndash; 00001
 X1000.0   X1000.1   X1000.2                                Y1000.1
</p>
<p> X1000.0   X1000.1   X1000.2                                Y1000.2
</p>
<p>  ESP       SMBL
</p>
<p>ADDRESS DUMP
</p>
<p>G0000  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  .............
G0016  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  .............
G0032  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  .............
G0048  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  .............
G0064  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  .............
</p>
<p>  [DIVIDE ] [ CANCEL ] [ DELETE ] [SELECFT ] [ WIDTH  ]
</p>
<p>����5.7 Dividing display of ladder diagram
</p>
<p>NOTE
For DUMP display, dump screen is displayed at the last part
of screen.
</p>
<p>For this operation, press [WINDOW] soft key to bring the following
menu.
</p>
<p>SEARCH ADRESS TRIGER WINDOW
</p>
<p>DIVIDE CANCEL DELETE SELECT
</p>
<p>RET
</p>
<p>WIDTH
</p>
<p>The function of the soft key is as follows :
</p>
<p>(1) [DIVIDE] : The screen will be divided.
The dividing display of ladder diagram can be 
displayed for the designated NET number.
(NET number + [DIVIDE] )
</p>
<p>(2) [CANCEL] : The dividing display of ladder diagram display ends.
(The screen returns to normal display.)
</p>
<p>(3) [DELETE] : The screen division subject to operation is ended.
(4) [SELECT] : Change the screen subject to division operation.
</p>
<p>The screen in operation is displayed by &ldquo;purple&rdquo; title
line, another screen is displayed by &ldquo;blue&rdquo; title line.
In monochrome CRT, the screen is displayed by 
changing brightness.
</p>
<p>5.7
DIVIDING DISPLAY
OF LADDER
DIAGRAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. PMC LADDER DIAGRAM DISPLAY
(PMCLAD) B&ndash;61863E/10PMC OPERATION (CRT/MDI)
</p>
<p>416
</p>
<p>(5) [WIDTH] : Change the width of division by using [EXPAND] or
[SHRINK] soft key.
</p>
<p>(6) [EXPAND] : The divided screen is expanded.
</p>
<p>(7) [SHRINK] : The divided screen is shrank.
</p>
<p>�  :  Can be used
∆  :  Option
</p>
<p>�  :  Cannot be used
</p>
<p>PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� ∆ � � � � � � ∆ ∆ � � ∆ ∆ � � �
</p>
<p>NOTE
∆: Can be used for the specific series of CNC
</p>
<p>(Series 16 : B005/11 to, B105/08 to, B305/04 to, B009/03
to, All serieses of model C)
(Series 18 : BD03/12 to, BE03/09 to, BG23/03 to, BG03/06,
BD09/02 to, BE09/14 to, All serieses of model C)
PMC&ndash;RA3 is usable only with the Power Mate&ndash;H.
</p>
<p>For the PMC MODEL PA, RA series and &ndash;RB series, the editing card
(module) is necessary.
</p>
<p>When bit 1 in the keep relay K17 is 1, this function is available and
[ONLEDT] soft key is displayed.
</p>
<p>When the ladder program is executing, a part of the ladder program can
be changed.
</p>
<p>� Change the type of contact (A contact, B contact)
</p>
<p>� Change address of contact and coil.
</p>
<p>� Change address parameter of functional instruction.
</p>
<p>This function don&rsquo;t change the size. 
(Cannot be Addition, deletion and changable data size)
</p>
<p>When bit 3 of keep relay K18 is set to 1, the results of online editing are
automatically reflected on the ladder program for editing.  When bit 3 of
keep relay K18 is set to 0, reflect the results of online editing on the ladder
program for editing, using the COPY function for the I/O screen.
Otherwise, the results of editing will be lost upon power&ndash;off.  For the
Moreover, when the CNC being used is the Series 15&ndash;MODEL B, Series
16/18&ndash;MODEL B/C, Series 21/210&ndash;MODEL B, Series
16i/18i/21i&ndash;MODEL A, or Power Mate&ndash;MODEL H, write to flash ROM.
</p>
<p>How to store the results of editing
</p>
<p>PMC other than NB Press the COPY key on the I/O screen.
</p>
<p>NB Without DRAM Write the program into FROM.
</p>
<p>With DRAM Press the COPY key on the I/O screen. Write the
program into FROM.
</p>
<p>Operation
</p>
<p>Press the [ONLEDT] soft key to enable the editing of a ladder
program.  The editing procedure is the same as that using the
programmer function, described in Part III.
</p>
<p>5.8
ON&ndash;LINE EDIT
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. USER PMC SCREEN (PMCMDI)PMC OPERATION (CRT/MDI)
</p>
<p>417
</p>
<p>6 USER PMC SCREEN (PMCMDI)
This user PMC screen is open to users, and it employs function key
&lt;CUSTOM&gt;.  It is applicable only when C language programming has
been made.  For details, see the PMC-RC/RC3/RC4/NB programming
manual for C language (B-61863E-1).
</p>
<p>NOTE
Pressing the &lt;CUSTOM&gt; key several times changes the
screen to the PMCMDI screen.  Because the &lt;CUSTOM&gt;
key is also used to execute other functions.
</p>
<p>This user PMC screen is open to users.  To display this screen, display the
PMC screen and press the OTHERS key or call the pl&ndash;pcmdi function in
C language.  It is applicable only when the program has been written in
C language.  For details, see the PMC-RC/RC3/RC4/NB programming
manual for C language (B-61863E-1).
</p>
<p>6.1
FOR THE FS16
(PMC-RC OR
PMC-RC3)
</p>
<p>6.2
FOR THE FS15
(PMC-NB)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p> III. PMC PROGRAMMER 
(CRT/MDI)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 1. GENERALPMC PROGRAMMER (CRT/MDI)
</p>
<p>421
</p>
<p>1 GENERAL
This PMC programmer is used to set PMC system parameters and also
generate and execute sequence programs by using soft keys on the
CRT/MDI panel. For this operation, the PMC debugging RAM must be
mounted in the CNC in advance.
</p>
<p>For the CRT/MDI panel keys, refer to PMC operation in PARTII, Chapter
1 and 2.
</p>
<p>1) Setting and display of PMC system parameters (SYSPRM)
</p>
<p>The following system parameters are available.
</p>
<p>a) Selection of counter data types (BCD or binary)
</p>
<p>b) Selection of division/non-division of ladder program (only
PMC-RC)
</p>
<p>c) Parameters for executing C language programs (only for
PMC-RC)
</p>
<p>2) Editing of sequence programs (EDIT)
</p>
<p>The following editing functions are provided.
</p>
<p>a) Clear of memory
</p>
<p>b) Title data input
</p>
<p>c) Input, insert, search, and delete of sequence programs by ladder
diagram format
</p>
<p>d) Input, insert, delete, and search of symbol data
</p>
<p>e) Address setting to each module when I/0 unit is used
</p>
<p>f) Message data input
</p>
<p>3) Execution of sequence programs (RUN/STOP)
</p>
<p>The following function is provided to execute sequence programs
</p>
<p>a) Sequence program start and stop
</p>
<p>4) To write, verify, and read of sequence programs and PMC data, and
to write and read of I/0 sequence programs, followings are provided.
</p>
<p>a) Input/output of sequence programs to and from FANUC floppy
disk cassette
</p>
<p>b) Input/output of sequence programs to and from debugging RAM
</p>
<p>c) Input/output of sequence programs to and from ROM
</p>
<p>d) Input/output of PMC parameter data to and from FANUC FD
cassette
</p>
<p>5) Displaying the contents of memory for the user C program and
debugging the user C program (MONIT)
</p>
<p>a) Displaying the GDT map of the user C program
</p>
<p>b) Displaying memory information for the user C program
</p>
<p>c) Debugging the user C program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. COMPONENT UNITS AND 
CONNECTIONS B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>422
</p>
<p>2 COMPONENT UNITS AND CONNECTIONS
This section describes only the 16/18 MODEL A.  For other models, refer
to the order list and the connection manual for each model.
</p>
<p>The units required for generating a sequence program and connection
methods are described below.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
2. COMPONENT UNITS AND
</p>
<p>CONNECTIONSPMC PROGRAMMER (CRT/MDI)
</p>
<p>423
</p>
<p>1) PCB and module for PMC
</p>
<p>This is PCB and module for PMC.  The type of board is as follows;
</p>
<p>a) Series 16
</p>
<p>i) PMC-RB (Main CPU board)
</p>
<p>� PMC control (A20B-2900-0560, -0143)
</p>
<p>� Debugging control (A20B-2900-0530)
</p>
<p>� PMC user ROM
</p>
<p>� Editing module (A02B-0120-C160)
</p>
<p>ii) PMC-RC (Option 3 board)
</p>
<p>� PMC control module
</p>
<p>A20B-2900-0390 
(When using language programs, work RAM is required.)
</p>
<p>A20B-2900-0391
A20B-2900-0143
</p>
<p>b) Series 18
</p>
<p>i) PMC-RA1/RA2 (Main CPU board)
</p>
<p>� PMC control module (A20B-2900-0142) for PMC-RA1
(A20B-2900-0920) for PMC-RA2
</p>
<p>� Debugging RAM module (A20B-2900-0530)
</p>
<p>� PMC user ROM
</p>
<p>� Editing module (A02B-0120-0160)
</p>
<p>Common 
with 
PMC-RB
</p>
<p>2.1
COMPONENT UNITS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. COMPONENT UNITS AND 
CONNECTIONS B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>424
</p>
<p>Configuration of the main CPU board (Series 16)
</p>
<p>1211
</p>
<p>Drawing number : A16B-2200-0900
</p>
<p>CPU
</p>
<p>1 2 3 4 5 6 7 8
</p>
<p>109
</p>
<p>CNA
</p>
<p>F-bus
backplane
connector
</p>
<p>Connector
</p>
<p>name
</p>
<p>CRT
</p>
<p>MDI
</p>
<p>R232-1
</p>
<p>R232-2
</p>
<p>MPG
</p>
<p>IOLINK
</p>
<p>SPDL-1
</p>
<p>A-OUT1
</p>
<p>APCBAT
</p>
<p>Connector
</p>
<p>name
</p>
<p>JA1
</p>
<p>JA2
</p>
<p>JD5A
</p>
<p>JD5B
</p>
<p>JA3
</p>
<p>JD1A
</p>
<p>JA7A
</p>
<p>JA8A
</p>
<p>JA4A
</p>
<p>Application
</p>
<p>CRT video signal
</p>
<p>MDI keyboard
</p>
<p>RS-232-C serial port
</p>
<p>RS-232-C serial port
</p>
<p>Manual pulse generator
</p>
<p>FANUC I/O LINK
</p>
<p>Serial spindle
</p>
<p>Analog output
</p>
<p>APC battery
</p>
<p>SERVO
ROM
</p>
<p>Module
</p>
<p>LED
PMC-RB
ROM
13
</p>
<p>AMP1
</p>
<p>AMP2
</p>
<p>AMP3
</p>
<p>AMP4
</p>
<p>ENC1
</p>
<p>ENC2
</p>
<p>ENC3
</p>
<p>ENC4
</p>
<p>SCALE1
</p>
<p>SCALE2
</p>
<p>SCALE3
</p>
<p>SCALE4
</p>
<p>JV1
</p>
<p>JV2
</p>
<p>JV3
</p>
<p>JV4
</p>
<p>JF1
</p>
<p>JF2
</p>
<p>JF3
</p>
<p>JF4
</p>
<p>JF21
</p>
<p>JF22
</p>
<p>JF23
</p>
<p>JF24
</p>
<p>1st axis servo amplifier
</p>
<p>2nd axis servo amplifier
</p>
<p>3rd axis servo amplifier
</p>
<p>4th axis servo amplifier
</p>
<p>1st axis pulse coder
</p>
<p>2nd axis pulse coder
</p>
<p>3rd axis pulse coder
</p>
<p>4th axis pulse coder
</p>
<p>1st axis scale
</p>
<p>2nd axis scale
</p>
<p>3rd axis scale
</p>
<p>4th axis scale
</p>
<p>����2.1 (a) Layout of Parts on Main CPU Board (Series 16)
</p>
<p>Table 2.1 (a) Modules of Main CPU board (Series 16)
</p>
<p>No.  Module Drawing number Functional outline
</p>
<p>1 ROM module A20B-2900-0290 to 0293 ROM for CAP I or macros
</p>
<p>2 ROM module A20B-2900-0290 to 0292 ROM for the CNC system
</p>
<p>3 SRAM module A20B-2900-0530 RAM for debugging the PMC-RB
</p>
<p>4 SRAM module A20B-2900-0530,-0531
A20B-2900-0540,-0541
</p>
<p>RAM for part programs and parameters
</p>
<p>5 PMC control module A20B-2900-0560  (For PMC-RB)
A20B-2900-0143  (For PMC-RC)
</p>
<p>PMC operation control
</p>
<p>6 CRT control module A20B-2900-0150 to 0152 CRT display control
</p>
<p>7 System control module A20B-2900-0101 to 0103 Clear, battery backup, spindle control, etc.
</p>
<p>8 I/O interface module A20B-2900-0110 MDI, MPG, RS-232-C, etc.
</p>
<p>9 Servo control module A20B-2900-0160 Digital servo control of the 3rd and 4th axes
</p>
<p>10 Servo control module A20B-2900-0160 Digital servo control of the 1st and 2nd axes
</p>
<p>11 Servo interface module A20B-2900-0370,-0380 3rd/4th axis amplifier/pulse coder interface
</p>
<p>12 Servo interface module A20B-2900-0370,-0380 1st/2nd axis amplifier/pulse coder interface
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
2. COMPONENT UNITS AND
</p>
<p>CONNECTIONSPMC PROGRAMMER (CRT/MDI)
</p>
<p>425
</p>
<p>Configuration of the option 3 board (Series 16)
</p>
<p>Drawing number  : A16B-2200-0940 (PMC-RC+CAP II)
A16B-2200-0941 (only for PMC-RC)
A16B-2200-0943 (only for CAP II)
</p>
<p>1
</p>
<p>CNA
</p>
<p>F-bus 
backplane 
connector
</p>
<p>LED
</p>
<p>2 3 4 5 6
</p>
<p>7 8 9
</p>
<p>CPU
</p>
<p>Module
</p>
<p>IOLINK        JD1A2 FANUC I/O LINK
</p>
<p>Connector
</p>
<p>Name Application
</p>
<p>Connector
</p>
<p>Name
</p>
<p>����2.1 (b) Layout of Parts on Option 3 Board (Series 16)
</p>
<p>Table 2.1 (b) Modules of Option 3 Board (Series 16)
</p>
<p>No. Module Drawing number Functional outline
</p>
<p>1 ROM module A20B-2900-0290 to 0293 User ROM for PMC-RC (Mount the RAM module
during debugging.)
</p>
<p>2 ROM module A20B-2900-0292 System ROM for PMC-RC
</p>
<p>3 DRAM module A20B-2900-0553 Work RAM for PMC-RC
</p>
<p>4 PMC control module A20B-2900-0560 PMC operation control and I/O Link control
</p>
<p>5 PMC CPU module A20B-2900-0390 For ladder capacity 2400 steps or C language
</p>
<p>A20B-2900-0391 Other than the aboveww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. COMPONENT UNITS AND 
CONNECTIONS B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>426
</p>
<p>Configuration of the Main CPU Board (Series 18)
</p>
<p>1211
</p>
<p>Drawing number  : A16B-2201-0080
</p>
<p>1 2 3 4 5 6 7 8
</p>
<p>109
</p>
<p>CNA
</p>
<p>F-BUS
back plane 
connector
</p>
<p>Connector
</p>
<p>Name
</p>
<p>CRT
</p>
<p>MDI
</p>
<p>R232-1
</p>
<p>R232-2
</p>
<p>MPG
</p>
<p>IOLINK
</p>
<p>SPDL-1
</p>
<p>A-OUT1
</p>
<p>APCBAT
</p>
<p>Connector
</p>
<p>No.
</p>
<p>JA1
</p>
<p>JA2
</p>
<p>JD5A
</p>
<p>JD5B
</p>
<p>JA3
</p>
<p>JD1A
</p>
<p>JA7A
</p>
<p>JA8A
</p>
<p>JA4A
</p>
<p>  Description
</p>
<p>CRT video signal
</p>
<p>MDI keyboard
</p>
<p>RS-232-C serial port
</p>
<p>RS-232-C serial port
</p>
<p>Manual pulse generator
</p>
<p>FANUC I/O LINK
</p>
<p>Serial spindle
</p>
<p>Analog output
</p>
<p>Battery for use with the APC
</p>
<p>Module
</p>
<p>LED
</p>
<p>PMC-RA1/RA2
ROM
16
</p>
<p>13 14 15
</p>
<p>AMP1
</p>
<p>AMP2
</p>
<p>AMP3
</p>
<p>AMP4
</p>
<p>ENC1
</p>
<p>ENC2
</p>
<p>ENC3
</p>
<p>ENC4
</p>
<p>SCALE1
</p>
<p>SCALE2
</p>
<p>SCALE3
</p>
<p>SCALE4
</p>
<p>JV1
</p>
<p>JV2
</p>
<p>JV3
</p>
<p>JV4
</p>
<p>JF1
</p>
<p>JF2
</p>
<p>JF3
</p>
<p>JF4
</p>
<p>JF21
</p>
<p>JF22
</p>
<p>JF23
</p>
<p>JF24
</p>
<p>Axis 1 servo amplifier
</p>
<p>Axis 2 servo amplifier
</p>
<p>Axis 3 servo amplifier
</p>
<p>Axis 4 servo amplifier
</p>
<p>Axis 1 pulse coder
</p>
<p>Axis 2 pulse coder
</p>
<p>Axis 3 pulse coder
</p>
<p>Axis 4 pulse coder
</p>
<p>Axis 1 scale
</p>
<p>Axis 2 scale
</p>
<p>Axis 3 scale
</p>
<p>Axis 4 scale
</p>
<p>����2.1 (c) Parts layout for the main CPU board (Series 18)
</p>
<p>Table 2.1 (c) Module list for the main CPU board (Series 18)
</p>
<p>No. Module name Drawing no. Function outline
</p>
<p>1 ROM module A20B-2900-0290 to 0293 ROM for macros or CAP 1
</p>
<p>2 ROM module A20B-2900-0290 to 0292 ROM for the CNC system
</p>
<p>3 SRAM module A20B-2900-0530 RAM for PMC-RA1/RA2 debug
</p>
<p>4 SRAM module A20B-2900-0530,-0531
A20B-2900-0540,-0541
</p>
<p>RAM for parameters and tape memory
</p>
<p>5 PMC control module A20B-2900-0142  (PMC-RA1)
A20B-2900-0920  (PMC-RA2)
</p>
<p>PMC operation control
</p>
<p>6 Main CPU module A20B-2900-0930 FS18  Main  processor
</p>
<p>7 System control module A20B-2900-0900 to 0902 Clear, battery backup, spindle control, servo/graphics
software flash ROM
</p>
<p>8 I/O interface module A20B-2900-0110 MDI, MPG, RS-232-C
</p>
<p>9 Graphics control module A20B-2900-0310 Graphics display control
</p>
<p>10 Graphics CPU module A20B-2900-0590 Graphics control CPU
</p>
<p>11 CRT control module A20B-2900-0154 to 0156 CRT display control
</p>
<p>12 Servo control module A20B-2900-0160 Digital servo control for axes 3 and 4
</p>
<p>13 Servo control module A20B-2900-0160 Digital servo control for axes 1 and 2
</p>
<p>14 Servo interface module A20B-2900-0380 Amplifier, pulse coder, and interface for axes 3 and 4
</p>
<p>15 Servo interface module A20B-2900-0380 Amplifier, pulse coder, and interface for axes 1 and 2
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
2. COMPONENT UNITS AND
</p>
<p>CONNECTIONSPMC PROGRAMMER (CRT/MDI)
</p>
<p>427
</p>
<p>2) Debugging RAM
</p>
<p>This is used for debugging sequence programs. Since this debugging
RAM memory is backed up by the battery, the memory data contents
are not erased even when turning off the power supply. 
</p>
<p>CAUTION
If a RAM parity error occurs or when power is first turned on
after installation, the RAM for debugging must be cleared.
</p>
<p>(Procedure)
</p>
<p>Turn on power to the CNC while pressing the X and O keys
simultaneously.  The contents of the RAM for debugging are then
cleared.
</p>
<p>3) Editing module
</p>
<p>This is a built-in programmer for PMC-RA1, PMC-RA2, RA3,
PMC-RB, PMC-RB2, or RB3 that enables editing sequence
programs.
</p>
<p>4) ROM
</p>
<p>After debugging, write a sequence program into ROM.
</p>
<p>5) ROM WRITER
</p>
<p>This unit is used for writing or reading out a sequence program to
ROM.
</p>
<p>6) Offline programmer
</p>
<p>This is used to transfer a sequence program.
</p>
<p>By connecting the Offline programmer to PMC-RA1, -RA2, -RB,
-RB2, -RB3, -RC, or -RC3, the storage of sequence programs in the
floppy, and the output of a sequence program into printer can be done.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. COMPONENT UNITS AND 
CONNECTIONS B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>428
</p>
<p>(1) Connecting the debugging RAM module
</p>
<p>a) PMC-RB, -RB2 and RB3 : Connect the module to portion 3
shown in Fig. 2.1 (a).
</p>
<p>b) PMC-RC and PMC-RC3 : Connect the module to portion 1
shown in Fig. 2.1 (b).
</p>
<p>c) PMC-RA1, -RA2 and -RA3 : Connect the module to portion 3
shown in Fig. 2.1 (c).
</p>
<p>(2) Connecting the editing module for PMC-RA1, -RA2, -RA3, -RB,
-RB2 and -RB3 Connect the module to portion 3 shown in Fig. 2.1
(a).
</p>
<p>(3) Connecting ROM
</p>
<p>a) PMC-RB, -RB2 and -RB3 : Connect EPROM to portion 13
shown in Fig. 2.1 (a).
</p>
<p>b) PMC-RC and PMC-RC3 : Connect the ROM module to
portion 1 shown in Fig. 2.1 (b).
</p>
<p>c) PMC-RA1, -RA2 and -RA3 : Connect EPROM to portion 16
shown in Fig. 2.1 (c).
</p>
<p>�  :   Enabled
∆  :   Enabled depending on the option
</p>
<p>�  :   Disabled
</p>
<p>RA1 RA2 RA3 RB RB2 RB3 RC RC3
</p>
<p>RAM module � � � � � � � �
</p>
<p>Editing module � � � � � � � �
</p>
<p>EPROM � � � � � � � �
</p>
<p>ROM module � � � � ∆ ∆ � �
</p>
<p>NOTE
1 When 24,000 optional PMC-RB2 and PMC-RB3 ladder
</p>
<p>steps are available, 256K bytes of the ROM module can be
used.  In this case, connect the ROM module to portion 3
shown in Fig. 2.1 (a).
</p>
<p>2 Either a RAM module, editing module, or ROM module can
be connected to each board of PMC-RA1, -RA2, -RA3, -RB,
-RB2 and -RB3.
</p>
<p>3 Either a RAM module or ROM module can be connected to
each board of PMC-RC and PMC-RC3.
</p>
<p>(4) Connecting the off&ndash;line programmer
Connect the off&ndash;line programmer to the reader/punch interface on the
CNC.  There are several connectors for the reader/punch interface on
the CNC.  The connector to be used is specified during I/O processing
for the PMC.  For details, see Section 7.
</p>
<p>2.2
CONNECTING
COMPONENT UNITS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
3. SELECTION OF PROGRAMMER
</p>
<p>MENUS BY SOFTKEYSPMC PROGRAMMER (CRT/MDI)
</p>
<p>429
</p>
<p>3 SELECTION OF PROGRAMMER MENUS BY SOFTKEYS
To operate the PMC programmer, set bit 1 in K17 of the keep relay area
for PMC parameters to 1, enabling the programmer basic menu to be
displayed.  To display the programmer basic menu, press &lt;SYSTEM&gt;
and [PMC] soft key on the MDI keyboard then, press the [NEXT] key.
</p>
<p>The programmer basic menu is displayed at the lower part of the CRT
screen to signify the keys as shown in the following figure.
</p>
<p>(1) Programmer basic menu
</p>
<p>The programmer basic menu and PMC basic menu are selected to
each other alternately by pressing the [NEXT] key. For the PMC basic
menu and operation, see PMC operation in Chapter II.
</p>
<p>NOTE
In the following description, the relation between soft keys
and menus is described based on 9-inch CRT/MDI panel.
The 14-inch CRT/MDI panel is different from the 9-inch
CRT/MDI panel about the number of soft keys. Five soft
keys are mounted on the 9-inch CRT/MDI panel, while ten
soft keys are mounted on the 14-inch CRT/MDI panel.
</p>
<p>HELP key
RESET key
</p>
<p>Address/numeric keys
</p>
<p>Cancel key
</p>
<p>INPUT keys
</p>
<p>Edit keys
</p>
<p>Function keys
SHIFT keySoft keys
</p>
<p>Page keys
</p>
<p>Cursor control keys
Power on/off buttomww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. SELECTION OF PROGRAMMER
MENUS BY SOFTKEYS B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>430
</p>
<p>(2) Relation between programmer menus and soft keys
</p>
<p>The relation between programmer menus and soft keys are different
according to each function as shown in the following figure.  These
menus are selected by pressing related keys.  For the menu contents,
see the description given later.  Refer to this figure for operation.
</p>
<p>PMCLAD PMCDGN PMCPRM
</p>
<p>RUN or STOP EDIT I/O SYSPRM MONIT
</p>
<p>NEXT
</p>
<p>RET RET RET
</p>
<p>TITLE
</p>
<p> LADDER
</p>
<p>SYMBOL
</p>
<p> MESAGE
</p>
<p>NEXT
</p>
<p>MODULE
</p>
<p>CLEAR
</p>
<p>Chapter III.6 Chapter III.5 Chapter III.7
</p>
<p>RET
</p>
<p>DBGLAD**
</p>
<p>GDT*
</p>
<p>USRMEM*
</p>
<p>DEBUG*
</p>
<p>Chapter III.4
</p>
<p>CROSS
</p>
<p>NOTE
1 Mark &ldquo;*&rdquo; is valid for PMC-RC/RC3/RC4/NB function.
2 Mark &ldquo;**&rdquo; is valid for PMC-RA3/RB3 with Editing module or
</p>
<p>PMC-RC/RC3 function.ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>4. SPECIFYING AND DISPLAYING
SYSTEM PARAMETERS 
</p>
<p>(SYSPRM)PMC PROGRAMMER (CRT/MDI)
</p>
<p>431
</p>
<p>4
SPECIFYING AND DISPLAYING SYSTEM PARAMETERS
(SYSPRM)
</p>
<p>Display the system parameter screen by pressing soft key [SYSPRM] on
the basic programmer menu.  Move the cursor to necessary system
parameters and specify them according to the menu displayed on the
screen.  When this function is selected, if the sequence program is in
operation, the PMC management software automatically stops this
function.
</p>
<p>Specifies whether the counter value is used in binary or BCD by
functional instruction CTR.
</p>
<p>CAUTION
After changing a counter data type, set up the counter value
again.
</p>
<p>Specifies the increment or decrement of processing time of the 1st and 2nd
level parts of the ladder program in the range of 1% to 150%.  This
increases or decreases the scanning time of the ladder program.  This
parameter influences the processing time of the 3rd level part of the ladder
program and the language program.
</p>
<p>If 100% is specified, the time of 5 ms for an 8 ms cycle is used to process
the 1st and 2nd level parts of the ladder program.  The remaining 3 ms is
used to process the 3rd level part of the ladder program, language
program, and PMC screen display.
</p>
<p>If 120% is specified, the time of 6 ms is used to process the 1st and 2nd
level parts of the ladder program.  This reduces the scanning time of the
ladder program, thus enabling the ladder program to be executed at high
speed.  Note that the processing time required for the 3rd level part of the
ladder program, language program, and PMC screen display is
substantially reduced.  If the undivided system is specified too, this
parameter is validated.
</p>
<p>If a value less than 40% is specified, 40% is assumed.  If a value greater than
120% is specified, 120% is assumed.
</p>
<p>The processing time of the 1st and 2nd parts of the ladder program is
obtained by the following formula:
</p>
<p>Processing time of the 1st and 
</p>
<p>2nd parts of the ladder program=5 msec�
(LADDER EXEC)
</p>
<p>100
</p>
<p>The processing time of the 3rd level part of the ladder program, language
program, and PMC screen display
</p>
<p>= 8 ms &ndash; (processing time of the 1st and 2nd level parts of the ladder
program)
</p>
<p>(1) COUNTER DATA 
TYPE
</p>
<p>(2) LADDER EXEC 
(valid for PMC-
RC/RC3/RC4/NB/NB2)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. SPECIFYING AND DISPLAYING 
SYSTEM PARAMETERS 
(SYSPRM) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>432
</p>
<p>1st and 2nd level
parts of the ladder
program
</p>
<p>Others
</p>
<p>8 msec 8 msec
</p>
<p>100% 120%
</p>
<p>Others
</p>
<p>5 ms
</p>
<p>3 ms
</p>
<p>6 ms
</p>
<p>2 ms
</p>
<p>1st and 2nd level
parts of the ladder
program
</p>
<p>Specifies the division ratio of execution for PMC screen display and
language program.
</p>
<p>(0 to 99%)
Since the execution priority of PMC screen display is higher than
language program tasks, it is usually hard for the tasks to execute
processing while displaying PMC screen.  Then this parameter can be
used to set the division ratio for each.  Cyclic processing of language
program is therefore possible during PMC screen display.  Only language
program tasks are running if PMC screen is not displayed.
</p>
<p>Specifies whether the ladder program is executed in the divided system
(IGNORE DIVID CODE = NO) or in the undivided system.
</p>
<p>Specifies the first address of the link control statement data in the
language program.
</p>
<p>Be sure to specify 0 when the language program is not stored.
</p>
<p>LANGUAGE AREA and SIZE indicate the area where the language
program is stored.  Store the language program in the specified area.
</p>
<p>When the language program is stored, the Language Origin is
automatically set by moving the cursor to this item and pressing
[ORIGIN] soft key.
</p>
<p>Specify the maximum size of the ladder program.  This parameter can be
used to increase or decrease the size of the work area used by language
programs.  The setting of the parameter takes effect only after power is
turned on.  When the setting is to be changed, therefore, power must be
turned off.
</p>
<p>For details, see the FANUC PMC-MODEL RC/RC3/RC4/NB
PROGRAMMING MANUAL C LANGUAGE (B&ndash;61863E&ndash;1).  The
default is the size in kilobytes resulting from conversion of the ladder step
option.
</p>
<p>Specifies whether the Series 0 operator&rsquo;s panel is connected.  When YES
is selected, specify the actual addresses of DI and DO connected to the
operator&rsquo;s panel, the address of the key image transferred from the
operator&rsquo;s panel, and the address of the LED image to be transferred to
the operator&rsquo;s panel.
</p>
<p>(a) KEY DI ADDRESS
</p>
<p>Specify a PMC address representing the first address of the external
DI actually connected (X0 to X127 or X1000 to X1019).
</p>
<p>(b) LED DO ADDRESS
</p>
<p>Specify a PMC address representing the first address of the external
DO actually connected (Y0 to Y127 or Y1000 to Y1014).
</p>
<p>(3) LANGUAGE EXEC 
RATIO (valid for 
PMC-RC/RC3/RC4/NB/
NB2)
</p>
<p>(4) IGNORE DIVID CODE 
(valid for PMC-RB 
and-RC)
</p>
<p>(5) LANGUAGE ORIGIN 
(valid for PMC-RC/
RC3/RC4/NB/NB2)
</p>
<p>(6) MAX LADDER
AREA SIZE 
(valid for PMC-RC/
RC3/NB)
</p>
<p>(7) FS0 OPERATOR 
PANELww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>4. SPECIFYING AND DISPLAYING
SYSTEM PARAMETERS 
</p>
<p>(SYSPRM)PMC PROGRAMMER (CRT/MDI)
</p>
<p>433
</p>
<p>(c) KEY BIT IMAGE ADDRESS
</p>
<p>Specify a PMC address representing the first address of the key
image to be referenced by the user program.  Usually specify an
arbitrary internal relay area.
</p>
<p>(d) LED BIT IMAGE ADDRESS
</p>
<p>Specify a PMC address representing the first address of the key
image to be generated by the user program.  Usually specify an
arbitrary internal relay area.
</p>
<p>When creating new programs with the built&ndash;in editing function, set this
parameter first, then execute CLEAR ALL or perform clear operation
(turn on power while holding down X and O) at power on.
</p>
<p>When selecting the step sequence method:  STEP SEQUENCE = YES
</p>
<p>When selecting the ladder method:  STEP SEQUENCE = NO
</p>
<p>PMC SYSTEM PARAMETER
</p>
<p> COUNTER DATA TYPE     =  BINARY/BCD
</p>
<p> FS0 OPERATOR PANEL    =  YES/NO
</p>
<p> KEY DI ADDRESS        =  X100
</p>
<p> LED DO ADDRESS        =  Y100
</p>
<p> KEY BIT IMAGE ADDRESS =  R900
</p>
<p> LED BIT IMAGE ADDRESS = R910
&gt;
</p>
<p>[BINARY] [ BCD   ] [      ] [      ] [      ]
</p>
<p>����4(a) PMC-RA Series System Parameter Screen
</p>
<p>PMC SYSTEM PARAMETER
</p>
<p> COUNTER DATA TYPE     =  BINARY/BCD
</p>
<p> IGNORE DIVIDE CODE    =  NO/YES
</p>
<p>&gt;
</p>
<p>[BINARY] [ BCD   ] [      ] [      ] [      ]
</p>
<p>����4(b) PMC-RB Series System Parameter Screen (1st Page)
</p>
<p>(8) STEP SEQUENCE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. SPECIFYING AND DISPLAYING 
SYSTEM PARAMETERS 
(SYSPRM) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>434
</p>
<p>PMC SYSTEM PARAMETER               MONIT STOP
</p>
<p> COUNTER DATA TYPE        =  BINARY /BCD
</p>
<p> LADDER EXEC              =  100% (1-150)
</p>
<p> LANGUAGE EXEC RATIO      =  50% (0-99)
</p>
<p> IGNORE DIVIDE CODE       =  NO/YES
</p>
<p> LANGUAGE ORIGIN          =  841000H
 (LANGUAGE AREA = 840000H,SIZE = 768KB)
 MAX LADDER AREA SIZE =  90KB (1-96)
</p>
<p>[BINARY] [ BCD   ] [      ] [      ] [      ]
</p>
<p>����4(c) PMC- RC, RC3 or NB System Parameter Screen (1st page)
</p>
<p>PMC SYSTEM PARAMETER (1/2)          MONIT STOP
</p>
<p> COUNTER DATA TYPE     =  BINARY/BCD
</p>
<p> IGNORE DIVIDE CODE    =  YES/NO
</p>
<p>&gt;
</p>
<p>[BINARY] [ BCD   ] [      ] [      ] [      ]
</p>
<p>����4(d) PMC-RB4/RB6/RC4 System Parameter Screen (1st Page)
</p>
<p>PMC SYSTEM PARAMETER (1/2)          MONIT STOP
</p>
<p> COUNTER DATA TYPE     =  BINARY/BCD
</p>
<p> LADDER EXEC           =  % (1&ndash;150)
</p>
<p> LANGUAGE EXEC RATIO   =  % (0&ndash;99)
</p>
<p> LANGUAGE ORIGIN =  H
  (LANGUAGE AREA =  H, SIZE = KB)
</p>
<p> STEP SEQUENCE =  YES/NO
 &gt;
</p>
<p>[ BINARY ] [  BCD  ] [      ] [      ] [      ]
</p>
<p>����4(e) PMC&ndash;RC4/NB2 System Parameter Screen (1 st Page)
</p>
<p>Press the [NEXT] key to select the following screen for  PMC-RB series,
PMC-RC series, and PMC-NB :
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>4. SPECIFYING AND DISPLAYING
SYSTEM PARAMETERS 
</p>
<p>(SYSPRM)PMC PROGRAMMER (CRT/MDI)
</p>
<p>435
</p>
<p>PMC SYSTEM PARAMETER (2/2)          MONIT STOP
</p>
<p> FS0 OPERATOR PANEL     =  YES/NO
</p>
<p> KEY DI ADDRESS         =  X100
</p>
<p> LED DO ADDRESS         =  Y100
</p>
<p> KEY BIT IMAGE ADDRESS  =  R900
</p>
<p> LED BIT IMAGE ADDRESS  =  R910
</p>
<p> &gt;
</p>
<p>[ YES  ] [  NO   ] [      ] [      ] [      ]
</p>
<p>����4(f) PMC-RB Series, PMC-RC Series, or PMC-NB System Parameter
Screen (2nd Page)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>436
</p>
<p>5 EDITING OF SEQUENCE PROGRAM (EDIT)
Press soft key [EDIT] of the programmer basic menu to bring the
following menu.  For setting the CLEAR or I/O unit address, press the
[NEXT] key to bring another menu.
</p>
<p>Each menu of [EDIT] can be selected by EDIT key, or menu of other EDIT
can be selected by each EDIT menu.  When this function is selected, if the
sequence program is in operation, the PMC management software
automatically stops this function.
</p>
<p>(Operation)
</p>
<p>Perform each operation by pressing necessary menu soft keys.  Press
[RETURN] key for resetting to the programmer basic menu.
</p>
<p>RUN
(STOP)
</p>
<p>EDIT I/O
</p>
<p>TITLE LADDER SYMBOL MESAGE
</p>
<p>NEXT
</p>
<p>MODULE CROSS
</p>
<p>RET
</p>
<p>III.5.1 III.5.2 III.5.4 III.5.5
</p>
<p>III.5.3 III.5.7 III.5.6
</p>
<p>SYSPRM MONIT
</p>
<p>CLEAR
</p>
<p>PMC EDITION MENU                     MONIT STOP
</p>
<p> SELECT ONE OF FOLLOWING SOFT KEYS
</p>
<p>  TITLE      :  TITLE DATA
  LADDER     :  LADDER DIAGRAM
  SYMBOL     :  SYMBOL &amp; COMMENT DATA
  MESAGE     :  MESSAGE DATA
  MODULE     :  I/O MODULE DATA
  CLEAR      :  CLEAR DATA
  CROSS      :  CROSS REFERENCE
</p>
<p> [ TITLE ] [ LADDER] [ MESAGE] [      ] [      ]
</p>
<p> [ MODULE] [       ] [ CROSS ] [      ] [ CLEAR ]
</p>
<p>����5 Editing basic menu
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>437
</p>
<p>The title data refers to the title of the sequence program created by the
machine tool builder.  The data consists of the following ten items:
</p>
<p>� Machine tool builder name (32 characters)
</p>
<p>� Machine tool name (32 characters)
</p>
<p>� NC and PMC types (32 characters)
</p>
<p>� Sequence program number (16 characters)
</p>
<p>� Version (4 characters)
</p>
<p>� Sequence program drawing number (32 characters)
</p>
<p>� Date of sequence program creation (16 characters)
</p>
<p>� Sequence program programmer (32 characters)
</p>
<p>� ROM programmer (32 characters)
</p>
<p>� Comment (32 characters)
</p>
<p>The title for the 9&rdquo; CRT consists of three screens.  The screens are changed
by pressing &lt;PAGE�&gt;  or &lt;PAGE�&gt; .
</p>
<p>RUN EDIT I/O
</p>
<p>TITLE LADDER SYMBOL MESAGE
</p>
<p>INSERT DELETE
</p>
<p>RETURN
</p>
<p>SYSPRM MONIT
</p>
<p>RETURN
</p>
<p>LADDER C LANG
</p>
<p>NOTE
When a C language board is installed in the Series 16i/18i,
the title data for C can be edited. With the soft key
[LADDER], the display can be switched to the ladder title
data. With the soft key [C LANG], the display can be
switched to the C title data.
</p>
<p>(1) Move the cursor to the desired title data item.  Use the cursor keys [�],
[�], [�], [�] to move the cursor.
</p>
<p>(2) Press the address key and numeric keys to enter the title data, and
press the &lt;INPUT&gt; key.
</p>
<p>(1) Move the cursor to the desired title data item.  Use the cursor keys [�],
[�], [�], [�] to move the cursor.
</p>
<p>(2) After keying in the title data by pressing the desired address keys and
numeric keys, press the &lt;INPUT&gt; key.
</p>
<p>5.1
SPECIFYING AND
DISPLAYING TITLE
DATA (TITLE)
</p>
<p>5.1.1
Entering Title Data
</p>
<p>5.1.2
Deleting Title Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>438
</p>
<p>When the length of the cursor is the same as the maximum number of
characters, pressing the [INSERT] key enables the operator to edit
character strings.  Then, the length of the cursor is changed to that of one
character.
</p>
<p>(1) Move the cursor to the desired insertion position with the cursor keys
and enter a character string.  Then, the character string is inserted.
</p>
<p>(2) Pressing the [DELETE] key deletes the character at the cursor.
</p>
<p>PMC TITLE DATA #1                    MONIT  RUN
</p>
<p>        PMC PROGRAM NO. :     1234
        EDITION NO.     :     12
</p>
<p>        PMC CONTROL PROGRAM
        SERIES : 4061 EDITION : 01
</p>
<p>          MEMORY USED : 44.0KB
          LADDER      : 32.0KB
          SYMBOL      : 10.2KB
          MESSAGE     : 01.8KB
          SCAN TIME   : 048 MSEC
</p>
<p> [ INSERT] [ DELETE] [      ] [      ] [      ]
</p>
<p>����5.1.3 (a) Title Edit Screen 1
</p>
<p>PMC TITLE DATA #2                    MONIT  RUN
</p>
<p> MACHINE TOOL BUILDER NAME :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> MACHINE TOOL NAME :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> CNC &amp; PMC TYPE NAME :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> PROGRAM DRAWING NO. :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> [ INSERT] [ DELETE] [      ] [      ] [      ]
</p>
<p>����5.1.3 (b) Title Edit Screen 2
</p>
<p>5.1.3
Editing Character
Strings of Title Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>439
</p>
<p>PMC TITLE DATA #3                    MONIT  RUN
</p>
<p> DATE OF PROGRAMING :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> PROGRAM DESIGNED BY :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> ROM WRITTEN BY :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> REMARKS :
 � &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; &middot; �
</p>
<p> [ INSERT] [ DELETE] [      ] [      ] [      ]
</p>
<p>0
1
2
3
4
5
6
7
8
9
0
1
2
3
4
5
</p>
<p>����5.1.3 (c) Title Edit Screen 3
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>440
</p>
<p>Input, insert, delete, and search a sequence program as described below.
The relation between these functions and soft keys is as shown below.
</p>
<p>RUN
(STOP)
</p>
<p>EDIT I/O
</p>
<p>TITLE LADDER SYMBOL MESAGE
</p>
<p>NEXT
</p>
<p>�� �� �� �� � �
</p>
<p>RET
</p>
<p>III 5.3 III 5.7
</p>
<p>SYSPRM MONIT
</p>
<p>FUNCTN
</p>
<p>�(S)�� �(R)��
</p>
<p>INSNET DELNET INSERT ADRESS
</p>
<p>NEXT
</p>
<p>COPY MOVE CHANGE
</p>
<p>RET
</p>
<p>RET
</p>
<p>&ndash; &ndash; &ndash; &ndash; &ndash; COMAND
</p>
<p>NEXT
</p>
<p>SEARCH
</p>
<p>�����
</p>
<p>����5.2 Sequence program generation softkeys
</p>
<p>NOTE
&ldquo;�(S)��&rdquo;and &ldquo;�(R)��&rdquo; are valid for PMC-PA3, -RA3, -RB3,
-RB4, -RC3,-RC4, and -NB.
</p>
<p>Each of EDIT &middot; LADDER software functional instruction keys can be
selected by the [COMAND] key. Type in one of the following character
strings and press software key [COMAND].  The character string within
parentheses &rdquo;[   ]&rdquo; can be omitted. &rdquo;n&rdquo; after the character string indicates
that a value can be input. For example, if the [COMMAND] key is pressed
after &rdquo;D2&rdquo; is typed in, the operation can be performed in the same manner
when the &lt;DELNET&gt; key is pressed after &rdquo;2&rdquo; is typed in.
</p>
<p>I[NSERT] D[ELNET][n] n:value
A[DRESS] SY[MBOL]
S[EARCH] C[OPY][n]
M[OVE][n]
</p>
<p>Generate and search a program by pressing soft keys of the above menu.
</p>
<p>5.2
SEQUENCE
PROGRAM
GENERATION
(LADDER)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>441
</p>
<p>NOTE
Soft keys ( [ ] or [ ] ) ( [ ] or [ ] ) are used for producing
or deleting an upper left vertical line or upper right vertical line on
the ladder diagram.  The solid line display vertical line indicates the
production, while the dotted line display vertical line shows the
deletion.  Which one is available is determined by the ladder
diagrams and cursor positions.
</p>
<p>When the cursor is set to this position, the upper right vertical line is not produced yet, 
and the menu becomes [ ]
</p>
<p>When the cursor is set to this position, the upper right vertical line is already produced,
and the menu becomes [ ]
</p>
<p>Press soft key [LADDER] for inputting a sequence program.  The soft key
menu changes as shown in Fig. 5.2.
</p>
<p>If a sequence program is not input yet, the right and left vertical lines only
of the ladder diagram are displayed on CRT/MDI.
</p>
<p>Start inputting a program with this screen condition.  If a previous
program remains unerased from RAM module for debug, clear it
according to the instruction in 5.6 before starting the program input.
</p>
<p>Input a ladder diagram by moving the cursor to the desired input position
by using the cursor key.
</p>
<p>The following description shows an example of the input of a program of
the basic instruction and a program of the functional instruction.
</p>
<p>(1) In case of basic instruction program input;
</p>
<p>5.2.1
Sequence Program
Input
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>442
</p>
<p>R0.1 R10.2 R1.7
</p>
<p>X2.4
</p>
<p>R20.2
</p>
<p>The contacts and coils inputtable in one line are as specified below.
</p>
<p>9-inch CRT/MDI
</p>
<p>10-inch CRT/MDI   7 contact + relay coil
</p>
<p>14-inch CRT/MDI
</p>
<p>They cannot be input into one line more than specified. If they exceed the specified
range, provide a dummy relay coil halfway.
</p>
<p>1 Press soft key [ ] after moving the cursor to the start
position. 
Symbol [ ] is input to the cursor position and
HORIZONTAL LINE ILLEGAL is displayed at the lower
right part of the CRT screen. This is a caution message to
show that the ladder diagram horizontal line is not entered
yet. Input address and bit data next.
</p>
<p>2 Press &lt;INPUT&gt; key after inputting R0.1 by using address
key and numeric keys. The address is set on the contact, and
cursor shifts rightward.
</p>
<p>3 Input A contact with address R10.2 by the above method 1,
2. 
(Note) The order of processes 1 and 2 are interchangeable.
</p>
<p>4 Input B contact R1.7
</p>
<p>Press soft key  [ ], input address R1.7, and then, press
&lt;INPUT&gt; key. 
The address is set on the B contact and the cursor shifts
rightward.
</p>
<p>5 Press soft key [ ]with the cursor kept as it is.
</p>
<p>A right horizontal line is automatically drawn, and a relay
coil symbol is entered near the right vertical line.
</p>
<p>6 Press &lt;INPUT&gt; key after inputting.
</p>
<p>The cursor automatically shifts to the input start position of
the next line.
</p>
<p>7 Input the OR condition next,
</p>
<p>Press soft key [ ], input address X2.4 and then, press
INPUT key. The address is set on the B contact and the cursor
shifts rightward.
</p>
<p>8 Press NEXT key, since the soft key of the right horizontal line
of OR is necessary.
</p>
<p>9 Press soft key [ ] to input a horizontal line.
</p>
<p>When inputting the horizontal bar key ([ ], [ ]), key
in a numerical value and press this bar key, and then the
horizontal line for the frequency will be drawn. However, this
horizontal line will not be drawn over the LINE.
</p>
<p>10 Press soft key [ ], and input necessary upper right vertical
line or OR.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>443
</p>
<p>CAUTION
1 When the ladder program displayed on the screen is incomplete (when, for example, addresses
</p>
<p>have not been entered) or erroneous, the screen cannot be scrolled even when a page key is
pressed.  Before attempting to scroll the screen, therefore, ensure that the ladder program is
complete and error&ndash;free.
However, be careful since the program net (a block corresponding to a range from RD to WRT
Instruction) containing an error is deleted when the screen is switched to an CNC screen.
</p>
<p>2 7 contacts + a coil are specified to be inputtable per line from CRT/MDI, any more contacts
exceeding the specified value are not inputtable.
However, this limitation is not applicable to mnemonic sequence programs generated by Offline
programmer.  When a sequence program, transferred from the offline programmer to the PMC,
exceeds the length which can be displayed on a single line, the program is displayed using two
or more lines, linked with a continuation symbol.  This continuation symbol is not erasable
usually, except when all programs from RD instruction to WRT instruction are erased.
</p>
<p>3 If the power is turned off while a ladder program is being displayed in edit mode, that ladder
program will be lost.  Always save the program and exit the editing screen before turning off
the power.
</p>
<p>4 The termination processing of the ladder (JMP, COM, and other processing) is done when the
EDIT screen is switched to another screen by pressing RET key, it takes several tens second
until the screen is switched completely, if the ladder is large.
</p>
<p>5 In the Series 15&ndash;MODEL B, Series 16/18&ndash;MODEL B/C, and Series 16�/18�/21�&ndash;MODEL A
CNC that use Flash Memory, the program is not automatically written into Flash Memory once
editing ends. After editing, perform the processing for writing to Flash Memory (see 7.3.3,
&ldquo;FROM&rdquo; in Chapter 7 of Part III). Otherwise, the editing results will be lost when the power is
turned off.
</p>
<p>6 When the user presses the RET key to switch from the edit screen to another screen, the
parameters of functional instructions TMR, TMRB, CRT, DIFU, and DIFD are checked for a
parameter number range error and duplicate parameter number in the ladder termination
processing. If a range error is found, the editing cannot be terminated. If the use of a duplicate
parameter number is found, the guidance message is displayed.
</p>
<p>(2) In case of functional instruction program input;
</p>
<p>For inputting a functional instruction, press [FUNCTN] soft key, and
then, input instruction symbol of the functional Instruction and SUB
number. 
A function command can be input by pressing the [FUNCTN] key
after keying the Function Command No. When pressing the
[FUNCTN] key without keying in the Function Command No., the
function command table is displayed. Key in Function Command No.
and press [INPUT] key. 
If you don&rsquo;t keep the instruction symbol and SUB number into mind,
you can display a functional instruction table covering the
correspondence between instruction on symbols and SUB numbers
automatically by inputting a wrong instruction symbol or a wrong SUB
number and then pressing the soft key [FUNCTN] key or by pressing
soft key [FUNCTN] key only without inputting any other key. 
If an aimed functional instruction is not found in the displayed
functional instruction table, press [NEXT] key or [PAGE] key to
brings its subsequent table.
</p>
<p>Press [FUNCTN] key when resetting the functional instruction table
to the original ladder diagram.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>444
</p>
<p>FUNCTN
</p>
<p>When a wrong functional 
instruction is entered or 
[FUNCTN] key only is
pressed;
</p>
<p>Functional
instruction table
</p>
<p>[NEXT] key (to display the subsequent
functional instruction table)
</p>
<p>Functional instruction generation soft key
</p>
<p>(Press this key again when resetting the functional instruction
table to the original ladder diagram)
</p>
<p>NOTE
If the system is left undone without inputting any data after
pressing soft key [FUNCTN], the other soft keys are not
employ-able. In such a case, press [FUNCTN] key again.
</p>
<p>DECB
</p>
<p>SUB 25
</p>
<p>�
</p>
<p>Format
specifi-
cation
</p>
<p>����
</p>
<p>Code
data 
address
</p>
<p>����
</p>
<p>����
</p>
<p>Specifi-
cation
number
</p>
<p>����
</p>
<p>Output
data 
address
</p>
<p>DECB
SUB 25
</p>
<p>�
</p>
<p>����
</p>
<p>����
</p>
<p>����
</p>
<p>����
</p>
<p>Input functional instruction parameters in the vertical direction
as shown in the following figure when inputting functional
instructions from CRT/MDI panel.
</p>
<p>Format specification
</p>
<p>Code data address
</p>
<p>Specification number
</p>
<p>Output data address
</p>
<p>ACT CRT/MDI
</p>
<p>1 Input a control condition.
</p>
<p>Press soft key [ ], input the address and bit data, and
then, press &lt;INPUT&gt; key. The cursor shifts rightward.
</p>
<p>2 Input an instruction.
</p>
<p>Press soft key [FUNCTN], input SUB number 25, and then,
press &lt;INPUT&gt; key. A functional instruction diagram
appears as shown in the above figure.
</p>
<p>3 Input an instruction parameter.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>445
</p>
<p>Input the first parameter, format specification, and then, press
&lt;INPUT&gt; key. The cursor automatically lowers downward. Input
three residual parameters in order.
</p>
<p>The method of altering a generated sequence program is the same as
described in 5.2.1. Move the cursor to the program part to be altered and
input change data.
</p>
<p>FUNCTN
</p>
<p>INSNET DELNET ADRESS
</p>
<p>INSNET INSLIN INSELM
</p>
<p>RETURN
</p>
<p>SEARCH
</p>
<p>�� �� �� �� � � �����
</p>
<p>A sequence program is inserted in four ways on the ladder diagram as
described below.
</p>
<p>(1) To insert a relay contacts in the horizontal direction.
</p>
<p>Simple horizontal insert
</p>
<p>Insert
</p>
<p>Move the cursor to the position where a sequence program is to be
inserted, and input the program by the method specified in 5.2.1.
</p>
<p>Cursor
</p>
<p>&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;
</p>
<p>Insert
</p>
<p>When a vertical line is to be deleted
for the insert operation ;
</p>
<p>1 Set the cursor to the above position.
</p>
<p>5.2.2
Alteration of Sequence
Programs
</p>
<p>5.2.3
Insert of Sequence
Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>446
</p>
<p>2 Press soft key [ ] for erasing the upper left vertical line. The
upper left vertical line to the cursor disappears.
</p>
<p>3 Press soft key [ ] to produce a upper right vertical line to
the cursor, then, press soft key [ ].  Both verti-cal line and
horizontal line are pro-duced.
</p>
<p>4 Shift the cursor to a line of contact insert position.
</p>
<p>5 Press soft key [ ] to add contacts.
</p>
<p>(2) For inserting vertical line;
</p>
<p>Insert
</p>
<p>For inserting a vertical line as shown in the above figure, the inserting
area is required, correspondingly. In order to produce the area, shift
the entire part after the part to be inserted by one line by moving the
cursor to the ladder diagram within the dotted line range (an optional
part is allowable) and then pressing soft key [INSNET] (see Fig. 5.2).
</p>
<p>The lower ladder diagram shifts downward by one line, each time the
[INSNET] key is pressed to produce the area to which a line is to be
inserted.
</p>
<p>If a surplus insert area remains unused after the insert processing ends
(if an area corresponding to 3 lines has been reserved when two lines
have been inserted, for example), the area may be left as it is. No
problem arises.
</p>
<p>1 Move the cursor to the ladder diagram bounded by a dotted
line.
</p>
<p>2 Press soft key [INSNET].
</p>
<p>The lower ladder diagram shifts downward by one line.
</p>
<p>3 Pressing [INSNET] key without keying in numeric values
will cause one line to be inserted.
</p>
<p>4 Pressing [INSNET] key with keying in numeric values will
cause the line to be inserted the number of numeric values
input.
</p>
<p>5 After setting the cursor to a position where the contacts is to
be inserted, press soft key [ ].  After setting address data,
press [INPUT] key. The cursor shifts rightward.
</p>
<p>6 Press soft key [ ] to produce an OR circuit.
</p>
<p>(3) Inserting the 1 NET sequence program lines
</p>
<p>Space lines are inserted one by one.
</p>
<p>1 Type in the number of lines to be inserted and press the
[INSLIN] key. The lines corresponding to the input number
are inserted. (If the number of lines to be inserted is not typed
in but the [INSLIN] key is pressed, one line is inserted.)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>447
</p>
<p>Cursor
</p>
<p>If the [INSLIN] key is pressed when the cursor is in the
position specified as shown in the above figure on the left, the
line is inserted as shown in the above figure on the right.
</p>
<p>(4) Inserting the 1 NET sequence program elements
</p>
<p>Elements can be inserted one by one.
</p>
<p>1 Type in the number of elements to be inserted and press the
[INSELM] key. The elements corresponding to the input
number are inserted. If the number of elements prefixed by
character &rdquo;A&rdquo; is typed in and the [INSELM] key is pressed,
the elements are inserted after the cursor. 
(If the number of elements to be inserted is not typed in but
the [INSELM] key is pressed, one element is inserted.)
</p>
<p>Cursor
</p>
<p>When the [INSELM] key is pressed when the cursor is
positioned as shown in the above figure on the left, the
element is inserted as shown in the above figure on the right.
</p>
<p>Cursor
</p>
<p>If &rdquo;A&rdquo; is typed in when the cursor is positioned as shown in
the above figure on the left and the [INSELEM] key is
pressed, the element is inserted as shown in the above figure
on the right.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>448
</p>
<p>(1) Delete a part of sequence program by using three kinds of soft keys
after setting the cursor to the portion from which the sequence
program is to be deleted.
</p>
<p>[ ] : Delete of horizontal lines, relay contacts, relay coils, etc.
</p>
<p>[ ] : Delete of upper left vertical line to the cursor
</p>
<p>[ ] : Delete of upper right vertical line to the cursor
</p>
<p>(2) Delete a net of the sequence program (the part from the RD instruction
to the WRT instruction) with the [DELNET] key.
</p>
<p>(3) Deleting NETs one by one
</p>
<p>FUNCTN
</p>
<p>INSNET DELNET ADRESS
</p>
<p>EXEC CANCEL SEARCH
</p>
<p>RETURN
</p>
<p>C-UP
</p>
<p>SEARCH
</p>
<p>C-DOWN
</p>
<p>�� �� �� �� � � �����
</p>
<p>1 Deletion
</p>
<p>Move the cursor to the NET to be deleted and press the
[DELETE] key. The NET to be deleted brightly displayed on
the screen.
</p>
<p>2 Deleting multiple NETs
</p>
<p>Move the cursor with the cursor DOWN key, [C-DOWN]
key, or [SEACH] key to blink the NETs to be deleted. Type
in a value and press the [C-DOWN] key to move the cursor
the number of times specified by this value.
</p>
<p>3 Execution Press the [EXEC] key.
</p>
<p>Cancel Press the [CANCEL] key.
</p>
<p>4 If the NET to be deleted is already known, move the cursor
to the first NET, type in the number of NETs, and press the
[DELNET] key to omit steps 1 and 2.
</p>
<p>5.2.4
Delete of Sequence
Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>449
</p>
<p>X 2.0 R20.1 Y 1.2
</p>
<p>R0.5
</p>
<p>R0.5 X 4.2
</p>
<p>R21.0
</p>
<p>R20.1
</p>
<p>R0.4
</p>
<p>R0.5
</p>
<p>R6.4
</p>
<p>R20.1
</p>
<p>Y 2.0
</p>
<p>R2.2
</p>
<p>R10.5
</p>
<p>For searching the same address as specified
here, set the cursor to this position, and press
soft key [SRCH].
</p>
<p>The same address is searched, and the cursor shifts
to this position.
</p>
<p>Search a sequence program by using the following soft keys. For the
following soft keys, see Fig. 5.2.
</p>
<p>FUNCTN
</p>
<p>INSNET DELNET ADRESS
</p>
<p>TOP BOTTOM SRCH
</p>
<p>RETURN
</p>
<p>N-SRCH
</p>
<p>SEARCH
</p>
<p>W-SRCH
</p>
<p>NEXT
</p>
<p>F-SRCH C-DOWN C-UP
</p>
<p>�� �� �� �� � � �����
</p>
<p>(1) Soft key [TOP]
</p>
<p>When this key is pressed, the start of the sequence program is
displayed on the screen and the cursor shifts to this start position.
</p>
<p>(2) Soft key [BOTTOM]
</p>
<p>When this key is pressed, the last of the sequence program is
displayed on the screen, and the cursor shifts to this position.
</p>
<p>(3) Soft key [SRCH]
</p>
<p>This key is used to search a specified address. It searches the specified
address from the program of the cursor part to the last program of this
screen, and displays the address on the screen.
</p>
<p>5.2.5
Search of Sequence
Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>450
</p>
<p>a) Method of specifying the address by the cursor
</p>
<p>Set the cursor to the relay contact part of the address to be
searched and press soft key [SRCH].
</p>
<p>The system searches the same address as the address specified by
the cursor from the cursor program on the presently displayed
screen to the end of the program (SUB 48).
</p>
<p>When the same address is found, the program part is displayed
on the screen, and the cursor shifts to the address part. If the same
address is not found as a result of this search, an error is displayed.
</p>
<p>b) Method of specifying the address by inputting it
</p>
<p>Input an address to be searched by using address and numeric
keys and press soft key [SRCH]. The same address as specified
is searched from the program of the cursor part on the presently
displayed screen to the last of the program (SUB 48).
</p>
<p>When the same address is found, the program part is displayed
on the screen, and the cursor shifts to the address part.
</p>
<p>If the same address is not found as a result of this search, an error
is displayed.
</p>
<p>(4) Soft key [W-SRCH]
</p>
<p>This key specified an address of the relay coil to be searched, and
searches the relay coil of the specified address from the program at
the cursor part to the end of the program (SUB 48) on this screen.
Then, it displays the relay coil on the screen.
</p>
<p>Two methods are available to specify the address of the relay coil to
be searched.
</p>
<p>a) Method of specifying the address by cursor
</p>
<p>Set the cursor to the relay contact of the relay coil to be searched,
and press soft key [W-SRCH].
</p>
<p>The corresponding relay coil is searched from the program of the
cursor part to the end of the program (SUB 48).
</p>
<p>When the relay coil is found, the program part is displayed on the
screen, and the cursor shifts to the relay coil.
</p>
<p>If no corresponding relay coil is found as a result of search, an
error occurs.
</p>
<p>b) Method of specifying the address by inputting it
</p>
<p>Input the address of the relay coil to be searched by both address
and numeric keys, and then, press soft key [W-SRCH].
</p>
<p>The specified address relay coil is searched from the program of
the cursor part on the presently displayed screen to the end of
program (SUB 48).
</p>
<p>When the specified address relay coil is found, the program part
is displayed on the screen, and the cursor shifts to the relay coil.
</p>
<p>If no relay coil is found as a result of search, an error is displayed.
</p>
<p>(5) Soft key [N-SRCH]
</p>
<p>Display the ladder with the specified NET number from the top of the
screen.
</p>
<p>If the number is not typed in but the [N-SRCH] key is pressed, the
display is scrolled down by one NET.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>451
</p>
<p>(6) Soft key [F-SRCH]
</p>
<p>Type in the functional instruction number and press the [F-SRCH]
key to start searching the functional instruction. When the [F-SRCH]
key is pressed during execution of a functional instruction, the
functional instruction with the same number as this instruction is
searched.
</p>
<p>(7) Searching with cursor keys (&lt;�&gt;, &lt;�&gt;, &lt;�&gt;, &lt;�&gt;)
</p>
<p>� Type in the address or symbol and press the cursor key to start
searching the address. When the &rdquo;�&rdquo; key is pressed, the operation
is performed in the same manner when the [SRCH] key is pressed.
</p>
<p>� Type in NET NO. and press the cursor key to start searching the NET
NO.
</p>
<p>� Type in the functional instruction name or functional instruction
number with &rdquo;S&rdquo; and press the cursor key to start searching the
functional instruction.
</p>
<p>Example) Type in &rdquo;END1&rdquo; or &rdquo;S1&rdquo; and press the cursor key to 
search functional instruction END1.
</p>
<p>The sequence program with multiple NETs can be copied in NETs.
Specify the NET to be copied and the copy position with the cursor. The
number of copies can be also specified.
</p>
<p>FUNCTN
</p>
<p>COPY MOVE
</p>
<p>UNTIL CANCEL SEARCH
</p>
<p>RETURN
</p>
<p>C-UPC-DOWN
</p>
<p>TO CANCEL SEARCH C-UPC-DOWN
</p>
<p>�� �� �� �� � � �����
</p>
<p>1 Copying
</p>
<p>Move the cursor to the NET to be copied and press the [COPY] key.
The NET to be copied blinks on the screen.
</p>
<p>2 Copying multiple NETs
</p>
<p>Move the cursor with the cursor UP/DOWN key, [C-UP] key,
[C-DOWN] key, or [SEARCH] key to blink the NETs to be copied.
Type in a value and press [C-UP] or [C-DOWN] key to scroll up or
down the screen by the number of times specified by this value.
</p>
<p>3 Setting the NET to be copied
</p>
<p>Press the [UNTIL] key.
</p>
<p>4 Specifying the copying address
</p>
<p>Press the [TO] key to start copying a NET. The NET is copied into
the position above the cursor. If the number of copies is typed in
before the [TO] key is pressed, the NET is copied the specified
number of times.
</p>
<p>5.2.6
Copying the Sequence
Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>452
</p>
<p>5 If the cursor is moved to the first NET and the number of NETs is
typed in when the NETs to be copied are known, steps 1 through 3
can be omitted by pressing the [COPY] key.
</p>
<p>NOTE
An error NET cannot be copied.
</p>
<p>The sequence program with multiple NETs can be moved in NETs.
Specify the NET to be moved and the move position with the cursor. The
number of times of moving NETs can be also specified.
</p>
<p>FUNCTN
</p>
<p>COPY MOVE
</p>
<p>UNTIL CANCEL SEARCH
</p>
<p>RETURN
</p>
<p>C-UPC-DOWN
</p>
<p>TO CANCEL SEARCH C-UPC-DOWN
</p>
<p>�� �� �� �� � � �����
</p>
<p>1 Moving
</p>
<p>Move the cursor to the NET to be copied and press the [MOVE] key.
The NET to be moved blinks on the screen.
</p>
<p>2 Moving multiple NETs
</p>
<p>Moving the cursor with the cursor UP/DOWN key, [C-UP] key,
[C-DOWN] key, or [SEARCH] key to blink the NETs to be moved.
Type in a value and press [C-UP] or [C-DOWN] key to scroll up or
down the screen by the number of times specified by this value.
</p>
<p>3 Setting the NET to be moved
</p>
<p>Press the [UNTIL] key.
</p>
<p>4 Specifying the copying address
</p>
<p>Press the [TO] key to start copying a NET.
</p>
<p>The NET is moved to the position above the cursor.
</p>
<p>5 If the cursor is moved to the first NET and the number of NETs is
typed in when the NETs to be moved are known, steps 1 through 3
can be omitted by pressing the [MOVE] key.
</p>
<p>NOTE
An error NET cannot be copied.
</p>
<p>5.2.7
Moving the Sequence
Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>453
</p>
<p>While editing a sequence program, symbol data and comment can be
edited.
</p>
<p>(1) The symbol data and comment assigned to undefined address can be
edited.
a) Move the cursor to the position where a contact or coil is to be
</p>
<p>inputted.
b) Enter an address, enter the symbol and comment enclosed in
</p>
<p>characters other than alphanumeric characters, then press the soft
key of [contact or coil].
(Example) When the contact X8.4 is assigned the symbol
</p>
<p> &ldquo;*ESP&rdquo; and the comment &ldquo;EMERGENCY STOP&rdquo;.
Operation : Depress [contact] soft key after 
entering &ldquo;X8.4/ *ESP/EMERGENCY STOP/&rdquo;.
</p>
<p>(2) The symbol data and comment assigned to the address already
defined can be edited.
a) Move the cursor on the address part where symbol data or
</p>
<p>comment will be edited.
b) Enter the symbol and comment enclosed in characters other than
</p>
<p>alphanumeric characters, then press the &lt;INPUT&gt; key.
(Example) When the contact X8.4 is assigned the symbol
</p>
<p>&ldquo;*ESP&rdquo; and the comment &ldquo;EMERGENCY STOP&rdquo;.
Operation : Depress the &lt;INPUT&gt; key after 
</p>
<p>entering &ldquo;/*ESP/ EMERGENCY
STOP/&rdquo;.
</p>
<p>(3) The symbol data and comment only can be edited by the similar
operation to the above (1) and (2).
a) For entering &ldquo;X8.4/*ESP/&rdquo; or &ldquo;/*ESP/&rdquo; with the &ldquo;INPUT&rdquo; key,
</p>
<p>the symbol data only can be edited.
b) For entering &ldquo;X8.4//EMERGENCY STOP/&rdquo; or
</p>
<p>&ldquo;//EMERGENCY STOP/&rdquo; with the &ldquo;INPUT&rdquo; key, the comment
only can be edited.
</p>
<p>The address in a sequence program can be replaced with another address
by the procedure below.
</p>
<p>COPY MOVE CHANGE
</p>
<p>O-ADR CANCEL
</p>
<p>N-ADR CANCEL
</p>
<p>EXEC CANCEL SEARCH C-UPC- DOWN
</p>
<p>(1) Changing the address while checking it one by one
a) Press the [CHANGE] key.
</p>
<p>5.2.8
Editing Symbol Data
and Comment at Once
</p>
<p>5.2.9
Address Change of
Sequence Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>454
</p>
<p>b) Input the original address and press the [O-ADR] key.
</p>
<p>c) Input the new address and press the [N-ADR] key.
</p>
<p>d) Press the [EXEC] key for executing the change.  After
completion, the cursor will shift downward to the nearest address
to be changed.
</p>
<p>If the [EXEC] key is pressed again at the point, the address
change can be continued.
</p>
<p>(2) Changing the address within the specified range
</p>
<p>a) Press the [CHANGE] key, and move the cursor to the address to
be changed.
</p>
<p>b) Input the original address and press the [O-ADR] key.
</p>
<p>c) Input the new address and press the [N-ADR] key.
</p>
<p>d) The specified range will be brightened by using the [C-DOWN]
or [C-UP] key. 
All the addresses within the specified range can be changed.
</p>
<p>e) Press the [EXEC] key for executing the change.
</p>
<p>(3) Address designation by a wild card
</p>
<p>The address to be changed can be designated by using the &ldquo;*&rdquo; code
as a wild card.
</p>
<p>(Example) &ldquo;X*.0&rdquo; means X0000.0, X0001.0, . . . . , X9999.0.  
&ldquo;X0000.*&rdquo; means X0000.0, . . . . , X0000.7.
&ldquo;X*&rdquo; means X0000, X0001, . . . . , X9999.
</p>
<p>The wild card can be used for both of the original address (O-ADR)
and new adress (N-ADR).
</p>
<p>The following are examples by wild card.
</p>
<p>a) &ldquo;X0.*&rdquo; to &ldquo;D100.*&rdquo;
X0000.0 � D0100.0
X0000.1 � D0100.1
                  :  
X0000.7 � D0100.7
</p>
<p>b) &ldquo;X*.0&rdquo; to &ldquo;X*.7&rdquo;
X0000.0 � X0000.7
X0001.0 � X0001.7
                 :  
X9999.0 � X9999.7
</p>
<p>[Limit items]
</p>
<p>    � The address of data part in Functional instruction &ldquo;DISP&rdquo;
cannot be changed.
</p>
<p>    � If the original address (O-ADR) and new address (N-ADR) are
different in address name and the byte part of new address
(N-ADR) is specified by a wild card, the change can not be
done.
</p>
<p>Example) D1234.0 � X*.7, D* � X*
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>455
</p>
<p>Set and delet the address of each module in I/O unit as follows.  The
relation between these functions and soft keys is as shown in the
following figure.
</p>
<p>RUN EDIT I/O
</p>
<p>TITLE LADDER SYMBOL MESAGE
</p>
<p>NEXT
</p>
<p>RETURN
</p>
<p>SYSPRM MONIT
</p>
<p>CLEAR MODULE
</p>
<p>INPUT SEARCH DELETE
</p>
<p>RETURN
</p>
<p>IOSTRT
</p>
<p>NEXT
</p>
<p>����5.3 Address setting for I/O unit
</p>
<p>(1) Address setting for each module
</p>
<p>1 Press the soft key [MODULE].
</p>
<p>The following module address setting screen is displayed.
</p>
<p>2 Move the cursor to the address to be set, and input data in the
order of GROUP, BASE, SLOT, and NAME and press
INPUT key. Input a dot (.) as a delimiter of each data.
</p>
<p>Example) When setting the AID16A module with group = 0,
base = 0, and slot = 5
0. 0. 5. ID16A
</p>
<p>Table 3.2.2 in Section I-3.2 lists the necessary names for the
NAME column.
</p>
<p>3 Set all data of the module employed to aimed addresses  by
using the cursor key and page key.
</p>
<p>5.3
I/O UNIT ADDRESS
SETTING (MODULE)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>456
</p>
<p>PMC I/O MODULE
</p>
<p> ADDRESS GROUP BASE SLOT  NAME  ADDRESS GROUP BASE SLOT  NAME
   X000    2    0     2   ID16C   Y000    3    0     1   #1
   X001    2    0     2   ID16C   Y001    3    0     5   #1
   X002    3    0     9   #2      Y002
   X003    3    0     9   #2      Y003
   X004    3    0    30   #2      Y004    2    0     1   OD16C
   X005    3    0    30   #2      Y005    2    0     1   OD16C
   X006    3    0    10   #2      Y006    2    1     1   OD32D
   X007    3    0    10   #2      Y007    2    1     1   OD32D
   X008    3    0    20   #2      Y008    2    1     1   OD32D
   X009    3    0    20   #2      Y009    2    1     1   OD32D
   X010    3    0     0   ##      Y010    2    0     3   OD16C
   X011    3    0     0   ##      Y011    2    0     3   OD16C
   X012    3    0     0   ##      Y012
   X013    3    0     0   ##      Y013
   X014    0    0     1   FS04A   Y014    0    0     1   FS04A
</p>
<p>GROUP.BASE.SLOT.NAME =
&gt;2.0.4.OD08C
</p>
<p>I/O Unit
MODEL B
</p>
<p>I/O Unit
MODEL A
</p>
<p>Power
Mate
</p>
<p>CAUTION
I/O module data items are made valid in the power-on
sequence.  When changing settings, be sure to turn off the
power and turn it on to validate the settings.
However, the power need not be turned off and on again to
validate settings when the programmer function version
displays the soft key IOSTRT, (described later (item 4).
Press the IOSTRT key after changing data.
</p>
<p>(2) Delete of address
</p>
<p>A preset address of each module can be deleted as follows:
</p>
<p>1 Move the cursor to the address to be deleted, and press soft
key [DELET] (see Fig. 5.3).
</p>
<p>2 The preset address data are deleted.
</p>
<p>(3) Soft key [SEARCH]
</p>
<p>Searches the type-in address.
</p>
<p>1 Type in the address to be searched and press the [SEARCH]
key.
</p>
<p>2 The typed-in address starts being displayed from the top of
the screen.
</p>
<p>(4) Validate the assignment data.
</p>
<p>I/O module data is validated when the power is turned on.  If I/O
module data is changed without changing the configuration of the I/O
devices, the new I/O module data is validated when the IOSTRT key
is pressed.
</p>
<p>The conditions where the IOSTRT key is displayed depend on the
version of the programmer function.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>457
</p>
<p>(5) Error and warning messages issued during the editing of assignment
data
</p>
<p>No. Error or warning message Description
</p>
<p>1 ERR : GROUP NO. (0-15) The group number must be from 0 to 15.
</p>
<p>2 ERR : BASE NO. (0-3) The base number must be from 0 to 3.
</p>
<p>3 WARN : BASE NO. MUST BE 0 The base number must be 0 for the I/O Unit-B.  It is forcibly set to 0.
</p>
<p>4 ERR : SLOT NO. (1-10) The slot number must be from 1 to 10 for the I/O Unit-A.
</p>
<p>5 ERR : SLOT NO. (0, 1-30) The slot number must be from 0 to 30 for the I/O Unit-B.
</p>
<p>6 ERR : SLOT NO. MUST BE 0 The slot number must be 0 to set the power-on/off information for the I/O Unit-B.
</p>
<p>7 ERR : ILLEGAL NAME An invalid or unsupported assignment name has been entered.  Enter a correct name.
</p>
<p>8 INPUT INVALID An invalid character string has been entered.  Reenter with a correct format.
</p>
<p>9 INPOSSIBLE WRITE An attempt has been made to edit ROM data.  ROM data cannot be edited.
</p>
<p>10 ERR : ADDRESS ALREADY ASSIGNED The specified address is already assigned.  Assign another address or retry after
deleting the existing data.
</p>
<p>11 ERR : ADDRESS OVER An address exceeds the upper limit (X127, Y127).  Check the addresses used for the
unit to be set.
</p>
<p>12 ERR : SLOT ALREADEY DEFINED The specified slot is already assigned.  Check the existing data.
</p>
<p>13 WARN : SLOT ALREADY DEFINED The specified slot is already assigned.  Check the existing data.
</p>
<p>14 ERR : UNIT TYPE MISMATCH (IN OR OUT) An X address cannot be assigned to an output module.  A Y address cannot be
assigned to an input module.
</p>
<p>15 ERR : UNIT TYPE MISMATCH (MODEL) I/O Unit-A and I/O Unit-B are assigned in the same group.  I/O Unit-A and I/O Unit-B
cannot exist in the same group.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>458
</p>
<p>A signal name (within 6 alphanumeric characters) can be attached to I/O
signals and internal relays employed in sequence programs.
</p>
<p>Also, a comment (within 30 alphanumeric characters) can be attached to
the relay coils in addition to the symbol name.
</p>
<p>Symbol data and comment are displayed together with a ladder diagram
on the CRT/MDI screen as follows.
</p>
<p>  MA SPDALM X2.4 R2.2 Y4.3 ATCALM R100.1 MRDY
</p>
<p> APCALM R5.4                             MALM
</p>
<p> R120.1 TIND D20.7                      R52.1
</p>
<p>MACHINE
READY
</p>
<p>MACHINE
ALARM
</p>
<p>Signal name
(within 6 
characters)
</p>
<p>Comment 
within 30 
characters
</p>
<p>10 lines
</p>
<p>APC
</p>
<p>If symbol data and comment are defined in signal addresses  of the
program, the signal name and comment are displayed as Shown in the
above figure.
</p>
<p>If neither symbol data nor comment is defined at an address, the address
is displayed as it is.
</p>
<p>A maximum of 64 KBytes can be used for the ladder, symbol, comment,
and data.  After the program is initialized, the capacity of the symbol area
and that of the comment area are usually 32KB (28KB for PMC&ndash;NB)
each.  When additional data is entered causing the total amount of data in
either area to exceed 32KB (28KB for PMC&ndash;NB), the area is
automatically extended in 1KB units.
</p>
<p>STOP EDIT I/O
</p>
<p>TITLE LADDER SYMBOL MESAGE
</p>
<p>INPMOD DELETE SEARCH
</p>
<p>RETURN
</p>
<p>SYSPRM MONIT
</p>
<p>RETURN
</p>
<p>COPY
</p>
<p>����5.4(a) Setting and display of symbol data
</p>
<p>5.4
SYMBOL DATA
SETTING (SYMBOL)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>459
</p>
<p>When soft key [SYMBOL] is pressed, the following screen is displayed,
and the soft key operation is done hereafter.
</p>
<p>SYMBOL &amp; COMMENT 001
</p>
<p>ADDRESS SYMBOL COMMENT
      *---------* *------*-------*--------------*
</p>
<p>����5.4(b) Symbol data screen
</p>
<p>Refer to Fig. 5.4 (a) and Fig. 5.4 (b). Input symbol data and comment on
the screen shown in Fig. 5.4 (b).
1 Press &lt;INPUT&gt; key after inputting an address where a symbol and
</p>
<p>a comment are to be set.
</p>
<p>The input address is set to the ADDRESS column of Fig. 5.4 (b), and
the cursor shifts to the address. The input addresses are arrange and
set in the alphabetic sequence, and they can be inserted halfway.
</p>
<p>2 For setting a symbol, shift the cursor rightward by using the cursor
key.
</p>
<p>3 After setting symbol data (within 6 alphanumeric characters), press
INPUT key.
</p>
<p>The symbol data are set in the SYMBOL column of Fig. 5.4 (b), and
the cursor shifts to the COMMENT column.
</p>
<p>4 For inputting a comment, set comment data (within 30 alphanumeric
characters), and press INPUT key.
</p>
<p>Comment data are set to the COMMENT column in Fig. 5.4 (b).
Repeat steps 1 to 4 hereafter.
</p>
<p>Display the screen shown in Fig. 5.4 (b) and search symbol data
(1) After setting an address or symbol data to be searched, press soft key
</p>
<p>[SRCH].
Specified address or symbol data is searched and displayed on the
screen.
The cursor shifts to the corresponding address part.
</p>
<p>Move the cursor to the address to be deleted in the ADDRESS column of
Fig. 5.4 (b), and press soft key [DELETE].
</p>
<p>5.4.1
Symbol Data and
Comment Input
</p>
<p>5.4.2
Symbol Data Search
(SRCH)
</p>
<p>5.4.3
Delete of Symbol data
and Comment
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>460
</p>
<p>The edit modes can be changed by pressing the [INPMOD] soft key as
follows:
</p>
<p>Maximum
character input
</p>
<p>Insertion mode
(INSERT)
</p>
<p>Replacement 
mode (ALTER)
</p>
<p>Character string edit status
</p>
<p>&rdquo;INSERT&rdquo; is displayed on the screen in the insertion mode.  &rdquo;ALTER&rdquo;
is displayed on the screen in the replacement mode.
</p>
<p>� When the &lt;INPUT&gt; key is pressed
</p>
<p>(1) In the character string edit status
</p>
<p>Insertion mode : The entered character is inserted at the cursor.
If the [INPUT] key is pressed after no 
character is entered, one space is inserted.
</p>
<p>Replacement mode : The character at the cursor is replaced with
the entered character.  If the [INPUT] key
is pressed after no character is entered, the
character at the cursor is replaced with one
space.
</p>
<p>(2) When the length of the cursor is the same as the number of
characters that can be entered.
</p>
<p>The original character string are replaced with the entered
characters.
</p>
<p>� When the &lt;DELETE&gt; key is pressed
</p>
<p>(1) In the character string edit status
</p>
<p>Insertion mode : The character at the cursor is deleted.
</p>
<p>Replacement mode : The character at the cursor is replaced with
a space.
</p>
<p>(2) When the length of the cursor is the same as the number of
characters that can be entered
</p>
<p>The character string at the cursor is deleted.
</p>
<p>NOTE
The cursor having the size equivalent to the total size of the
maximum number of characters that can be entered is
displayed in the address section.
</p>
<p>An address, symbol, and comment can be entered at one time.
</p>
<p>(1) Editing the symbol and comment assigned to address not defined
</p>
<p>Enter an address, enter the symbol and comment enclosed in
characters other than alphanumeric characters, then press the
&lt;INPUT&gt; key.
</p>
<p>The cursor may be located anywhere.  A comment can be omitted.
</p>
<p>Example) G0.4 / *EMG / EMERGENCYSW/ &lt;INPUT&gt; key
Address  Symbol Comment
</p>
<p>5.4.4
Editing Character
Strings of Symbol Data
and Comment Data
</p>
<p>5.4.5
Function for editing
symbol data and
comment data at one
time
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>461
</p>
<p>(2) Editing the symbol and comment assigned to address already defined
</p>
<p>Move the cursor to the desired line of the address whose symbol and
comment are to be edited.
</p>
<p>Next, enter the symbol and comment enclosed in characters other than
alphanumeric characters.
</p>
<p>Then, press the &lt;INPUT&gt; key.  A comment can be omitted.
</p>
<p>Copy the specified data to re-edit and register it.
</p>
<p>INPMOD DELETE SEARCH
</p>
<p>SYMBOL ALL CANCEL
</p>
<p>RETURN
</p>
<p>COPY
</p>
<p>UNTIL CANCEL
</p>
<p>EXEC INPMOD DELETE CANCEL
</p>
<p>(1) Press the [COPY] soft key.
</p>
<p>(2) Select data to be copied with the corresponding soft key.
</p>
<p>[ALL] :  The address, symbol data, and comment data are copied.
</p>
<p>[SYMBOL] :  The address and symbol data are copied.
</p>
<p>When either of the above soft keys is pressed, the line at the cursor
is specified as the beginning of the range of the data to be copied.
</p>
<p>(3) Specify the range with the [�] and [�] cursor keys.
</p>
<p>� A range of more than 15 lines cannot be specified.  Up to 15 lines can
be displayed on one screen.
</p>
<p>� A range cannot be specified at a position above the cursor position.
When the copy range of the data is specified, the data is displayed
differently.
</p>
<p>(4) Press the [UNTIL] soft key to determine the copy range.
</p>
<p>(5) Edit the address and symbol data according to the procedure
described in Sections 5.4.1 and 5.4.4.
</p>
<p>(6) When updating the data is completed, press the [EXEC] soft key to
register the copied data.
</p>
<p>5.4.6
Function of Copying
Symbol and Comment
Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>462
</p>
<p>Message data are used for PMC functional instruction DISPB (SUB 41).
</p>
<p>The setting and display methods are as shown below.
</p>
<p>RUN
(STOP)
</p>
<p>EDIT I/O
</p>
<p>TITLE LADDER SYMBOL MESAGE
</p>
<p>NEXT
</p>
<p>INPMOD DELETE SRCH
</p>
<p>RET
</p>
<p>SYSPRM MONIT
</p>
<p>DSPMOD
</p>
<p>ETC D.CHAR
</p>
<p>RET
</p>
<p>COPY
</p>
<p>����5.5(a)
</p>
<p>When soft key MESAGE is pressed, the next screen is displayed, and
setting operation can be done hereafter.
</p>
<p>MESSAGE        001
  NO.        MESSAGE
 A 00.0
 A 00.1
</p>
<p> A 01.1
</p>
<p>����5.5(b) Message data  screen
</p>
<p>After initialization, the capacity of the message area is approx. 2.1KB.
When additional data is entered causing the total amount of data in the
area to exceed 2.1KB, the message area is automatically extended in 1KB
units to a maximum of 64KB.
</p>
<p>5.5
MESSAGE DATA
SETTING (MESSAGE)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>463
</p>
<p>Refer to Fig. 5.5(a) and Fig. 5.5 (b). Display the screen shown in Fig. 5.5
(b).
</p>
<p>1 Display a number to set a message data by using PAGE key.
</p>
<p>2 Shift the cursor to this number by the cursor key.
</p>
<p>3 After setting message data, press INPUT key.
</p>
<p>If the message data has already been entered, it is deleted and the set
data is entered.
</p>
<p>Repeat steps 1 to 3 hereafter.
</p>
<p>(1) Specify an address to be searched for, and press the [SRCH] soft key.
</p>
<p>Then, the specified address is searched for and displayed on the
screen.
</p>
<p>Edit modes can be changed by pressing the [INPMOD] soft key as
follows:
</p>
<p>Maximum char-
acter input (32
characters)
</p>
<p>Insertion input
(INSERT)
</p>
<p>Replacement input
(ALTER)
</p>
<p>Character string edit status
</p>
<p>The edit mode is changed every time the [INPMOD] soft key is pressed.
</p>
<p>[INSERT] is displayed on the screen in the insertion mode.
</p>
<p>[ALTER] is displayed on the screen in the replacement mode.
</p>
<p>� When the &lt;INPUT&gt; key is pressed
</p>
<p>(1) In the character string edit status
</p>
<p>Insertion mode : The entered character is inserted at the cursor.
</p>
<p>Replacement mode : The character at the cursor is replaced with
the entered character.
</p>
<p>(2) When the maximum number of characters are entered
</p>
<p>The original character string at the cursor is replaced with the
entered characters.
</p>
<p>� When the &lt;DELETE&gt; key is pressed
</p>
<p>(1) In the character string edit status
</p>
<p>Insertion mode : The character at the cursor is deleted.
</p>
<p>Replacement mode : The character at the cursor is replaced with
a space.
</p>
<p>(2) When the maximum number of characters are entered
</p>
<p>The character string at the cursor is deleted.
</p>
<p>(3) When the cursor is located at the address field
</p>
<p>The entire message data specified at the address is deleted.
</p>
<p>5.5.1
Message Data Input
</p>
<p>5.5.2
Searching for an
Address (SRCH)
</p>
<p>5.5.3
Editing a Character
String in Message Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>464
</p>
<p>If no &ldquo;@&rdquo; key on the MDI key, pressing the [ETC] soft key enables the
operator to enter the data enclosed between at signs (@).
</p>
<p>When the soft key is pressed, &rdquo;ETC CODE&rdquo; is displayed on the screen.
</p>
<p>Move the cursor to the message number to be copied and press the
[COPY] key.
</p>
<p>Then press the [EXEC] key after moving the cursor to the message
number in which it is copied.
</p>
<p>The input mode becomes multi-byte character by pressing the [D.CHAR]
key.
</p>
<p>(@02, 01@ are added to input data automatically.)
</p>
<p>For example, &ldquo;4873 [INPUT]&rdquo; is processed  as &ldquo;@02487301@&rdquo;.
</p>
<p>The ASCII code enclosed with @ characters is displayed in the form of
screen display by pressing the [DSPMOD] key.
</p>
<p>Example) Katakana : &ldquo;@B6C532@&rdquo; � &ldquo; &rdquo; is displayed.
Multi-byte character  : &ldquo;@0248733E6F44643B5F01@100&rdquo;
</p>
<p>� &ldquo; &rdquo; is displayed.
</p>
<p>5.5.4
Input with a Katakana
Identification Code
</p>
<p>5.5.5
Copying Message Data
(COPY)
</p>
<p>5.5.6
Inputting a Multi-byte
Character (D.CHAR)
</p>
<p>5.5.7
Displaying Input Code
(DSPMOD)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>465
</p>
<p>RUN
(STOP)
</p>
<p>EDIT I/O
</p>
<p>TITLE LADDER SYMBOL MESAGE
</p>
<p>NEXT
</p>
<p>MODULE CROSS
</p>
<p>RET
</p>
<p>SYSPRM
</p>
<p>CLEAR
</p>
<p>CLRTTL CLRLAD CLRSYM
</p>
<p>RET
</p>
<p>CLRALL CLRMDL CONDNS CLREXT
</p>
<p>CLRTMR CLRCNT CLRKPR
</p>
<p>CLRALL
</p>
<p>NEXT
</p>
<p>NEXT
</p>
<p>CLRMSG
</p>
<p>CLRPRM
</p>
<p>CLRDT
</p>
<p>CLRLNG
</p>
<p>Clears each data in the sequence program
</p>
<p>The function of the key is as follows:
</p>
<p>(1) [CLRTTL] : Clears the title data.
</p>
<p>(2) [CLRLAD] : Clears the ladder program.
</p>
<p>(3) [CLRSYM] : Clears the symbol and comment data.
If the extend symbol and comment data is cleared,
the field is restored to the original size.
</p>
<p>(4) [CLRMSG] : Clears the message data.
If the extend message data is cleared, the field is
restored tothe original size.
</p>
<p>(5) [CLRLNG] : The C language area is cleared. Clear the C language
area before transferring a C program. When a C
language board is installed in the Series 16i/18i, this
item is displayed.
</p>
<p>(6) [CLRALL] : Clear all data described in the above (1) to (4).  Clear
also the C language programs for models which 
create C language programs, such as models 
PMC-RC, RC3, RC4, NB, and NB2.
Press this soft key when the message &ldquo;PLEASE 
CLEAR ALL&rdquo; is displayed.
</p>
<p>5.6
CLEARING THE
SEQUENCE
PROGRAM AND
CONDENSATION OF
THE SEQUENCE
PROGRAM
</p>
<p>5.6.1
Clearing the Sequence
Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>466
</p>
<p>(7) [CLRMDL] : Clears the I/O module data.
</p>
<p>(8) [CONDNS] : Compress the sequence program in 1KB units.
The detail will be explained chapter 5.6.2.
</p>
<p>(9) [CLRPRM] : Clears each parameter data. 
The detail will be explained chapter 5.6.3.
</p>
<p>(10) [CLREXT] : Clears the expand nonvolatile memory (valid for
PMC-RC/RC3/RC4/NB/NB2)
</p>
<p>NOTE
When using a system that incorporates flash ROM, clear the
flash ROM before writing to it. If the power is turned on again
without performing this operation, sequence program data
is not cleared.
</p>
<p>Compresses the sequence program in 1KB units.
</p>
<p>(1) [CONDNS] : Compresses the unused area in the message, symbol,
or comment area in the sequence program in 1KB
units when the capacity of the unused area extends
1KB.  The unused area, which is the size less than
1KB, will not be compressed.
</p>
<p>Clears each PMC parameter.
</p>
<p>The function of the key is as follows:
</p>
<p>(1) [CLRTMR] : Clears timer data.
</p>
<p>(2) [CLRCNT] : Clears counter data.
</p>
<p>(3) [CLRKPR] : Clears keep relay data.
</p>
<p>(4) [CLRDT] : Clears data table.
</p>
<p>(5) [CLRALL] : Clear all data described in the above (1) to (4).
</p>
<p>NOTE
These functions require the same condition as PMC data
setting in operation For [CLRALL], all conditions are
required.  See &ldquo;Chapter II.4. PMC PARAMETER SETTING
AND DISPLAY&rdquo;
</p>
<p>5.6.2
Compress the
Sequence Program
</p>
<p>5.6.3
Clearing the PMC
Parameter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>467
</p>
<p>The cross reference is displayed for PMC address and functional
instruction used in a sequence program.
</p>
<p>Cross reference display has the following functions.
</p>
<p>(1) Display NET number by specifying the PMC address.
</p>
<p>(2) Display the address list by specifying PMC address name (G, F, Y,
&middot;  &middot;  ).
</p>
<p>(3) Display a functional instruction list.
</p>
<p>(4) Display NET number by specifying the functional instruction
number.
</p>
<p>Pressing the [CROSS] key displays the cross reference screen for setting
parameters.
</p>
<p>Press soft key [CRSREF] in the parameter setting screen for displaying
the cross reference of address and functional instruction in use.  Press soft
key [CRSPRM] to return to the parameter setting screen from cross
reference display.
</p>
<p>RUN
(STOP)
</p>
<p>EDIT I/O
</p>
<p>TITLE LADDER SYMBOL MESAGE
</p>
<p>NEXT
</p>
<p>MODULE CROSS
</p>
<p>RET
</p>
<p>SYSPRM MONIT
</p>
<p>CLEAR
</p>
<p>CRSREF INPUT
</p>
<p>RET
</p>
<p>CRSPRM
</p>
<p>INIT
</p>
<p>5.7
CROSS REFERENCE
DISPLAY
</p>
<p>5.7.1
Operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>468
</p>
<p>To display cross reference, the address and reference type need to be
specified on the parameter screen.
</p>
<p>1. In &ldquo;SELECT CROSS TYPE&rdquo;, input &ldquo;1&rdquo;.
</p>
<p>2. In &ldquo;1: REFERENCE ADDRESS&rdquo;, input addresses which should be
displayed.  (maximum number of input: 8)
</p>
<p>3. Press [CRSREF] key.
</p>
<p>The address, symbol, relay and the NET number will be displayed as
shown in Fig. 5.7.2 (b).
</p>
<p>PMC CROSS REFERENCE
</p>
<p> SELECT CROSS TYPE  =  1
 ( 1:ADDRESS 2:ADRS KIND 3:FUNCTION.NO )
    1:REFERENCE  ADDRESS
             1 =  X0000.0   5 =
             2 =            6 =
             3 =            7 =
             4 =            8 =
    2:ADRS KIND     =
      ( G /F /Y /X /A /R /K /C /D /P /L )
    3:FUNCTION.NO   =     ( ALL=0 )
</p>
<p> [ CRSREF] [ INPUT ] [      ] [ INIT  ] [      ]
</p>
<p>����5.7.2 (a) Cross Reference Setting (TYPE1)
</p>
<p>PMC CROSS REFERENCE
</p>
<p>    X0000.0         ABCDE
   :    1      2
     ( )  :    4      32
</p>
<p> [ CRSPRM] [      ] [      ] [      ] [      ]
</p>
<p>����5.7.2 (b) Cross Reference Display (TYPE1)
</p>
<p>5.7.2
Parameter Setting
Screen
</p>
<p>Display the reference of
addresses which are
used.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>469
</p>
<p>1. In &ldquo;SELECT CROSS TYPE&rdquo;, input &rdquo;2&rdquo;.
</p>
<p>2. In &ldquo;2: ADRS KIND&rdquo;, input the address name.
</p>
<p>3. Press [CRSREF] key.
</p>
<p>The bit/byte addresses and the related symbol in the sequence
program will be displayed as shown in Fig.5.7.2 (d).
</p>
<p>PMC CROSS REFERENCE
</p>
<p> SELECT CROSS TYPE  =  2
 ( 1:ADDRESS 2:ADRS KIND 3:FUNCTION.NO )
    1:REFERENCE  ADDRESS
             1 =  X0000.0   5 =
             2 =            6 =
             3 =            7 =
             4 =            8 =
    2:ADRS KIND     =  X
      ( G /F /Y /X /A /R /K /C /D /P /L )
    3:FUNCTION.NO   =     ( ALL=0 )
</p>
<p> [ CRSREF] [ INPUT ] [      ] [ INIT  ] [      ]
</p>
<p>����5.7.2 (c) Cross Reference Setting (TYPE2)
</p>
<p>PMC CROSS REFERENCE
</p>
<p> HEAD CHARACTER =  X
</p>
<p>  USED ADDRESS  =  X0000.0
  SYMBOL NAME   =  ABCDE
</p>
<p>                   X0000
                   SYMBOL NOTHING
</p>
<p> [ CRSPRM] [      ] [      ] [      ] [      ]
</p>
<p>����5.7.2 (d) Cross Reference Display (TYPE2)
</p>
<p>Display the reference of
each address name
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. EDITING OF SEQUENCE
PROGRAM (EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>470
</p>
<p>1. In &ldquo;SELECT CROSS TYPE&rdquo;, input &ldquo;3&rdquo;. 
</p>
<p>2. In &ldquo;3: FUNCTION. NO&rdquo;, input &ldquo;0&rdquo;.
</p>
<p>3. Press [CRSREF] key.
</p>
<p>The functional instruction name and the functional instruction
number in the sequence program will be displayed as shown in
Fig.5.7.2 (f).
</p>
<p>PMC CROSS REFERENCE
</p>
<p> SELECT CROSS TYPE  =  3
 ( 1:ADDRESS 2:ADRS KIND 3:FUNCTION.NO )
    1:REFERENCE  ADDRESS
             1 =  X0000.0   5 =
             2 =            6 =
             3 =            7 =
             4 =            8 =
    2:ADRS KIND     =
      ( G /F /Y /X /A /R /K /C /D /P /L )
    3:FUNCTION.NO   =     ( ALL=0 )
</p>
<p> [ CRSREF] [ INPUT ] [      ] [ INIT  ] [      ]
</p>
<p>����5.7.2 (e) Cross Reference Setting (TYPE3)
</p>
<p>PMC CROSS REFERENCE
</p>
<p> FUNCTION NAME    END1(  1)    END2(  2)
                 COD(  7)
</p>
<p> [ CRSPRM] [      ] [      ] [      ] [      ]
</p>
<p>����5.7.2 (f) Cross Reference Display (TYPE3)
</p>
<p>Display a functional
instruction list in use
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. EDITING OF SEQUENCE
</p>
<p> PROGRAM (EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>471
</p>
<p>1. In &ldquo;SELECT CROSS TYPE&rdquo;, input &ldquo;3&rdquo;. 
</p>
<p>2. In &ldquo;3: FUNCTION. NO&rdquo;, input the functional instruction number.
</p>
<p>3. Press [CRSREF] key.
</p>
<p>The functional instruction name, functional instruction number and
NET number in the sequence program will be displayed as shown in
Fig.5.7.2 (g).
</p>
<p>PMC CROSS REFERENCE
</p>
<p> FUNCTION NO.  =  7
 FUNCTION NAME =  COD
 USED NET NO.  =      6  14
</p>
<p> [ CRSPRM] [      ] [      ] [      ] [      ]
</p>
<p>����5.7.2 (g) Displaying of Cross Reference (TYPE3)
</p>
<p>Display the reference of
functional instruction
(FUNCTION. NO =
number of the functional
instruction)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. EXECUTION OF A SEQUENCE
PROGRAM B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>472
</p>
<p>6 EXECUTION OF A SEQUENCE PROGRAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
6. EXECUTION OF A SEQUENCE
</p>
<p> PROGRAMPMC PROGRAMMER (CRT/MDI)
</p>
<p>473
</p>
<p>Start and Stop of a sequence program are described as follows.
</p>
<p>PMCLAD PMCDCN PMCPPM
</p>
<p>RUN
or STOP
</p>
<p>EDIT I/O SYSPRM
</p>
<p>RETURN
</p>
<p>MONIT
</p>
<p>����6.1 The sequence program execution software key
</p>
<p>An operable sequence program is usually automatically started when
power is turned on if the program is stored in ROM.  However, the
program is not started if it is stored in RAM.
</p>
<p>(1) Start of a sequence program (RUN)
</p>
<p>When a sequence program is at the stopped state, pressing the [RUN]
key causes the sequence program to run displaying the software key
as [STOP].
</p>
<p>The ladder program starts from the beginning.  However, whether
C-language programs start from the beginning depends on the
function selected in advance.
</p>
<p>a) When a C-language program starts from the beginning
Functions selected in advance:  Ladder editing, reading the
system parameter, reading a sequence program using
input/output processing
</p>
<p>b) When a C-language program does not start from the beginning
but restarts from the next step after stopping
Function selected in advance:  Functions other than the function
in item (a)
</p>
<p>NOTE
Both ladder and C-language programs start from the
beginning immediately after the power is turned on.
</p>
<p>(2) Stop of a sequence program (STOP)
</p>
<p>When a sequence program is at the run state, pressing the [STOP] key
causes the sequence program to stop displaying the software key as
[RUN].
</p>
<p>6.1
START AND STOP OF
A SEQUENCE
PROGRAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. EXECUTION OF A SEQUENCE
PROGRAM B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>474
</p>
<p>The sequence program can be automatically started immediately after
power&ndash;on, when bit 2 of keep relay K17 (PMC parameter) is set to 1.
</p>
<p>NOTE
For the Series 16/18&ndash;MODEL B/C, Series
16i/18i/21i&ndash;MODEL A, automatic start is specified when
bit 2 of K17 is set to 0.
</p>
<p>To forcibly stop starting the sequence program in ROM or RAM, at
power-on, turn on the power by pressing the [Z] key while pressing the
[CAN] key.  (Except for PMC&ndash;NB/NB2)
</p>
<p>This method is effective for locating the error when a system error occurs
after power is turned on and when the error may be caused by the sequence
program.
</p>
<p>Never perform this operation in a normal state.
</p>
<p>6.2
STARTING THE
SEQUENCE
PROGRAM
</p>
<p>6.3
FORCIBLY
STOPPING THE
SEQUENCE
PROGRAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND
</p>
<p>PMC PARAMETER DATAPMC PROGRAMMER (CRT/MDI)
</p>
<p>475
</p>
<p>7
WRITING, READING, AND VERIFYING THE SEQUENCE
PROGRAM AND PMC PARAMETER DATA
</p>
<p>When the [I/O] key is pressed, the sequence program and PMC data are
written, read, or collated for the specified device.  Operations are
performed with cursor keys and soft keys.
</p>
<p>RUN EDIT I/O
</p>
<p>CANCEL (NO.)
</p>
<p>RETURN
</p>
<p>SYSPRM
</p>
<p>EXEC
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND 
PMC PARAMETER DATA B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>476
</p>
<p>When the [I/O] key is pressed, the sequence program and PMC data are
written, read, or collated for the specified device.  Operations are
performed with cursor keys and soft keys.
</p>
<p>RUN EDIT I/O
</p>
<p>EXEC CANCEL (NO.)
</p>
<p>NEXT
</p>
<p>SPEED
</p>
<p>RETURN
</p>
<p>SYSPRM
</p>
<p>PMC I/O PROGRAM                      MONIT STOP
</p>
<p>     CHANNEL   =   1
</p>
<p>     DEVICE    = HOST
</p>
<p>     DATA KIND =
     (ALL:LADDER + LANGUAGE)
</p>
<p>     FUNCTION  =
</p>
<p>&gt;
</p>
<p>   ALM
</p>
<p> [ EXEC ] [ CANCEL] [  HOST ] [ FDCAS ] [ F-ROM ]
</p>
<p>[Case of FS16/18]
</p>
<p>PMC I/O PROGRAM                      MONIT STOP
</p>
<p>     CHANNEL   =   1
</p>
<p>     DEVICE    = HOST
</p>
<p>     DATA KIND =
</p>
<p>     FUNCTION  =
</p>
<p>&gt;
</p>
<p> [ EXEC ] [ CANCEL] [  HOST ] [ FDCAS ] [ ROMWRT]
</p>
<p> [       ] [ OTHERS] [ SPEED ] [      ] [  COPY ]
</p>
<p>7.1
OVERVIEW
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND
</p>
<p>PMC PARAMETER DATAPMC PROGRAMMER (CRT/MDI)
</p>
<p>477
</p>
<p>NOTE
The sequence program can be output while the ladder is
being executed, but the output speed is low.  When the
sequence program is input while the ladder is being
executed, the execution of the ladder is automatically
stopped.
</p>
<p>Conventionally, C programs have been managed together with ladder
programs. For this reason, when only a ladder program is to be modified
as shown in Fig. 7.1.1 (a), the program linked with a C program needs to
be replaced.
With the FANUC Series 16i/18i/160i/180i, ladder programs and C
programs are managed separately. So, each program can be edited and
replaced independently of the other programs as shown in Fig. 7.1.1 (b).
</p>
<p>Ladder
+ 
C
</p>
<p>Download
Upload
</p>
<p>C
</p>
<p>NC
</p>
<p>Download
</p>
<p>Ladder
+ 
C
</p>
<p>����7.1.1 (a)  Ladder and C Structure for FANUC Series 16B/16C
</p>
<p>Upload
</p>
<p>C
</p>
<p>NC
</p>
<p>Ladder
</p>
<p>C
</p>
<p>LadderDownload
</p>
<p>Upload
Download
</p>
<p>����7.1.1 (b)  Ladder and C Structure for FANUC Series 16 i/18i/160i/180i
</p>
<p>7.1.1
C Input/Output
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND 
PMC PARAMETER DATA B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>478
</p>
<p>(1) CHANNEL
</p>
<p>Specify which connector the reader/punch interface (such as
RS-232C) is connected to.  CHANNEL must be set when HOST,
FDCAS, or OTHERS is selected for DEVICE.
</p>
<p>(2) DEVICE
</p>
<p>Select the device with which the PMC inputs or outputs data, using
soft keys.
</p>
<p>Soft key Description
</p>
<p>HOST Transfers data with a FAPT LADDER (P-G, P-G Mate, or personal
computer).
(See Subsection 7.3.1 for details.)
</p>
<p>FDCAS Transfers data with a FANUC FD cassette.
(See Subsection 7.3.2 for details.)
</p>
<p>F-ROM Transfers data with flash EEPROM.  This is where the sequence program is
stored.
(See Subsection 7.3.3 for details.)
</p>
<p>M-CARD Transfers data with a memory card.
(See Subsection 7.3.4 or details.)
</p>
<p>OTHERS Transfers data with other input/output devices.
(See Subsection 7.3.5 for details.)
</p>
<p>SPEED Used to set transfer conditions when RS-232C is used.
(See Subsection 7.3.6 for details.)
</p>
<p>ROMWRT Transfers data with a ROM WRITER.
(See Subsection 7.3.6 for details)
</p>
<p>NOTE
Some functions cannot be used with some PMC models.
See Section 7.3.
</p>
<p>(3) DATA KIND
</p>
<p>Select the type of output data using soft keys.  DATA KIND must be
set when FDCAS, M-CARD, or OTHERS is selected for DEVICE.
</p>
<p>DATA KIND CONTENTS
</p>
<p>ALL Output the data of sequence program and C program
</p>
<p>LADDER Output the data of sequence program
(Ladder, Symbol, Comment, Message, etc.)
</p>
<p>PARAM
(Note 1)
</p>
<p>Output PMC Parameters
(TIMER, COUNTER, KEEP RELAY, DATA TABLE, etc.)
</p>
<p>C&ndash;LANG
(Note 2)
</p>
<p>Outputs a C program.
</p>
<p>NOTE
1 The conditions of outputting PMC parameters
</p>
<p>1) When sequence program is stopped 
You can input/output them.
</p>
<p>2) When sequence program is executed
You must satisfy the following conditions.
Output (WRITE) Set NC to &ldquo;EDIT&rdquo; mode.. 
Input (READ) Set NC to &ldquo;Emergency Stop&rdquo; status,. . . . 
</p>
<p>and, set &ldquo;PWE&rdquo; of NC parameters to 1.
2 When a C language board is installed in the Series 16i/18i,
</p>
<p>the item of C&ndash;LANG is displayed, and C program output is
enabled.
</p>
<p>7.2
SET ITEMS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND
</p>
<p>PMC PARAMETER DATAPMC PROGRAMMER (CRT/MDI)
</p>
<p>479
</p>
<p>(4) FUNCTION
</p>
<p>Select the direction of data transfer between the PMC and
input/output device.
</p>
<p>Item Description
</p>
<p>WRITE Outputs data from the PMC to an input/output device.
</p>
<p>READ Inputs data from an input/output device to the PMC.
</p>
<p>COMPARE Collates data in the PMC and an input/output device.
(Note)  PMC data cannot be collated.
</p>
<p>DELETE Deletes a file in FDCAS or M-CARD.
</p>
<p>LIST Lists the files in FDCAS or M-CARD.
</p>
<p>BLANK Performs blank check for F-ROM.
</p>
<p>ERASE Clears the data in F-ROM.
</p>
<p>FORMAT Initializes M-CARD (clears all data).
</p>
<p>(5) FILE NO.
</p>
<p>FILE NO. is displayed when FDCAS or M-CARD is selected for
DEVICE.  Specify the file number or file name for WRITE, READ,
COMPARE, or DELETE processing.  Note the following restrictions
on the file name when FDCAS or M-CARD is selected for DEVICE:
</p>
<p>FDCAS (FANUC FD
CASSETTE)
</p>
<p>M-CARD (MEMORY
CARD)
</p>
<p>Number of characters
in the file name
</p>
<p>Up to 17 characters following @
or #.  The file is written after the
existing files.
</p>
<p>Up to 8 characters following @
or #(*1).
</p>
<p>When the same name
as an existing file is
specified
</p>
<p>An error occurs.  Delete the
existing file and reoutput the
new file.
</p>
<p>The new file is written over the
existing file (the contents of the
existing file are lost).
</p>
<p>When -1 is specified
for the file name
</p>
<p>The file is written after the
existing files.
</p>
<p>The system names the file and
writes it(*2).
</p>
<p>When 0 is specified for
the file name
</p>
<p>The file is written and all the
existing files are deleted.
</p>
<p>The system names the file and
writes it(*2).
</p>
<p>DATA KIND File name
</p>
<p>ALL model-name.ALL
</p>
<p>LADDER model-name.LAD
</p>
<p>PARAM model-name.PRM
</p>
<p>NOTE
1 Name the file in the MS-DOS format (up to eight characters
</p>
<p>for the file name with up to three characters for the
extension).
Example)  FILE NO. = @12345678.123
</p>
<p>     FILE NO. = @LADDER.EXE
2 If the file name is not specified, the system names the file
</p>
<p>as follows:
</p>
<p>The model name is
PMC-NB for the
PMC-NB and PMC-RA
for the PMC-RA1 or
PMC-RA3.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND 
PMC PARAMETER DATA B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>480
</p>
<p>(a)  Setting the channel
</p>
<p>Move the cursor to &rdquo;CHANNEL = .&rdquo;  Check that an RS-232C cable
is connected to the main board.  Enter the number (1 or 2)
corresponding to the connector.  The correspondence between the
connector and CHANNEL is as follows:
</p>
<p>CHANNEL = 1 : JD5A (main board)
CHANNEL = 2 : JD5B (main board)
</p>
<p>(b)  Setting the transfer conditions
</p>
<p>Press the [SPEED] soft key and set each condition.  See Subsection
7.3.6 for details.
</p>
<p>(c)  Writing, reading, or collating the sequence program
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [HOST] soft key.
</p>
<p>Press the [EXEC] soft key and to make the NC ready for operation.
</p>
<p>Select necessary items on a FAPT LADDER and start transfer.
</p>
<p>NOTE
WRITE, READ, or COMPARE is automatically switched by
operation on a FAPT LADDER.
</p>
<p>Reads or writes the sequence program, Pascal or C programs, or PMC
data.
</p>
<p>PMC I/O PROGRAM                      MONIT STOP
</p>
<p>     CHANNEL   =   1
</p>
<p>     DEVICE    = FDCAS
</p>
<p>     DATA KIND = ALL
     (ALL:LADDER + LANGUAGE)
     FUNCTION  = WRITE
</p>
<p>     FILE NO.  = -1
     (-1:ADD,0:INIT,OR @ NAME)
&gt;
</p>
<p>   ALM
</p>
<p> [ EXEC ] [ CANCEL] [  HOST ] [ FDCAS ] [ F-ROM ]
</p>
<p>(a)  Setting the channel
</p>
<p>Enter the number of the channel used at &rdquo;CHANNEL = .&rdquo;  See (a) in
Subsection 7.3.1 for details.
</p>
<p>7.3
OPERATIONS
</p>
<p>7.3.1
Transfer to and from a
FAPT LADDER
</p>
<p>7.3.2
Transfer to and from a
FANUC FD Cassette
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND
</p>
<p>PMC PARAMETER DATAPMC PROGRAMMER (CRT/MDI)
</p>
<p>481
</p>
<p>(b)  Setting the transfer conditions
</p>
<p>Press the [SPEED] soft key and set each condition.  See Subsection
7.3.6 for details.
</p>
<p>(c)  Writing a file
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [FDCAS] soft key.
</p>
<p>FUNCTION Press the [WRITE] soft key.
</p>
<p>DATA KIND Select the type of data to be output (see (3) in Section 7.2).
</p>
<p>FILE NO. Name the file within 17 characters.  -1 is displayed if no name is entered
(see (5) in Section 7.2).
</p>
<p>Press the [EXEC] soft key to start outputting the file.
</p>
<p>(d)  Reading a file
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [FDCAS] soft key.
</p>
<p>FUNCTION Press the [READ] soft key.
</p>
<p>FILE NO. Enter the number or name of the file to be input.
</p>
<p>Press the [EXEC] soft key to start inputting the file.
</p>
<p>(e)  Collating a file
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [FDCAS] soft key.
</p>
<p>FUNCTION Press the [COMPAR] soft key.
</p>
<p>FILE NO. Enter the number or name of the file to be collated.
</p>
<p>Press the [EXEC] soft key to start collating the file.
</p>
<p>Note
PMC data cannot be collated.  The data the file is to be
collated with depends on the file.
</p>
<p>(f)  Deleting a file
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [FDCAS] soft key.
</p>
<p>FUNCTION Press the [DELETE] soft key.
</p>
<p>FILE NO. Enter the number or name of the file to be deleted.
</p>
<p>Press the [EXEC] soft key to start deleting the file.
</p>
<p>(g)  Listing the files
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [FDCAS] soft key.
</p>
<p>FUNCTION Press the [LIST] soft key.
</p>
<p>Press the [EXEC] soft key to start listing the files.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND 
PMC PARAMETER DATA B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>482
</p>
<p>� : Supported
� : Not supported
</p>
<p>Power
Mate-D/F/G
</p>
<p>Power Mate-H
FS20
</p>
<p>FS21/
210MB FS18 FS16&ndash;A
</p>
<p>FS16&ndash;B
FS18&ndash;B
</p>
<p>FS16&ndash;C
FS18&ndash;C
</p>
<p>FS21i
FS16i
FS18i
</p>
<p>FS15B
</p>
<p>� � � � � � � � �
</p>
<p>Formerly, a RAM module or ROM module was necessary for storing
programs. Using Flash Memory, however, programs can be ROM-stored
on the PMC board.
</p>
<p>CAUTION
1 If the power is turned off without performing the writing
</p>
<p>operation, the updated sequence program is not stored.
2 The CNC must be placed in the emergency stop state when
</p>
<p>data is read from or written to Flash Memory.
3 Even if the sequence program is cleared with the X and O
</p>
<p>keys at power-on, the contents of Flash Memory are not
cleared.  Therefore, when the power is turned on again, the
sequence program in Flash Memory is read.  To clear the
contents of Flash Memory, write Flash Memory after
clearing the sequence program with X and O.
</p>
<p>PMC I/O PROGRAM                      MONIT STOP
</p>
<p>     CHANNEL   =   1
</p>
<p>     DEVICE    = F-ROM
</p>
<p>     DATA KIND =
     (ALL:LADDER + LANGUAGE)
     FUNCTION  = WRITE
</p>
<p> RAM SIZE = A ( MAX SIZE = B )
</p>
<p> PROGRAM ALREADY EXISTS (EXEC?)
&gt;
</p>
<p>   ALM
</p>
<p> [ EXEC ] [ CANCEL] [  HOST ] [ FDCAS ] [ F-ROM ]
</p>
<p>(a)  Writing data to Flash Memory
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [F-ROM] soft key.
</p>
<p>FUNCTION Press the [WRITE] soft key.
</p>
<p>Press the [EXEC] soft key to start outputting data.
</p>
<p>7.3.3
Storage to Flash ROM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND
</p>
<p>PMC PARAMETER DATAPMC PROGRAMMER (CRT/MDI)
</p>
<p>483
</p>
<p>NOTE
1 Operation in PMC&ndash;NB
</p>
<p>(a)If data is stored in Flash Memory, a message is displayed
to confirm writing.
</p>
<p>(b)RAM SIZE indicates the size of the sequence program.
MAX SIZE indicates the size of the ROM option in the
PMC.
A:  64K bytes,  B:  128K bytes, C:  256K bytes, 
D:  512K bytes, E:  1M bytes
</p>
<p>2 When a C board is installed in the Series 16i/18i, ladder
programs and C programs must be written into Flash
Memory separately.
(a)When a ladder program is written into Flash Memory,
</p>
<p>select [LADDER] from the DATA KIND item.
When a C program is written into Flash Memory, select
[C&ndash;LANG] from the DATA KIND item.
</p>
<p>(b)Select [WRITE] from the FUNCTION item.
(c)Press the [EXEC] soft key to start writing to Flash
</p>
<p>Memory.
</p>
<p>(b)  Reading data from Flash Memory
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [F-ROM] soft key.
</p>
<p>FUNCTION Press the [READ] soft key.
</p>
<p>Press the [EXEC] soft key to start inputting data.
</p>
<p>(c)  Comparing data in Flash Memory
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [F-ROM] soft key.
</p>
<p>FUNCTION Press the [COMPAR] soft key.
</p>
<p>Press the [EXEC] soft key to start comparing data.
</p>
<p>(d)  Checking if data is stored in Flash Memory
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [F-ROM] soft key.
</p>
<p>FUNCTION Press the [BLANK] soft key.
</p>
<p>Press the [EXEC] soft key to check if data is stored in Flash Memory.
</p>
<p>NOTE
Operation in PMC&ndash;NB
</p>
<p>When data is stored in Flash Memory :  BLANK ERROR is
displayed.
When no data is stored in Flash Memory :  BLANK
COMPLETE is displayed.
</p>
<p>(e)  Deleting data in Flash Memory
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [F-ROM] soft key.
</p>
<p>FUNCTION Press the [ERASE] soft key.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND 
PMC PARAMETER DATA B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>484
</p>
<p>Press the [EXEC] soft key to start deleting data.
</p>
<p>NOTE
In FS16B/18B, [READ], [COMPAR], [BLANK] and [ERASE]
functions are unavailable.
</p>
<p>� : Supported
� : Not supported
</p>
<p>Power
Mate-D/F/G
</p>
<p>Power Mate-H
FS20
</p>
<p>FS21/
210MB FS18 FS16&ndash;A
</p>
<p>FS16&ndash;B
FS18&ndash;B
</p>
<p>FS16&ndash;C
FS18&ndash;C
</p>
<p>FS21i
FS16i
FS18i
</p>
<p>FS15B
</p>
<p>� � � � � � � � �
</p>
<p>NOTE
This function is not supported on DPL/MDI of Power
Mate&ndash;H.
</p>
<p>Sequence programs and data are input from or output to a memory card
as described below. The memory card to which data is input from or
output to can directly send or receive data to or from the programming unit
(FAPT LADDER).
</p>
<p>The supported function and the kind of memory card is shown as below.
</p>
<p>Any kind of card has to be conformed to TYPE 1 to 2 of PCMCIA (The
Personal Computer Memory Card International Association ) 2.0 (or
later) or TYPE 1 to 2 of JEIDA (Japanese Electronics Development
Association) 4.0 (or later) . And the format is based on MS&ndash;DOS FAT file
system. The size of memory&ndash;card that can be used is up to 32Mbytes.
</p>
<p>The case of FS20,FS18B,FS16B FS18C, FS16C PMC
� : Supported
</p>
<p>� : Not supported
</p>
<p>SRAM Card Flash Memory Card
</p>
<p>Read of a file � �
</p>
<p>Format of a card � �
</p>
<p>Write of a file � �
</p>
<p>Delete of a file � �
</p>
<p>List of a file � �
</p>
<p>7.3.4
Storage to a Memory
Card
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND
</p>
<p>PMC PARAMETER DATAPMC PROGRAMMER (CRT/MDI)
</p>
<p>485
</p>
<p>The case of FS16i, FS18i, FS15B(PMC&ndash;NB)
� : Supported
</p>
<p>� : Not supported
Flash Memory Card
</p>
<p>SRAM Card
Supported Card UnsupportedCard
</p>
<p>Read of a file � � �
</p>
<p>Format of a card � � �
</p>
<p>Write of a file � � �
</p>
<p>Delete of a file � � �
</p>
<p>List of a file � � �
</p>
<p>(1) Flash memory card writing
</p>
<p>The following kinds of flash memory card are supported.
</p>
<p>� Intel Series 2 Flash Memory Cards (or compatible cards)
</p>
<p>Attribute memory is needed for any card.
</p>
<p>Files can be written on the card that is formatted by MS&ndash;DOS. But
there are following limitations.
</p>
<p>� It is impossible to alter a file that is already written.
</p>
<p>� A card that is formatted by Flash File System can not be used.
(Neither Read nor List)
</p>
<p>� The data can not be written in the last 128Kbyte of the card. So,
available size of a card is (Card_size &ndash; 128Kbyte). Please refer to
the following figure.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND 
PMC PARAMETER DATA B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>486
</p>
<p>Before Writing
</p>
<p>File&ndash;A
</p>
<p>File&ndash;B
</p>
<p>File&ndash;C
</p>
<p>File&ndash;D
</p>
<p>128Kbyte
</p>
<p>File&ndash;B
</p>
<p>File&ndash;C
</p>
<p>File&ndash;D
</p>
<p>128Kbyte
</p>
<p>Add
</p>
<p>File&ndash;A
</p>
<p>After  writing
</p>
<p>&rdquo;CLOSE ERROR&rdquo; is displayed and File&ndash;D cannot be saved.
</p>
<p>In the part of the ,the data of File&ndash;D is written. But &rdquo;read&rdquo; and
&rdquo;list&rdquo; functions are not available for File&ndash;D.
</p>
<p>After this operation, any file cannot be written to this card.
</p>
<p>There are following limitations due to the system that formats the
flash memory card.
</p>
<p>(a) When the card formatted and written files by FANUC products
is used by other systems.
</p>
<p>Ramu&ndash;zou
Note1)
</p>
<p>CardPro
Note2)
</p>
<p>Read of a file � �
</p>
<p>Add of file Not supported function �
</p>
<p>List of file � �
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND
</p>
<p>PMC PARAMETER DATAPMC PROGRAMMER (CRT/MDI)
</p>
<p>487
</p>
<p>NOTE
1 Ramu&ndash;zou is a memory card reader/writer that is made by
</p>
<p>ADTEK SYSTEM SCIENCE.
2 CardPro is a memory card reader/writer that is made by
</p>
<p>Data I/O.
</p>
<p>(b) When the card formatted and written files by other system is used
by FANUC products.
</p>
<p>Ramu&ndash;zou CardProNote3)
</p>
<p>Read of a file � �
</p>
<p>Add of file � �
</p>
<p>List of file � �
</p>
<p>NOTE
If you use the CardPro to format a flash memory card, type
the following command.
CPFORMAT drive&ndash;name: /F:FLASHFAT /NOCIS
</p>
<p>(2) Operation
</p>
<p>The operation is almost the same as Subsection 7.3.2 except that steps
(a) and (b) are not necessary for a memory card.
</p>
<p>PMC I/O PROGRAM MONIT STOP
</p>
<p>CHANNEL = 1
</p>
<p>DEVICE = M&ndash;CARD
</p>
<p>DATA KIND = PARAM
(ALL:LADDER + LANGUAGE)
FUNCTION = WRITE
</p>
<p>FILE NO. = &ndash;1
</p>
<p>(&ndash;1:ADD, 0:INIT, OR@ NAME)
</p>
<p>&gt;
</p>
<p>ALM
</p>
<p>[ M&ndash;CARD] [ OTHER] [ ] [ ] [ ]
</p>
<p>(a) Formatting the memory card
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [M-CARD] soft key.
</p>
<p>FUNCTION Press the [FORMAT] soft key.
</p>
<p>Press the [EXEC] soft key to start formatting.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND 
PMC PARAMETER DATA B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>488
</p>
<p>(b)Writing a file
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [M&ndash;CARD] soft key.
</p>
<p>FUNCTION Press the [WRITE] soft key.
</p>
<p>DATA KIND Select the type of data to be output.
(See (3) in Section 7.2)
</p>
<p>FILE NO. Name the file within 8 characters. &ndash;1 is displayed if no name is entered.
(See (5) in Section 7.2)
</p>
<p>Press the [EXEC] soft key to start outputting the file.
</p>
<p>If the file name is not specified, the system names the file as follows:
</p>
<p>DATA KIND File name
</p>
<p>ALL model-name.ALL
</p>
<p>LADDER model-name.LAD
</p>
<p>PARAM model-name.PRM
</p>
<p>(c) Reading a file
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [M&ndash;CARD] soft key.
</p>
<p>FUNCTION Press the [READ] soft key.
</p>
<p>FILE NO. Enter the number or name of the file to be input.
</p>
<p>Press the [EXEC] soft key to start inputting the file.
</p>
<p>(d)Collating a file
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [M&ndash;CARD] soft key.
</p>
<p>FUNCTION Press the [COMPAR] soft key.
</p>
<p>FILE NO. Enter the number or name of the file to be collated.
</p>
<p>Press the [EXEC] soft key to start collating the file.
</p>
<p>NOTE
PMC data cannot be collated.
</p>
<p>(e) Deleting a file
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [M&ndash;CARD] soft key.
</p>
<p>FUNCTION Press the [DELETE] soft key.
</p>
<p>FILE NO. Enter the number or name of the file to be deleted.
</p>
<p>Press the [EXEC] soft key to start deleting the file.
</p>
<p>(f) Listing the files
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [M&ndash;CARD] soft key.
</p>
<p>FUNCTION Press the [LIST] soft key.
</p>
<p>Press the [EXEC] soft key to start listing the files.
</p>
<p>The model name is PMC-NB for
the PMC-NB and PMC-RA for
the PMC-RA1 or RA3.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND
</p>
<p>PMC PARAMETER DATAPMC PROGRAMMER (CRT/MDI)
</p>
<p>489
</p>
<p>� : Supported
� : Not supported
</p>
<p>Power
Mate FS20
</p>
<p>FS21/
210MB FS18 FS16 FS18B FS16B
</p>
<p>FS16&ndash;C
FS18&ndash;C
</p>
<p>FS21i
FS16i
FS18i
</p>
<p>FS15B
</p>
<p>� � � � � � � � � �
</p>
<p>Reads or writes the sequence program, Pascal or C programs, or PMC
data.
</p>
<p>PMC I/O PROGRAM                      MONIT STOP
</p>
<p>     CHANNEL   =   1
</p>
<p>     DEVICE    = OTHERS
</p>
<p>     DATA KIND = ALL
     (ALL:LADDER + LANGUAGE)
     FUNCTION  = WRITE
</p>
<p>&gt;
</p>
<p>   ALM
</p>
<p> [ M-CARD] [ OTHERS] [ SPEED ] [       ] [       ]
</p>
<p>(a)  Setting the channel
</p>
<p>Enter the number of the channel used at &rdquo;CHANNEL = .&rdquo;  See (a) in
Subsection 7.3.1 for details.
</p>
<p>(b)  Setting the transfer conditions
</p>
<p>Press the [SPEED] soft key and set each condition.  See Subsection
7.3.6 for details.
</p>
<p>(c)  Outputting data (PMC to input/output device)
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [OTHERS] soft key.
</p>
<p>FUNCTION Press the [WRITE] soft key.
</p>
<p>DATA KIND Select the type of data to be output (see (3) in Section 7.2).
</p>
<p>Set the input/output device so that it is ready to accept data (wait state).
</p>
<p>Press the [EXEC] soft key to start outputting data.
</p>
<p>(d)  Inputting data (input/output device to PMC)
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [OTHERS] soft key.
</p>
<p>FUNCTION Press the [READ] soft key.
</p>
<p>Press the [EXEC] soft key and wait until data input finishes.
</p>
<p>The input/output device starts outputting data.
</p>
<p>7.3.5
Data Input to and
Output from other
Devices
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND 
PMC PARAMETER DATA B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>490
</p>
<p>CAUTION
If DATA ERROR is displayed when a C program is written
with the Series 16i/18i, perform the following:
1 Clear the C language area by pressing soft keys [EDIT],
</p>
<p>[CLEAR], [CLRLNG], then [EXEC].
2 Read the C program again.
3 On the system parameter screen, set LANGUAGE
</p>
<p>ORIGIN.
4 Write the C program into flash ROM.
</p>
<p>(e)  Collating data
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [OTHERS] soft key.
</p>
<p>FUNCTION Press the [COMPAR] soft key.
</p>
<p>Press the [EXEC] soft key and wait until data collation finishes.
</p>
<p>The input/output device starts outputting data.
</p>
<p>NOTE
PMC data cannot be collated.  The data the file is to be
collated with depends on the file.
</p>
<p>� : Supported
� : Not supported
</p>
<p>Power
Mate FS20
</p>
<p>FS21/
210MB FS18 FS16 FS18B FS16B
</p>
<p>FS16&ndash;C
FS18&ndash;C
</p>
<p>FS21i
FS16i
FS18i
</p>
<p>FS15B
</p>
<p>� � � � � � � � � �
</p>
<p>PMC SPEED OTHERS                     MONIT STOP
</p>
<p>     BAUD RATE  = 3
     (0:1200,1:2400,2:4800,3:9600,4:19200)
</p>
<p>     PARITY BIT = 0
     (0:NONE,1:ODD,2:EVEN)
</p>
<p>     STOP BIT   = 1
     (0:1BIT,1:2BIT)
</p>
<p>     WRITE CODE = 1
     (0:ASCII,1:ISO)
&gt;
</p>
<p>   ALM
</p>
<p> [ INPUT ] [       ] [       ] [       ] [  INIT  ]
</p>
<p>The items shown above must be set when RS-232C is used for
communication.  Move the cursor to each item and enter a number.
Pressing the [INIT] soft key sets each item to the initial value.  &rdquo;WRITE
CODE = &rdquo; is displayed only when OTHERS is selected for DEVICE.
</p>
<p>7.3.6
Setting the Transfer
Speed ([SPEED] Soft
Key)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND
</p>
<p>PMC PARAMETER DATAPMC PROGRAMMER (CRT/MDI)
</p>
<p>491
</p>
<p>The table below lists the setting for communication with a FAPT
LADDER.
</p>
<p>Item
Setting on the
</p>
<p>personal
computer
</p>
<p>Setting on the PMC (SPEED
screen)
</p>
<p>Baud rate (bps) 9600 BAUD RATE = 3 (9600bps)
</p>
<p>Character length 8 bits
</p>
<p>Parity check No parity PARITY BIT = 0 (NONE)
</p>
<p>Number of stop
bits
</p>
<p>2 bits STOP BIT = 1 (2BIT)
</p>
<p>X parameter None
</p>
<p>� : Supported
� : Not supported
</p>
<p>Power
Mate FS20
</p>
<p>FS21/
210MB FS18 FS16 FS18B FS16B
</p>
<p>FS16&ndash;C
FS18&ndash;C
</p>
<p>FS21i
FS16i
FS18i
</p>
<p>FS15B
</p>
<p>� � � � � � � � � �
</p>
<p>Reads or writes the sequence program, Pascal or C programs, or PMC
data.
</p>
<p>This function is valid for the built-in programer function.
</p>
<p>(a)  Writing a file
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [ROMWRT] soft key.
</p>
<p>FUNCTION Press the [WRITE] soft key.
</p>
<p>Press the [EXEC] soft key to start outputting the data.
</p>
<p>(b)  Reading a file
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [ROMWRT] soft key.
</p>
<p>FUNCTION Press the [READ] soft key.
</p>
<p>Press the [EXEC] soft key to start inputting the data.
</p>
<p>(c)  Collating a file
</p>
<p>Item Operation
</p>
<p>DEVICE Press the [ROMWRT] soft key.
</p>
<p>FUNCTION Press the [COMPAR] soft key.
</p>
<p>Press the [EXEC] soft key to start collating the data.
</p>
<p>7.3.7
Transfer to and from a
ROM WRITER
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND 
PMC PARAMETER DATA B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>492
</p>
<p>When the machine tool builder creates a MDI keyboard which has no
cursor keys on the PMC-MODEL RA1/RA3 of the FS 20, note the
following methods of operation.  Ladder diagrams cannot be edited using
the ladder-diagram-edit memory card.
</p>
<p>On each setting screen, when an item is specified, the cursor automatically
moves to the next item to be specified.  When the item at the cursor need
not be modified, specify the same value again.  When the item at the
bottom of the screen has been specified, the cursor automatically moves
to the item at the top of the screen (CHANNEL setting).  When the return
key (leftmost soft key) is pressed to exit from the I/O screen, the cursor
automatically moves to the top of the screen.  Examples of setting items
are shown below.
</p>
<p>Example 1)When a ladder program is output to an off-line programmer
(such as the P-G or a personal computer)
</p>
<p>1 CHANNEL setting : Enter the desired channel number,
then press the &lt;INPUT&gt; key or 
[(NO.)] key.  To use the current value,
just press the &lt;INPUT&gt; key or 
[(NO.)] key.
</p>
<p>2 DEVICE setting : Press the [HOST] key.  The cursor 
returns to the CHANNEL setting 
position to enable CHANNEL 
setting.
</p>
<p>Example 2)When a ladder program is written into an F-ROM
</p>
<p>1 CHANNEL setting : No specification required.  To move 
the cursor, perform the operation 
described in 1 of Example 1.
</p>
<p>2 DEVICE setting : Press the [F-ROM] key.
</p>
<p>3 FUNCTION setting : No specification required.  To change
the CHANNEL setting, press the 
[WRITE] key to return the cursor to 
the CHANNEL setting position.
</p>
<p>Example 3)When a ladder program or a PMC parameter is read from or
written into an FDCAS (M-CARD)
</p>
<p>1 CHANNEL setting : See 1 of Example 1 (or 1 of Example
2).
</p>
<p>2 DEVICE setting : Press the [FDCAS] ([M-CARD]) key.
</p>
<p>3 DATA KIND setting: Press the [LADDER] key for ladder 
operation.  Press the [PARAM] key 
for PMC-parameter operation.
</p>
<p>4 FUNCTION setting : Press the [READ]/[WRITE] key.
</p>
<p>5 FILE NO. setting : Enter the desired file number or file 
name, then press the &lt;INPUT&gt; key or
[EXEC] key.  When the current value
is used, just press the &lt;INPUT&gt; key.
The cursor automatically returns to 
the CHANNEL setting position.  The
setting can be modified.
</p>
<p>In each example, pressing the [EXEC] key after setting data executes the
corresponding processing.
</p>
<p>7.3.8
Notes on Using an MDI 
Keyboard without
Cursor Keys
(when using the FS20
PMC&ndash;MODEL
RA1/RA3)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND
</p>
<p>PMC PARAMETER DATAPMC PROGRAMMER (CRT/MDI)
</p>
<p>493
</p>
<p>Message CONTENTS � OPERATION
</p>
<p>PROGRAM ALREADY EXISTS A program is already stored in the FLASH ROM (during blank check).
</p>
<p>PROGRAM ALREADY EXISTS (EXEC ?) A program is already stored in the FLASH ROM (during writing or deleting data).
Action) Press the EXEC key again when the message is displayed.  Data is then written
</p>
<p>or deleted.
</p>
<p>PROGRAM NOTHING No program is in the FLASH ROM.
</p>
<p>ERASE ERROR The FLASH ROM is faulty and must be replaced.  Consult your FANUC service office.
</p>
<p>F
L
</p>
<p>WRITE ERROR
L
S
H
</p>
<p>READ ERROR
H
</p>
<p>R
ANOTHER USED The FLASH ROM is being used by a device other than the PMC.
</p>
<p>R
O
</p>
<p>MUST BE IN EMG STOP NOT EMG STOP The CNC is not in the emergency stop state.
O
M F&ndash;ROM WRITE ERROR 37
</p>
<p>NO OPTION There is no ROM cassette option.
</p>
<p>SIZE ERROR The size of the program exceeds the FLASH ROM size (during writing of the sequence
program).
Action) Use the CONDENSEM function (EDIT/CLEAR screen).  If the error persists, the
</p>
<p>FLASH ROM size must be increased.
The size of the program exceeds the RAM size (during reading of the sequence program).
Action) The RAM size must be increased.
</p>
<p>H
O
</p>
<p>I/O OPEN ERROR nn nn = -1:  The RS-232C interface is being used by a device other than the PMC.
Action) Check if another device is using the RS-232C interface.
</p>
<p>Check that, on the online setting screen (Section 8.5.1 in Part III), NOT USE is
set for the RS&ndash;232C item.
</p>
<p>nn = 6:  There is no RS-232C option.
nn = 20:  The RS-232C interface is connected incorrectly.
Action) Check that the connection and the setting, such as channel and baud rate, are
</p>
<p>correct.
O
S
T
.
F
D
C
</p>
<p>I/O WRITE ERROR nn nn = 20:  The RS-232C interface is connected incorrectly.
Action) Check that the connection and the setting, such as channel and baud rate, are
</p>
<p>correct.
nn = 22:  Communication cannot be performed normally.
Action) Check if a cable is disconnected.
</p>
<p>C
A
S
.
O
T
H
</p>
<p>I/O READ ERROR nn nn = 20:  The RS-232C interface is connected incorrectly.
Action) Check that the connection and the setting, such as channel and baud rate, are
</p>
<p>correct.
nn = 22:  Communication cannot be performed normally.
Action) Check if a cable is disconnected.
</p>
<p>H
E
R
</p>
<p>ADDRESS IS OUT OF RANGE (xxxxxx) Data other than that stored in the PMC debugging RAM area has been transferred.
xxxxxx:  Transfer address
</p>
<p>R
S DATA ERROR Invalid data was read.
</p>
<p>Action) Check the cable and setting (SPEED).
When a C program is read into the Series 16i/18i:
Action) Clear the C language area by pressing soft keys [EDIT], [CLEAR], [CLRLNG],
</p>
<p>then [EXEC].
</p>
<p>PROGRAM DATA ERROR Data output contains an error
Action) On the alarm screen, check the details of the alarm.
</p>
<p>7.4
I/O ERROR
MESSAGES
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND 
PMC PARAMETER DATA B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>494
</p>
<p>CONTENTS � OPERATIONMessage
</p>
<p>CREATE ERROR The file name is invalid.
Action) Name the file is the MS&ndash;DOS format (see(5) of Section 7.2).
</p>
<p>NO MORE SPACE
WRITE ERROR
</p>
<p>The memory card capacity is insufficient.
Action) Replace the memory card or delete unnecessary files and retry.
</p>
<p>NOT READY The memory card is not mounted.
Action) Confirm if the memory card is mounted correctly.
</p>
<p>MOUNT ERROR The memory card is not formatted.
Action) Format the memory card (see (a) of Subsection 7.3.4).
</p>
<p>WRITE PROTECT The memory card is protected.
Action) Remove the protection of the memory card.
</p>
<p>M
E
</p>
<p>BATTERY ALARM The battery of the memory card is not enough.
Action) Exchange the battery of the memory card.
</p>
<p>E
M
O
</p>
<p>FILE NOT FOUND Specified file number or file name is not found.
Action) Confirm the file number or the file name by LIST.
</p>
<p>R
Y
</p>
<p>DELETE ERROR The file cannot be deleted.
Action) Change the attribute of the file.
</p>
<p>C
A
R
</p>
<p>PROGRAM ALREADY EXISTS The file name already exists.
Action) Change to other file name.
</p>
<p>R
D I/O WRITE ERROR nn
</p>
<p>I/O READ ERROR nn
I/O COMPARE ERROR nn
I/O DELETE ERROR nn
I/O LIST ERROR nn
I/O FORMAT ERROR nn
</p>
<p>nn=30 : The memory card is not mounted.
Action) Confirm if the memory card is mounted correctly.
nn=31 : The data cannot be written to the memory card.
Action) Remove the protection of the memory card.
</p>
<p>Exchange the memory card for the S&ndash;RAM card.
nn=32 : The battery of the memory card is not enough.
Action) Exchange the battery of the memory card.
nn=102: The memory card capacity is insufficient.
Action) Replace the memory card or delete unnecessary files and retry.
nn=135: The memory card is not formatted.
nn=105: ditto
Action) Format the memory card.
nn=114: Specified file is not found.
Action) Confirm the file number or the file name by LIST.
nn=115: Specified file is protected.
Action) Confirm the attribute of the file.
</p>
<p>C
o
</p>
<p>COMPARE ERR XXXXXX = AA:BB
CONT?(Y/N)
</p>
<p>The data between DEVICE and PMC is different.
XXXXXX : Address
 aa : The data in PMC
 bb : The data in DEVICE
Action) If you continue it, press Y key.  
</p>
<p>Otherwise, press N key.
m
m
o
n
</p>
<p>DATA ERROR Invalid data was read.
Action) Check the cable and setting (SPEED).
When a C program is read into the Series 16i/18i:
Action) Clear the C language area by pressing soft keys [EDIT], [CLEAR], [CLRLNG],
</p>
<p>then [EXEC].
</p>
<p>PROGRAM DATA ERROR Data output contains an error.
Action) On the alarm screen, check the details of the alarm.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND
</p>
<p>PMC PARAMETER DATAPMC PROGRAMMER (CRT/MDI)
</p>
<p>495
</p>
<p>The data items of the sequence program stored in EPROM can be copied
into the debugging RAM module for PMC-RA1, PMC-RA2, PMC-RB,
and PMC-RB2.
</p>
<p>The following shows the relationship between the function and soft keys.
</p>
<p>RUN EDIT I/O
</p>
<p>EXEC CANCEL (NO.)
</p>
<p>NEXT
</p>
<p>RETURN
</p>
<p>SYSPRM MONIT
</p>
<p>ROM
</p>
<p>CPYTTL CPYLAD CPYSYM
</p>
<p>COPY
</p>
<p>CPYALL CPYMDL
</p>
<p>NEXT
</p>
<p>CPYMSG
</p>
<p>Copies title data.
</p>
<p>Copies a ladder program.
</p>
<p>Copies symbol data and comment data.
</p>
<p>Copies message data.
</p>
<p>7.5
SEQUENCE
PROGRAM COPY
FUNCTION
</p>
<p>7.5.1
Copy Title Data
[CPYTTL]
</p>
<p>7.5.2
Copy a Ladder
Program [CPYLAD]
</p>
<p>7.5.3
Copy Symbol Data and
Comment Data
[CPYSYM]
</p>
<p>7.5.4
Copy Message Data
[CPYMSG]
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>7. WRITING, READING, AND VERIFYING
THE SEQUENCE PROGRAM AND 
PMC PARAMETER DATA B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>496
</p>
<p>Copies all the sequence programs into the debugging RAM.
</p>
<p>Copies I/O module data.
</p>
<p>NOTE
If the I/O module data is different from the currently selected
data during copying in Subsection 7.5.5 or 7.5.6, turn off the
power and restart the system.
</p>
<p>Two channels cannot be used for the reader/punch interface at the same
time.  Before performing these I/O operations, be sure to terminate the
system other than the PMC and processing through the reader/punch
interface in the PMC program.
</p>
<p>7.5.5
Copy the Sequence
Programs [CPYALL]
</p>
<p>7.5.6
Copy I/O Module Data
[CPYMDL]
</p>
<p>7.6
RESTRICTIONS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>497
</p>
<p>8
FUNCTIONS FOR DISPLAYING MEMORY AREAS AND
DEBUGGING THE PROGRAM (MONIT)
</p>
<p>Press the [MONIT] soft key on the basic programmer menu to display the
basic monitor menu shown in Fig. 8.  Pressing an appropriate soft key
enables the user to display memory areas used for a user program written
in the C language or to debug a program.
</p>
<p>�  :  Can be used
�  :  Cannot be used
</p>
<p>∆  :  Can be used (with some restrictious)
PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� � � � � � � � � � ∆ ∆ � � � � �
</p>
<p>Work RAM is necessary (A02B-0120-H987 for the PMC-RC and RC3
and A02B-0162-J151 or A02B-0162-J152 for the PMC-NB).
</p>
<p>These functions facilitate debugging a user program created by the
machine tool builder in the C language.  If the settings are erroneous, a
system error may occur or the system may be shut down.  Specify the
settings correctly.
</p>
<p>For details of operation, refer to the &ldquo;PMC-RC/RC3/NB Programming
Manual (C language)&rdquo; (B-61863-1).
</p>
<p>The following figure shows the soft key related to these functions.
</p>
<p>RUN
(STOP)
</p>
<p>EDIT I/O
</p>
<p>GDT USRMEM
</p>
<p>RET
</p>
<p>SYSPRM MONIT
</p>
<p>DEBUGDBGLAD
</p>
<p>III 8.4 III 8.1 III 8.2 III 8.3
</p>
<p>PMC MONITOR MENU                     MONIT STOP
</p>
<p> SELECT ONE OF FOLLOWING SOFT KEYS
</p>
<p>  DBGLAD    : DEBUG LADDER DIAGRAM
  GDT       : DESCRIPTOR TABLE MAP
  USRMEM    : USER MEMORY INFORMATION
  DEBUG     : DEBUG FUNCTION
</p>
<p> [ DBGLAD] [       ] [  GDT  ] [ USRMEM] [ DEBUG ]
</p>
<p>����8 Basic Monitor Menu
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>498
</p>
<p>Information of a User Program Coded in C
</p>
<p>GDT Nos. 32 to 95 defined in a user program can be displayed.
</p>
<p>The specified GDTs can also be dumped.
</p>
<p>The following figure shows the soft keys related to this function.
</p>
<p>GDT USRMEM DEBUG
</p>
<p>NO.SRH M.DUMP
</p>
<p>NEXT
</p>
<p>RET
</p>
<p>SEARCH INPUT
</p>
<p>BYTE WORD D.WORD
</p>
<p>RET
</p>
<p>(1) Press the [GDT] soft key to display the user GDT information shown
in Fig. 8.1.1 (a).
</p>
<p>(2) Use the [NO. SRH] key to search for the GDT table with a desired
number.
</p>
<p>(3) Press the [M. DUMP] key to dump the data of the GDT number which
is displayed at the top.
</p>
<p>(4) Press the [NEXT] key on the memory dump screen.
</p>
<p>Pressing the [BYTE] key displays the data in units of bytes.
</p>
<p>Pressing the [WORD] key displays the data in units of words, where
one word equals two bytes.  Pressing the [D. WORD] key displays
the data in units of double words, or four bytes.
</p>
<p>See Fig. 8.1.1 (b).
</p>
<p>(5) When bit 4 of keep relay K17 is set to 1, the contents of RAM can be
changed in units of the specified length on the memory dump screen
by moving the cursor to the data to be changed.
</p>
<p>CAUTION
Depending on the settings, a user program may operate
erroneously, causing a system error.  Be sure to specify the
correct settings.
</p>
<p>8.1
DISPLAYING THE
GDT (GLOBAL
DESCRIPTOR TABLE)
</p>
<p>8.1.1
Operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>499
</p>
<p>PMC DESCRIPTOR TABLE(GDT)     MONIT RUN
</p>
<p> NO. ACCESS USE    BASE      LIMIT
 032   RW   16   0016000AH  0000056FH
 033   RW   16   0016005AH  0000023FH
 034   RW   16   00160300H  00000040H
 035   RW   16   00160340H  00000234H
 036   ER   16   00823000H  00000058H
 037   ER   16   0084FB7CH  0000070AH
 038   NULL DESCRIPTOR
 039   ER   16   0084FF88H  0000292FH
 040   RW   16   00160A6CH  0000005AH
 041   RW   16   00160600H  00000402H
&gt;
</p>
<p>[NO.SRH] [      ] [      ] [M.DUMP] [      ]
</p>
<p>����8.1.1(a) User GDT Information
</p>
<p>PMC DESCRIPTOR TABLE(GDT)     MONIT RUN
</p>
<p> NO. ACCESS USE    BASE      LIMIT
 032   RW   16   0016000AH  0000056FH
 033   RW   16   0016005AH  0000023FH
</p>
<p>[NO.SRH] [      ] [      ] [M.DUMP] [      ]
</p>
<p>PMC MEMORY DUMP(GDT NO.032)    MONIT RUN
</p>
<p> 103:0000 0000 0000 0000 0000 0000 ......
 103:0010 0000 0000 0000 0000 0000 ......
 103:0020 0000 0000 0000 0000 0000 .....
</p>
<p>��
</p>
<p>Dumped 
information of
GDT NO.32
</p>
<p>����8.1.1(b) Memory Dump
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>500
</p>
<p>NO. ACCESS  USE BASE  LIMIT
</p>
<p>32   ER  16  00862340H 0000523FH
</p>
<p>Segment limit
</p>
<p>Segment base
</p>
<p>Segment type
</p>
<p>Segment attribute
</p>
<p>GDT NO.
</p>
<p>(1) Access attribute of a segment
</p>
<p>Code Description
</p>
<p>RO Read-only data segment
</p>
<p>RW Read/write data segment
</p>
<p>ROD Read-only downward-expansion data segment
</p>
<p>RWD Read/write downward-expansion data segment
</p>
<p>EO Execute-only code segment
</p>
<p>ER Execute/read code segment
</p>
<p>(2) Segment type
</p>
<p>Code Description
</p>
<p>16 16-bit segment
</p>
<p>32 32-bit segment
</p>
<p>NOTE
A user program created with the IC286 compiler is
segmented in 16-bit units.
</p>
<p>(3) Undefined segment
</p>
<p>NULL DESCRIPTOR is displayed for an undefined segment.
</p>
<p>8.1.2
Descriptions of
Displayed Items
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>501
</p>
<p>The segment information of the following areas defined by a user program
for each task can be displayed and the contents of the areas can be dumped.
</p>
<p>� Data area
</p>
<p>� Stack area
</p>
<p>� Common memory area
</p>
<p>The PMC management software dynamically allocates the areas
mentioned above at locations which are different from those defined by
the user program.
</p>
<p>The system allocates the data area at activation.  When the system is not
activated after the user program has been loaded, the data area is located
at the address defined by the user program.  Be sure to refer to the area after
the system starts.
</p>
<p>The following figure shows the soft keys related to this function.
</p>
<p>GDT USRMEM DEBUG
</p>
<p>TASK.D TASK.S COM.D M.DUMP
</p>
<p>NEXT
</p>
<p>RET
</p>
<p>SEARCH INPUT
</p>
<p>BYTE WORD D.WORD
</p>
<p>RET
</p>
<p>(1) Press the [USRMEM] soft key.  Depending on which soft key is
pressed next (see below), the task memory information of a user
program is displayed on the screen as shown in Fig. 8.2.1 (a) to (c).
</p>
<p>Soft keys
</p>
<p>[TASK. D] : Displays the information of allocating task data.
[TASK. S] : Displays the information of allocating task stacks.
[COM.D] : Displays the information of common memory 
</p>
<p>allocation.
</p>
<p>(2) A task data area and stack area are displayed for each task ID.  The
information for all the common memory defined by user link control
statements is displayed.
</p>
<p>(3) Pressing the [M. DUMP] key on each allocation information screen
enables the contents of the memory related to the item which is
displayed at the top to be dumped.
</p>
<p>(4) Operation on the memory dump screen is the same as that described
in Section 8.1.
</p>
<p>(5) When bit 4 of keep relay K17 is set to 1, the contents of RAM can be
changed in units of the specified length on the memory dump screen
by moving the cursor to the data to be changed.
</p>
<p>8.2
DISPLAYING THE
MEMORY
ALLOCATION
INFORMATION OF A
USER PROGRAM
CODED IN C.
</p>
<p>8.2.1
Operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>502
</p>
<p>CAUTION
Depending on the settings, a user program may operate
erroneously, causing a system error.  Be sure to specify the
correct settings.
</p>
<p>PMC USER MEMORY(TASK DATA)     MONIT RUN
</p>
<p> ID NAME      GDT    BASE       LIMIT
 10 TASK-O01  039  00160050H  00010100H
 11 TASK-O02  040  00160060H  00004100H
 12 TASK-O03  041  00160070H  00005100H
 13 TASK-O04  042  00160080H  00000160H
 14 TASK-O05  043  00160210H  00000170H
 15 TASK-O06  044  00160110H  00000110H
</p>
<p>&gt;
</p>
<p>[TASK.D] [TASK.S] [COM.D ] [M.DUMP] [      ]
</p>
<p>����8.2.1(a) Information of a Task Data Area
</p>
<p>PMC USER MEMORY(TASK STACK)    MONIT RUN
</p>
<p> ID NAME      GDT    BASE       LIMIT
 10 TASK-O01  239  00161050H  00010100H
 11 TASK-O02  240  00161060H  00004100H
 12 TASK-O03  241  00161070H  00005100H
 13 TASK-O04  242  00161080H  00000160H
 14 TASK-O05  243  00161210H  00000170H
 15 TASK-O06  244  00161110H  00000110H
</p>
<p>&gt;
</p>
<p>[TASK.D] [TASK.S] [COM.D ] [M.DUMP] [      ]
</p>
<p>����8.2.1(b) Information of a Task Stack Area
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>503
</p>
<p>PMC USER MEMORY(COMMON DATA)   MONIT RUN
</p>
<p> NO.          GDT    BASE       LIMIT
 01           042  00162010H  00000100H
 02           045  00162020H  000A0100H
 03           047  00162030H  0000D000H
 04           048  00162040H  0000A100H
</p>
<p>&gt;
</p>
<p>[TASK.D] [TASK.S] [COM.D ] [M.DUMP] [      ]
</p>
<p>����8.2.1(c) Information of a Common Memory Data Area
</p>
<p>(1) Items displayed for a task data area and stack area
</p>
<p>ID    NAME  GDT  BASE     LIMIT
</p>
<p>10  TASK-001  032  00160010H   00000100H
</p>
<p>Segment limit
</p>
<p>Segment base
</p>
<p>GDT No.
</p>
<p>Task name
</p>
<p>Task ID
</p>
<p>(2) Items displayed for a common memory area
</p>
<p>NO GDT   BASE LIMIT
</p>
<p>01 032 00160010H  00000100H
</p>
<p>Segment limit
</p>
<p>Segment base
</p>
<p>GDT NO.
</p>
<p>Common memory No.
</p>
<p>8.2.2
Displayed Items
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>504
</p>
<p>There are two ways to check if a user program operates as intended.  One
is to execute the program while displaying the sequence on an external
unit such as a display monitor.  The other is to execute the program to a
specified point (breakpoint), and check if the internal data items such as
program work areas are correct.
</p>
<p>This PMC debugging function checks programs using breakpoints.
</p>
<p>(1) Number of breakpoints:  Up to 4
</p>
<p>(2) Number of portions to be traced:  8
</p>
<p>(3) Capacity of memory used for storing traced data:  Up to 256 bytes,
up to 32 bytes for each traced portion
</p>
<p>Press the [DEBUG] soft key to display the parameter screen for
debugging.  Pressing the [D.DUMP] key on the parameter screen displays
the contents of the CPU registers and specified internal data items at the
breakpoint.
</p>
<p>To return from the data display screen to the parameter screen, press the
[D.PRM] soft key.
</p>
<p>After the parameters are set, but before the program is interrupted, DBG
blinks at the bottom right of the PMC screen.  The breakpoint numbers
BP1 to BP4 are also displayed at the bottom of the debug function screen.
When the program is interrupted at a breakpoint, BRK blinks at the
bottom right of the PMC screen.  At this time, the breakpoint number,
from BP1 to BP4, is displayed in reverse at the bottom of the debug
function screen.
</p>
<p>The following figure shows soft keys related to this function.
</p>
<p>GDT USRMEM DEBUG
</p>
<p>D.DUMP BRK.NO EXEC INIT
</p>
<p>RET
</p>
<p>D.PRM BRK.NO
</p>
<p>RET
</p>
<p>8.3
DEBUGGING
</p>
<p>8.3.1
Specifications
</p>
<p>8.3.2
Operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>505
</p>
<p>When the debug function is used, it is necessary to set the break conditions
on the parameter screen.  When using a 9&rdquo; screen, press the &lt;PAGE&darr;&gt; key
to set a trace data area for a breakpoint.
</p>
<p>(1) Setting parameters
</p>
<p>(a) BREAK SEG.ADR
</p>
<p>Specify the effective address of the breakpoint using a segment
address.  When data is accessed, specify the break address using
a segment address.
Use a key, such as EOB, to delimit a segment and an offset.  Do
not use alphanumeric keys.
</p>
<p>NOTE
In data access, an even boundary or 4&ndash;byte boundary is
assumed according to the type of ACCESS LENGTH,
described later.
Example)
When the break address is GDT.NO = 32,
OFFSETADDRESS = 101, specify 103; 101, obtained using
the following formula:
</p>
<p>32 (GDT.NO) x 8 + 3 = 259 = 103 (Hex)
� When ACCESS LENGTH = WORD is specified with
</p>
<p>BREAK SEG.ADR = 103; 101
An access to 103; 100&ndash;101 causes a break.
</p>
<p>� When ACCESS LENGTH = D.WORD is specified with
BREAK SEG.ADR = 103; 101
An access to 103; 100&ndash;103 causes a break.
</p>
<p>(b) BREAK COND.
</p>
<p>Specify a break condition.
</p>
<p>0 (EXEC) : A program is interrupted at the specified
effective address.
</p>
<p>1 (WRITE) : A program is interrupted when it writes 
data to the specified address.
</p>
<p>2 (READ/WRITE) : A program is interrupted when it writes 
data to or read data from the specified 
address.
</p>
<p>(c) ACCESS LENGTH
</p>
<p>Specify the address type of a breakpoint.
</p>
<p>0 (BYTE) : An address is specified in units of bytes for 
read/write operation at the specified address 
and for when a program is interrupted at the 
specified effective address.
</p>
<p>1 (WORD) : An address is specified in units of words for 
read/write operation at the specified address.
</p>
<p>2 (D.WORD) : An address is specified in units of two words
for read/write operation at the specified 
address.
</p>
<p>(d) PASS COUNT
</p>
<p>Specify the number of times a break condition is satisfied before
the program is interrupted, in the range of 1 to 65535.
</p>
<p>8.3.3
Parameter Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>506
</p>
<p>(e) TASK ID
</p>
<p>Specify the task ID of a program.  This parameter is convenient
for identifying the program when it is to be interrupted at a
breakpoint located in a function called from multiple tasks or is
located in common memory.
</p>
<p>(f) TASK STATUS
</p>
<p>Specify how to handle the task when a program is interrupted.
</p>
<p>0 (PASS) : The task continues after the program is 
interrupted.
</p>
<p>1 (STOP) : The user task stops when the program is 
interrupted.  The ladder program does not stop.
</p>
<p>NOTE
To restart the user program, press the [STOP] key to stop
the sequence program and then press the [RUN] key to start
the program on the basic menu using the RUN/STOP
function.
</p>
<p>(g) BREAK AVAIL.
</p>
<p>Specify whether the parameters for each breakpoint are valid or
invalid.
</p>
<p>(h) NO. TRACE ADR.
</p>
<p>Using segment addresses, specify up to eight addresses from
which data is traced when a program is interrupted at a
breakpoint.  Up to 32 bytes are stored for each address.
</p>
<p>Use a key, such as EOB, to delimit a segment and an offset.  Do
not use alphanumeric keys.
</p>
<p>To initialize these addresses only, enter 0; 0.
</p>
<p>NOTE
If the addresses are specified erroneously, the following two
items, TYPE and LENGTH, cannot be specified.
</p>
<p>(i) TYPE
</p>
<p>Specify an address type with which traced data is displayed.
</p>
<p>0 (BYTE) : Data is displayed in units of bytes.
</p>
<p>1 (WORD) : Data is displayed in units of words.
</p>
<p>2 (D.WORD) : Data is displayed in units of double words.
</p>
<p>(j) LENGTH
</p>
<p>Specify the length of traced data to be displayed.
</p>
<p>(2) Starting processing for a breakpoint
</p>
<p>When the parameters for each breakpoint are correctly specified,
press the [EXEC] soft key on the parameter screen to start the
processing for the currently selected breakpoint.  The breakpoint
number, from BP1 to BP4, is displayed at the bottom of the screen.
</p>
<p>(3) Initializing data used for debugging
</p>
<p>To initialize the parameters and memory used for storing traced data,
press the [INIT] soft key on the parameter screen.  The parameter and
memory for the currently selected breakpoint are then initialized.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>507
</p>
<p>(4) Changing a breakpoint
</p>
<p>Up to four breakpoints can be specified.  For each breakpoint,
parameters are specified and traced data is stored.  To select a desired
breakpoint, press the [BRK.NO] soft key on the parameter screen.
The breakpoint is selected in the order of BP1, BP2, BP3, and BP4.
</p>
<p>PMC DEBUG (PARAM)             MONIT RUN
</p>
<p>    BREAK POINT NO.1
</p>
<p> BREAK SEG.ADR = 0000:00000000
 BREAK COND.   =     0 ( 0:E 1:W 2:RW )
 ACCESS LENGTH =     0 ( 0:B 1:W 3:D  )
 PASS COUNT    = 32767
 TASK ID       =     1 ( 0:ALL / 10-25 )
 TASK STATUS   =     0 ( 0:PASS 1:STOP )
 BREAK AVAIL.  =     0 ( 0:NO   1:YES  )
</p>
<p>&gt;
</p>
<p>[D.DUMP] [BRK.NO] [ EXEC ] [ INIT ] [      ]
</p>
<p>����8.3.3 (a) Screen for Specifying a Break Condition
</p>
<p>PMC DEBUG (PARAM)             MONIT RUN
</p>
<p> BREAK POINT NO.1
 NO. DUMP ADR.       TYPE      LENGTH
                (0:B/1:W/2:D) (32BYTE)
 01  0000:00000000      0       10
 02  0000:00000000      1        9
 03  0000:00000000      2        8
 04  0000:00000000      0        7
 05  0000:00000000      1        6
 06  0000:00000000      2        5
 07  0000:00000000      0        4
 08  0000:00000000      1        3
&gt;
</p>
<p>[D.DUMP] [BRK.NO] [ EXEC ] [ INIT ] [      ]
</p>
<p>����8.3.3 (b) Screen for Specifying Data to Be Traced
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>508
</p>
<p>When a program is interrupted under the break condition specified on the
parameter screen, BRK blinks at the bottom right of the PMC screen.  The
breakpoint number at which the program has been interrupted is displayed
in reverse at the bottom of the debug function screen.
</p>
<p>To display the traced data, press the [D.DUMP] soft key on the parameter
screen, then press the [BRK.NO] key to select the screen for displaying
the traced data corresponding to the breakpoint.
</p>
<p>The following items are displayed.
</p>
<p>(1) REGISTER
</p>
<p>Displays the contents of the CPU registers.
</p>
<p>(2) MEMORY
</p>
<p>Displays the contents of memory at addresses of the traced data
specified on the parameter screen.
</p>
<p>When the contents are displayed on multiple pages, scroll the screen,
if necessary, using the &lt;PAGE�&gt;, &lt;PAGE�&gt;, &lt;�&gt;, or, &lt;�&gt; key.
</p>
<p>PMC DEBUG (DUMP)              MONIT RUN
 BREAK POINT NO.1(0000:00000000)
 REGISTER
  EAX=00000000 EBX=00000000 ECX=00000000
  EDX=00000000 ESI=00000000 EDI=00000000
  EBP=00000000 ESP=00000000 IEP=00000000
  DS=0000   ES=0000   FS=0000   GS=0000
  SS=0000   CS=0000   EFLAGS=00000000
 CONTENS OF MEMORY
01 0000:00000000 00000000   00000000
02 0000:00000000 00000000   00000000
03 0000:00000000 00 00 00 00 00 00 00 00
04 0000:00000000 0000  0000  0000  0000
&gt;
</p>
<p>[D.PRM ] [BRK.NO] [      ] [      ] [       ]
</p>
<p>����8.3.4 Screen for Displaying Traced Data
</p>
<p>As parameters used for debugging and traces data are stored in the
retained memory, they are not lost when the power is turned off.
</p>
<p>When bit 1 of keep relay K18 is set to 1 after break condition parameters
are correctly specified, debugging is automatically enabled when the
power is turned on.
</p>
<p>(1) Specify a break address (BREAK SEG.ADR) in the area used by the
user program.
</p>
<p>If a break address is specified in the area which is used by the PMC
management software, the system may hang up.
</p>
<p>(2) Debug function is incorporated in the CPU, reduces the CPU speed.
Do not use the function during normal system operation.
</p>
<p>8.3.4
Screen for Displaying
Traced Data
</p>
<p>8.3.5
Enabling Automatic
Debugging at
Power-on
</p>
<p>8.3.6
Notes
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>509
</p>
<p>� : Can be used
� : Cannot be used
</p>
<p>∆ : To use this function, a ladder editing module is required
PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� ∆ � � ∆ � � � ∆ � � � � � � � �
</p>
<p>NOTE
PMC&ndash;PA3 is usable with the Power Mate&ndash;H.
</p>
<p>Using this function, Step Operations and Stop Operations listed below are
possible.  Step Operations are to execute ladder by specified step (single
instruction, single net, and specified block).  Stop Operations are to stop
the execution of ladder when specified condition becomes true.
</p>
<p>(1) Step Operation to execute one instruction from current position.
</p>
<p>(2) Step Operation to execute one net (one circuit) from current position.
</p>
<p>(3) Step Operation to execute from current position to specified contact
or coil instruction.
</p>
<p>(4) Stop Operation to execute from the first step and stop the execution
at specified contact or coil instruction.
</p>
<p>(5) Stop Operation to stop the execution of ladder by a trigger of signal
condition.  (Optionally, a trigger counter can be specified.)
</p>
<p>(6) Stop Operation to stop the execution of ladder after executing one
scan.  (Optionally, a scan counter can be specified.)
</p>
<p>LADDER  *TITLE DATA REMARKS 32 BYTES   *  NET 00001-00004     MONIT RUN
</p>
<p>ACC=1    STK=0000 0011    OF=0 SF=1 ZF=1
</p>
<p> [SEARCH ] [ STEP  ] [ BRKCTL ] [        ] [ ADRESS ]
</p>
<p> [ RUN   ] [ DUMP  ] [ DPARA  ] [ONLEDT  ] [ RESET  ]
</p>
<p> X1000.0
</p>
<p> X1000.1
</p>
<p> ABSDE
</p>
<p> Y1000.0
</p>
<p> Y1000.1
</p>
<p> ACT
</p>
<p>SUB36   2
ADDB
</p>
<p>    D0000
   [    0]
</p>
<p>1
</p>
<p>    D0000
   [    0]
</p>
<p> RST
</p>
<p> FGHI
</p>
<p> X1000.0
</p>
<p> X1000.0
</p>
<p> Y1000.3
</p>
<p> Y1000.5
</p>
<p>����8.4.1 Screen of Ladder Debugging Function
</p>
<p>8.4
LADDER
DEBUGGING
FUNCTION
</p>
<p>8.4.1
Screen of Ladder
Debugging Function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>510
</p>
<p>For this operation, press [DBGLAD] soft key to bring the following
menu.
</p>
<p>DBGLAD GDT
</p>
<p>SEARCH STEP BRKCTL
</p>
<p>NEXT
</p>
<p>RUN
(STOP)
</p>
<p>ADRESS
(SYMBOL)
</p>
<p>DPARA
(NDPARA)
</p>
<p>RET
</p>
<p>Chap. 8.4.3 Chap. 8.4.3
</p>
<p>USRMEM DEBUG
</p>
<p>RESET
</p>
<p>DUMP
</p>
<p>ONLEDT
</p>
<p>ONLINE
</p>
<p>The function of the soft key is as follows.
</p>
<p>(1) [SEARCH] : is used to specify several types of search functions.
</p>
<p>(2) [STEP] : is used to specify several types of Step Functions.
This function can not be used when the ladder 
program is being executed.
</p>
<p>(3) [BRKCTL] : is used to specify Stop Functions.
This function is to stop the execution of ladder when
specified condition becomes true.  This function can
not be used when the ladder program is being 
executed.
</p>
<p>(4) [DUMP] : is used to display the contents of PMC address in the
2 lines at the bottom of CRT where the last NET is
normally displayed.
</p>
<p>(5) [RUN] : is used to switch the monitor mode from STOP to 
RUN, or vice versa.
</p>
<p>(6) [ADRESS] : is used to switch the symbol display mode from 
SYMBOL to ADDRESS, or vice versa.
</p>
<p>(7) [DPARA] : is used to switch the mode for displaying the 
contents of functional instruction parameters from 
NDPARA (No Display Parameter) mode to DPARA
(Display Parameter) mode, or vice versa.
</p>
<p>(8) [ONLEDT] : is used to edit the ladder program without stopping
the execution.  Editing is limited within the 
operations which do not change the size of ladder.
</p>
<p>(9) [RESET] : is used to initialize the Step Function and Stop 
Function.
</p>
<p>NOTE
See Chapter II. 5.3 and 5.4 for details of (7) or (8).
</p>
<p>8.4.2
Soft key menu of
Ladder Debugging
Function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>511
</p>
<p>Using this function, Step Operations such as single step, single net, and
block steps until specified instruction are possible.
</p>
<p>[Function]
</p>
<p>(1) Step Operation to execute one instruction from current position.
</p>
<p>(2) Step Operation to execute one net (one circuit) from current position.
</p>
<p>(3) Step operation to execute from current position to specified contact
or coil instruction.
</p>
<p>[Displaying of Step]        See &ldquo;Fig. 8.4.1&rdquo;
</p>
<p>&ldquo;ACC=1 STK=0000  0011      OF=0  SF=0  ZF=1&rdquo;
</p>
<p>ACC :  result of operation
STK :  contents of stack (1 byte)
OF :  overflow (0=NO, 1=YES)
SF :  sign (0=NO, 1=YES)
ZF :  zero (0=NO, 1=YES)
</p>
<p>For this operation, press [STEP] soft key to bring the following menu.
</p>
<p>SEARCH STEP BRKCTL
</p>
<p>ELMMNT NETMNT BLOCK B.SRCH
</p>
<p>SEARCH START
</p>
<p>RET
</p>
<p>DUMP
</p>
<p>TRNS.B
</p>
<p>The function of the soft key is as follows.
</p>
<p>(1) [STEP] : A blinking cursor shows the current position at 
which the execution is stopped.  y moving the cursor,
a position at which the execution is to be stopped can
be specified.
</p>
<p>(2) [ELMMNT] : is used to execute one instruction from current 
position.
</p>
<p>(3) [NETMNT] : is used to execute one net from current position.
</p>
<p>(4) [BLOCK] : is used to execute from current position to specified
instruction.  If specified instruction is not executed
because it is skipped by conditional JMP or CALL
instructions, the execution will stop at the END 
instruction, END1 (SUB 1), END2 (SUB 2), or 
END3 (SUB 48), of the current level.
</p>
<p>(5) [B.SRCH] : is used to search the instruction at which the 
execution is currently stopped.
</p>
<p>(6) [TRNS.B] : is used to transfer the current status of input signals
to the synchronous buffer so that succeeding
instructions could operate on refreshed inputs when
the execution is continued from current position.
(For more about the synchronous buffer, see Chapter
I.2.5 Processing I/O Signal)
</p>
<p>8.4.3
Step Operation [STEP]
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>512
</p>
<p>NOTE
Normally, transferring to the synchronous buffer is
automatically performed at the beginning of the 2nd level
ladder.
</p>
<p>Using this function, the execution of the ladder can be stopped when
specified condition becomes true.  Then, the signal condition can be
checked.
</p>
<p>[Function]
</p>
<p>(1) Stop operation to execute from the first step and then to stop at
specified contact or coil instruction.  (Optionally, a trigger counter
can be specified to stop after the instruction is executed specified
times.)
</p>
<p>(2) Stop operation to stop the execution of ladder when a trigger
condition specified by signal becomes true. (Optionally, a trigger
counter can be specified to stop after the trigger becomes true
specified times.)
</p>
<p>(3) Stop operation to stop the execution of ladder after executing a scan.
(Optionally, a scan counter can be specified to stop after executing
specified times of scans.)  The execution is started by pressing
[START] key.
</p>
<p>[Displaying of specified trigger]
</p>
<p>&ldquo;MODE :ON :X0000. 0 : 0 : 0000/12345&rdquo;
</p>
<p>COUNT : trigger counter
(present counter/specified counter)
</p>
<p>POINT : trigger point at which the trigger
condition is checked (default is 0)
   0 the top of the 1st level seq
   1 after END1
   2 after END2
   3 after END3
</p>
<p>ADR :  specified trigger address
</p>
<p>ON :  signal turn on (TRGON), OFF : turn off
</p>
<p>[Displaying  of  specified  scan]
</p>
<p>&ldquo;SCAN  COUNT : 00000/00003&rdquo;
</p>
<p>counter of scan  (present counter/specified counter)
</p>
<p>8.4.4
Stop Function of Break
with Condition
[BRKCTL]
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>513
</p>
<p>SEARCH STEP BRKCTL
</p>
<p>TRIGER SCAN INIT
</p>
<p>TRGON TRGOFF
</p>
<p>RET
</p>
<p>DUMP
</p>
<p>START
(STOP)
</p>
<p>The function of [BRKCTL] soft key is as follows.
</p>
<p>(1) [TRIGER] : is used to specify the trigger condition by signal.
Trigger condition has to be specified according to the
following syntax.  And then, the execution is started by
pressing [START] key.
</p>
<p>&ldquo;ADR ; PONIT (0-3) ; COUNT + 
[TRGON/ TRGOFF]&rdquo;
</p>
<p>ADR : specified trigger address
POINT : trigger point at which the trigger condition
</p>
<p>is checked (default is 0) 
0 the top of the 1st level sequence
1 after END1 
2 after END2 
3 after END3 
</p>
<p>COUNT : counter of checked trigger (default is 1)
(1 to 65535)
</p>
<p>(2) [TRGON] : is used to specify &ldquo;turn on&rdquo; trigger to stop the execution
when the signal is transitioned from off to on status.
</p>
<p>(3) [TRGOFF] : is used to specify &ldquo;turn off&rdquo; trigger to stop the 
execution when the signal is transitioned from on to off
status.
</p>
<p>(4) [DUMP] : is used to display the contents of PMC address in the
2 lines at the bottom of CRT where the last NET is 
normally displayed.
</p>
<p>(5) [SCAN] : is used to specify a stop function by scan counter.  To
specify a scan counter, input as follows.
&ldquo;counter + [SCAN]&rdquo;.      (counter: 1 to 65535)
When the counter is not specified, it is recognized as
1. 
After specifying the scan counter, the execution is 
started by pressing [START] key.
</p>
<p>(6) [INIT] : is used to initialize the stop function with break 
condition.
</p>
<p>(7) [START] : is used to start the execution after specifying the 
condition to stop.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>514
</p>
<p>�  :  Usable
∆  :  See Note
</p>
<p>�  :  Not usable
PA1 PA3 RA1 RA2 RA3 RA5 RB RB2 RB3 RB4 RB5 RB6 RC RC3 RC4 NB NB2
</p>
<p>� ∆ ∆ � ∆ � � � � � � � � � � � �
</p>
<p>NOTE
PMC&ndash;PA3 is usable with the Power Mate&ndash;D/H.
PMC&ndash;RA1 is usable with the loader control function of the
Series 21i.
PMC&ndash;RA3 is usable with the FANUC NC Board.
</p>
<p>With the online function of the FAPT LADDER&ndash;II or ladder editing
package, the following can be performed using the personal computer:
</p>
<p>� Ladder monitor display
</p>
<p>� Online ladder editing
</p>
<p>� PMC parameter display and editing
</p>
<p>� Signal state monitor display and modifications
</p>
<p>� Input/output to and from the PMC (loading from the PMC, storing to
the PMC)
</p>
<p>� Writing to flash ROM
</p>
<p>Before this online function can be used, communication conditions must
be set in the PMC built into the CNC.
</p>
<p>EMG ST  INIT
</p>
<p>PARAMETERS FOR ONLINE MONITOR       MONIT STOP
</p>
<p> CPU ID     =
 RS&ndash;232C    = USE/ NOT USE
  CHANNEL   =   1
  BAUD RATE = 300/600/1200/2400/4800/ 9600 /19200
  PARITY    = NONE/ODD/EVEN
  STOP BIT  = 1 BIT/ 2 BITS
  TIMER 1   =     0
  TIMER 2   =  5000
  TIMER 3   = 15000
  MAX PACKET SIZE =  1024
 F&ndash;BUS      = USE/ NOT USE
 RS&ndash;232C = INACTIVE     :    0
 F&ndash;BUS   = INACTIVE     :    0
&gt;
</p>
<p>����8.5.1  Online Monitor Setting Screen
</p>
<p>EMG ST : Terminates communication forcibly. Use this key when
</p>
<p>communication becomes abnormal, such that the connection
</p>
<p>cannot be terminated normally.
</p>
<p>8.5
ONLINE FUNCTION
</p>
<p>8.5.1
Online Setting Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>515
</p>
<p>INIT : Initializes the parameters to their default values.
</p>
<p>NOTE
When the configuration disables the use of the ladder
editing package, the F&ndash;BUS item is not displayed.
When the 9&ndash;inch CRT is being used, two pages are used for
screen display. Switch between the pages with the &lt;Page
Up&gt; and &lt;Page Down&gt; keys.
</p>
<p>1. For communication with FAPT LADDER&ndash;II
</p>
<p>(1) Check that NOT USE is set for the RS&ndash;232C item.
</p>
<p>(2) Set the CHANNEL and BAUD RATE parameters.
</p>
<p>(3) Move the cursor to the RS&ndash;232C item with the and keys.
</p>
<p>(4) Select USE with the &ldquo;�&rdquo; or &ldquo;�&rdquo; key.
</p>
<p>2. For communication with the ladder editing package
</p>
<p>(1) Move the cursor to the F&ndash;BUS item with the and keys.
</p>
<p>(2) Select USE with the &ldquo;�&rdquo; or &ldquo;�&rdquo; key.
</p>
<p>This completes the setting for communication.
The online function is operated from the FAPT LADDER&ndash;II or ladder
editing package.
</p>
<p>For details of operation, refer to the operator&rsquo;s manual for the FAPT
LADDER&ndash;II or ladder editing package.
</p>
<p>When the NC (such as the Series 160i or 180i) does not support the display
of the PMC screen, or if communication is to be started automatically at
power&ndash;on without screen manipulation, select a communication
destination with NC parameter No. 24.
</p>
<p>When the value of NC parameter No. 24 is changed, the PMC online
monitor screen is set as indicated below.
</p>
<p>NC pa-
rameter
</p>
<p>Setting on the PMC online monitor screen
rameter
No. 24 RS&ndash;232C F&ndash;BUS Description
</p>
<p>0 NOT USE USE Selects the ladder editing package.
</p>
<p>1 USE (Channel 1) NOT
USE
</p>
<p>Selects FAPT LADDER&ndash;II (channel 1).
</p>
<p>2 USE (Channel 2) NOT
USE
</p>
<p>Selects FAPT LADDER&ndash;II (channel 2).
</p>
<p>255 NOT USE NOT
USE
</p>
<p>	&#13;����
�&#13;� ��������
���� ��������
</p>
<p>���� �	��
</p>
<p>8.5.2
Setting Method
</p>
<p>8.5.3
Setting on the NC
Parameter Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>8. FUNCTIONS FOR DISPLAYING MEMORY
AREAS AND DEBUGGING
THE PROGRAM (MONIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>516
</p>
<p>NOTE
With NC parameter No. 24, the PMC online monitor screen
setting is changed when the power is turned on.  
After this parameter has been modified, the power must be
turned off then back on for the new setting to become
effective.  
When the setting of the online monitor screen is to remain
unchanged, a value other than 0, 1, 2, and 255 must be set
for this parameter.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
9. ERROR MESSAGES
</p>
<p>(FOR EDIT)PMC PROGRAMMER (CRT/MDI)
</p>
<p>517
</p>
<p>9 ERROR MESSAGES (FOR EDIT)
Error messages (For EDIT 1)
</p>
<p>Message Contents and solution
</p>
<p>ADDRESS BIT NOTHING The address of the relay/coil is not set.
</p>
<p>FUNCTION NOT FOUND There is no functional instruction of the input number.
</p>
<p>COM FUNCTION MISSING The functional instruction COM(SUB9) is not correctly dealt with.
Correspondence of COM and COME(SUB29) is incorrect.
Or, the number of coil controlled by COM is specified by the model which the number 
cannot be specified.(It is possible to specify the number of coil only on PMC-RB/RC.)
</p>
<p>EDIT BUFFER OVER There is no empty area of the buffer for the editing.
(solution) Please reduce NET under editing.
</p>
<p>END FUNCTION MISSING Functional instruction END1, END2, END3 and END do not exist
Or, there are error net in END1, END2, END3, END.
Or, order of END1, END2, END3, and END is not correct.
</p>
<p>ERROR NET FOUND There is an error net.
</p>
<p>ILLEGAL FUNCTION NO. The wrong number of the functional instruction is searched.
</p>
<p>FUNCTION LINE ILLEGAL The functional instruction is not correctly connected.
</p>
<p>HORIZONTAL LINE ILLEGAL The horizontal line of the net is not connected.
</p>
<p>ILLEGAL NET CLEARED Because the power had been turn off while editing LADDER, some net under editing was cleared.
</p>
<p>ILLEGAL OPERATION Operation is not correct.
The value is not specified and only INPUT key was pushed.
The address data is not correctly inputted.
Because the space to display the instruction on screen is not enough, the functional instruction 
cannot be made.
</p>
<p>SYMBOL UNDEFINED The symbol which was inputted is not defined.
</p>
<p>INPUT INVALID There is an incorrect input data.
Non-numerical value was inputted with COPY,INSLIN,C-UP, C-DOWN etc.
The input address was specified for write coil.
An illegal character was specified for the data table.
</p>
<p>NET TOO LARGE The input net is larger than the editing buffer.
(solution) Please reduce the net under editing.
</p>
<p>JUMP FUNCTION MISSING The functional instruction JMP(SUB10) is not correctly dealt with.
Correspondence of JMP and JMPE(SUB30) is incorrect.
The number of coil to jump is specified by the model which the number of coil cannot specified.
(It is possible to specify the coil number only on PMC-RB/RC.)
</p>
<p>LADDER BROKEN LADDER is broken.
</p>
<p>LADDER ILLEGAL There is an incorrect LADDER.
</p>
<p>IMPOSSIBLE WRITE You try to edit sequence program on the ROM.
</p>
<p>OBJECT BUFFER OVER The sequence program area was filled.
(solution) Please reduce the LADDER.
</p>
<p>PARAMETER NOTHING There is no parameter of the functional instruction.
</p>
<p>PLEASE COMPLETE NET The error net was found in LADDER.
(solution) After correcting the error net, please continue operating.
</p>
<p>PLEASE KEY IN SUB NO. Please input the number of the functional instruction.
(solution) If you do not input the functional instruction, please push soft key &rdquo;FUNC&rdquo; again.
</p>
<p>PROGRAM MODULE NOTHING You tried to edit though there was neither RAM for debugging nor ROM for sequence program.
</p>
<p>RELAY COIL FORBIT There is an unnecessary relay or coil.
</p>
<p>RELAY OR COIL NOTHING The relay or the coil does not suffice.
</p>
<p>PLEASE CLEAR ALL It is impossible to recover the sequence program.
(solution) Please clear the all data.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>9. ERROR MESSAGES 
(FOR EDIT) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>518
</p>
<p>Error messages (For EDIT 2)
</p>
<p>Message Contents and solution
</p>
<p>SYMBOL DATA DUPLICATE The same symbol name is defined in other place.
</p>
<p>COMMENT DATA OVERFLOW The comment data area was filled.
(solution) Please reduce the number of the comment.
</p>
<p>SYMBOL DATA OVERFLOW The symbol data area was filled.
(solution) Please reduce the number of the symbol.
</p>
<p>VERTICAL LINE ILLEGAL There is an incorrect vertical line of the net.
</p>
<p>MESSAGE DATA OVERFLOW The message data area was filled.
(solution) Please reduce the number of the message.
</p>
<p>1ST LEVEL EXECUTE TIME OVER The 1st level of LADDER is too large to complete execution in time.
(solution) Please reduce the 1st level of LADDER.
</p>
<p>PARA NO.RANGE ERR : 
functional&ndash;instruction name
</p>
<p>A parameter number used for a functional instruction falls outside the allowable range.
(solution) Change the parameter number to a value within the allowable range.
</p>
<p>PARA NO.DUPLICATE : 
functional&ndash;instruction name
EXIT ?
</p>
<p>A parameter number used for a functional instruction is specified more than once.
(solution) Change the number to a number that has not yet been used if duplicate execution causes
</p>
<p>an error.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 10. ERROR MESSAGES (FOR I/O)PMC PROGRAMMER (CRT/MDI)
</p>
<p>519
</p>
<p>10 ERROR MESSAGES (FOR I/O)
Error messages (For I/O 2)
</p>
<p>Message Contents and solution
</p>
<p>I/O OPEN ERROR nn An error occurs when the reader/puncher interface was started.
nn = &ndash;1 Because the interface is used with NC etc., the interface is not able to be opened by PMC
</p>
<p>side.
(solution)  After other functions finishes using the line, please execute again.
</p>
<p>             6 There is no option for the interface.
           20 The interface cannot be opened.
</p>
<p>(solution)  Please confirm the connection of the cable. Please confirm setting of the 
 baud rate etc.
</p>
<p>I/O WRITE ERROR nn An output error occurred in the reader/puncher interface.
nn = 20 The state of the interface is not correct.
</p>
<p>(solution)  Please confirm the connection of the cable. Please confirm setting the  baud
 rate etc.
</p>
<p>22 Opponent side is not ready to receive.
(solution)  Please confirm the power supply on the opponent side. Or, please initialize the 
</p>
<p> interface.
</p>
<p>I/O READ ERROR nn An input error occurred in the reader/puncher interface.
nn = 20 The state of the interface is not correct.
</p>
<p>(solution)  Please confirm the connection of the cable. Please confirm setting the baud 
 rate etc.
</p>
<p>21 The data is not sent from the opponent side.
(solution)  Please confirm the power supply on the opponent side.
</p>
<p>I/O LIST ERROR nn An error occurred in directory read processing from FD Cassette.
nn = 20 The state of the interface is not correct.
</p>
<p>(solution)  Please confirm the connection of the cable. Please confirm setting of the baud 
 rate etc.
</p>
<p>COMPARE ERR xxxxxx = aa:bb
CONT?(Y/N)
</p>
<p>A compare error occurred.
xxxxxx :  The Address where the compare error occurred.
aa :  The data on PMC side
bb :  The data on device side
Enter &rsquo;Y&rsquo; to continue processing.
</p>
<p>ADDRESS IS OUT OF 
RANGE(xxxxxx)
</p>
<p>The data transferred to the address out of the PMC debugging RAM area.
xxxxxx :  Transferred address.
(solution) Please confirm the address of the transferring data.
LADDER :  Please confirm the model setting.
C language :  Please confirm setting the address in the link control statement and build file.
</p>
<p>ROM WRITER ERROR nnnnnn An error occurred in the ROM writer.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>11. PMC PROGRAMMER (DPL/MDI)
(ONLY FOR THE Power 
Mate&ndash;D/F/H) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>520
</p>
<p>11
PMC PROGRAMMER (DPL/MDI) 
(ONLY FOR THE Power Mate&ndash;D/F/H)
</p>
<p>The DPL/MDI panel is used to set PMC system parameters and create and
execute the sequence program.
</p>
<p>(1) Setting and displaying PMC system parameters (SYSTEM PARAM)
</p>
<p>&ndash; The type of counter data (BCD or binary) can be selected.
</p>
<p>(2) Editing the sequence program (EDIT)
</p>
<p>&ndash; The sequence program can be edited (input, addition, search, and
deletion) by using the ladder mnemonics display.
</p>
<p>(3) Executing the sequence program (RUN/STOP)
</p>
<p>&ndash; The execution of the sequence program can be started and
stopped.
</p>
<p>(4) Storing the sequence program into flash EEPROM (I/O)
</p>
<p>&ndash; The sequence program can be stored into flash EEPROM (only
for the Power Mate&ndash;H).
</p>
<p>The DPL/MDI panel is shown below.
</p>
<p>O
Y
</p>
<p>N
K/A
</p>
<p>G
G
</p>
<p>   X
AXIS
X
</p>
<p>DGNOS
PARAM POS
</p>
<p>F
F
</p>
<p>M
RD
</p>
<p>S
WRT
</p>
<p>T
NOT
</p>
<p>OPR
ALARM PRGRM
</p>
<p>H
SUB
</p>
<p>#
OR
</p>
<p> /
AND
</p>
<p>&amp; @
NO.
</p>
<p>MENU
VAR
</p>
<p>7 READ INSRT
</p>
<p>EOB
STK
</p>
<p>8 9 P
P I
</p>
<p>4 WRITE DELET5 6 Q
T/C J
</p>
<p>1 ALTER2 3 R
D/R K
</p>
<p>0 INPUT&ndash;/+ &amp; CAN
</p>
<p>Fig.11   DPL/MDI panel for Power Mate
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>11. PMC PROGRAMMER (DPL/MDI) 
(ONLY FOR THE Power 
</p>
<p>Mate&ndash;D/F/H)PMC PROGRAMMER (CRT/MDI)
</p>
<p>521
</p>
<p>NOTE
1 With the PMC programmer (DPL/MDI) function, the
</p>
<p>characters indicated at the lower&ndash;left part of each key are
used.
</p>
<p>2 When the &lt;D/R&gt; key is pressed once, the left&ndash;hand
character is valid. When the &lt;D/R&gt; key is pressed twice, the
right&ndash;hand character is valid.
Example : When the &lt;D/R&gt; key is pressed once, D is keyed
in. When the &lt;D/R&gt; key is pressed twice, R is keyed in.
When a password is cleared, however, only the characters
on the left side are valid.
</p>
<p>The screen configuration for the PMC programmer (DPL/MDI) function
is as follows:
</p>
<p>PMC PRG MENU 1/3
&gt;RUN/STOP
</p>
<p>PMC PRG MENU 2/3
&gt;EDIT
</p>
<p>PMC PRG MENU 3/3
&gt;SYSTEM PARAM
</p>
<p>LADDER RUN/STOP
MONITOR (STOP)
</p>
<p>PMC EDIT 1/1
&gt;LADDER
</p>
<p>CTR TYPE=BCD
(BINARY=0/BCD=1)
</p>
<p>N0001
RD X0000.0
</p>
<p>PMC programmer menu Sequence program start and stop
</p>
<p>&lt;INPUT&gt;or&lt;READ&gt;
</p>
<p>&lt;CAN&gt;or&lt;WRITE&gt;
</p>
<p>&lt;CAN&gt;or
&lt;WRITE&gt;
</p>
<p>&lt;INPUT&gt;
or&lt;READ&gt;
</p>
<p>&lt;CAN&gt;or
&lt;WRITE&gt;
</p>
<p>&lt;INPUT&gt;
or&lt;READ&gt;
</p>
<p>&lt;CAN&gt;or
&lt;WRITE&gt;
</p>
<p>&lt;INPUT&gt;
or&lt;READ&gt;
</p>
<p>PMC editing menu Editing ladder mnemonics
</p>
<p>&lt;&darr;&gt;&lt;&uarr;&gt;
</p>
<p>Setting and displaying PMC system parameters
</p>
<p>&lt;&darr;&gt;&lt;&uarr;&gt;
</p>
<p>PMC PRG MENU 4/4
&gt;I/O
</p>
<p>DEVICE=F&ndash;ROM
&gt;WRITE Y/N[YES]
</p>
<p>&lt;CAN&gt;
</p>
<p>&lt;INPUT&gt;
or&lt;WRITE&gt;
</p>
<p>Screen for storing the sequence
program into flash ROM
</p>
<p>&lt;&darr;&gt;&lt;&uarr;&gt;
The Power Mater&ndash;H supports the following screen:
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>11. PMC PROGRAMMER (DPL/MDI)
(ONLY FOR THE Power 
Mate&ndash;D/F/H) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>522
</p>
<p>To operate the PMC programmer, set K17#1 of the keep relay area for
PMC parameters to 1, then press the &lt;PRGRM&gt; key two times on the
DPL/MDI (press the &lt;PRGRM&gt; key further when the program screen is
selected), thus causing the PMC programmer menu to be displayed.
</p>
<p>&lt;O0001&gt; N010!G90
G01 G43      X10 ;
</p>
<p>PMC PRG MENU 1/3
&gt;RUN/STOP
</p>
<p>Program screen PMC programmer menu screen
</p>
<p>&lt;PRGRM&gt;
</p>
<p>Can be switched only when K17#1 = 1.
</p>
<p>To return to the CNC screen, press the &lt;POS&gt;, &lt;PRGRM&gt;, &lt;VAR&gt;,
&lt;DGNOS/PARAM&gt;, or &lt;ALARM&gt; key.
</p>
<p>PMC programmer screen
(PMC programmer menu)
(PMC editing menu)
</p>
<p>Current
Position screen
</p>
<p>Program screen
</p>
<p>Alarm/Message screen
</p>
<p>Parameter/Diagnostic screen
</p>
<p>Offset/Setting/Macro 
Variable screen
</p>
<p>&lt;POS&gt;
</p>
<p>&lt;PRGRM&gt;
</p>
<p>&lt;ALARM&gt;
</p>
<p>&lt;PRGRM&gt;
(K17#1=1)
</p>
<p>&lt;DGNOS/
PARAM&gt;
</p>
<p>&lt;VAR&gt;
</p>
<p>The following keys on the DPL/MDI panel are used for PMC operation:
</p>
<p>1 &lt;POS&gt;, &lt;PRGRM&gt;, &lt;VAR&gt;, &lt;DGNOS/PARAM&gt;, &lt;ALARM&gt; key
Returns to the CNC screen.
</p>
<p>2 &lt;&uarr;&gt; key
Shifts the cursor upward.
</p>
<p>3 &lt;&darr;&gt; key
Shifts the cursor downward.
</p>
<p>4 &lt;INPUT&gt;, &lt;READ&gt; key
Selects a function when the PMC programmer menu or PMC editing
menu is displayed.
</p>
<p>5 &lt;CAN&gt;, &lt;WRITE&gt; key
Returns to the previous menu from the PMC programmer menu or
PMC editing menu.
</p>
<p>11.1
SELECTING THE
PMC PROGRAMMER
MENU
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>11. PMC PROGRAMMER (DPL/MDI) 
(ONLY FOR THE Power 
</p>
<p>Mate&ndash;D/F/H)PMC PROGRAMMER (CRT/MDI)
</p>
<p>523
</p>
<p>Selecting SYSTEM PARAM on the PMC programmer menu displays the
system parameter screen.  If the sequence program is running, selecting
this function automatically stops the program.
</p>
<p>1 Display the PMC programmer menu.
</p>
<p>2 Display the SYSTEM PARAM item by pressing the &lt;&darr;&gt; or &lt;&uarr;&gt; key.
</p>
<p>PMC PRG MENU 3/3
&gt;SYSTEM PARAM
</p>
<p>3 Press the &lt;INPUT&gt; or &lt;READ&gt; key.  The system parameter screen
appears.
</p>
<p>CTR TYPE = BIN  
(BINARY=0/BCD=1)
</p>
<p>4 The current counter data type is displayed on the screen.
</p>
<p>(a) Specify the type of the counter value to be used for the CTR
functional instruction, as binary or BCD (enter &lt;0&gt; for binary or
&lt;1&gt; for BCD).
</p>
<p>(b) Press the &lt;INPUT&gt; key.
</p>
<p>  The counter data type is set.
</p>
<p>5 Pressing the &lt;CAN&gt; or &lt;WRITE&gt; key displays the PMC
programmer menu.
</p>
<p>NOTE
If the PMC parameter keep relay K19#0 is set to 1, the
screen for writing a sequence program into Flash Memory
is displayed upon the completion of editing. (This is
applicable to the Power Mate&ndash;H only).
</p>
<p>Write a sequence program into Flash Memory as explained
in Section 11.7.
</p>
<p>DEVICE=F&ndash;ROM
&gt;WRITE Y/N [YES]
</p>
<p>11.2
SETTING AND
DISPLAYING SYSTEM
PARAMETERS
(SYSTEM PARAM)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>11. PMC PROGRAMMER (DPL/MDI)
(ONLY FOR THE Power 
Mate&ndash;D/F/H) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>524
</p>
<p>Selecting EDIT on the PMC programmer menu displays the editing
menu.
</p>
<p>1 Display the PMC programmer menu.
</p>
<p>2 Display the EDIT item by pressing the &lt;&darr;&gt; or &lt;&uarr;&gt; key.
</p>
<p>PMC PRG MENU 2/3
&gt;EDIT
</p>
<p>3 Press the &lt;INPUT&gt; or &lt;READ&gt; key.  The PMC editing menu
appears.
</p>
<p>PMC EDIT 1/1
&gt;LADDER
</p>
<p>To end editing and display the PMC programmer menu, press the &lt;CAN&gt;
or &lt;WRITE&gt; key.
</p>
<p>11.3
EDITING THE
SEQUENCE
PROGRAM (EDIT)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>11. PMC PROGRAMMER (DPL/MDI) 
(ONLY FOR THE Power 
</p>
<p>Mate&ndash;D/F/H)PMC PROGRAMMER (CRT/MDI)
</p>
<p>525
</p>
<p>When ladder mnemonic editing (LADDER) is selected from the PMC
edit menu, the ladder mnemonic edit screen is displayed.
</p>
<p>When this function is selected, the sequence program stops.
</p>
<p>When ladder mnemonic editing (LADDER) is selected from the PMC
edit menu, the ladder mnemonic edit screen is displayed.
When this function is selected, the sequence program stops.
</p>
<p>1 Display the PMC edit menu screen.
</p>
<p>2 Display the LADDER item by pressing the &lt;�&gt; or &lt;�&gt; key.
</p>
<p>PMC EDIT 1/1
&gt;LADDER
</p>
<p>3 Press the &lt;INPUT&gt; or &lt;READ&gt; key.
When a password is set for the ladder: Proceed to step 4.
When no password is set for the ladder: Proceed to step 6.
</p>
<p>4 If a password is set, a password clear request is displayed.
</p>
<p>PASSWORD (R/W)
</p>
<p>NOTE
For a ladder for which a password has been set, the ladder
mnemonic editing function cannot be started unless the
correct password is entered. Once the password is cleared,
the password remains cleared until the power is turned off
then back on.
</p>
<p>5 Enter the password, then press the &lt;INPUT&gt; key.
</p>
<p>NOTE
The entered password is not displayed (not echoed back on
the screen).
</p>
<p>If the entered password is incorrect, the following error message is
displayed.
</p>
<p>FALSE PASSWORD
</p>
<p>If the &lt;INPUT&gt; key is pressed at this time, the screen display returns
to the password clear request screen.
If the &lt;CAN&gt; key is pressed at this time, the screen display returns
to the PMC edit menu.
If the entered password is correct, the password is cleared.
</p>
<p>6 A sequence program is displayed.
</p>
<p>11.4
EDITING LADDER
MNEMONICS
</p>
<p>11.4.1
Starting Ladder
Mnemonics Editing
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>11. PMC PROGRAMMER (DPL/MDI)
(ONLY FOR THE Power 
Mate&ndash;D/F/H) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>526
</p>
<p>&gt; N0001
RD X0000.0
</p>
<p>Step number
</p>
<p>Instruction
</p>
<p>1 Cursor scroll (scroll per step)
Pressing the &lt;&uarr;&gt; cursor key displays the instruction one step before
that currently displayed.  Pressing the &lt;&darr;&gt; cursor key displays the
instruction one step after that currently displayed.
</p>
<p>2 Specifying the step number
Entering &lt;NO.&gt;, &lt;step number&gt;, then &lt;INPUT&gt; displays the
instruction having the entered step number.
(The &lt;&darr;&gt; cursor key can be used instead of the &lt;INPUT&gt; key.)
(Example)  &lt;NO.&gt;, &lt;123&gt;, &lt;&darr;&gt;
</p>
<p>N0123
SUB 50 PSGNL
</p>
<p>3 Relay search
Entering &lt;address number&gt; then &lt;&darr;&gt; searches for the relay
including the entered address.
(Example)  &lt;X0.2&gt;, &lt;&darr;&gt;
</p>
<p>N0105
AND X0000.2
</p>
<p>4 Relay coil search
Entering &lt;WRT&gt;, &lt;address number&gt;, then &lt;&darr;&gt; searches for the
relay coil including the entered address.
(Example)  &lt;WRT&gt;, &lt;Y33.5&gt;, &lt;&darr;&gt;
</p>
<p>N0187
WRT. NOT Y0033.5
</p>
<p>5 Functional instruction search
Entering &lt;SUB&gt;, &lt;functional instruction number&gt;, then &lt;&darr;&gt;
searches for the entered functional instruction.
(Example)  &lt;SUB&gt;, &lt;50&gt;, &lt;&darr;&gt;
</p>
<p>N0123
SUB 50 PSGNL
</p>
<p>11.4.2
Confirming the Ladder
Mnemonics
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>11. PMC PROGRAMMER (DPL/MDI) 
(ONLY FOR THE Power 
</p>
<p>Mate&ndash;D/F/H)PMC PROGRAMMER (CRT/MDI)
</p>
<p>527
</p>
<p>NOTE
1 Relay search, relay coil search, and functional instruction
</p>
<p>search are started from the current screen.  If the relay, relay
coil, or instruction is not found by the end of the ladder
program, search is performed from the beginning of the
ladder program to the step at which search was started.  If
still not found, &rdquo;NOT FOUND&rdquo; is displayed.
</p>
<p>2 Display of some instructions may differ from that for FAPT
LADDER.
</p>
<p>N0105 NOT FOUND
AND X0000.2
</p>
<p>P&ndash;G, personal&ndash;computer FAPT LADDER Ladder mnemonics editing
</p>
<p>(a) RD.NOT.STK
</p>
<p>(b) TMR timer&ndash;number
</p>
<p>(c) DEC code&ndash;signal&ndash;address
(PRM) decode&ndash;instruction
</p>
<p>RD.N.STK
</p>
<p>SUB 03 TMR
P001 timer&ndash;number
</p>
<p>SUB 04 DEC
P001 code&ndash;signal&ndash;address
P002 decode&ndash;instruction
</p>
<p>The above also applies when modifying the ladder mnemonics.
</p>
<p>1 Changing an instruction
</p>
<p>(a) Display the instruction to be changed.
</p>
<p>(b) Enter a new instruction.
</p>
<p>(c) Press the &lt;ALTER&gt; key.
</p>
<p>(Example)  &lt;OR&gt;, &lt;Y32.4&gt;, &lt;ALTER&gt;
</p>
<p>N1234
AND R0123.4
</p>
<p>Before change
</p>
<p>N1234
OR Y0032.4
</p>
<p>After change
</p>
<p>NOTE
If changing the instruction causes the memory capacity to
be exceeded, the &lt;ALTER&gt; key is ignored without changing
the instruction.
</p>
<p>2 Deleting an instruction
</p>
<p>(a) Display the instruction to be deleted.
</p>
<p>(b) Press the &lt;DELET&gt; key.
The instruction is deleted and the next instruction is displayed.
</p>
<p>11.4.3
Modifying the Ladder
Mnemonics
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>11. PMC PROGRAMMER (DPL/MDI)
(ONLY FOR THE Power 
Mate&ndash;D/F/H) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>528
</p>
<p>3 Inserting an instruction
</p>
<p>(a) Display the instruction after which an instruction is to be inserted.
</p>
<p>(b) Enter the instruction to be inserted.
</p>
<p>(c) Press the &lt;INSRT&gt; key.
</p>
<p>(Example)  &lt;AND&gt;, &lt;STK&gt;, &lt;INSRT&gt;
</p>
<p>N1234
AND R0123.4
</p>
<p>Before insertion
</p>
<p>N1234
AND.STK
</p>
<p>After insertion
</p>
<p>NOTE
If inserting the instruction causes the memory capacity to be
exceeded, the &lt;INSRT&gt; key is ignored without inserting the
instruction.
</p>
<p>4 Deleting the ladder program
</p>
<p>(a) Enter &lt;&ndash;9999&gt;.
</p>
<p>(b) Press the &lt;DELET&gt; key.
</p>
<p>The whole ladder program is deleted.
</p>
<p>1 Press the &lt;CAN&gt; or &lt;WRITE&gt; key.
</p>
<p>2 &rdquo;EXECUTING&rdquo; is displayed.
</p>
<p>N0001
EXECUTING
</p>
<p>3 The PMC editing menu appears.
</p>
<p>11.4.4
Ending Ladder
Mnemonics Editing
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>11. PMC PROGRAMMER (DPL/MDI) 
(ONLY FOR THE Power 
</p>
<p>Mate&ndash;D/F/H)PMC PROGRAMMER (CRT/MDI)
</p>
<p>529
</p>
<p>NOTE
1 If the sequence program contains an error, the PMC editing
</p>
<p>menu is not displayed but an error message appears on the
screen.
(Example)  Error message
</p>
<p>Pressing the &lt;&uarr;&gt; or &lt;&darr;&gt; cursor key displays the ladder
mnemonics editing screen.
</p>
<p>2 Pressing the &lt;POS&gt;, &lt;PRGRM&gt;, &lt;VAR&gt;,
&lt;DGNOS/PARAM&gt;, or &lt;ALARM&gt; key during the editing of
the sequence program displays the CNC screen by forcibly
terminating editing even if the program contains an error.
</p>
<p>3 If the PMC parameter keep relay K19#0 is set to 1, the
screen for writing a sequence program to flash ROM is
displayed upon the completion of editing. (This is applicable
to the Power Mate&ndash;H only).
</p>
<p>Write a sequence program into flash ROM as explained in
Section 11.7.
</p>
<p>END FUNCTION
MISSING
</p>
<p>DEVICE=F&ndash;ROM
&gt;WRITE  Y/N [YES]
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>11. PMC PROGRAMMER (DPL/MDI)
(ONLY FOR THE Power 
Mate&ndash;D/F/H) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>530
</p>
<p>Selecting RUN/STOP on the PMC programmer menu displays the
sequence program start/stop screen.
</p>
<p>1 Display the PMC programmer menu.
</p>
<p>2 Display the RUN/STOP item by pressing the &lt;&darr;&gt; or &lt;&uarr;&gt; key.
</p>
<p>PMC PRG MENU 1/3
&gt;RUN/STOP
</p>
<p>3 Press the &lt;INPUT&gt; or &lt;READ&gt; key.  The sequence program
start/stop screen appears.
</p>
<p>LADDER RUN/STOP
MONITOR  [RUN]
</p>
<p>4 The current execution state of the sequence program is displayed on
the screen.
Pressing the &lt;&darr;&gt; or &lt;&uarr;&gt; key switches the state between running and
stopped.
</p>
<p>5 Pressing the &lt;CAN&gt; or &lt;WRITE&gt; key displays the PMC
programmer menu.
</p>
<p>NOTE
When the sequence program cannot be started(RUN), the
alarm of PMC occurred. Please confirm the alarm status
referring to &rdquo;11.11 Error List&rdquo;.
</p>
<p>11.5
STARTING AND
STOPPING THE
SEQUENCE
PROGRAM
(RUN/STOP)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>11. PMC PROGRAMMER (DPL/MDI) 
(ONLY FOR THE Power 
</p>
<p>Mate&ndash;D/F/H)PMC PROGRAMMER (CRT/MDI)
</p>
<p>531
</p>
<p>Displayed error message Error description (operator action)
</p>
<p>1 COIL NOTHING No coil is specified for a functional instruction
using a coil.
</p>
<p>2 COM FUNCTION MISSING The use of the COM (SUB9) functional
instruction is incorrect.
</p>
<p>3 END FUNCTION MISSING The END1 or END2 functional instruction is
missing (or ERROR NET).
</p>
<p>4 JUMP FUNCTION MISSING The use of the JMP (SUB10) functional
instruction is incorrect.
</p>
<p>5 LADDER BROKEN The ladder program is corrupted.
</p>
<p>6 OBJECT BUFFER OVER The user program RAM is full.
(Note) (Perform condensation or reduce the
size of the ladder program.)
</p>
<p>7 PLEASE CLEAR ALL The sequence program has become unrecov-
erable due to power&ndash;off during editing.
</p>
<p>8 1ST LEVEL EXEC TIME OVER The ladder first level is too great.
</p>
<p>NOTE
Use a memory card for ladder diagram editing or the
CONDENSE function of FAPT LADDER (for personal
computers).  These methods may, however, not be
effective.
</p>
<p>11.6
ERROR MESSAGES
(FOR LADDER
MNEMONICS
EDITING)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>11. PMC PROGRAMMER (DPL/MDI)
(ONLY FOR THE Power 
Mate&ndash;D/F/H) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>532
</p>
<p>Selecting I/O on the PMC programmer menu displays the screen for
storing the sequence program into flash EEPROM.  Before attempting to
store the sequence program into flash EEPROM, place the CNC in the
emergency stop state.
</p>
<p>(1) Display the PMC programmer menu.
</p>
<p>(2) Display the I/O item by pressing the &lt;&darr;&gt; or &lt;&uarr;&gt; key.
</p>
<p>PMC PRG MENU 4/4
&gt;I/O
</p>
<p>(3) Press the &lt;INPUT&gt; or &lt;WRITE&gt; key.  The sequence program
storage screen appears.  Pressing the &lt;&darr;&gt; or &lt;&uarr;&gt; key switches display
between [YES] and [NO].
</p>
<p>DEVICE=F&ndash;ROM
&gt;WRITE!Y/N[YES]
</p>
<p>DEVICE=F&ndash;ROM
&gt;WRITE!Y/N[NO  ]
</p>
<p>&lt;&uarr;&gt;
</p>
<p>&lt;&darr;&gt;
</p>
<p>(4) When [NO] is displayed, pressing the &lt;INPUT&gt; key displays the
sequence program storage screen.  When [YES] is displayed, pressing
the &lt;INPUT&gt; key starts writing the sequence program into flash
EEPROM.
&rdquo;EXECUTING&rdquo; is displayed during writing.
</p>
<p>WRITE  TO  F&ndash;ROM
  EXECUTING
</p>
<p>&rdquo;EXECUTING&rdquo; BLINKS.
</p>
<p>Once the sequence program has been written normally,
&rdquo;COMPLETE&rdquo; is displayed.
</p>
<p>WRITE  TO  F&ndash;ROM
 COMPLETE
</p>
<p>NOTE
If an error occurs, an error message appears on the screen.
</p>
<p>Example error message
</p>
<p>NOT  EMG  STOP
</p>
<p>To return to the sequence program storage screen, press the &lt;&uarr;&gt; or
&lt;&darr;&gt; key.
</p>
<p>(5) Pressing the &lt;CAN&gt; key displays the PMC programmer menu.
</p>
<p>11.7
STORING THE
SEQUENCE
PROGRAM INTO
FLASH EEPROM (I/O)
(ONLY FOR THE
Power Mate&ndash;H)
</p>
<p>Example
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>11. PMC PROGRAMMER (DPL/MDI) 
(ONLY FOR THE Power 
</p>
<p>Mate&ndash;D/F/H)PMC PROGRAMMER (CRT/MDI)
</p>
<p>533
</p>
<p>The table below lists the details of the errors which may occur during
storage into F&ndash;ROM using the DPL/MDI (only for the Power Mate&ndash;H).
</p>
<p>Error message Description
</p>
<p>PROGRAM DATA
ERROR
</p>
<p>The ladder data in RAM is invalid.  Alternatively,
there is no RAM or ROM.
</p>
<p>SIZE ERROR The program exceeds the maximum size which can
be written into F&ndash;ROM.
</p>
<p>NOT EMG STOP The CNC is not in the emergency stop state.
</p>
<p>OPEN ERROR The OPEN processing has failed.
</p>
<p>ERASE ERROR The ERASE processing has failed.  
The F&ndash;ROM cannot be erased.  Alternatively, the
F&ndash;ROM is defective.
</p>
<p>WRITE ERROR The WRITE processing has failed.  
The F&ndash;ROM cannot be written.  Alternatively, the
F&ndash;ROM is defective.
</p>
<p>11.8
ERROR DETAILS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>11. PMC PROGRAMMER (DPL/MDI)
(ONLY FOR THE Power 
Mate&ndash;D/F/H) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>534
</p>
<p>� Method of Inputting/Outputting Ladder
</p>
<p>(1) Select &ldquo;Diagnose screen&rdquo; by key in &lt;DGNOS&gt; key.
</p>
<p>(2) Key in &lt;READ&gt;key or &lt;WRITE&gt; key.
</p>
<p>(3) Turn on &lt;F8&gt; key from the office programmer menu screen, and
key in menu number &ldquo;5&lt;NL&gt;&rdquo; or &ldquo;3&lt;NL&gt;&rdquo;.
</p>
<p>� Method of Inputting Ladder and PMC&ndash;Parameter.
</p>
<p>(1) Select &ldquo;Diagnose screen&rdquo; by key in &lt;DGNOS&gt;key.
</p>
<p>(2) Key in &lt;NO.&gt;key and optionally key in [File No.].
</p>
<p>(3) Key in &lt;READ&gt;key.
</p>
<p>CAUTION
In case of input PMC&ndash;Parameter, it is necessary to set
following conditions.
(a)Emergency stop condition, and NC&ndash;Parameter PWE=1.
(b)Stop condition the Ladder program.
</p>
<p>� Method of Outoutting Ladder.
</p>
<p>(1) Select &ldquo;Diagnose screen&rdquo; by key in &lt;DGNOS&gt;key.
</p>
<p>(2) Key in &lt;NO.&gt;key and optionally key in [Files No.].
</p>
<p>(3) Key in &lt;WRITE&gt;.
</p>
<p>� Method of Outputting PMC&ndash;Patameter.
</p>
<p>(1) Select &ldquo;PMC STATUS screen&rdquo; by key in &lt;DIGNOS&gt;key.
</p>
<p>(2) Key in &lt;No.&gt; key and optionally key in [File No.].
</p>
<p>(3) Key in &lt;WRITE&gt;.
</p>
<p>CAUTION
In case of output PMC&ndash;Parameter, it is necessary to set
following condition.
(a)Edit mode.
(b)Stop condition the Ladder program.
</p>
<p>11.9
INPUT/OUTPUT
LADDER/PMC&ndash;PARA
METER BY MDI/DPL
</p>
<p>11.9.1
Input/Output Method to
Office Programmer
(P&ndash;g Mate/Mark II)
(Fixed 9600bit/Sec.)
</p>
<p>11.9.2
Input/Output Method to
FANUC FLOPPY
CASSETE (Fixed
4800bit/sec.)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>11. PMC PROGRAMMER (DPL/MDI) 
(ONLY FOR THE Power 
</p>
<p>Mate&ndash;D/F/H)PMC PROGRAMMER (CRT/MDI)
</p>
<p>535
</p>
<p>The on&ndash;line debugging function enables the monitoring and modification
of ladder programs and signal status on personal computer&rsquo;s screen using
a personal computer connected to the Power Mate through an RS&ndash;232C
cable.
</p>
<p>FANUC FAPT LADDER&ndash;II is necessary to use the on&ndash;line debugging
function. (This software is a programming system for developing
FANUC PMC sequence programs which operate on IBM PC/AT and
compatible computers.)
</p>
<p>Software name Specification Personal computer
</p>
<p>FAPT LADDER&ndash;II A08B&ndash;9201&ndash;J503 IBM PC/AT and compatible
</p>
<p>In this section, only the parameter of on&ndash;line monitor driver for Power
Mate&ndash;H and attention in use is described. Other points(connection of
cable with personal computer, details of the operation, etc.) are described
in the following manual.
</p>
<p>Name of Manual Spec.No. Reference Items
</p>
<p>FAPT LADDER&ndash;II OPERATOR&rsquo;S MANUAL B&ndash;66184EN On&ndash;line function
</p>
<p>When using the on&ndash;line debugging function to connect a personal
computer to the PMC, first start the driver that provides the
communication function of the PMC.
When starting or stopping the driver, it is necessary to set either of the
following parameters.
</p>
<p>� Parameter screen for on&ndash;line monitor(�PARAMETERS FOR ONLINE
MONITOR�)
</p>
<p>Pressing the [MONIT] then [ONLINE] soft keys on the PMC menu
screen causes the on&ndash;line monitor parameter screen to appear.
</p>
<p>Parameter�RS&ndash;232C� = �USE� : On&ndash;line monitor driver is used.
</p>
<p>�NOT USE�: On&ndash;line monitor driver is not
used.
</p>
<p>NOTE
The CRT/MDI is necessary when the parameter is set on the
&rdquo;PARAMETERS FOR ONLINE MONITOR&rdquo; screen.
</p>
<p>� Parameter in the Power Mate&ndash;H (No.0101#6)
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>0101
</p>
<p>#6 = 0 : On&ndash;line monitor driver is not used.
1 : On&ndash;line monitor driver is used.
</p>
<p>When either of the following conditions consists, the on&ndash;line monitor
driver is started.
</p>
<p>�Parameter &rdquo;RS&ndash;232C&rdquo; is &rdquo;USE&rdquo;
</p>
<p>�Bit 6 of parameter No.0101 is &rdquo;1&rdquo;
</p>
<p>11.10
ON&ndash;LINE
DEBUGGING
FUNCTION (ONLY
FOR Power Mate&ndash;H)
</p>
<p>11.10.1
Starting and Stopping
the On&ndash;line Debugging
Function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>11. PMC PROGRAMMER (DPL/MDI)
(ONLY FOR THE Power 
Mate&ndash;D/F/H) B&ndash;61863E/10PMC PROGRAMMER (CRT/MDI)
</p>
<p>536
</p>
<p>CAUTION
1 The on&ndash;line monitor driver occupies the line while it is
</p>
<p>operating.
In this state, other input/output functions cannot use the
line.
If other input/output functions use the line, it is necessary to
display the above&ndash;mentioned parameter and stop the
on&ndash;line monitor driver.
</p>
<p>2 While the on&ndash;line monitor driver is operating, the following
functions cannot be used.
�[PMCLAD], [I/O], [EDIT], [SYSPRM] on CRT/MDI
�[EDIT], [SYSTEM PARAM], [I/O] on DPL/MDI
</p>
<p>3 In case of operating NC, the screen display of NC(Position,
etc.) might be slow when using input/output functions(Load
from PMC, Store to PMC, etc.). There is no problem in the
operation of NC. It is recommended to using input/output
functions while NC is not operating.
</p>
<p>4 When the screen made by C language executor is
displayed, the communication speed decreases. It is
recommended to use input/output functions after moving to
other screens(Position, etc.).
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>11. PMC PROGRAMMER (DPL/MDI) 
(ONLY FOR THE Power 
</p>
<p>Mate&ndash;D/F/H)PMC PROGRAMMER (CRT/MDI)
</p>
<p>537
</p>
<p>If in alarm is issued in the PMC, the alarn message is displayed on the
CRT (PMC ALARM MESSAGE screeen). But in case of DPL/MDI, it
is displayed only by R&ndash;relay status (ON or Off).
Refer to the &ldquo;APPENDIX L.ALARM MESSAGE LIST&rdquo; for more
information.
</p>
<p>(1) Error ststus at power on or PROGRAM DOWN LOAD.
</p>
<p>0
</p>
<p>1 ER01  PROGRAM  DATA  ERROR (RAM)
</p>
<p>2
</p>
<p>3 ER03  PROGRAM  SIZE  ERROR (OPTION)
</p>
<p>4 ER04  LADDER  OBJECT  TYPE  ERROR
</p>
<p>5
</p>
<p>6
</p>
<p>7  ER07  NO  OPTION (LADDER  STEP)
</p>
<p>R9044
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>0 ER16 RAM CHECK ERROR (PROGRAM RAM)
</p>
<p>1 ER17 PROGRAM PARITY
</p>
<p>2 ER18 PROGRAM DATA ERROR BY I/O
</p>
<p>3 ER19 LADDER DATA  ERROR
</p>
<p>4 ER20 SYMBOL/COMMENT DATA ERROR
</p>
<p>5 ER21 MESSAGE DATA ERROR
</p>
<p>6 ER22 PROGRAM NOTHING
</p>
<p>7 ER23 PLEASE TURN OFF POWER
</p>
<p>R9046
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>11.11
ERROR LIST
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p> IV. STEP SEQUENCE 
FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 1. GENERALSTEP SEQUENCE FUNCTION
</p>
<p>541
</p>
<p>1 GENERAL
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. GENERAL B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>542
</p>
<p>The ladder method is most often used for programming the sequence
control governed by a programmable controller.  This method, shown in
Fig.1.1(a) , was derived from relay-panel control circuits.  Since it has
been in use for years, many sequence control engineers are already
familiar with it.  This method is also used in PMC sequence
programming.
</p>
<p>����1.1 (a) Ladder method
</p>
<p>The greater the number of functions implemented by the PMC for a CNC
system, the larger and the more complicated the sequence program
becomes.  A large-scale system requires a larger program and a greater
number of processes, making it hard for the ladder method to control the
overall process.  This is because the ladder method does not describe the
order of control.  While the ladder method is suitable for describing partial
control, it is hard to apply it to the description of the flow of control
overall.
</p>
<p>To overcome this problem, structured programming has been introduced
into sequence control.  A PMC that supports the subprogram function
enables the use of modular programs.  As shown in Fig.1.1(b), a
large-scale program is divided into subprograms for each function,
simplifying the unit of processing.  Since the programmer determines
how to divide the main program into subprograms and the control flow
used to call the subprograms, however, the programs are not necessarily
easy-to-understand by other programmers.
</p>
<p>CALL
</p>
<p>CALL
</p>
<p>Subprogram
Subprogram
</p>
<p>����1.1 (b) Module method
</p>
<p>1.1
STEP SEQUENCE
METHOD
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 1. GENERALSTEP SEQUENCE FUNCTION
</p>
<p>543
</p>
<p>Given these conditions, a step sequence method has been created to
describe programs structurally.  It is well-suited to the control of entire
processes and provides an easy-to-understand visualized flow of the
process.  The step sequence programming features the direct
representation of the control flow on a flow chart, as shown in Fig.1.1(c).
Each block of processing is described as a subprogram, using the ladder
method.  The entire program is then created by combining these
subprograms.
</p>
<p>Transition
</p>
<p>Step 1
</p>
<p>Step 2
</p>
<p>Subprogram of ladder diagram
</p>
<p>Drawing flow
</p>
<p>����1.1(c) Step sequence method
</p>
<p>The step sequence method has the following features:
</p>
<p>(1) Increased programming efficiency
� Since the flow of processes can be programmed directly, simple,
</p>
<p>correct programming is enabled, reducing the time required for
programming.
</p>
<p>� Even for complicated control, programming proceeds from the main
flow to detailed flow in each process, creating a structured, top-down
program, which is easy-to-understand by persons other than the
original creator.
</p>
<p>� Structured modules can be used again easily.
(2) Easy debugging and maintenance
� Graphical display enables the operator to easily understand the
</p>
<p>execution state of a program visually.
� Erroneous steps in a program can be found easily.
� A part of a program can be easily modified.
</p>
<p>(3) High-speed program
� Since only the subprograms required for a certain process are
</p>
<p>executed, the cycle time is reduced.
(4) Transition from ladder programs
� Since steps and transitions consist of conventional ladder programs,
</p>
<p>conventional ladder programs can be converted to new step sequence
programs, without discarding ladder-program resources.
</p>
<p>In step sequence programming, a sequence control program is divided
into two types of subprograms, steps and transitions.  Steps describe
processes.  Transitions connect steps and determine whether the transition
conditions from one step to another evaluate true.  As shown in Fig.1.1(d),
a step sequence program is described using graphical symbols.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. GENERAL B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>544
</p>
<p>[        ] Step A
</p>
<p>Transition B
</p>
<p>Starts execution. Waits for machining request. 
(Process 1)
</p>
<p>Machining request?
�When machining is requested
</p>
<p>Step C
</p>
<p>Transition D Loading completed?
�Once loading has been completed
</p>
<p>Step E
</p>
<p>Transition F Machining completed?
�Once machining has been completed
</p>
<p>Step G
</p>
<p>Transition H Unloading completed?
�Once unloading has been completed
</p>
<p>Step I
</p>
<p>Holds a workpiece on the pallet.
(Process 2)
</p>
<p>Machines the workpiece.  (Process 3)
</p>
<p>Unloads the workpiece to the pallet. 
(Process 4)
</p>
<p>Moves the pallet.  (Process 5)
</p>
<p>����1.1 (d) Example of machining the workpiece
</p>
<p>As shown in this example, the program flow from process 1 through
process 5 is expressed visually.  Detailed programs related to the
movements performed aspart of each process, and the signals used for
determining whether transition conditions for proceeding to the next step
are satisfied, are not described here.  To program complicated control
flows, many other functions are supported, such as divergence, jump, and
nesting functions.  The details of these functions are described later.
</p>
<p>Step sequence programming is suitable for creating programs which
control processes sequentially.  Programs used for controlling a unit
which operates according to a certain sequence, such as a loader, ATC, and
other peripheral units, are best suited to step sequence programming.  For
programs which control units with no particular sequence, such as that of
the operator&rsquo;s panel which is always monitoring the emergency stop
signal or mode signals, however, are not well-suited to step sequence
programming.  The PMC supports the advantages of both methods, ladder
and step sequence programming, by calling subprograms written
according to a step sequence and those written as a ladder, from the main
program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 1. GENERALSTEP SEQUENCE FUNCTION
</p>
<p>545
</p>
<p>This manual uses the graphical symbols listed in Table 1.2 to describe step
sequence flowcharts.  Depending on the character font being used, the
actually displayed symbols may differ slightly from those listed here.
These graphical symbols are described in the subsequent chapters.
</p>
<p>����� 1.2 List of graphical symbols
</p>
<p>Display of
Display
</p>
<p>Contents
Display   of
</p>
<p>programming
manual CNC  Device
</p>
<p>FAPT  LADDER  of
Personal
Computer
</p>
<p>Step
</p>
<p>Sn Sn Sn
</p>
<p>Initial
Step [      ] Sn [      ] Sn [      ] Sn
</p>
<p>Transition
Pn Pn Pn
</p>
<p>Divergence  of
Selective
Sequence
</p>
<p>Convergence
of
Selective
Sequence
</p>
<p>Divergence  of
Simultaneous
Sequence
</p>
<p>Convergence
of
Simultaneous
Sequence
</p>
<p>Jump
</p>
<p>&rarr; Ln &gt;    Ln &gt;    Ln
</p>
<p>Label
</p>
<p>&rarr;
Ln &lt;          Ln &lt;          Ln
</p>
<p>Block  Step
        ] Sn         ] Sn         ] Sn
</p>
<p>Initial
Block  Step [      ] Sn [      ] Sn [      ] Sn
</p>
<p>End  of
Block  Step
</p>
<p>1.2
GRAPHICAL
SYMBOLS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1. GENERAL B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>546
</p>
<p>Follow the procedure below to create a step sequence program.  Use a
personal computer on which the FAPT LADDER software package is
installed to code (edit) a program.  Use a CNC to execute, debug and
correct the ladder subprogram.
</p>
<p>(1) Create step sequence program  (editing)
</p>
<p>(2) Create a subprogram of ladder diagram (editing)
</p>
<p>(3) Compile
</p>
<p>(4) Transfer to the CNC device (with the memory card or RS232C)
</p>
<p>(5) Write to the FlashROM
</p>
<p>(6) Execute
</p>
<p>(7) Diagnosis and debugging
</p>
<p>(8) Correct a subprogram of ladder diagram (editing)
</p>
<p>Personal
Computer
</p>
<p>FAPT  LADDER
</p>
<p>software
(5)  Write to the FlashROM
</p>
<p>PMC- RB4/RB6/
RC4/NB2
</p>
<p>       �
</p>
<p>                       RS232C
</p>
<p>Memory
</p>
<p>card
</p>
<p>CNC  device
</p>
<p>(4) Transfer to the
      CNC device
</p>
<p>FlashROM
</p>
<p>(1) Create Step Sequence program
</p>
<p>      (editing)
</p>
<p>(2) Create a subprogram of ladder
</p>
<p>     diagram (editing)
</p>
<p>(3) Compile
</p>
<p>(6)  Execute
</p>
<p>(7)  Diagnosis  and  debugging
</p>
<p>(8) Correct a subprogram of ladder diagram (editing)
</p>
<p>����1.3 Programming to create a program
</p>
<p>Table1.3 lists the step sequence functions supported by a personal
computer (on which the FAPT LADDER software package is
installed) and CNC.
</p>
<p>1.3
PROGRAMMING
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 1. GENERALSTEP SEQUENCE FUNCTION
</p>
<p>547
</p>
<p>����� 1.3 Step sequence functions
</p>
<p>� : usable
</p>
<p>Functions PMC-RB4/RB6 PMC-RC4 PMC-NB2
</p>
<p>FAPT
LADDER 
</p>
<p>of
PERSONAL
COMPUTER
</p>
<p>Display and edit of a program
</p>
<p>�  Display of subprogram list � � � �
�  Create a new subprogram �
�  Delete a subprogram �
�  Edit a subprogram of StepSequence 
   form
</p>
<p>�
</p>
<p>�  Edit a subprogram of ladder diagram � � � �
�  Compile �
�  Decompile �
</p>
<p>Input and output
</p>
<p>�  Input and output with a memory card � � � �
�  Input and output with RS232C � � � �
�  Write to a FlashROM � � �
</p>
<p>Execution of program
</p>
<p>�  execution of a ladder diagram � � �
�  execution of Step Sequence program � � �
</p>
<p>Diagnosis and debugging (note1)
</p>
<p>�  Diagnosis of Step Sequence program � � �
�  Diagnosis of a ladder diagram � � �
�  Set and display a monitoring timer � � �
</p>
<p>NOTE
While step sequence functions are being used, some of the
diagnosis and debug functions supported by the ladder
method cannot be used.  For details, see 6.4 (Support
Functions).
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. STEP SEQUENCE BASICS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>548
</p>
<p>2 STEP SEQUENCE BASICS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. STEP SEQUENCE BASICSSTEP SEQUENCE FUNCTION
</p>
<p>549
</p>
<p>A step sequence program is created using a variety of graphical   symbols,
as shown in Fig.2.1(a).  The main terms used in the step sequence are
described below.
</p>
<p>L1 (Jump)
</p>
<p>(Block)
</p>
<p>[      ]   S1   (Initial Step)
</p>
<p>L1   (Label)
</p>
<p>P100   (Transition)
</p>
<p>S2   (Step)
</p>
<p>P101   (Transition)
</p>
<p>S3
</p>
<p>(Divergence of Selective Sequence)
</p>
<p>(Divergence of
Simultaneous
Sequence)
</p>
<p>(Convergence of
Simultaneous 
Sequence)
</p>
<p>(Convergence of Selective Sequence)
</p>
<p>]   S10   (Block Step)
</p>
<p>����2.1(a) Step sequence elements
</p>
<p>2.1
TERMINOLOGY
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. STEP SEQUENCE BASICS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>550
</p>
<p>(1) Step
</p>
<p>Sn
(Pm)
</p>
<p>A step indicates a process, which is the basic processing unit in a step
sequence program.  In a step, specify the S address (Sn), which is a
step number, and P address (Pm), which indicates a subprogram
(action program) specifying the details of processing in each step.
</p>
<p>(2) Step state transition
</p>
<p>When a step sequence program is executed, the process proceeds as
program processing advances, the state of each step changs
accordingly.  Each step can assume any of the logical states listed in
Table 2.1, its state changes as shown in Fig.2.1(b).  Activation refers
to the changing of a step from the inactive state to the active state.
Inactivation refers to the changing of a step from the active state to
the inactive state.
</p>
<p>���
� 2.1 Step state
</p>
<p>State Processing Display
</p>
<p>Active Execution Activated step.
The action program (subprogram) is being
executed.
</p>
<p>Sn
</p>
<p>Inactive Transition
to  halt
</p>
<p>Transition from execution to halt.  
The action program (subprogram) is executed
once only, then the step automatically transits to
halt.
</p>
<p>Sn
Halt Not activated state.
</p>
<p>The action program (subprogram) has not yet
been executed.
</p>
<p>Sn
</p>
<p>Inactivate (halt status)
</p>
<p>Activate (active status)
</p>
<p>Inactivate (transition to halt)
</p>
<p>�	��2.1(b) Step state transition
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. STEP SEQUENCE BASICSSTEP SEQUENCE FUNCTION
</p>
<p>551
</p>
<p>(3) Transition
</p>
<p>Pn
</p>
<p>A transition denotes the transition conditions.  When these evaluate
true, the step of the corresponding state changes from the inactive to
active state or vice the reverse.  Specify the P address (Pn), which
indicates a subprogram describing the transition conditions in detail.
</p>
<p>As shown in Fig.2.1(c), step S2 changes its state from inactive to
active when the conditions described in transition P10 evaluate true,
while step S2 changes its state from active to inactive when the
conditions described in transition P20 evaluate true.
</p>
<p>Executing step1 Executing step2 Executing step3
</p>
<p>S1 (step 1) S1 (step1) S1 (step1)
</p>
<p>P10   (Condition 
is true)
</p>
<p>S2 (step2)
</p>
<p>P20 P20   (Condition
is true)
</p>
<p>S3 (step3)
</p>
<p>P10
</p>
<p>S2 (step2)
</p>
<p>S3 (step3)
</p>
<p>P20
</p>
<p>P10
</p>
<p>S2 (step2)
</p>
<p>S3 (step3)
</p>
<p>����2.1(c) Transition of step state by the transition
</p>
<p>Note that the step immediately before a transition must be active in
order to switch the next step from inactive to active when the
conditions specified in the transition evaluate true.  As shown in
Fig.2.1(d), step S3 does not change to the active state, even when
transition P20 evaluates true, if step S1 is active and step S2 is
inactive.  An active state passes from a certain step to the next step
when the corresponding transition conditions evaluate true, the
execution of the step sequence program advancing one step.
</p>
<p>Executing step1 Executing step1
</p>
<p>S1 (step1) S1 (step1)
</p>
<p>P10
</p>
<p>S2 (step2)
</p>
<p>P20   (Condition
is true)
</p>
<p>P20
</p>
<p>S3 (step3)
</p>
<p>P10
</p>
<p>S2 (step2)
</p>
<p>S3 (step3)
</p>
<p>����2.1(d) Transition of step state by transition
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. STEP SEQUENCE BASICS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>552
</p>
<p>(4) Initial Step
</p>
<p>[      ] Sn
(Pm)
</p>
<p>While a normal step can be activated by a transition, the initial step
is activated automatically when execution of the program starts, as
shown in Fig.2.1(e).
</p>
<p>Stopping program (STOP) Executing program (RUN)
</p>
<p>S1 (step1) S1 (step1)
</p>
<p>P10
</p>
<p>S2 (step2)
</p>
<p>P20 P20
</p>
<p>S3 (step3)
</p>
<p>P10
</p>
<p>S2 (step2)
</p>
<p>S3 (step3)
</p>
<p>[      ] [      ]
</p>
<p>����2.1(e) Activate of initial step
</p>
<p>Although the initial step, which is usually executed first, is often
placed at the top of a program, it can also be specified at some point
within a program.  It is always activated first.  After being deactivated
once, it can be subsequently be activated again.  In this case, it acts
in the same way as a normal step.
</p>
<p>(5) Divergence and Convergence of Selective Sequence
</p>
<p>To describe a complicated sequence, selective sequences can be  used.
A selective sequence offers multiple choices, from among which the
condition becomes true first activates the corresponding step, as
shown in Fig.2.1(f).  The divergent paths join to generate the mai
sequence.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. STEP SEQUENCE BASICSSTEP SEQUENCE FUNCTION
</p>
<p>553
</p>
<p>S1
</p>
<p>(Divergence of selective sequence)
</p>
<p>  P23P21 P22
S21 S22 S23
</p>
<p>(Convergence of selective sequence)
</p>
<p>When transition P21
evaluates true 
</p>
<p>�
</p>
<p>When transition P22
evaluates true 
</p>
<p>�
</p>
<p>S1
</p>
<p>(true)
</p>
<p>S21 S22 S23
</p>
<p>S2
</p>
<p>(true)
</p>
<p>S21 S22 S23
</p>
<p>����2.1(f) Selective sequence
</p>
<p>(6) Divergence and Convergence of Simultaneous Sequence
</p>
<p>A Simultaneous sequence can be used to execute multiple processes
simultaneously.  In a Simultaneous sequence, as shown in Fig.2.1(g),
one transition activates multiple steps.  The activated multiple steps
are executed independently.  Once all steps along the multiple paths
have been completed, the divergent paths join to generate the main
sequence.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. STEP SEQUENCE BASICS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>554
</p>
<p>(Divergence of  
simultaneous 
sequence)
</p>
<p>(Convergence of
simultaneous 
sequence)
</p>
<p>S21 S22 S23
</p>
<p>S31 S32 S33
</p>
<p>S4
</p>
<p>P10
S1
</p>
<p>When transition P10
evaluates true
</p>
<p>�
</p>
<p>S21 S22 S23
</p>
<p>S31 S32 S33
</p>
<p>S4
</p>
<p>P10 (true)
S1
</p>
<p>����2.1(g) Simultaneous sequence
</p>
<p>(7) Jump and Label
</p>
<p>The jump function is used to describe a non-serial sequence, such as
a repeated loop.  As shown in Fig.2.1(h), when a jump designation
is activated, the sequence jumps to the step having the corresponding
jump destination label, after which that step is activated.  To specify
a label number, the L address is used in the same way as a jump
instruction in ladder programming.  A jump can be made to a previous
or subsequent step.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. STEP SEQUENCE BASICSSTEP SEQUENCE FUNCTION
</p>
<p>555
</p>
<p>Executing step3 Executing step1
</p>
<p>P10 P10
</p>
<p>P20 P20
</p>
<p>L1   (Jump)
</p>
<p>L1 L1   (Label)
</p>
<p>S1 (step1)
</p>
<p>P30   (Condition         ���
is  true)
</p>
<p>P30
</p>
<p>L1
</p>
<p>S1 (step1)
</p>
<p>S2 (step2) S2 (step2)
</p>
<p>S3 (step3) S3 (step3)
</p>
<p>����2.1(h) Jump and Label
</p>
<p>(8) Block
</p>
<p>A block refers to a group of consecutive steps and transitions.  A block
can be a step sequence program.  The more complicated the sequence
becomes, the larger and more complex the block is.  A program can
be divided into multiple blocks in the same way as for subprograms
in ladder programming, based on the concept of modular
programming.  Each block is identified by a P address, which
corresponds to the subprogram number in ladder programming.
</p>
<p>A block is executed as the main program in a step sequence, or called
from another step sequence program as a subprogram.
</p>
<p>Block (P1) Block (P2)
</p>
<p>[      ] [      ]
</p>
<p>����2.1(i) Block
</p>
<p>(9) Calling block
</p>
<p>To execute a block as the main program in a step sequence, call the
block with the CALLU (SUB 66) or CALL (SUB65) instruction in
the same way as for ladder subprogram calling from the second level
ladder program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. STEP SEQUENCE BASICS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>556
</p>
<p>CALLU  P2
</p>
<p>CALLU  P3
</p>
<p>[      ]
</p>
<p>[      ]
</p>
<p>Ladder (Second level) Block2 (P2)
</p>
<p>Block3 (P3)
</p>
<p>����2.1(j) Calling block
</p>
<p>(10) Block step (calling step sequence program)
</p>
<p>        ] Sn
(Pm)
</p>
<p>To call a block from the step sequence program as a subprogram,
specify a block step in the step sequence program which calls the
block, as shown in Fig.2.1(k).  This is called bloc nesting.
</p>
<p>(P2)
</p>
<p>S231
</p>
<p>S232
</p>
<p>S233
</p>
<p>Block (P1) Block (P2)
</p>
<p>[      ]
</p>
<p>]  S23
</p>
<p>[      ]S1
</p>
<p>S21 S22
</p>
<p>S3
</p>
<p>����2.1(k) Block nesting
</p>
<p>The program shown in Fig.2.1(k) is equivalent to in Fig.2.1(l).  which
does not use a block step.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. STEP SEQUENCE BASICSSTEP SEQUENCE FUNCTION
</p>
<p>557
</p>
<p>S1
</p>
<p>S21
</p>
<p>S232
</p>
<p>S233
</p>
<p>S3
</p>
<p>Block (P1)
</p>
<p>[      ]
</p>
<p>S22 S231
</p>
<p>����2.1(l) Program without block step
</p>
<p>(11)End of block step
</p>
<p>Use an end block step to terminate nested-block-step calling and to
return to the calling sequence.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. STEP SEQUENCE BASICS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>558
</p>
<p>First level
 (Ladder diagram)
</p>
<p>Second level
 (Ladder diagram) CALL
</p>
<p>Third level
 (Ladder diagram)
</p>
<p>END1 (SUB 1) function
</p>
<p>CALL
</p>
<p>END2 (SUB 2) function
</p>
<p>END3 (SUB 48) function
</p>
<p>Subprogram P1
 (Ladder diagram)
</p>
<p>Subprogram P2
</p>
<p>(Step sequence)
</p>
<p>Subprogram P3
(Ladder diagram)
</p>
<p>Subprogram P4
</p>
<p>(Step Sequence)
</p>
<p>[      ]
</p>
<p>[      ]
</p>
<p>Subprogram Pn
</p>
<p>END (SUB 64) function
</p>
<p>�
�
</p>
<p>          Editing
(source program)
</p>
<p>Compile           Executing 
(ROM format program)
</p>
<p>����2.2(a) Structure of program
</p>
<p>2.2
EXECUTION OF STEP
SEQUENCE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. STEP SEQUENCE BASICSSTEP SEQUENCE FUNCTION
</p>
<p>559
</p>
<p>In the step sequence method, a program is created (edited) in units of
subprograms.  The edited source program is compiled andconverted to an
executable ROM-format program, thenlinked, as shown in Fig.2.2(a).  A
ROM-format program is a kind of a modular program, created using
conventional subprograms.  A step sequence block is also a type of a
subprogram.  Step sequence blocks are linked to the end of the first level
to third level ladder programs, together with other ladder subprograms.
</p>
<p>In the same way as in the ladder method, a program is activated at certain
intervals, namely every 8 ms, as shown in Fig.2.2(b).  The first level and
second level ladders are executed for a certain period (T ms), then the third
level ladder is executed for the remaining time.  The period in which the
first level and second level ladders are executed varies with the PMC
model and the setting of the system parameter (LADDER EXEC).
Whether the third level ladder can be used depends on the PMC model.
</p>
<p>8msec 8msec 8msec
</p>
<p>T msec T msec T msec
</p>
<p>�division �division �finished
</p>
<p>First level
</p>
<p>Second level
</p>
<p>Third level
(depends on
the PMC model)
</p>
<p>tn-8 tn+0 tn+8 tn+16
</p>
<p>����2.2(b) Execution of program cyclically
</p>
<p>After the first level ladder has been executed, the second level ladder i 
executed for the remaining time. If the second level ladder cannot be fully
executed within one execution period, it is suspended part-way, with the
remainder being executed in the nextperiod.  This type of execution is
called divided execution.  Where the second level ladder is divided varies
with the execution time of the first level ladder and that of the executed
instructions of the second level ladder.  Divided execution is divided into
two types, divided system and undivided system.  In the divided system,
the position where the second level ladder is divided is determined in
advance, a divided instruction code being inserted at that position.  In the
undivided system, in contrast, where the second level ladder is divided is
not determined in advance, the ladder being automatically divided upon
the determined period elapsing.  A PMC which allows step sequence
programming executes the second level ladder in undivided system.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. STEP SEQUENCE BASICS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>560
</p>
<p>In divided execution, the second level ladder is executed at an interval that
is a multiple of 8 ms (e. g., 8, 16, 24 ms).  Input signals referenced in the
second level ladder, such as addresses X and F, are refreshed in
synchronization with the execution period for the second level ladder, so
that they do not change during the execution.
</p>
<p>All subprograms, created using either the ladder or step sequence  method,
are called from the second level ladder.  Hence, the execution time of the
second level ladder includes those of ladder subprograms, step sequence
programs (blocks), steps, and transitions.  Since only the activated step
and the transition which checks the transition condition from the step to
the next step are executed in a step sequence program, the second level
ladder is executed much more frequently than may be expected from the
total number of steps.
</p>
<p>P4
</p>
<p>P6
</p>
<p>R0. 0
</p>
<p>LEVEL1 (Ladder diagram)
</p>
<p>LEVEL2 (Ladder diagram)
</p>
<p>CALLU P2
</p>
<p>CALL P1
</p>
<p>LEVEL3 (Ladder diagram)
</p>
<p>P1 (Ladder diagram)
</p>
<p>P2 (Step sequence)
</p>
<p>L1
</p>
<p>S1 (P3)
</p>
<p>S2 (P5)
</p>
<p>P3 (Ladder diagram)
</p>
<p>P4 (Ladder diagram)
</p>
<p>[      ]
</p>
<p>L1
</p>
<p>����2.2(c) Execution of step sequence
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 2. STEP SEQUENCE BASICSSTEP SEQUENCE FUNCTION
</p>
<p>561
</p>
<p>In the step sequence program shown in Fig.2.2(c), when step S1 is
activated, subprograms are executed according to the timing illustrated in
Fig.2.2(d).
</p>
<p>Third level
</p>
<p>Subprogram
</p>
<p>Step
</p>
<p>8msec
</p>
<p>T msec
</p>
<p>LEVEL1
</p>
<p>LEVEL2
</p>
<p>P2 P1
</p>
<p>P3 P4
</p>
<p>Transition
</p>
<p>LEVEL3
</p>
<p>First level
</p>
<p>Second level
</p>
<p>����2.2(d) Timing of execution of step sequenceprogram
</p>
<p>In this case, step sequence program P2, step P3, transition P4, and ladder
subprogram P1 are executed.  Step P5 and transition P6 are not executed.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. CONFIGURATION AND OPERATION 
OF STEP-SEQUENCE 
PROGRAMS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>562
</p>
<p>3
CONFIGURATION AND OPERATION OF STEP-
SEQUENCE PROGRAMS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. CONFIGURATION AND OPERATION 
OF STEP-SEQUENCE 
</p>
<p>PROGRAMSSTEP SEQUENCE FUNCTION
</p>
<p>563
</p>
<p>A step is a unit of processing in a program.
</p>
<p>[Display]
</p>
<p>Sn
(Pm)
</p>
<p>[Contents]
</p>
<p>� Define a step number (Sn), necessary for controlling execution, and
subprogram number (Pm) specifying actua processing, for a step.
</p>
<p>� Assign a step number to a step.
</p>
<p>� The same step number cannot be used twice in a program.
</p>
<p>� A step has three logical states: the execution, transition to halt, and
halt states.  The execution state is also called the active state.  The
transition to halt and halt states are collectively called the inactive
state.
</p>
<p>State Contents  of  operation Display Sn.0note1)
</p>
<p>Activate Execution Activated step.
The action program (subprogram) is
being executed.
</p>
<p>Sn 1
</p>
<p>Inactivate Transition to
halt
</p>
<p>Transition from execution to halt.
The action program (subprogram) is
executed once only, then the step
automatically transits to halt.
</p>
<p>Sn 0
</p>
<p>Stop Not activated state.
The action program (subprogram)
has not yet been executed. Sn
</p>
<p>0
</p>
<p>NOTE
Sn. 0  Refer to 4.(2)
</p>
<p>Example) State transition of Step B
</p>
<p>Transition A
</p>
<p>Inactivate (halt state)
</p>
<p>Step B
Transition A
</p>
<p>Transition C
Activate (execution state)
</p>
<p>Transition C
</p>
<p>Inactivate (transition to halt)
</p>
<p> (Execute one time)
</p>
<p>3.1
STEP
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. CONFIGURATION AND OPERATION 
OF STEP-SEQUENCE 
PROGRAMS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>564
</p>
<p>[Example]
</p>
<p>After the M7 code is decoded, control is transferred to the next step using
a DEC functional instruction.
</p>
<p>DEC F0
</p>
<p>711
</p>
<p>F7.0
</p>
<p>S1
(P1) Subprogram P1
</p>
<p>MF R0.0
</p>
<p>�
</p>
<p>P101 Subprogram P101
</p>
<p>R0.0
</p>
<p>TRSET
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. CONFIGURATION AND OPERATION 
OF STEP-SEQUENCE 
</p>
<p>PROGRAMSSTEP SEQUENCE FUNCTION
</p>
<p>565
</p>
<p>An initial step is automatically activated when execution of the program
starts.  Once it has been activated, it operates in the same way as a normal
step.  The program can be returned to this step through other steps.
</p>
<p>[Display]
</p>
<p>[      ] Sn
(Pm)
</p>
<p>[Contents]
</p>
<p>� Define a step number (Sn), necessary for controlling execution, and
subprogram number (Pm) specifying the actual processing, for an
initial step.
</p>
<p>� All initial steps are activated when the other steps are not activated.
</p>
<p>� Each block must contain at least one initial step.  No limit is applied
to the number of initial steps contained in a block.
</p>
<p>� A block having no initial step cannot be executed if called.
</p>
<p>� Assign a step number to an initial step.
</p>
<p>� The same step number cannot be used more than once in a program.
</p>
<p>� In parallel branch, one initial step is required for each path.  (See
example 2.)
</p>
<p>[Example1]
</p>
<p>[      ]
L1
</p>
<p>S1
</p>
<p>P101
</p>
<p>S2
</p>
<p>P102
</p>
<p>L1
</p>
<p>When a program is executed, step P1, specified by 
an initial step, is activated first.
</p>
<p>Initial step S1 is executed in the same way as normal
step once S1 has been executed.
</p>
<p>3.2
INITIAL STEP
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. CONFIGURATION AND OPERATION 
OF STEP-SEQUENCE 
PROGRAMS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>566
</p>
<p>Example2
</p>
<p>[      ]
</p>
<p>L1
</p>
<p>S4
</p>
<p>P110
</p>
<p>L1
</p>
<p>When a program is executed, steps S3 and
S4, specified by an initial step, are activated
first.
</p>
<p>Once steps S3 and S4 have been
executed, initial steps S3 and S4 are 
executed in thesame way as normal 
step when the program starts from step S1.
</p>
<p>S1
</p>
<p>P101
</p>
<p>S2
</p>
<p>P102
</p>
<p>[      ]
</p>
<p>S5
</p>
<p>S3
</p>
<p>P103
</p>
<p>A transition specifies the conditions governing the transition from the
step to the next step.
</p>
<p>[Display]
</p>
<p>Pn
</p>
<p>[Contents]
</p>
<p>� Only one transition is required between steps.
</p>
<p>� Transition between steps is performed as described below.
</p>
<p>S1
</p>
<p>P102
</p>
<p>P101
</p>
<p>S2
</p>
<p>While S1 is activate, only S1 and P101 are    
executed.  
Other steps and transition are not executed.
When the transition P102 evaluates true unles S2 
is not being executed, the state is ignored.
</p>
<p>When the transition P101 evaluates true, control 
passes fro S1 to S2.  In this case, when the condition
i true, S1 is terminated regardless of the state of S1, 
and S2 is activated.
</p>
<p>� When a signal is set to 1 in a transition, it remains the state even if
the control is transferred to the subsequentstep.  To set the signal to
0, use another subprogram to do so.
</p>
<p>[Example]
</p>
<p>Refer an example described on the Step function (3.1).
</p>
<p>3.3
TRANSITION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. CONFIGURATION AND OPERATION 
OF STEP-SEQUENCE 
</p>
<p>PROGRAMSSTEP SEQUENCE FUNCTION
</p>
<p>567
</p>
<p>A selective sequence branches to two or more sequences.  When the
transition evaluates true, the corresponding step is activated.
</p>
<p>[Display]
</p>
<p>[Contents]
</p>
<p>� Transitions are placed after a divergence of selective sequence.
</p>
<p>� The step connected to the transition for which the conditions are true
is first activated.
</p>
<p>� When the conditions for any transition are true simultaneously, the
leftmost step is activated.
</p>
<p>� A selective sequence can create up to 16 paths.
</p>
<p>[Example]
</p>
<p>[      ] S1
</p>
<p>P100
</p>
<p>S2
</p>
<p>P101
</p>
<p>S3
</p>
<p>When the conditions for P101 are
satisfied earlier than those of P102,
step S3 is activated.
</p>
<p>It combines two or more divergent paths to the main sequence.
</p>
<p>[Display]
</p>
<p>[Contents]
</p>
<p>The number of divergent paths must match that of the convergent
paths.
</p>
<p>[Example]
</p>
<p>S2
</p>
<p>P102
</p>
<p>S4
</p>
<p>P103
</p>
<p>S3 While step S3 is executed, the transition
P103 evaluates true, thus step S4 is 
activated.
</p>
<p>3.4
DIVERGENCE OF
SELECTIVE
SEQUENCE
</p>
<p>3.5
CONVERGENCE OF
SELECTIVE
SEQUENCE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. CONFIGURATION AND OPERATION 
OF STEP-SEQUENCE 
PROGRAMS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>568
</p>
<p>A simultaneous sequence branches to two or more sequences, and all
steps are activated simultaneously.
</p>
<p>[Display]
</p>
<p>[Contents]
</p>
<p>� A transition must be placed before a divergence of simultaneous
sequence.
</p>
<p>� All branched steps are activated simultaneously, then executed.
</p>
<p>� A simultaneous sequence can create up to 16 paths.
</p>
<p>[Example]
</p>
<p>[      ] S1
</p>
<p>P101
</p>
<p>S2 S3
</p>
<p>When the transition P101 evaluates true, 
step S2 and S3 are activated simultaneously.
</p>
<p>3.6
DIVERGENCE OF
SIMULTANEOUS
SEQUENCE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. CONFIGURATION AND OPERATION 
OF STEP-SEQUENCE 
</p>
<p>PROGRAMSSTEP SEQUENCE FUNCTION
</p>
<p>569
</p>
<p>It combines two or more divergent paths to the main sequence.
</p>
<p>[Display]
</p>
<p>[Contents]
</p>
<p>� A convergence of simultaneous sequence is processed as follows.
</p>
<p>S10
</p>
<p>P120
</p>
<p>S21
</p>
<p>When the transition P120 evaluates
true, step S10 and S20 are terminated
and step S21 is activated.
</p>
<p>S20
</p>
<p>� Wait processing is processed as follows. 
case1 )
</p>
<p>S10
</p>
<p>P109
</p>
<p>S20
</p>
<p>When the transition P109 evaluates true
unless both of step S11 and S16 are active,
control does not pass to step S20.
</p>
<p>When the transition P109 evaluates true
while both of S11 and S16 are active, S11
and S16 are terminated and S20 is 
activated.  In the case, P109 provides the
termination conditions for both S11 and S16.
</p>
<p>P110
</p>
<p>S11
</p>
<p>S15
</p>
<p>P115
</p>
<p>S16
</p>
<p>case2 )
</p>
<p>S11
</p>
<p>P110
</p>
<p>S20
</p>
<p>To specify the termination conditions for
S11 and S16 separately, place the condi-
tions in P111 and P116 and specify two
dummy steps, S12 and S17, as shown
</p>
<p>A dummy step also requires a step number
and subprogram number.  Alsospecify a
dummy transition condition, which becomes
always true, in P110.
</p>
<p>P111
</p>
<p>S12
(dummy)
</p>
<p>S16
</p>
<p>P116
</p>
<p>S17
(dummy)
</p>
<p>3.7
CONVERGENCE OF
SIMULTANEOUS
SEQUENCE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. CONFIGURATION AND OPERATION 
OF STEP-SEQUENCE 
PROGRAMS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>570
</p>
<p>A jump controls the execution of steps non-sequentially, together with a
transition.
</p>
<p>[Display]
</p>
<p>Ln
</p>
<p>[Contents]
</p>
<p>� Specify a jump destination label (Ln).
</p>
<p>� The step to which control is transferred (jumped) is activated.
</p>
<p>� The jump destination must be within the same program.
</p>
<p>� A jump cannot be performed from outside a simultaneous sequence
to within the simultaneous sequence, or from within a simultaneous
sequence to outside.
</p>
<p>� A jump cannot be performed between parallel-branched paths.
</p>
<p>[Example]
</p>
<p>[      ] S1
</p>
<p>P101
</p>
<p>S2
</p>
<p>When steps S4 and S5 ar
executed and the transition P110
evaluates true, the program is 
repeated from initial step S1.
</p>
<p>L1
</p>
<p>P102
</p>
<p>S4
</p>
<p>P110
</p>
<p>L1
</p>
<p>S3
</p>
<p>P103
</p>
<p>S5
</p>
<p>A label specifies the jump destination.
</p>
<p>[Display]
</p>
<p>Ln
</p>
<p>[Contents]
</p>
<p>Specify the jump destination label (Ln).
</p>
<p>[Example]
</p>
<p>Refer to an example described on the jump function (3.8).
</p>
<p>3.8
JUMP
</p>
<p>3.9
LABELww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>3. CONFIGURATION AND OPERATION 
OF STEP-SEQUENCE 
</p>
<p>PROGRAMSSTEP SEQUENCE FUNCTION
</p>
<p>571
</p>
<p>A block step specifies the step sequence subprogram to be executed.
</p>
<p>[Display]
</p>
<p>        ] Sn
(Pm)
</p>
<p>[Contents]
</p>
<p>Define a step number (Sn), which controls the execution of a bloc
step, and a sub-program (Pm) specifying the actual process, for a
block step.
</p>
<p>NOTE
� Assign a step number to a block step.
� The same step number cannot be used twice in a program.
� A transition must be placed after a block step.
</p>
<p>Example)
</p>
<p>� Transition P102 cannot be omitted due to the syntax of the step sequence method.  Specify
a dummy transition, which becomes always true, for transition P102.
</p>
<p>� Transition P121 must specify the transition condition for the termination of the step S21.
� When the conditions of transitions P102 and P121 are switched, step S21 will not be correctly
</p>
<p>executed.
</p>
<p>        ]
</p>
<p>S1
</p>
<p>P101
</p>
<p>S2
(P2)
</p>
<p>P102
</p>
<p>S3
</p>
<p>P2
</p>
<p>S20
</p>
<p>P120
</p>
<p>S21
</p>
<p>P121
</p>
<p>equal
</p>
<p>S1
</p>
<p>S3
</p>
<p>S20
</p>
<p>P120
</p>
<p>S21
</p>
<p>P121
</p>
<p>P101
</p>
<p>3.10
BLOCK STEP
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. CONFIGURATION AND OPERATION 
OF STEP-SEQUENCE 
PROGRAMS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>572
</p>
<p>This is an initial step on the block step.
</p>
<p>[Display]
</p>
<p>[      ] Sn
(Pm)
</p>
<p>[Contents]
</p>
<p>� Define a step number (Sn), necessary for controlling execution, and
subprogram number (Pm)specifying the actual processing, for an
initial step.
</p>
<p>� This step has the same function and graphical symbol asan initial
step.
</p>
<p>This terminates a block step.
</p>
<p>[Display]
</p>
<p>[Contents]
</p>
<p>� Use this step to terminate a block step.
</p>
<p>� Each block requires at least one end block step.  No limit is applied
to the number of end block steps.
</p>
<p>[Example]
</p>
<p>P103P100
</p>
<p>P102
</p>
<p>S2
</p>
<p>[      ] S1
</p>
<p>3.11
INITIAL BLOCK STEP
</p>
<p>3.12
END OF BLOCK
STEP
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
4. EXTENDED LADDER
</p>
<p>INSTRUCTIONSSTEP SEQUENCE FUNCTION
</p>
<p>573
</p>
<p>4 EXTENDED LADDER INSTRUCTIONS
To enable the specification of steps and transitions, the components of a
step sequence program, by means of the ladder method, the following
signals and functional instructions are provided.  These signals and
instructions can only be used in subprograms in which step sequence step
and transitions are specified.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. EXTENDED LADDER 
INSTRUCTIONS B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>574
</p>
<p>[Function]
</p>
<p>� This instruction describes that the conditions for a transition have
been true.
</p>
<p>� This instruction is used in a subprogram which is called from a
transition.
</p>
<p>[Format]
</p>
<p> TRSET
(SUB122)
</p>
<p>ACT
</p>
<p>[Contens]
</p>
<p>� This address is used to read the logical state of a specified step.
0 : Transition to halt state, or halt state
1 : Execution state
</p>
<p>� This address is used for creating a program in which detailed
transitions of the execution states between steps are considered.
Specify the number of the step to be read.
</p>
<p>Example) To reference the state of the step S100
S100. 0
</p>
<p>� This address allows any subprogram to reference the state of any step.
� Data cannot be written into state signal Sn. 0.
� A ladder can be configured for the TRSET transition instruction
</p>
<p>using state signal Sn. 0.  Referencing state signal Sn. 0, however,
adversely affects the portability and comprehensibility.  Use  this
feature sparingly.
</p>
<p>[Example]
</p>
<p>This address is used to reference the activation states of steps in a step
in which this address has been specified, and performs complicated
wait processing in a program including a simultaneous sequence.
</p>
<p>P1 P4
</p>
<p>P2 P1
</p>
<p>Sub program
S5.0
</p>
<p>S2 TRSETS5
</p>
<p>S1 S4
</p>
<p>S3 S6
</p>
<p>In case of starting the executing of
S2 and S6 synchronously:
</p>
<p>4.1
FUNCTIONAL
INSTRUCTION TRSET
</p>
<p>4.2
PMC ADDRESS 
(S ADDRESS)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. SPECIFICATION OF STEP
</p>
<p>SEQUENCESTEP SEQUENCE FUNCTION
</p>
<p>575
</p>
<p>5 SPECIFICATION OF STEP SEQUENCE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. SPECIFICATION OF STEP 
SEQUENCE B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>576
</p>
<p>Contents/Kind of PMC PMC-RB4/RB6/RC4/NB2
</p>
<p>Number of subprogram Up to 2000 (P1 to P2000)
</p>
<p>Number of step Up to 1000 (S1 to S1000)
</p>
<p>Number of label Up to 9999 (L1 to L9999)
</p>
<p>Number of jump in block Up to 256
</p>
<p>Nesting depth of block step Up to 8 levels
</p>
<p>Size of block 64 lines � 32 columns
</p>
<p>Number of paths Up to 16 paths
</p>
<p>����
</p>
<p>����
</p>
<p>����
</p>
<p>Up to 16 paths
</p>
<p>����
</p>
<p>����
</p>
<p>Up to 16 paths
</p>
<p>5.1
SPECIFICATION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. SPECIFICATION OF STEP
</p>
<p>SEQUENCESTEP SEQUENCE FUNCTION
</p>
<p>577
</p>
<p>� One transition must exist between step and step.
</p>
<p>S1
(P10) sub prog
</p>
<p>CALL P10
</p>
<p>CALL P11
</p>
<p>Correct
</p>
<p>S2
(P11)
</p>
<p>S1
(P10)
</p>
<p>S2
(P11)
</p>
<p>P1 or S1
</p>
<p>The step S1 calls
to subprogram P10, P11.
</p>
<p>� The transition shall never be repeated even at the point of the divergence
and the convergence.
</p>
<p>Correct
</p>
<p>P10P2 P1
</p>
<p>P11P2 P2
</p>
<p>P12
</p>
<p>S12
</p>
<p>S2
</p>
<p>S3
</p>
<p>P1
</p>
<p>S1
</p>
<p>P10
</p>
<p>P11
</p>
<p>S10
</p>
<p>S10
</p>
<p>S1
</p>
<p>S3
</p>
<p>S2
</p>
<p>S12
</p>
<p>P10
</p>
<p>S10
</p>
<p>Correct
</p>
<p>5.2
GENERAL RULES
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. SPECIFICATION OF STEP 
SEQUENCE B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>578
</p>
<p>� When a simultaneous sequence is specified in another simultaneous
sequence, one convergence must not be used for each sequence.
</p>
<p>Correct
</p>
<p>S5 S5 (dumy)
</p>
<p>P1 P3
</p>
<p>P2 P2
</p>
<p>S3
</p>
<p>P1
</p>
<p>S3
</p>
<p>S2
</p>
<p>S4
</p>
<p>S1S1 S2
</p>
<p>S4
</p>
<p>S6
</p>
<p>� When a selective sequence is specified in a simultaneous sequence,
dummy steps must be required both after the divergence and before
convergence.
</p>
<p>Correct
</p>
<p>S4
</p>
<p>P1
</p>
<p>P2
</p>
<p>P3
</p>
<p>S1
</p>
<p>S2
</p>
<p>P4
</p>
<p>P5
</p>
<p>S3
</p>
<p>S6
</p>
<p>P1
</p>
<p>S1
</p>
<p>P2
</p>
<p>P3
</p>
<p>S3
</p>
<p>P4
</p>
<p>P5
</p>
<p>S4
</p>
<p>S2 (dummy)
</p>
<p>S5 (dummy)ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. SPECIFICATION OF STEP
</p>
<p>SEQUENCESTEP SEQUENCE FUNCTION
</p>
<p>579
</p>
<p>� In case of branching again immediately after the convergence, a
step/transition is required between the divergence and convergence.
</p>
<p>P2
</p>
<p>P10
</p>
<p>P10 P100 (dummy)
</p>
<p>P1
</p>
<p>S1 S2
</p>
<p>S3 S10
</p>
<p>Correct
</p>
<p>S100 (dummy)
</p>
<p>S10S3
</p>
<p>S2S1
</p>
<p>P11P2 P2
</p>
<p>P100 (dummy )
</p>
<p>S10S2
</p>
<p>S100 (dummy)
</p>
<p>S2
</p>
<p>S12
</p>
<p>P11
</p>
<p>S10
</p>
<p>S13
</p>
<p>S13S12
</p>
<p>Correct
</p>
<p>� Immediately after the block step, a dummy transition which is always
true is needed.
</p>
<p>P10 When block step S11 is used, 
transition P11 and P101 cannot 
be omitted
</p>
<p>note) P11 is a dummy transition.
The transition condition of 
P11 must always be true.
</p>
<p>P11
</p>
<p>S100
</p>
<p>S11
</p>
<p>S101
</p>
<p>S12
</p>
<p>        ]
</p>
<p>S10
[       ]
</p>
<p>P100
</p>
<p>P101
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. SPECIFICATION OF STEP 
SEQUENCE B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>580
</p>
<p>� The divergence must be terminated with the same type of convergence.
</p>
<p>P2
</p>
<p>P3
</p>
<p>S2
</p>
<p>P4
</p>
<p>P5
</p>
<p>S3
</p>
<p>P2
</p>
<p>P3
</p>
<p>S2
</p>
<p>P4
</p>
<p>P5
</p>
<p>S3
</p>
<p>P2
</p>
<p>P3
</p>
<p>S2 S3
</p>
<p>P2
</p>
<p>P3
</p>
<p>S2 S3
</p>
<p>Correct
</p>
<p>Correct
</p>
<p>� The number of convergences must match that of divergences.
</p>
<p>CorrectS2
</p>
<p>S4
</p>
<p>P3
</p>
<p>P1
</p>
<p>S3
</p>
<p>P2
</p>
<p>L1 S2
</p>
<p>S4
</p>
<p>P3
</p>
<p>P1
</p>
<p>S3
</p>
<p>P2
</p>
<p>L1
</p>
<p>� The number of convergences must match that of divergences, even at
the end of a block step.
</p>
<p>Correct
</p>
<p>S2
</p>
<p>P3
</p>
<p>P1 P2
</p>
<p>S2
</p>
<p>P3
</p>
<p>P1 P2ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. SPECIFICATION OF STEP
</p>
<p>SEQUENCESTEP SEQUENCE FUNCTION
</p>
<p>581
</p>
<p>� It is not possible to jump to the other subprogram.
</p>
<p>P100
</p>
<p>   L1
</p>
<p>P101
</p>
<p>P11
</p>
<p>S10
</p>
<p>S100
P10
</p>
<p>Sub&ndash;program P1
</p>
<p>Sub&ndash;program P2
</p>
<p>S101
</p>
<p>S11
</p>
<p>S102
</p>
<p>S12
</p>
<p>P20
</p>
<p>S20
</p>
<p>L1
</p>
<p>� It is not possible to jump from a simultaneous sequence to another
simultaneous sequence.
</p>
<p>S1
</p>
<p>P1
</p>
<p>S2
</p>
<p>P2
</p>
<p>S3
</p>
<p>P3
</p>
<p>S4
L1
</p>
<p>S10
</p>
<p>P10
</p>
<p>L1
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. SPECIFICATION OF STEP 
SEQUENCE B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>582
</p>
<p>� It is not allowed to jump from inside of the simultaneous sequence to
outside.
</p>
<p>L1
</p>
<p>L1
S1
</p>
<p>P1
</p>
<p>S2
</p>
<p>P2
</p>
<p>S3
</p>
<p>S10
</p>
<p>P10
</p>
<p>S11
</p>
<p>S20
</p>
<p>P20
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. SPECIFICATION OF STEP
</p>
<p>SEQUENCESTEP SEQUENCE FUNCTION
</p>
<p>583
</p>
<p>The use of the following functional instructions is restricted in steps and
transitions.
</p>
<p>Group Description Functionalinstructions
</p>
<p>A The instructions operate when a signal changes CTR (SUB5) 
CTRC (SUB60)
</p>
<p>Con-
dition
</p>
<p>Multiple functional instructions having the same
number are used.
</p>
<p>CTRC (SUB60) 
TMR (SUB3) 
TMRB (SUB24) 
TMRC (SUB54)
</p>
<p>Prob-
lem
</p>
<p>Not activated.
Correct operation cannot be guaranteed.
</p>
<p>TMRC (SUB54) 
DIFU (SUB57) 
DIFD (SUB58)
</p>
<p>B Restriction due to the interface. WINDR (SUB51) 
WINDW (SUB52)
</p>
<p>Con-
dition
</p>
<p>Data is input or output by using two subprograms.
WINDW (SUB52) 
DISP (SUB49) 
DISPB (SUB41) 
EXIN (SUB40)Prob-
</p>
<p>lem
Invalid return value.
Not terminated.
</p>
<p>EXIN (SUB40)
</p>
<p>(1) Functional instructions of group A
</p>
<p>Since these functional instructions operate when the corresponding
signals change, they may not operate correctly when called from
multiplesteps.
</p>
<p>Example)
</p>
<p>While multiple CTR functional instructions are used, when
control passes from S1 to S2 with ACT of CTR not set to off, CTR
is not counted when called from step S2.
</p>
<p>CTR 1
</p>
<p>S1
(P100)
</p>
<p>Subprogram P100
R0.0
</p>
<p>(  )
</p>
<p>S2
(P100)
</p>
<p>X1.0
</p>
<p>Subprogram P1
X1.0
</p>
<p>TRSET
</p>
<p>P1
</p>
<p>5.3
EXCLUSIVE
CONTROL FOR
FUNCTIONAL
INSTRUCTIONS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. SPECIFICATION OF STEP 
SEQUENCE B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>584
</p>
<p>Correct program
</p>
<p>Divide the subprogram so that ACT of CTR is called after it is set to
off.
</p>
<p>CTR 1
</p>
<p>CTR 1
</p>
<p>S1
(P100)
</p>
<p>Subprogram P100
</p>
<p>R0.0
(  )
</p>
<p>S2
(P102)
</p>
<p>X1.0
</p>
<p>S3
(P100)
</p>
<p>Subprogram P101
</p>
<p>X1.0
</p>
<p>TRSET
</p>
<p>S4
(P102)
</p>
<p>Subprogram P102
</p>
<p>R9091.0
</p>
<p>Subprogram P103
R9091.1
</p>
<p>TRSET
</p>
<p>P101
</p>
<p>P103
</p>
<p>P103
</p>
<p>P101
</p>
<p>R0.0
(  )
</p>
<p>(2) Functional instructions of group B
</p>
<p>While an instruction is being executed through the interface with the
NC, other same instructions cannot be executed.  PMC control
software does not receive the process when the instruction is not at
a same position (net).
</p>
<p>If ACT is set to on and off in different instructions (or subprograms),
these processes are not terminated.
</p>
<p>NOTE
In the window instructions (WINDR and WINDW),
low-speed-type is included the functional instructions of
group B.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
5. SPECIFICATION OF STEP
</p>
<p>SEQUENCESTEP SEQUENCE FUNCTION
</p>
<p>585
</p>
<p>Example)
</p>
<p>S2 
(P101)
</p>
<p>P1
</p>
<p>S1 
(P100)
</p>
<p>Subprogram P100
</p>
<p>R9091.1
</p>
<p>WINDR R10
</p>
<p>Subprogram P1
</p>
<p>R0.0
TRSET
</p>
<p>Subprogram P101
R9091.0
</p>
<p>WINDR R10
</p>
<p>R0.0
(  )
</p>
<p>R0.0
(  )
</p>
<p>Correct program
</p>
<p>Correct the program so that ACT is set to on and off within one
subprogram.
</p>
<p>S2
(P101)
</p>
<p>P1
</p>
<p>S1
(P100)
</p>
<p>Subprogram P100
R9091.1
</p>
<p>CALLU P2
</p>
<p>Subprogram P1
R0.0
</p>
<p>TRSET
</p>
<p>Subprogram P101
R9091.0
</p>
<p>CALLU P2
</p>
<p>Subprogram P2
R0.1
</p>
<p>WINDR R10
</p>
<p>R0.0
(  )
</p>
<p>R0.0
(  )
</p>
<p>R0.0
(  )ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. CRT/MDI OPERATION B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>586
</p>
<p>6 CRT/MDI OPERATION
The following operations are supported to enable the diagnosis and
debugging of a step sequence program.
</p>
<p>(1) Displaying the sequence diagram
</p>
<p>(2) Displaying the run time of the step sequence program
</p>
<p>(3) Monitoring the run time of the step sequence program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. CRT/MDI OPERATIONSTEP SEQUENCE FUNCTION
</p>
<p>587
</p>
<p>The diagnosis and debugging of a step sequence program have four
screens.
</p>
<p>(1) Program configuration list (main screen)
</p>
<p>(2) Step sequence screen
</p>
<p>(3) List screen
</p>
<p>(4) Ladder screen
</p>
<p>Press the [STPSEQ] key and display the program configuration list.
</p>
<p>STPSEQ &lt;&lt;MAIN&gt;&gt;   PROGRAM:(STEP SEQUENCE DEMO PROGRAM)   MONIT RUN
                   P0001 (       ) SUB PROGRAM NO.1
</p>
<p>  LEVEL1 LEVEL2 LEVEL3
  � P0001 � P0002 � P0004 � P0005 � P0006   � P0007
  � P0008 � P0009 � P0014 � P0015 � P0016   � P0017
  � P0021 � P0022 � P0024 � P0025 � P0026   �]P0027
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  � P0101 � P0202 �]P0304 �]P0405 �]P0406   �]P0407
</p>
<p> [    UP    ] [   DOWN   ] [   TIME   ] [  P&ndash;ADRS   ] [   ZOOM   ]
</p>
<p>Items displayed on the screen
</p>
<p>Display Contents Display by [ZOOM] key
</p>
<p>LEVEL1 Ladder first level Ladder diagram
</p>
<p>LEVEL2 Ladder second level Ladder diagram
</p>
<p>LEVEL3 Ladder third level note1) Ladder diagram
</p>
<p>�   Pxxx Subprogram Ladder diagram
</p>
<p>�]   Pxxx Subprogram Step sequence diagram
</p>
<p>Pxxx indicates a subprogram number.
</p>
<p>NOTE
The third level ladder can be omitted.
</p>
<p>[ZOOM] key
</p>
<p>To display the contents of a program, position the cursor to the
program number and press the [ZOOM] key.  The step sequence
diagram (Fig.6.1.2 (b)) or ladder diagram (Fig.6.1.3 (c) is
automatically displayed according to the type of the program.
</p>
<p>[TIME] key
</p>
<p>Press the [TIME] key to display the time display screen (Fig.6.2.1)
and time monitor screen (Fig.6.3).
</p>
<p>[P&ndash;ADRS/P&ndash;SYMB] key
</p>
<p>Displays the addresses specified to subprograms, using addresses or
symbols, if symbols have been assigned. When the [P&ndash;ADRS] key
ispressed, the addresses are displayed. When the [P&ndash;SYMB] key is
pressed, the symbols are displayed.
</p>
<p>6.1
DISPLAYING OF
SEQUENCE
PROGRAM
</p>
<p>6.1.1
Program Configuration
List (Main Screen)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. CRT/MDI OPERATION B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>588
</p>
<p>(1) Position the cursor to a program indicated by�], then press the
[ZOOM] key.
</p>
<p>STPSEQ &lt;&lt;MAIN&gt;&gt;   PROGRAM:(STEP SEQUENCE DEMO PROGRAM)   MONIT RUN
                   P0407 (MAIN   ) STEP SEQUENCE NO.1
</p>
<p>  LEVEL1 LEVEL2 LEVEL3
  � P0001 � P0002 � P0004 � P0005 � P0006   � P0007
  � P0008 � P0009 � P0014 � P0015 � P0016   � P0017
  � P0021 � P0022 � P0024 � P0025 � P0026   �]P0027
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  � P0101 � P0202 �]P0304 �]P0405 �]P0406   �]P0407
</p>
<p> [    UP    ] [   DOWN   ] [   TIME   ] [  P&ndash;ADRS   ] [   ZOOM   ]
</p>
<p>����6.1.2(a) Program configuration list (main screen)
</p>
<p>Example)
</p>
<p>When the cursor is positioned to �] P0407 and press the
[ZOOM] key, the subprogram P407 isdisplayed.
</p>
<p>(2) Displayed Step Sequence
</p>
<p>Activated steps are indicated by red� (highlighted � on a
monochrome display).  (In this manual, activated steps  are indicated
by �.)
</p>
<p>PCLAD &lt;&lt;STPSEQ&gt;&gt;  PROGRAM:(STEP SEQUENCE DEMO PROGRAM)   MONIT RUN
        S0001 P0001(ROTATE) ROTATE THE WORK TIP       P0407 1&ndash; 1
  &lt;&ndash; L1
  [  ] S1
      P1
</p>
<p> [   MAIN   ] [  CHANGE  ] [   TIME   ] [  P&ndash;ADRS  ] [   ZOOM   ]
</p>
<p>]  S2 S10
</p>
<p>P2
</p>
<p>S3
</p>
<p>P3
S4
</p>
<p>P10
</p>
<p>S11
</p>
<p>P11
</p>
<p>S15
</p>
<p>P13
</p>
<p>S13
</p>
<p>P14
S14
P15
</p>
<p>P20
</p>
<p>S21
</p>
<p>P21
S23
P22
</p>
<p>S20
</p>
<p>S24
</p>
<p>L2
</p>
<p>P23
L2
</p>
<p>P30
</p>
<p>S31
</p>
<p>P31
</p>
<p>S32
</p>
<p>S30
</p>
<p>L4
</p>
<p>&lt;&ndash;
</p>
<p>&lt;&ndash;
</p>
<p>&ndash;&gt;
</p>
<p>����6.1.2(b) Step sequence screen
</p>
<p>6.1.2
Step Sequence Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. CRT/MDI OPERATIONSTEP SEQUENCE FUNCTION
</p>
<p>589
</p>
<p>Meaning of display
Display Contents Display by [ZOOM] key
</p>
<p>[�]    Sxxx Initial step Ladder diagram
</p>
<p>�   Sxxx Step Ladder diagram
</p>
<p>�]    Sxxx Block step Step sequence diagram
</p>
<p>+   Pxxx Transition Ladder diagram
</p>
<p>Selective sequence Cannot zoom.
</p>
<p>Simultaneous sequence Cannot zoom.
</p>
<p>      L2 Jump Cannot zoom.
</p>
<p>    L2 Label Cannot zoom.
</p>
<p>Pxxx  means the subprogram number.
[ZOOM] key
</p>
<p>To display the contents of a program, position the cursor to the
program number and press the [ZOOM] key.  The step sequence
diagram (Fig.6.1.2(b)) or ladder diagram (Fig.6.1.3(c)) is
automatically displayed according to the type of the program.
</p>
<p>[MAIN] key
</p>
<p>Press the [MAIN] key to return to the program configuration list.
[CHANGE] key
</p>
<p>Press the [CHANGE] key to list the subprograms referenced in the
step sequence program.
</p>
<p>[TIME] key
</p>
<p>Press the [TIME] key to display the time display screen (Fig. 6.2.1).
[P&ndash;ADRS/P&ndash;SYMB/S&ndash;ADRS/S&ndash;SYMB] key
</p>
<p>Displays the addresses specified with steps and transitions, using
addresses or symbols, if symbols have been assigned. And the display
of steps is changed to display the S addresses or P addresses.
</p>
<p>Press the [P&ndash;ADRS] key to display the addresses of P addresses.
Press the [P&ndash;SYMB] key to display the symbols of P addresses.
Press the [S&ndash;ADRS] key to display the addresses of S addresses.
Press the [S&ndash;SYMB] key to display the symbols of S addresses.
</p>
<p>(3) Displaying the list screen
While the step sequence screen is displayed and press the [CHANGE]
key, a list screen of the subprograms referenced in this step sequence
program is displayed.
</p>
<p>PCLAD &lt;&lt;LIST&gt;&gt;    PROGRAM:(STEP SEQUENCE DEMO PROGRAM)   MONIT RUN
        S0001 P0001 (ROTATE) ROTATE THE WORK TIP
  �] P0001 �] P0002 �] P0004 �] P0005 �] P0006 �] P0007
</p>
<p>  � P0008 � P0009 � P0014 � P0015 � P0016   � P0017
  � P0021 � P0022 � P0024 � P0025 � P0026   �]P0027
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  � P0101 �]P0202 �]P0304 �]P0405 �]P0406   �]P0407
</p>
<p> [    UP    ] [   DOWN   ] [          ] [          ] [  ZOOM   ]
</p>
<p> [   MAIN   ] [  CHANGE  ] [          ] [          ] [          ]
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. CRT/MDI OPERATION B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>590
</p>
<p>[ZOOM] soft ke
</p>
<p>To display a program, position the cursor to the program number and
press the [ZOOM] key.  The step sequence screen (Fig.6.1.2(b)) or
ladder screen (Fig.6.1.3(c)) is automatically displayed according to
the type of the program.
</p>
<p>[MAIN] key
</p>
<p>Press the [MAIN] key to return to the program configuration list.
[TIME] key
</p>
<p>Press the [TIME] key to display the time display screen (Fig. 6.2.1).
[P&ndash;ADRS/P&ndash;SYMB] key
</p>
<p>Displays the addresses specified to subprograms, using addresses or
symbols, if symbols have been assigned. When the [P&ndash;ADRS] key
is pressed, the addresses are displayed. When the [P&ndash;SYMB] key is
pressed, the symbols are displayed.
</p>
<p>[CHANGE] key
</p>
<p>Press the [CHANGE] key to return to the step sequence diagram.
</p>
<p>(1) Position the cursor to a program indicated by�, then press the
[ZOOM] key.
</p>
<p>STPSEQ &lt;&lt;MAIN&gt;&gt;   PROGRAM:(STEP SEQUENCE DEMO PROGRAM)   MONIT RUN
</p>
<p>  LEVEL1 LEVEL2 LEVEL3
  � P0001 � P0002 � P0004 � P0005 � P0006   � P0007
  � P0008 � P0009 � P0014 � P0015 � P0016   � P0017
  � P0021 � P0022 � P0024 � P0025 � P0026   �]P0027
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  � P0101 �]P0202 �]P0304 �]P0405 �]P0406   �]P0407
</p>
<p> [    UP    ] [   DOWN   ] [   TIME   ] [  P&ndash;ADRS   ] [   ZOOM   ]
</p>
<p>����6.1.3(a) Program configuration list (main screen)
</p>
<p>Example)
When the cursor is positioned to LEVEL1, press the[ZOOM]
key, the first level ladder is displayed.
</p>
<p>PCLAD &lt;&lt;STPSEQ&gt;&gt;  PROGRAM:(STEP SEQUENCE DEMO PROGRAM)   MONIT RUN
        S0001 P0001 (ROTATE) ROTATE THE WORK TIP        P0100 4&ndash; 2
  &lt;&ndash; L1
  [  ] S1
      P1
</p>
<p> [   MAIN   ] [  CHANGE  ] [   TIME   ] [  P&ndash;ADRS  ] [   ZOOM   ]
</p>
<p>]
S2
</p>
<p>S10
</p>
<p>P2
</p>
<p>S3
</p>
<p>P10
</p>
<p>S11
</p>
<p>P13
</p>
<p>S13
</p>
<p>P20
</p>
<p>S21
</p>
<p>S20
</p>
<p>L2
</p>
<p>P30
</p>
<p>S31
</p>
<p>S30
</p>
<p>L4
</p>
<p>&lt;&ndash;
</p>
<p>&lt;&ndash;
</p>
<p>����6.1.3(b) Step Sequence screen
</p>
<p>6.1.3
Ladder Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. CRT/MDI OPERATIONSTEP SEQUENCE FUNCTION
</p>
<p>591
</p>
<p>Example)
</p>
<p>When the cursor is positioned to &ldquo;P2&rdquo;, press the [ZOOM] key,
subprogram P2 is displayed.
</p>
<p>(2) Ladder Screen
</p>
<p>The signals currently set to on are displayed in white (highlighted on
a monochrome display).
</p>
<p>LADDER * STEP SEQUENCE DEMO PROGRAM *   NET 0031&ndash;0033 MONIT RUN
</p>
<p> [  SEARCH  ] [  ADRESS  ] [  TRIGER  ] [  WINDOW  ] [          ]
</p>
<p>FIN
(  )
</p>
<p>MOVN
</p>
<p>MOVN
</p>
<p>SUB 45
</p>
<p>END1
</p>
<p>SUB 1
</p>
<p>FIN
</p>
<p>R9091.1
</p>
<p>/ WINDR
</p>
<p>20
D10
R10
</p>
<p>20
R10
D10
</p>
<p>R10
</p>
<p>FIN
</p>
<p> [  DUMP   ] [  DPARA   ] [          ] [  ONLEDT  ] [          ]
</p>
<p>����6.1.3(c) Ladder screen
</p>
<p>[SEARCH] key
</p>
<p>Used for search within a subprogram.
</p>
<p>NEXT
</p>
<p>F&ndash;SRCH
</p>
<p>RET
</p>
<p>SEARCH ADRESS TRIGER WINDOW
</p>
<p>TOP BOTTOM SRCH W&ndash;SRCH N- SRCH
</p>
<p>[TOP] key
</p>
<p>Displays the top of a subprogram.
</p>
<p>[BOTTOM] key
</p>
<p>Displays the bottom of a subprogram.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. CRT/MDI OPERATION B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>592
</p>
<p>[SRCH] key
</p>
<p>Searches for the specified address.
</p>
<p>[W-SRCH] key
</p>
<p>Displays the ladder in which the specified address is used as a coil
address.
</p>
<p>[N-SRCH] key
</p>
<p>Displays the ladder having the specified net number, at the top of
the screen.
</p>
<p>[F-SRCH] key
</p>
<p>Displays the specified functional instruction, at the to of the
screen.
</p>
<p>[ADRESS/SYMBOL] key
</p>
<p>Displays the addresses specified with relays and coils, using
addresses or symbols, if symbols have been assigned.  When the
[ADRESS] key is pressed, the addresses are displayed.  When the
[SYMBOL] key is pressed, the symbols are displayed.
</p>
<p>[TRIGER] key
</p>
<p>With a manual operation or a signal trigger function, a renewal
screen of a ladder monitoring function is stopped. By this
function, the signal status when one signal is changed is certainly
checked.
</p>
<p>[WINDOW] key
</p>
<p>Splits the screen into two sections, allowing the display of two
ladder positions in a subprogram.
</p>
<p>[DUMP] key
</p>
<p>Displays the contents of addresses at the bottom of the screen.
</p>
<p>[DPARA] key
</p>
<p>Displays the data specified with functional instructions.
</p>
<p>[ONLEDT] key
</p>
<p>While a sequence program is executing, a part of the ladder
diagram can be changed.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. CRT/MDI OPERATIONSTEP SEQUENCE FUNCTION
</p>
<p>593
</p>
<p>The elapsed time of a step sequence program is displayed.
</p>
<p>STPSEQ &lt;&lt;STATUS&gt;&gt; PROGRAM:(STEP SEQUENCE DEMO PROGRAM)   MONIT RUN
</p>
<p>  STEP NO.    STATUS  ELAPSE MONITOR       STEP NO.    STATUS.
S0001(     )  EXEC   1000000 T(1) OVER   S0010(TILE )  EXEC
S0002(     )  EXEC       100 T(3)        S0011(     )
S0003(     )  EXEC     10000 T(4)        S0012(     )
S0004(     )         1000000             S0013(     )
 &sdot;            &sdot;    &sdot;                     &sdot;           &sdot;
 &sdot;            &sdot;    &sdot;                     &sdot;           &sdot;
</p>
<p> [    UP    ] [   DOWN   ] [  SEARCH  ] [  RESET   ] [  MONIT  ]
</p>
<p>����6.2.1 Time screen
</p>
<p>Meaning of display
</p>
<p>Display Contents
</p>
<p>STEP NO. Step number
S0001  :   Step  number       (123456) :   symbol display
</p>
<p>STATUS Step state
EXEC  :   Active            space    :   Inactive
</p>
<p>ELAPSE Actual elapsed time     (per msec)
The time is increasing during active state.
</p>
<p>MONITOR Monitor time
T (1)   :   monitoring time number
OVER  :   An elapsed time is over monitoring time
</p>
<p>[UP] [DOWN] key
</p>
<p>Scrolls the screen up or down, in units of pages, to display the
operation time of other steps.  Acts in the same way as the page up
or down key.
</p>
<p>[MONIT] key
</p>
<p>Displays the screen used for setting the timer to monitor the operation
time.  (See 6.3)
</p>
<p>[SEARCH] key
</p>
<p>Search and display the specified step number.
</p>
<p>example) Display the S100 address.
</p>
<p>Key in &rdquo;100&rdquo; and press the [SEARCH] key.
</p>
<p>[RESET] key
</p>
<p>For all of monitoring steps, the error status which occurred by the
monitoring function is canceled.
</p>
<p>To cancel the status per steps, press the [DELETE] key on the monitor
time screen. (Please refer to 6.3 Monitor Time Screen below)
</p>
<p>6.2
TIMER SCREEN
</p>
<p>6.2.1
Time Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. CRT/MDI OPERATION B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>594
</p>
<p>When an activated state  remains set for longer than the specified time,
the state may be determined as being erroneous.  The elapsed time can be
specified for up to eight steps.
</p>
<p>When an activated state remains set for longer than the specified time,
</p>
<p>(1) OVER is displayed at the corresponding step number on the
STPSEQ/TIME screen.
</p>
<p>(2) Execution of the ladder continues.
</p>
<p>(3) The bit of address R9118 which corresponds with the step number is
set to
</p>
<p>1. The processes for the error status can be program by the ladder
diagram. And the following message is displayed on the
PMC/ALARM screen.
</p>
<p>&rdquo;ER48 STEP SEQUENCE TIME OVER (xxH)&rdquo;
</p>
<p>&rdquo;xx&rdquo; displays the content of address R9118 in hexadecimal code.
Time
N b
</p>
<p>Corresponding
Add
</p>
<p>Time
N b
</p>
<p>Corresponding
AddNumber Address Number Address
</p>
<p>1 R9118.0 5 R9118.4
</p>
<p>2 R9188.1 6 R9118.5
</p>
<p>3 R9188.2 7 R9188.6
</p>
<p>4 R9188.3 8 R9188.7
</p>
<p>6.2.2
Monitoring Elapsed
Time
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. CRT/MDI OPERATIONSTEP SEQUENCE FUNCTION
</p>
<p>595
</p>
<p>Operation time limits can be specified for a step sequence program.  Up
to eight steps can be monitored.
</p>
<p>STPSEQ&lt;&lt;MONITOR&gt;&gt; PROGRAM:(STEP SEQUENCE DEMO PROGRAM)  MONIT RUN
</p>
<p>NO.   STEP NO.         ELAPSE   MONITOR
T(1)  S0001(     )    1000000      2000
T(2)  S0010(MOVE )        100      1000
T(3)  S0002(     )        100      2000
T(4)  S0003(     )      10000     20000
T(5)
T(6)
T(7)
T(8)
</p>
<p> [  DELETE  ] [          ] [          ] [          ] [          ]
</p>
<p>����6.3 monitor time screen
</p>
<p>Meaning of display
</p>
<p>Display Meaning
</p>
<p>NO. Monitor time number
T (1)   :   means monitor time 1.
</p>
<p>STEP NO. Step  number
S0001  :   Step number     (123456)   :   symbol display
</p>
<p>ELAPSE Actual elapsed time (per msec)
The time is increasing during active state.
</p>
<p>MONITOR Monitor time       (per msec)
</p>
<p>[DELETE] key
</p>
<p>Delete the definition of monitor time.
</p>
<p>Operation
</p>
<p>Definition of monitor
</p>
<p>(1) Position the cursor at the input position and input a step 
(or symbol).
</p>
<p>NO.   STEP NO.         ELAPSE   MONITOR
T(1)  S0001(     )    1000000      2000
T(2)  S0010(MOVE )
</p>
<p>Key in &ldquo;MOVE&rdquo; and push [INPUT] key.
</p>
<p>(2) Position the cursor at the input position and define a monitor
time.
</p>
<p>NO.   STEP NO.         ELAPSE   MONITOR
T(1)  S0001(     )    1000000      2000
T(2)  S0010(MOVE )       1000       100
</p>
<p>Keyin &ldquo;100&rdquo; and push [INPUT] key.
</p>
<p>6.3
MONITOR TIME
SCREEN
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. CRT/MDI OPERATION B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>596
</p>
<p>Deletion of monitor
</p>
<p>Position the cursor at the deletion and press [DELETE] key.
</p>
<p>NO.   STEP NO.         ELAPSE   MONITOR
T(1)  S0001(     )    1000000      2000
T(2)  S0010(MOVE )        100      1000
</p>
<p>Alteration of monitor
</p>
<p>Position the cursor at the alteration position and input again.
</p>
<p>NO.   STEP NO.         ELAPSE   MONITOR
T(1)  S0001(     )    1000000      2000
T(2)  S0100(     )       2000      1000
</p>
<p>Key in &ldquo;S100&rdquo; and push &lt;INPUT&gt; key.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. CRT/MDI OPERATIONSTEP SEQUENCE FUNCTION
</p>
<p>597
</p>
<p>The display and editing of a step sequence program per subprogram
aresupported.
A step sequence program is allowed to be displayed and a ladder diagram
is allowed to be displayed and edited.
</p>
<p>Press the [EDIT] and [LADDER] key and display the program
configuration list.
</p>
<p>STPSEQ &lt;&lt;MAIN&gt;&gt;   PROGRAM:(STEP SEQUENCE DEMO PROGRAM)   MONIT STOP
P0001 ( ) SUB PROGRAM NO.1
</p>
<p>  LEVEL1 LEVEL2 LEVEL3
  � P0001 � P0002 � P0004 � P0005 � P0006   � P0007
  � P0008 � P0009 � P0014 � P0015 � P0016   � P0017
  � P0021 � P0022 � P0024 � P0025 � P0026   �]P0027
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  � P0101 � P0202 �]P0304 �]P0405 �]P0406   �]P0407
</p>
<p> [    UP    ] [   DOWN   ] [          ] [  P&ndash;ADRS   ] [   ZOOM   ]
</p>
<p>Items displayed on the screen
</p>
<p>Display Contents Display by [ZOOM] key
</p>
<p>LEVEL1 Ladder first level Ladder diagram
</p>
<p>LEVEL2 Ladder second level Ladder diagram
</p>
<p>LEVEL3 Ladder third level (Note) Ladder diagram
</p>
<p>�   Pxxx Subprogram Ladder diagram
</p>
<p>�]   Pxxx Subprogram Step sequence diagram
</p>
<p>Pxxx indicates a subprogram number.
</p>
<p>NOTE
The third level ladder can be omitted.
</p>
<p>[ZOOM] key
</p>
<p>To display the contents of a program, position the cursor to the
program number and press the [ZOOM] key. The step sequence
diagram (Fig. 6.4.2 (b)) or ladder diagram (Fig. 6.4.3 (c)) is
automatically displayed according to the type of the program.
</p>
<p>[P&ndash;ADRS/P&ndash;SYMB] key
</p>
<p>Displays the addresses specified to subprograms, using addresses or
symbols, if symbols have been assigned. When the [P&ndash;ADRS] key
is pressed, the addresses are displayed. When the [P&ndash;SYMB] key is
pressed, the symbols are displayed.
</p>
<p>6.4
EDITING FUNCTION
OF LADD ER
DIAGRAM
</p>
<p>6.4.1
Program Configuration
List (Main Screen)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. CRT/MDI OPERATION B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>598
</p>
<p>(1) Position the cursor to a program indicated by &cent;&cent;], then press the
[ZOOM] key.
</p>
<p>LADDER &lt;&lt;MAIN&gt;&gt;   PROGRAM:(STEP SEQUENCE DEMO PROGRAM)   MONIT STOP
P0407 ( ) STEP SEQUENCE NO.1
</p>
<p>  LEVEL1 LEVEL2 LEVEL3
  � P0001 � P0002 � P0004 � P0005 � P0006   � P0007
  � P0008 � P0009 � P0014 � P0015 � P0016   � P0017
  � P0021 � P0022 � P0024 � P0025 � P0026   �]P0027
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  � P0101 � P0202 �]P0304 �]P0405 �]P0406   �]P0407
</p>
<p> [    UP    ] [   DOWN   ] [   TIME   ] [  P&ndash;ADRS   ] [   ZOOM   ]
</p>
<p>����6.4.2 (a) Program configuration list (main screen)
</p>
<p>Example)
</p>
<p>When the cursor is positioned to �] P0407 and press the
[ZOOM] key , the subprogram P407 is displayed.
</p>
<p>(2) Displayed Step Sequence
</p>
<p>Activated steps are indicated by red � (highlighted � on a
monochrome display). (In this manual, activated steps are indicated
by �.)
</p>
<p>]   S2 S10
</p>
<p>P2
</p>
<p>S3
</p>
<p>P3
S4
</p>
<p>P10
</p>
<p>S11
</p>
<p>P11
</p>
<p>S15
</p>
<p>P13
</p>
<p>S13
</p>
<p>P14
S14
P15
</p>
<p>P20
</p>
<p>S21
</p>
<p>P21
S23
P22
</p>
<p>S20
</p>
<p>S24
</p>
<p>L2
</p>
<p>P23
L2
</p>
<p>P30
</p>
<p>S31
</p>
<p>P31
</p>
<p>S32
</p>
<p>S30
</p>
<p>L4
</p>
<p>&lt;&ndash;
</p>
<p>&lt;&ndash;
</p>
<p>&ndash;&gt;
</p>
<p>LADDER &lt;&lt;STPSEQ&gt;&gt; PROGRAM:(STEP SEQUENCE DEMO PROGRAM) MONIT STOP
S0001 P0001(ROTATE) ROTATE THE WORK TIP P0407 1&ndash; 1
</p>
<p>&lt;&ndash; L1
[  ] S1
</p>
<p>P1
</p>
<p>[ MAIN ] [ CHANGE ] [ ] [ P&ndash;ADRS ] [ ZOOM ]
</p>
<p>����6.4.2 (b) Step sequence screen
</p>
<p>6.4.2
Step Sequence Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. CRT/MDI OPERATIONSTEP SEQUENCE FUNCTION
</p>
<p>599
</p>
<p>Meaning of display
Display Contents Display by [ZOOM] key
</p>
<p>[�]    Sxxx Initial step Ladder diagram
</p>
<p>�   Sxxx Step Ladder diagram
</p>
<p>�]    Sxxx Block step Step sequence diagram
</p>
<p>+   Pxxx Transition Ladder diagram
</p>
<p>Selective sequence Cannot zoom.
</p>
<p>Simultaneous sequence Cannot zoom.
</p>
<p>      L2 Jump Cannot zoom.
</p>
<p>    L2 Label Cannot zoom.
</p>
<p>Pxxx  means the subprogram number.
</p>
<p>[ZOOM] key
</p>
<p>To display the contents of a program, position the cursor to the
program number and press the [ZOOM] key. The step sequence
diagram (Fig. 6.4.2 (b)) or ladder diagram (Fig. 6.4.3 (c)) is
automatically displayed according to the type of the program.
</p>
<p>[MAIN] key
</p>
<p>Press the [MAIN] key to return to the program configuration list.
</p>
<p>[CHANGE] key
</p>
<p>Press the [CHANGE] key to list the subprograms referenced in
the step sequence program.
</p>
<p>[P&ndash;ADRS/P&ndash;SYMB/S&ndash;ADRS/S&ndash;SYMB] key
</p>
<p>Displays the addresses specified with steps and transitions, using
addresses or symbols, if symbols have been assigned.
</p>
<p>And the display of steps is changed to display the S addresses or
P addresses.
Press the [P&ndash;ADRS] key to display the addresses of P addresses.
Press the [P&ndash;SYMB] key to display the symbols of P addresses.
Press the [S&ndash;ADRS] key to display the addresses of S addresses.
Press the [S&ndash;SYMB] key to display the symbols of S addresses.
</p>
<p>(3) Displaying the list screen
</p>
<p>While the step sequence screen is displayed and press the [CHANGE]
key, a list screen of the subprograms referenced in this step sequence
program is displayed.
</p>
<p>LADDER &lt;&lt;LIST&gt;&gt;    PROGRAM:(STEP SEQUENCE DEMO PROGRAM)  MONIT STOP
        S0001 P0001 (ROTATE) ROTATE THE WORK TIP
  �] P0001 �] P0002 �] P0004 �] P0005 �] P0006 �] P0007
</p>
<p>  � P0008 � P0009 � P0014 � P0015 � P0016   � P0017
  � P0021 � P0022 � P0024 � P0025 � P0026   �]P0027
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  � P0101 � P0202 �]P0304 �]P0405 �]P0406   �]P0407
</p>
<p> [    UP    ] [  CHANGE  ] [          ] [  P&ndash;ADRS  ] [  ZOOM   ]
</p>
<p>[ZOOM] soft key
</p>
<p>To display a program, position the cursor to the program number
and press the [ZOOM] key. The step sequence screen (Fig. 6.4.2
(b)) or ladder screen (Fig. 6.4.3 (c)) is automatically displayed
according to the type of the program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. CRT/MDI OPERATION B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>600
</p>
<p>[MAIN] key
</p>
<p>Press the [MAIN] key to return to the program configuration list.
</p>
<p>[CHANGE] key
</p>
<p>Press the [CHANGE] key to return to the step sequence diagram.
</p>
<p>[P&ndash;ADRS/P&ndash;SYMB] key
</p>
<p>Displays the addresses specified to subprograms, using addresses
or symbols, if symbols have been assigned. When the [P&ndash;ADRS]
key is pressed, the addresses are displayed. When the [P&ndash;SYMB]
key is pressed, the symbols are displayed.
</p>
<p>(1) Position the cursor to a program indicated by �, then press the
[ZOOM] key.
</p>
<p>LADDER &lt;&lt;MAIN&gt;&gt;   PROGRAM:(STEP SEQUENCE DEMO PROGRAM)   MONIT STOP
</p>
<p>  LEVEL1 LEVEL2 LEVEL3
  � P0001 � P0002 � P0004 � P0005 � P0006   � P0007
  � P0008 � P0009 � P0014 � P0015 � P0016   � P0017
  � P0021 � P0022 � P0024 � P0025 � P0026   �]P0027
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  &sdot; &sdot; &sdot; &sdot;   &sdot;          &sdot;
  � P0101 � P0202 �]P0304 �]P0405 �]P0406   �]P0407
</p>
<p> [    UP    ] [   DOWN   ] [          ] [  P&ndash;ADRS   ] [   ZOOM   ]
</p>
<p>����6.4.3 (a) Program configuration list (main screen)
</p>
<p>Example)
</p>
<p>When the cursor is positioned to LEVEL1, press the [ZOOM] key, the
first level ladder is displayed.
</p>
<p>LADDER &lt;&lt;STPSEQ&gt;&gt;  PROGRAM:(STEP SEQUENCE DEMO PROGRAM)  MONIT STOP
        S0001 P0001 (ROTATE) ROTATE THE WORK TIP        P0100 4&ndash; 2
  &lt;&ndash; L1
  [  ] S1
      P1
</p>
<p> [   MAIN   ] [  CHANGE  ] [        ] [  P&ndash;ADRS  ] [   ZOOM   ]
</p>
<p>]
S2
</p>
<p>S10
</p>
<p>P2
</p>
<p>S3
</p>
<p>P10
</p>
<p>S11
</p>
<p>P13
</p>
<p>S13
</p>
<p>P20
</p>
<p>S21
</p>
<p>S20
</p>
<p>L2
</p>
<p>P30
</p>
<p>S31
</p>
<p>S30
</p>
<p>L4
</p>
<p>&lt;&ndash;
</p>
<p>&lt;&ndash;
</p>
<p>����6.4.3 (b) Step Sequence screen
</p>
<p>Example)
</p>
<p>When the cursor is positioned to &rdquo;P2&rdquo;, press the [ZOOM] key, the
subprogram P2 is displayed.
</p>
<p>6.4.3
Ladder Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. CRT/MDI OPERATIONSTEP SEQUENCE FUNCTION
</p>
<p>601
</p>
<p>(2) Ladder Screen
</p>
<p>LADDER                                    NET 0031&ndash;0033 MONIT STOP
</p>
<p>FIN
(  )
</p>
<p>MOVN
</p>
<p>MOVN
</p>
<p>SUB 45
</p>
<p>END1
</p>
<p>SUB 1
</p>
<p>FIN
</p>
<p>R9091.1
</p>
<p>/ WINDR
</p>
<p>20
D10
R10
</p>
<p>20
R10
D10
</p>
<p>R10
</p>
<p>FIN
</p>
<p>����6.4.3(c) Ladder screen
</p>
<p>Please refer to the following manual about the operations of editing a
ladder diagram.
</p>
<p>FANUC PMC MODEL PA1/PA3/RA1/RA2/RA3/RB/RB2/RB3/
RB4/RC/RC3/RC4/NB
</p>
<p>LADDER LANGUAGE PROGRAMMING MANUAL
(B&ndash;61863E)
</p>
<p>III PMC PROGRAMMER(CRT/MDI) 5.2 Sequence
Program Generation(LADDER)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. CRT/MDI OPERATION B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>602
</p>
<p>The following ladder diagnosis and debugging functions can be used
together with the step sequence functions.
</p>
<p>�  :  can be used
∆  :  can be used on condition
</p>
<p>�  :  cannot be used
</p>
<p>Functions PMC-RB4/
RB6
</p>
<p>PMC-RC4 PMC-NB2
</p>
<p>PMC Ladder diagram display (PMCLAD) � � �
</p>
<p>PMC I/O signal display (PMCDGN)
Title screen (TITLE)
Signal status screen (STATUS)
Alarm screen (ALARM)
Trace screen (TRACE)
Contents of Memory (MEMORY)
Signal Waveforms screen (ANALYS)
Running State of a User Task (USRDGN)
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>∆ caution1
�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>PMC Parameters screen (PMCPRM)
Timer screen (TIMER)
Counter screen (COUNTR)
Keep relay screen (KEEPRL)
Data table screen (DATA)
Simple setting screen (SETING)
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>Step Sequence screen (STPSEQ)
Displaying Step Sequence screen
Displaying Ladder screen
</p>
<p>SEARCH
Display address and symbol
Trigger function (TRIGER)
Divided screen function (WINDOW)
Contents of memory (DUMP)
Contents of parameter (DPARA)
online editting (ONLEDT)
</p>
<p>Time screen (TIME)
Monitor time screen (MONIT)
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>∆
�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>Execute or stop the sequence program (RUN) � � �
</p>
<p>Edit function (EDIT)
Title screen (TITLE)
Ladder diagram (LADDER)
Symbol screen (SYMBOL)
Message screen (MESAGE)
Definition of I/O (MODULE)
Cross reference (CROSS)
Memory clear (CLEAR)
</p>
<p>caution1
∆
∆
∆
∆
∆
∆
∆
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>Input and output
FAPT LADDER (HOST)
Floppy cassette (FDCAS)
FlashROM (F-ROM)
Memory card (M-CARD)
Other I/O device (OTHERS)
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>∆ caution2
�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>System Parameter (SYSPRM) ∆ caution1 � �
</p>
<p>Debug function (MONIT)
Ladder debug function (DBGLAD)
Descriptor table screen (GDT)
User memory screen (USRMEM)
User program debug function (DEBUG)
</p>
<p>caution1
�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>�
</p>
<p>CAUTION
1 An Editor card is needed.
2 It is possible to use while an Editor card is not mounted.
</p>
<p>6.5
CORRESPONDING
FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 6. CRT/MDI OPERATIONSTEP SEQUENCE FUNCTION
</p>
<p>603
</p>
<p>The PMC-RB4 and PMC-RC4 can be used with either the ladder  method
or step sequence method.  When a step sequence program is transferred
to the old version of the PMC, ER08 OBJECT UNMATCH is displayed
on the PMC/ALARM screen.
</p>
<p>The model setting of FAPT LADDER determines whether the ladder or
step sequence method is used.  The STEP SEQUENCE item has been
added to the system parameter screen for future expansion.  Specify the
parameter according to the model setting of FAPT LADDER.
</p>
<p>To create a program with the built-in edit function, after the parameter has
been set execute CLEAR ALL.  Alternatively, while holding down &ldquo;X&rdquo;
and &ldquo;O&rdquo; key, turn the power off and on.
</p>
<p>When the step sequence method is used:   STEP SEQUENCE = YES.
</p>
<p>When the ladder method is used:   STEP SEQUENCE = NO.
</p>
<p>PMC SYSTEM PARAMETER  (1/2) MONIT STOP
</p>
<p>  COUNTER DATA TYPE    =  BINARY / BCD
</p>
<p>  STEP SEQUENCE        =     YES / NO
</p>
<p>&gt;
</p>
<p> [BINARY] [  BCD  ] [      ] [      ] [      ]
</p>
<p>����6.6 (a) PMC-RB4/RB6 System parameter screen (first page)
</p>
<p>PMC SYSTEM PARAMETER  (2/2) MONIT STOP
</p>
<p>  FS0 OPERATOR PANEL    =     YES / NO
</p>
<p>  KEY DI ADDRESS        =
</p>
<p>  LED DO ADDRESS        =
</p>
<p>  KEY BIT IMAGE ADDRESS =
</p>
<p>  LED BIT IMAGE ADDRESS =
</p>
<p>&gt;
</p>
<p> [  YES  ] [  NO  ] [      ] [      ] [      ]
</p>
<p>����6.6 (b) PMC-RB4/RB6 System parameter screen (second page)
</p>
<p>6.6
COMPATIBILITY OF
LADDER DIAGRAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>6. CRT/MDI OPERATION B&ndash;61863E/10STEP SEQUENCE FUNCTION
</p>
<p>604
</p>
<p>PMC SYSTEM PARAMETER  (1/2) MONIT STOP
</p>
<p>  COUNTER DATA TYPE     =  BINARY / BCD
</p>
<p>  LADDER EXEC           =     % (1&ndash;150)
</p>
<p>  LANGUAGE EXEC RATIO   =    % (0&ndash;99)
</p>
<p>  LANGUAGE ORIGIN       =       H
  (LANGUAGE AREA =       H, SIZE =     KB)
</p>
<p>  STEP SEQUENCE         =     YES / NO
</p>
<p>&gt;
</p>
<p> [BINARY] [  BCD  ] [      ] [      ] [      ]
</p>
<p>����6.6 (c) PMC-RC4/NB2 System parameter screen (first page)
</p>
<p>PMC SYSTEM PARAMETER  (2/2) MONIT STOP
</p>
<p>  FS0 OPERATOR PANEL    =     YES / NO
</p>
<p>  KEY DI ADDRESS        =
</p>
<p>  LED DO ADDRESS        =
</p>
<p>  KEY BIT IMAGE ADDRESS =
</p>
<p>  LED BIT IMAGE ADDRESS =
</p>
<p>&gt;
</p>
<p> [  YES  ] [  NO  ] [      ] [      ] [      ]
</p>
<p>����6.6 (d) PMC-RC4/NB2 System parameter screen (second page)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p> V. PMC PROGRAMMER
(SYSTEM P series)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 1. GENERALPMC PROGRAMMER (SYSTEM P series)
</p>
<p>607
</p>
<p>1 GENERAL
The FAPT LADDER system can easily prepare sequence programs,
symbol data, titles, and message of PMC-RB and PMC-RC, and also
easily define addresses of the modules to be installed in an I/O unit by
using SYSTEM P series.
</p>
<p>Major functions of this FAPT LADDER are as described below.
</p>
<p>(1) Input, display and editing of sequence programs
</p>
<p>(2) Transfer of sequence programs (including write into EPROM for
PMC or ROM module.)
</p>
<p>(3) Collation of sequence programs
</p>
<p>(4) Program error display
</p>
<p>The SYSTEM P series is used in the stage of preparing a sequence
program only and separated from PMC after the sequence program has
been completed. The SYSTEM P series can be connected to PMC only
when the PMC is operated with the RAM card and cannot be connected
when PMC is operated with a EPROM for PMC or ROM module.
</p>
<p>ROM for PMC 
module input/output
</p>
<p>EPROM for PMC 
input/output
</p>
<p>EPROM for PMC 
input/output
</p>
<p>List output
</p>
<p>Paper tape input/output
</p>
<p>or
</p>
<p>Floppy
input/output
</p>
<p>SYSTEM  P  series
</p>
<p>(FAPT   LADDER)
</p>
<p>series 16/18/20/21
/Power Mate-D
</p>
<p>PMC card
</p>
<p>Machine tool
</p>
<p>DI/DO card
</p>
<p>PPR
</p>
<p>   PMC
WRITER
</p>
<p>PRINTER
</p>
<p>Sequence program figure output
</p>
<p>     FA
WRITER
</p>
<p>System floppy loading
</p>
<p>FAPT LADDER 
PMC-RB/RC
</p>
<p>FAPT LADDER 
PMC-RA1/RA2
</p>
<p>����1
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>2. FUNCTIONS OF 
PROCESSING B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>608
</p>
<p>2 FUNCTIONS OF PROCESSING
(1) Input of sequence programs
</p>
<p>Input sequence programs using the following units when sequence
programs are loaded into the memory of the SYSTEM P series.
</p>
<p>a) SYSTEM P series keyboard
</p>
<p>b) PPR tape reader (paper tape)
</p>
<p>c) Floppy
</p>
<p>d) PMC memory
</p>
<p>e) EPROM for PMC or ROM module
</p>
<p>(2) Sequence program display
</p>
<p>Sequence programs can be displayed on the 12&rdquo; graphic display of
SYSTEM P series as follows.
</p>
<p>a) Sequence programs can be displayed using mnemonic symbols.
</p>
<p>b) Sequence programs can also be displayed in the ladder diagram
format.
</p>
<p>(3) Editing of sequence programs
</p>
<p>A sequence program can be edited by using the SYSTEM P series
keyboard in the following three ways.
</p>
<p>a) Alteration
</p>
<p>b) Insertion
</p>
<p>c) Deletion
</p>
<p>(4) Transfer of sequence programs
</p>
<p>Sequence programs can be transferred as follows.
</p>
<p>a) From SYSTEM P series memory to PMC memory
</p>
<p>b) From PMC memory to SYSTEM P series memory
</p>
<p>c) From SYSTEM P series memory to floppy
</p>
<p>d) From floppy to SYSTEM P series memory
</p>
<p>e) From SYSTEM P series memory to EPROM or ROM module for
PMC (Write into EPROM for PMC or ROM module)
</p>
<p>f) From EPROM for PMC or ROM module to SYSTEM P series
memory
</p>
<p>(5) Collation of sequence programs
</p>
<p>Sequence programs can be checked by collating them between the
following memories.
</p>
<p>a) SYSTEM P series memory - PMC memory
</p>
<p>b) SYSTEM P series memory - floppy
</p>
<p>c) SYSTEM P series memory - EPROM for PMC or ROM module
</p>
<p>d) SYSTEM P series memory - paper tape
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
2. FUNCTIONS OF 
</p>
<p>PROCESSINGPMC PROGRAMMER (SYSTEM P series)
</p>
<p>609
</p>
<p>(6) Hard copy
</p>
<p>a) Since FANUC PPR is connectable to SYSTEM P series, the
paper tape output and list output (mnemonic symbol) are
obtainable.
</p>
<p>b) A ladder diagram can be printed out.
</p>
<p>(7) Program error display
</p>
<p>Sequence program errors are displayed on the screen of the SYSTEM
P series.
</p>
<p>Error codes are displayed at the lower right of the screen as
ALARM=XXX.
Refer to list of error codes in Appendix.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. COMPONENT UNITS AND 
CONNECTIONS B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>610
</p>
<p>3 COMPONENT UNITS AND CONNECTIONS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
3. COMPONENT UNITS AND
</p>
<p>CONNECTIONSPMC PROGRAMMER (SYSTEM P series)
</p>
<p>611
</p>
<p>(1) SYSTEM P series
</p>
<p>This system serves as a programmer to generate and edit sequence
programs.
</p>
<p>(2) Series 16
</p>
<p>This system transfers a generated sequence program to CNC.
</p>
<p>(3) FANUC PPR
</p>
<p>This PPR inputs/outputs a sequence program by using a paper tape,
and also output a source list to the printer.
</p>
<p>(4) FANUC printer
</p>
<p>This printer prints out the sequence program.
</p>
<p>(5) FANUC PMC writer
</p>
<p>This unit is used for writing a sequence program to the EPROM for
PMC or ROM module when the sequence program has been
completed.
</p>
<p>(6) FANUC FA Writer
</p>
<p>This unit is used for writing data to the EPROM or ROM module for
the PMC after a sequence program has been created.
</p>
<p>3.1
COMPONENT UNITS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. COMPONENT UNITS AND 
CONNECTIONS B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>612
</p>
<p>For details of the connections of SYSTEM P series unit power supply,
PPR, and other units as well as their operation, refer to the following
operator&rsquo;s manuals.
</p>
<p>SYSTEM P-G Mark II: B-66014E
</p>
<p>SYSTEM P-G Mate: B-66003E
</p>
<p>This chapter mainly describes the connections between SYSTEM P series
and I/O devices.
</p>
<p>����3.2(a) External view of SYSTEM P Mark II
</p>
<p>3.2
CONNECTIONS OF
UNITS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
3. COMPONENT UNITS AND
</p>
<p>CONNECTIONSPMC PROGRAMMER (SYSTEM P series)
</p>
<p>613
</p>
<p>����3.2(b) External view of SYSTEM P Mate
</p>
<p>Since a volatile RAM is employed as the SYSTEM P series memory, all
programs (FAPT LADDER system programs and sequence program)
being loaded into memory are operation should be started with the input
of FAPT LADDER system programs (called system loading).
</p>
<p>If the SYSTEM P series power supply is turned off halfway in the curse
of inputting a sequence program from the keyboard, the sequence
program must be stored in advance, and this FAPT LADDER provides an
output function to a floppy for this purpose.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. COMPONENT UNITS AND 
CONNECTIONS B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>614
</p>
<p>Adaptor for
1M-bit EPROMs
</p>
<p>ROM module 
for the PMC
</p>
<p>EPROM for the PMC
</p>
<p>Adaptor for
ROM modules
</p>
<p>(FANUC FA WRITER)
</p>
<p>EPROM for 
the PMC
</p>
<p>FANUC  PRINTER
</p>
<p>Rear panel of the SYSTEM P
Mark II
</p>
<p>(FANUC PMC WRITER)
</p>
<p>Prints sequence program
figures.
</p>
<p>CN2 CN1
</p>
<p>CN4 CN3
</p>
<p>FANUC  PPR
</p>
<p>1 Tape input
2 Tape printout
3 List output
</p>
<p>PMC-RA1/RA2/RB/RC
</p>
<p>Adaptor for 40-pin
ROMs
</p>
<p>FANUC ROM WRITER
</p>
<p>����3.2(c) Connection of SYSTEM P series with each unit
</p>
<p>(1) Connect FANUC PPR to connector CN1.
</p>
<p>(2) Connect FANUC PMC writer or FANUC FA writer to connector
CN2.
</p>
<p>(3) Connect FANUC printer to connector CN3.
</p>
<p>(4) Connect connector CN4 to PMC-RA1/RA2/RB/RB2/RC. It is
connected to a channel preset by a PMC I/O.
For details, refer to &rdquo;Setting and display of I/O in PMC programmer
(CRT/MDI) in III&rdquo;.
</p>
<p>Connector JD5A on MAIN PCB � 1 CHANNEL
</p>
<p>Connector JD5B on MAIN PCB � 2 CHANNEL
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
3. COMPONENT UNITS AND
</p>
<p>CONNECTIONSPMC PROGRAMMER (SYSTEM P series)
</p>
<p>615
</p>
<p>Figs. 3.3(a) - (b) show the panel of the SYSTEM P series keyboard.
</p>
<p>It is not necessary to memorize the meanings of keys on the keyboard.
</p>
<p>Descriptions of these keys and menus are displayed on the SYSTEM P
series screen by operation, and you can easily operate the SYSTEM P
series board while monitoring the SYSTEM P series screen.
</p>
<p>In this chapter, you should understand an outline of functions of these
keys.
</p>
<p>Soft keys
</p>
<p>Standard keyboard
</p>
<p>Function keys
</p>
<p>Numeric keypad
</p>
<p>Function keys
</p>
<p>����3.3(a) Panel of the SYSTEM P Mark II key board
</p>
<p>Function keys
</p>
<p>Data input keys
</p>
<p>����3.3(b) Panel of the SYSTEM P Mate key board
</p>
<p>3.3
KEYBOARD OF
SYSTEM P SERIES
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. COMPONENT UNITS AND 
CONNECTIONS B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>616
</p>
<p>This key is used to load the FAPT LADDER system program into the
SYSTEM P series memory through a floppy disk at the first time after
turning on power.
</p>
<p>F key is used to select an I/O device among I/O devices connected at that
time.
</p>
<p>These F keys are provided with an LED. When depressing a key, the LED
lights, and when depressing the key once more, the LED goes out. The
lighting condition of of this LED indicates that an I/O has been
designated. No I/O device is operable when its corresponding LED is not
lighting.
</p>
<p>The correspondence between F keys and I/O devices is as shown below.
(I) shows an input, while (O) shows an output.
</p>
<p>(1) &lt;F1&gt; key: FANUC PPR paper tape reader (I)
</p>
<p>(2) &lt;F2&gt; key: Floppy disk input (I)
</p>
<p>(3) &lt;F3&gt; key: Not used
</p>
<p>(4) &lt;F4&gt; key: Display of ladder diagram on SYSTEM P series screen
(O)
</p>
<p>(5) &lt;F5&gt; key: FANUC PPR printer (O)
</p>
<p>(6) &lt;F6&gt; key: FANUC PPR paper tape puncher (O)
</p>
<p>(7) &lt;F7&gt; key: Floppy disk output (O)
</p>
<p>(8) &lt;F8&gt; key: PMC-PA1/PA2/RA1/RA2/RB/RB2/RC (I/O)
</p>
<p>(9) &lt;F9&gt; key: FANUC PMC writer, FANUC FA writer (I/O)
</p>
<p>(10) &lt;F10&gt; key: FANUC printer (O)
</p>
<p>(The ladder diagram is printed on the printer.)
</p>
<p>(11) &lt;F13&gt; key:  FANUC Floppy Cassette/FANUC FA Card adapter (I)
</p>
<p>(12) &lt;F14&gt; key:  FANUC Floppy Cassette/FANUC FA Card adapter
(O)
</p>
<p>Combination of F key and menu number of FAPT LADDER decided
which function is to be executed.
</p>
<p>3.3.1
LOAD Key (System
Program Loading Key)
</p>
<p>3.3.2
F Keys (F1 to F0)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
3. COMPONENT UNITS AND
</p>
<p>CONNECTIONSPMC PROGRAMMER (SYSTEM P series)
</p>
<p>617
</p>
<p>Four R keys &lt;R0&gt; to &lt;R3&gt; are provided. The meaning of these keys differ
according to the screen conditions at their operating time, even in case of
the same key.
</p>
<p>(1) R key menu screen
</p>
<p>This screen is obtained just after loading a FAPT LADDER system
program (1/2) or when pressing &lt;NL&gt; key only in a menu screen.
Refer to Fig. 4.2.2.
</p>
<p>&lt;R0&gt; FAPT ladder start.
</p>
<p>. A menu screen appears.
</p>
<p>&lt;R1&gt; Editing a ladder diagram starts.
</p>
<p>&lt;R2&gt; Not used in FAPT ladder.  (Not accepted when pressing
these keys)
</p>
<p>&lt;R3&gt; Request key (see 4.8)
</p>
<p>Press NL keys, if a wrong key was pressed by mistake. The screen is
reset to the condition before pressing the wrong R key.
</p>
<p>(2) Other than R key menu screen
</p>
<p>&lt;R0&gt; This key operation is accepted when EDIT is displayed at the
lower left part of the screen (called EDIT screen hereafter)
during sequence program editing. The screen is switched to
the sequence program, symbol, message, I/O module, and
title, each time this R key is pressed.
</p>
<p>&lt;R1&gt; 1 When this key is pressed during printing of a ladder
diagram on an external printer, the printer stops every page
to be ready for key entry.
</p>
<p>2 When this key is pressed during data transfer between
SYSTEM P series and PMC-RB/RC, data transfer is
stopped.
</p>
<p>3 The signal display in a sequence program is alternately
selected to symbols and addresses, each time this R1 is
pressed during the display of the sequence program on the
screen.
</p>
<p>&lt;R2&gt; Data on the last page are displayed, each time this key is
pressed on the EDIT screen.
</p>
<p>&lt;R3&gt; 1 Data on the next page are displayed, each time this key is
pressed on the EDIT screen.
</p>
<p>2 Transfer is aborted when this key is pressed during ROM
data transfer between SYSTEM P series and
PMC-WRITER or floppy.
</p>
<p>3.3.3
R Keys (R0 to R3)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. COMPONENT UNITS AND 
CONNECTIONS B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>618
</p>
<p>Data keys are used to enter data.  To switch the output of such keys
between the upper character and lower-character, use the [SHIFT] key or
[LOCK] key.  Pressing the [SHIFT] key together with an arbitrary key
changes the output of the arbitrary key to the upper character, and pressing
the [LOCK] key changes the output of all keys to upper character.  To
release the upper character mode, press the [LOCK] key again.
Special keys are described below.
</p>
<p>(1) &lt;NL&gt; key
</p>
<p>Data entry from the SYSTEM P series keyboard are input into
SYSTEM P series by depressing &lt;NL&gt; key.
Two &lt;NL&gt; keys are located on the keyboard for easily operation.
</p>
<p>(2) &lt;CAN&gt; key
</p>
<p>Data being entered from the keyboard are cancelled.
</p>
<p>(3) BS key
</p>
<p>Data being entered from the keyboard are sequentially deleted
leftward, each time this key is depressed.
</p>
<p>(4) Arrow keys &lt;�&gt; &lt;�&gt; &lt;�&gt; &lt;�&gt;
</p>
<p>These keys are accepted only when a ladder diagram is being
displayed on the screen, and used for scrolling the ladder diagram.
</p>
<p>NOTE
None of [INS] [DEL] [CHG] [AUX] keys and K key is employable
in the FAPT LADDER.
</p>
<p>3.3.4
Data Keys and Screen
Scroll Key
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
3. COMPONENT UNITS AND
</p>
<p>CONNECTIONSPMC PROGRAMMER (SYSTEM P series)
</p>
<p>619
</p>
<p>(1) SYSTEM P series Mate
</p>
<p>An initial I/O device setting of &rsquo;FAPT LADDER&rsquo; for SYSTEM P
series Mate is as follows.
</p>
<p>����� 3.4(a) FAPT LADDER (Mate) of table
</p>
<p>Channel I/O device F key
</p>
<p>CN1 PMC-RAM F8
</p>
<p>CN2 PMC WRITER
FA WRITER
</p>
<p>F9
</p>
<p>CN3 External printer F10
</p>
<p>Alter the setting of the I/O device by under-mentioned &rsquo;IO command&rsquo;
when using FANUC PPR.
</p>
<p>i) Press the R3 key in the menu screen of R keys.
</p>
<p>&rsquo;REQUEST =&rsquo; is displayed in the left bottom of screen and
becomes the state which can be typed in.
</p>
<p>ii) Type in IO PPR, CN1 &lt;NL&gt;.
</p>
<p>PPR is allocated to channel 1.
</p>
<p>iii) Type in as follows when channel 1 allocation is returned to
PMC-RAM.
</p>
<p>IO, NC, CN1, F8, BR10 &lt;NL&gt;
</p>
<p>(2) SYSTEM P Mark II
</p>
<p>The initial setting of I/O devices of FAPT LADDER for the SYSTEM
P Mark II is as follows.
</p>
<p>����� 3.4(b) FAPT LADDER (Mark II)
</p>
<p>Channel I/O device F key
</p>
<p>CN1 FANUC PPR F1, F5, F6
</p>
<p>CN2 PMC WRITER
FA WRITER
</p>
<p>F9
</p>
<p>CN3 External printer F10
</p>
<p>CN4 PMC-RAM F8
</p>
<p>(3) When a FANUC Floppy Cassette or FANUC FA Card adapter is used,
change the setting of the I/O device by executing the following I/O
command:
</p>
<p>i) Press the [R3] key on the menu screen for the [R] keys.
</p>
<p>Then REQUEST = appears at the lower left of the screen allowing
data to be entered.
</p>
<p>ii) Type IO BCA, CN2, F13, F14, then press the &lt;NL&gt; key.  The
FANUC Floppy Cassette or FA Card adapter is allocated to
channel 2.
</p>
<p>iii) To initialize the setting of channel 2 again, type IO AUX, CN2,
F9, then press the &lt;NL&gt; key.
</p>
<p>(4) Setting of the ROM writer
</p>
<p>The PMC-RA1, -RA2 or -RB uses one of 1MB EPROM (27C1024).
</p>
<p>The PMC-RC uses one of ROM module (128KB, 256KB, or
512KB).
</p>
<p>3.4
SETTING OF I/O
DEVICE
</p>
<p>(Setting method of IO
command)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>3. COMPONENT UNITS AND 
CONNECTIONS B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>620
</p>
<p>For this reason, when the PMC-RA1, -RA2 or -RB is used, both the
FA Writer and PMC Writer can be used.  When the PMC-RC is used,
only the FA Writer is available.
</p>
<p>When the PMC-RA1, -RA2 or -RB is used, the ROM writer used can
be selected on the REQUEST screen as follows.
</p>
<p>1 On the REQUEST screen, enter WRITER then press the &lt;NL&gt; key.
</p>
<p>2 The following message appears.  To select the FA Writer, enter 0
or press the &lt;NL&gt; key.  To select the PMC Writer, enter 1.
</p>
<p>SET KIND OF ROM WRITER (0:FA WRITER, 1:PMC
WRITER)
WRITER=
</p>
<p>The current setting of the ROM writer can be checked on the system
parameter screen.
</p>
<p>(1) PMC Writer
</p>
<p>The PMC Writer is required when the PMC-RA1, -RA2, -RB or
RB2 is available.  To use a 1MB EPROM (27C1024), the 1M
EPROM adapter (A13B0147-B001) is required.  Set the EPROM
select switch to the 271024 position before using the 1M EPROM
adapter.
</p>
<p>(2) FA Writer
</p>
<p>When the FA Writer is used with the PMC-RA1, -RA2 or -RB,
the EPROM adapter (1MB) for the FA Writer is required.  When
the FA writer is used with the PMC-RC, the ROM module
adapter is required.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>621
</p>
<p>4 OPERATION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>622
</p>
<p>Various operations of FAPT ladder are done onthe specified screen.
</p>
<p>Fig. 4.1 shows the relation between various operations and corresponding
screens.
</p>
<p>00 or   NL  key-in after 
parameter set-ting.
</p>
<p>E   NL   key-in
</p>
<p>Key-in   NL
</p>
<p>SYSTEM P
</p>
<p>Power on
</p>
<p>  FAPT ladder 
system loading
</p>
<p>  FAPT ladder 
R0, R1, R2, R3
</p>
<p>00 or  NL  key-in
</p>
<p>Menu screen
</p>
<p>Key-in R3
</p>
<p>REQUEST=
</p>
<p>SYSTEM P series power on
</p>
<p>Visual identification characters
</p>
<p>FAPT ladder system floppy loading
</p>
<p>Visual identification characters
R key menu screen
</p>
<p>Edit
screen
</p>
<p>01 key-in
</p>
<p>Source
program
input
screen
(PTR,
FD, KB)
</p>
<p>ROM
program
input
screen
(FD,
RAM
cassette)
</p>
<p>Source
program
output
screen
(PTP, FD,
PRT)
</p>
<p>ROM
program
output
screen
(FD,
RAM
cassette)
</p>
<p>Source
program
verify
screen
(PTR,
FD)
</p>
<p>ROM
program
verify
screen
(FD,
RAM
cassette)
</p>
<p>Unused Clear
screen
</p>
<p>Parame-
ter set-
ting
screen
</p>
<p>E   NL    key-in when an alarm occurred or when 
processing was aborted halfway.
</p>
<p>Automatic return when processing has been 
terminated normally.
</p>
<p>Key-in R0
</p>
<p>Parameter screen
</p>
<p>Key-in R1
</p>
<p>Ladder diagram 
  direct editing
</p>
<p>Key-in R2
</p>
<p>Unused
</p>
<p>Key-in   NL
</p>
<p>02 key-in 03 key-in 04 key-in 05 key-in 06 key-in 07 key-in 08 key-in 09 key-in 10 key-in
</p>
<p>����4.1(a) Relation between various operations and screens
</p>
<p>4.1
GENERAL
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>623
</p>
<p>SYSTEM P power
on
</p>
<p>Load system floppy
</p>
<p>Editing
</p>
<p>Debug using PMC-RAM
</p>
<p>Write a sequence program into
EPROM for PMC or ROM
module
</p>
<p>SYSTEM P series
power off
</p>
<p> Is dedug 
completed?
</p>
<p>YES
</p>
<p>Sequence program input, title,
symbol, comment, message
I/O module
</p>
<p>NO
</p>
<p>Set necessary system parameters.
</p>
<p>START
</p>
<p>END
</p>
<p>Operate the system after loading
EPROM for PMC or ROM module 
to CNC
</p>
<p>����4.1(b) Outline of operationww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>624
</p>
<p>The system floppy disk contains the system of FAPT LADDER for
PMC-RA1/RA2/RB/RB2/RC.
</p>
<p>To apply the FAPT LADDER system for PMC-RA1/RA2/RB/RB2/RC
to the SYSTEM P Mate will overlay each of the following functions.
</p>
<p>� The function to display the ladder diagram on the screen and output it
on an external printer, which is operated using the menu numbers 03 and
F4 or 04 to F10.
</p>
<p>� The function to input/output the ROM formatted program and make its
comparison, which is operated combining the menu numbers 03, 05 or
07 and F2, F7, F8, F9, F13 or F14.
</p>
<p>� Ladder diagram direct editing, which is operated by pressing &lt;R1&gt; key
on the R key menu screen and executing ladder diagram direct editing.
</p>
<p>The SYSTEM P Mate has less memory than the SYSTEM P Mark II and
cannot load the system program on the system floppy disk at a time. The
remainder left unloaded will be loaded automatically when each of the
functions above is used. However, only in the case the system floppy disk
has not been installed into the drive, the message &rdquo;MOUNT SYSTEM
FLOPPY DISK&rdquo; is displayed as follows:
</p>
<p>SET SYSTEM FD &amp; KEY I &rsquo;OK&rsquo; OR &rsquo;NO&rsquo;
FDD =OK ODRIVEJ (VOL =01)
FDD =
</p>
<p>Install the system floppy disk into the drive #0 or #1 and key in &rsquo;OK 0&rsquo;
or &rsquo;OK 1&rsquo;. If the system floppy disk is installed into the drive #0, it is
possible to key in only &rsquo;OK&rsquo; without specifying the drive number.
</p>
<p>FAPT LADDER system programs are loaded into the floppy. Also,
sequence programs can be written from SYSTEM P series into the floppy
or input from the floppy.
</p>
<p>The loading method of the floppy is described in detail in the operator&rsquo;s
manual for SYSTEM P series.
</p>
<p>The following describes the loading direction of the floppy.
</p>
<p>Loading direction of floppy
</p>
<p>4.2
PREPARATION
BEFORE OPERATION
</p>
<p>4.2.1
System Floppy
</p>
<p>4.2.2
Limitations with the
SYSTEM P Mate
</p>
<p>4.2.3
Loading of Floppy
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>625
</p>
<p>Drive No. 0
</p>
<p>CRT
</p>
<p>Drive No. 1
</p>
<p>����4.2.3 Loading direction of floppy
</p>
<p>(1) Turn on the SYSTEM P series power supply.
</p>
<p>(2) Set the system floppy or prepared exclusive system floppy into the
floppy disk.
</p>
<p>(3) Continue depressing &lt;LOAD&gt; key for 2 to 3 seconds on the
keyboard.
</p>
<p>(4) The system loading is started. After this system loading, &rdquo;FAPT
LADDER&rdquo; is displayed on the CRT screen and R key menu also
appears.
</p>
<p>This R key menu screen is shown in Fig. 4.2.6.
</p>
<p>After this screen is displayed, take out system floppy or exclusive
system floppy.
</p>
<p>����4.2.4 R key menu screen
</p>
<p>4.2.4
FAPT LADDER System
Floppy Loading
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>626
</p>
<p>A programmer menu screen (hereinafter called menu screen) is displayed
by pressing &lt;R0&gt; key from the R key menu screen. Key in a menu number
to be executed Fig. 4.2.5 shows the menu screen.
The parameter setting screen is displayed by pressing &lt;R0&gt; key just after
loading the 1/2 system floppy.
</p>
<p>Set parameters as required, referring to 4.2.6.
</p>
<p>Proceed to the menu screen by pressing &lt;NL&gt; key.
</p>
<p>Parameters are displayable and settable from the menu screen, too.
</p>
<p>Programmer menu screen (The programmer menu and function keys are
displayed.)
</p>
<p>The following figure shows the screen to be displayed when the
programmer key (R0) is pressed.
</p>
<p>The programmer menu, function keys with I/O indication, and statuses
are displayed on this screen.
</p>
<p>SET I/O KEY &amp; KEY IN ONE OF THE FOLLOWING NO.S WHICH YOU WANT.
</p>
<p>NO. ITEMS
</p>
<p>01 EDIT LADDER PROGRAM.
</p>
<p>02 INPUT LADDER PROGRAM FROM PTR OR FD.
</p>
<p>03 INPUT ROM DATA FROM  FD, PMC-RAM OR ROM.
</p>
<p>04 OUTPUT LADDER PROGRAM TO PTP. FD OR PRINTER.
</p>
<p>05 OUTPUT ROM DATA TO FD, PMC-RAM OR ROM.
</p>
<p>06 COMPARE LADDER PROGRAM WITH PTR OR FD.
</p>
<p>07 COMPARE ROM DATA WITH FD, PMC-RAM OR ROM.
</p>
<p>08 (UNUSED)
</p>
<p>09 CLEAR OF TITLE, SYMBOL, LADDER OR MESSAGE DATA.
</p>
<p>10 PARAMETER SET.
</p>
<p>00 END EDIT &amp; DISPLAY.
</p>
<p>F1  :  PTR (I) . F4  : GRP  (O)  SYMBOL =00.0KB SCAN TIME=OOOMS
</p>
<p>F2  :  FD  (I) . F10 : FPRT (O)  LADDER =00.0KB
</p>
<p>F5  :  PRT (O)                   MESSAGE=00.0KB
</p>
<p>F6  :  PTP (O)                                     ROM MODULE=A
</p>
<p>F7  :  FD  (O)                   END SEQ.NO=00000
</p>
<p>F8  :  PMC (I/O)                 ERR SEQ.NO=00000
</p>
<p>F9  :  ROM (I/O)                 ERR BLOCK =00000  ALARM=00
</p>
<p>NO. =
</p>
<p>Capacity of area
used for symbols
and comment data
</p>
<p>A period of the 
sequence program
</p>
<p>Capacity of a
 ladder program
</p>
<p>Capacity of 
message data
</p>
<p>The number of the
last step in the 
sequence program
</p>
<p>The number of a
step at which an
error occurred
The number of an
error occurred
</p>
<p>The number of
blocks in which an
error was detected
</p>
<p>Enter a menu number.
</p>
<p>����4.2.5 Programmer menu screen
</p>
<p>4.2.5
Programmer Menu
Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>627
</p>
<p>Set parameters before inputting a sequence program without fail. Set
necessary parameters by changing from the menu screen to the parameter
setting screen (Fig.4.2.6), provided that the parameter setting screen is
automatically displayed just after loading the system floppy.
</p>
<p>(Operation in step 1 is not required in the procedure below.)
</p>
<p>1 Key in menu number &ldquo;10 &lt;NL&gt;&rdquo; from the menu screen.
</p>
<p>Turn off all F keys. The screen is switched, and the parameter setting
screen shown in Fig. 4.2.6 is displayed.
The initial value of each parameter is as shown in Fig. 4.2.6.
</p>
<p>KEY IN ONE OF THE FOLLOWING NO.S WHICH YOU WANT TO SET PARA,S.
</p>
<p>NO.  ITEMS CURRENT PARAMETERS
</p>
<p>01   (UNUSED) ;
02   COUNTER DATA TYPE ; BINARY
03   OPERATOR PANEL ; NO
      KEY/LED ADDRESS ; /
      KEY/LED BIT IMAGE ADRS. ; /
04   PMC TYPE ; PMC-RC
05   LANGUAGE ORIGIN ; 000000H
06   (UNUSED) ;
07   LADDER EXEC. ; 100%      (1-150%)
08   (UNUSED) ;
09   IGNORE DIVIDE CODE ; NO
10   (UNUSED) ;
00   NOTHING TO SET
</p>
<p>; ROM WRITER=FA WRITER
NO.=
</p>
<p>����4.2.6 Parameter setting screen (PMC-RC)
</p>
<p>2 Key in &ldquo;00 &lt;NL&gt;&rdquo; to proceed to the menu screen, if displayed
parameters are employed as they are.
</p>
<p>3 Set parameters according to the following procedure when it is
necessary to change the displayed parameters.
</p>
<p>No operation is required for an item in which no change is required.
</p>
<p>a) Set a counter data type.  The initial value is set to the binary
format.
</p>
<p>1 Key in &ldquo;02 &lt;NL&gt;&rdquo;
</p>
<p>2 Select a binary or BCD notation, and key in the
corresponding number &ldquo;@@&lt;NL&gt;&rdquo;.
</p>
<p>b) OPERATOR PANEL
</p>
<p>Specifies whether the operator&rsquo;s panel is used.
</p>
<p>The initial value is already set to NO (unused).
</p>
<p>1 Enter 03 and press the &lt;NL&gt; key.
</p>
<p>2 The following message appears at the lower left of the screen.
</p>
<p>EXAMPLE 0:NO, 1:YES
OP PANEL=
</p>
<p>3 To disable the operator&rsquo;s panel, enter 0 and press the &lt;NL&gt;
key.  To enable the operator&rsquo;s panel, enter 1 and press the
&lt;NL&gt; key.
</p>
<p>4.2.6
Parameter Setting and
Display
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>628
</p>
<p>4 Selecting YES in step 3 displays the following message:
</p>
<p>SET KEY/LED ADDRESS (KEY ADRS, LED ADRS.)
ADDR=
</p>
<p>5 Enter a Y-address to specify the KEY address and a Y-address
to specify the LED address.  For example, enter X0,Y0 and
press the &lt;NL&gt; key.
</p>
<p>6 Entering data as shown above displays the following
message:
</p>
<p>SET KEY/LED IMAGE ADDRESS (KEY ADRS, LED
ADRS.)
ADDR=
</p>
<p>7 Enter addresses other than X- and F-addresses.  For example,
enter R0,R10 and press the &lt;NL&gt; key.
</p>
<p>c) Select the type of PMC.
</p>
<p>The initial value has been set to the PMC-RB or -RA1.
</p>
<p>1 Type 04 and press the &lt;NL&gt; key.
</p>
<p>2 The following message appears at the lower left of the screen:
</p>
<p>EXAMPLE 0:PMC-RB, 1:PMC-RC
PMC TYPE=
or
EXAMPLE 0:PMC-RA1, 1:PMC-RA2
PMC TYPE=
</p>
<p>3 To select the PMC-RB or -RA1, enter 0 and press the &lt;NL&gt;
key.  To select the PMC-RC or -RA2, enter 1 and press the
&lt;NL&gt; key.
</p>
<p>4 When the type of PMC is changed, all data items including
ladder data are cleared.  The following message is displayed
for confirmation:
</p>
<p>CLEAR ALL DATA TO CHANGE PMC TYPE (0:NO,
1:YES)
CLEAR/KEEP=
</p>
<p>5 To cancel changing the type of the PMC, enter 0 and press the
&lt;NL&gt; key.  To change the type of the PMC, enter 1 and press
the &lt;NL&gt; key.
</p>
<p>d) LANGUAGE ORIGN (for PMC-RC only)
</p>
<p>The initial value is already set to 0.
</p>
<p>1 Enter 05 and press the &lt;NL&gt; key.
</p>
<p>2 Enter @@@@@@ (hexadecimal) and press the &lt;NL&gt; key
to specify the first address of the TCB in a C program.
</p>
<p>e) LADDER EXEC (only for PMC-RC)
</p>
<p>The parameter value for LADDER EXEC is fixed to 100% for the
PMC-RB.  For the PMC-RC, the parameter value can be set as
follows.
</p>
<p>1 key in &ldquo;07 &lt;NL&gt;&rdquo;.
</p>
<p>2 Key in &ldquo;@@@ &lt;NL&gt;&rdquo; by numeric characters within a range
of 1% to 150%.
</p>
<p>After setting, key in &ldquo;@@ &lt;NL&gt;&rdquo; or &ldquo;&lt;NL&gt;&rdquo; to set the menu screen.
</p>
<p>This parameter is not supported for PMC-RA1, PMC-RA2, PMC-RB
or PMC-RB2.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>629
</p>
<p>f) IGNORE DIVIDE CODE (only for PMC-RB/RC)
</p>
<p>It is possible to select whether to execute a ladder program by
dividing it into smaller units or without dividing it.
</p>
<p>This parameter can be specified as follows for PMC-RB and
PMC-RC:
</p>
<p>1 Enter 09 and press the &lt;NL&gt; key.
</p>
<p>2 To execute the ladder program by dividing it into smaller
units, enter 0 and press the &lt;NL&gt; key.  To execute it without
dividing it, enter 1 and press the &lt;NL&gt; key.
</p>
<p>This parameter is not supported for PMC-RA1 or PMC-RA2.
</p>
<p>The ladder program is always executed without being divided.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>630
</p>
<p>Display the EDIT screen by keying in &rdquo;1 &lt;NL&gt;&rdquo; from the menu screen.
Press &lt;R0&gt; by necessary times until a desired screen appears from the title
to I/O module.  The screen is switched in the sequence shown in Fig.
4.3.1, each time &lt;R0&gt; key is pressed.
</p>
<p>Individual screens are reset to the menu screen by &rdquo;E &lt;NL&gt;&rdquo;. In this
paragraph, only the input and editing operation of each data from the
keyboard is described.
</p>
<p>For the I/O operations using a paper tape or a floppy, see 4.4 and 4.5.
</p>
<p>(1) Title data (title data list screen).
</p>
<p>Set the following data on sequence program as a comment.
</p>
<p>R0
R0
</p>
<p>R0
</p>
<p>Key in &rsquo;1  NL  &rsquo;Menu screen
</p>
<p>Ladder program list
screen
</p>
<p>Title data list screen
</p>
<p>I/O module data list
screen
</p>
<p>Message data list
screen
</p>
<p>EDIT screen
</p>
<p>R0
</p>
<p>R0
</p>
<p>Symbol &amp; comment list
screen
</p>
<p>����4.3.1(a) Switching sequence of data display screen
</p>
<p>*** TITLE DATA LIST ***
01 MACHINE TOOL BUILDER NAME
02 MACHINE TOOL NAME
03 PMC &amp; NC NAME FANUC PMC-MODEL RB &amp; F16MA
04 PMC PROGRAM NO.
05 EDITION NO.
06 PROGRAM DRAWING NO.
07 DATE OF PROGRAMMING
08 PROGRAM DESIGNED BY
09 ROM WRITTEN BY
10 REMARKS
</p>
<p>   PMC CONTROL PROGRAM SERIES : 4061 EDITION : 01
</p>
<p>   MEMORY USED : 00.0 KBYTE SCAN TIME : 008 MSEC
</p>
<p>0003 ALTERED
EDIT
</p>
<p>����4.3.1(b) Title data list screen
</p>
<p>4.3
PROGRAM EDITING
</p>
<p>4.3.1
Data Display and
Setting (Title, Symbol,
Ladder Program,
Comment, Message,
I/O Module)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>631
</p>
<p>a) MACHINE TOOL BUILDER NAME
</p>
<p>Set the machine tool builder name (max. 32 characters).
</p>
<p>Key in &ldquo;A1 @@@..........@@@ NL&rdquo;.
</p>
<p>Machine tool builder name to be set
</p>
<p>Example) &ldquo;A1 ***MACHINE(LTD) NL&rdquo;
</p>
<p>b) MACHINE TOOL NAME
</p>
<p>Set the machine tool name (max. 32 characters).
</p>
<p>Key in &ldquo;A2 @@@..........@@@ NL&rdquo;.
</p>
<p>Machine tool name to be set
</p>
<p>Example) &rdquo;A2 ***MACHINE NL&rdquo;
</p>
<p>c) CNC &amp; PMC NAME
</p>
<p>Set the CNC and PMC name (max. 32 characters).
</p>
<p>Key in &ldquo;A3 @@@..........@@@ NL&rdquo;.
</p>
<p>NC and PMC name to be set
</p>
<p>Example) &ldquo;A3 F16MA.&amp;.PMC-N NL&rdquo;
</p>
<p>d) PMC PROGRAM NO.
</p>
<p>Set the sequence program number (max. 4 characters).
</p>
<p>Key in &ldquo;A4 @@@@ NL&rdquo;.
</p>
<p>Number to be set
</p>
<p>Example) &ldquo;A4 0001 NL&rdquo;
</p>
<p>e) EDITION NO.
</p>
<p>Set the edition number (max. 2 characters).
</p>
<p>Key in &ldquo;A5 @@ NL&rdquo;.
</p>
<p>Edition number to be set
</p>
<p>Example) &ldquo;A5 G NL&rdquo;
</p>
<p>f) PROGRAM DRAWING NO.
</p>
<p>Set the sequence program drawing number (max. 32 characters).
</p>
<p>Key in &ldquo;A6 @@@...........@@@ NL&rdquo;.
</p>
<p>Drawing number to be set
</p>
<p>Example) &ldquo;A6 0001-0002-000A NL&rdquo;
</p>
<p>g) DATE OF PROGRAMMING
</p>
<p>Set the sequence programming date (max. 16 characters).
</p>
<p>Key in &ldquo;A7 @@..........@@ NL&rdquo;.
</p>
<p>Date to be set
</p>
<p>Example) &ldquo;A7 1990.10.23 NL&rdquo;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>632
</p>
<p>h) PROGRAM DESIGNED BY
</p>
<p>Set the sequence program designer name (max. 32 characters).
</p>
<p>Key in &ldquo;A8 @@@..........@@@ NL&rdquo;.
</p>
<p>Name to be set
</p>
<p>Example) &ldquo;A8 MR.***&amp;MISS *** NL&rdquo;
</p>
<p>i) ROM WRITTEN BY
</p>
<p>Set the name of the programmer who wrote a program into ROM
cassette (max. 32 characters).
</p>
<p>Key in &ldquo;A9 @@@..........@@@ NL&rdquo;.
</p>
<p>Name to be set
</p>
<p>Example) &ldquo;A9 MR.***&amp;MISS *** NL&rdquo;
</p>
<p>j) REMARKS
</p>
<p>Set remarks (memo) (max. 32 characters).
</p>
<p>Key in &ldquo;A10 @@..........@@ NL&rdquo;.
</p>
<p>Remarks to be set
</p>
<p>Example) &ldquo;A10 MEMO-COMMENT NL&rdquo;
</p>
<p>Set title data about all items in the above format for both entry and
alteration.
</p>
<p>All characters are settable so long as they can be keyed in from
the SYSTEM P series keyboard. Set easy-to-understand data
about individual items.
</p>
<p>(2) Symbol and comment data (SYMBOL &amp; COMMENT LIST screen).
</p>
<p>A symbol means a signal name to be attached to each PMC I/O signal.
The comment data is a comment statement of the signal name.
</p>
<p>The symbol is optionally settable within maximum 6 characters,
while the comment data are optionally settable within maximum 30
characters.
</p>
<p>a) Input from keyboard (Insert)
</p>
<p>Key in &ldquo;G0.1 SYMNAM COMMENT NL&rdquo;.
</p>
<p>Symbol name
Address
</p>
<p>Comment data
</p>
<p>Mode selection(IS..., AS...) and line selection (I..., A...) need not
be specified when symbols or comment data are input or edited.
Also addresses (G, F, X, Y,...) can be entered in any sequence.
</p>
<p>b) Alter
</p>
<p>The operation is completely the same as that described in 2) a).
</p>
<p>c) Insert
</p>
<p>The operation is completely the same as that described in 2) a).
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>633
</p>
<p>d) Delete
</p>
<p>i) Delete every line
</p>
<p>Key in &ldquo;D@@@ NL&rdquo;.
</p>
<p>Line number to be deleted
</p>
<p>ii) Sequential delete
</p>
<p>Key in &ldquo;D@@@@,@@@ NL&rdquo;.
</p>
<p>Delete start line number
Delete end line number
</p>
<p>e) Search
</p>
<p>i) Search by line number
</p>
<p>Key in &ldquo;L@@@@ NL&rdquo;.
</p>
<p>Line number to be searched
</p>
<p>ii) Search by symbol name
</p>
<p>Key in &ldquo;L@@@@ SYMNAM NL&rdquo;.
</p>
<p>Line number with which the search is to
be started
</p>
<p>Symbol name to be searched
</p>
<p>iii) Address search
</p>
<p>Key in &ldquo;L@@@@ F0.1 NL&rdquo;.
</p>
<p>Line number with which the search is to
be started
</p>
<p>Address to be searched
</p>
<p>(3) Message data (MESSAGE DATA LIST screen)
</p>
<p>Message data are alarm and operator message data to be displayed by
using functional instruction DISPB (SUB 41).
</p>
<p>     ***MESSAGE DATA LIST***
0001  A00.0   0123456&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;&middot;89XY
0002          ABCD&middot;&middot;&middot;&middot;&middot;&middot;
0003
0004
0005
0006
0007
0008
0009  A00.1
  &middot;
  &middot;
  &middot;
EDIT =
</p>
<p>Address
</p>
<p>Line number
</p>
<p>Message data
</p>
<p>����4.3.1(c) Message data list screen
</p>
<p>Maximum 255 characters are entered to one address as message data.
Input message data every maximum 32 characters/line by dividing
them into 8 lines.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>634
</p>
<p>a) Input and alter from keyboard
Set message data in the alter format for both entry and alter. All
characters are settable so long as they can be keyed in from the
SYSTEM P series keyboard.
Key in message data every line in the following format.
</p>
<p>&ldquo;A @@@ MESSAGE-DATA1 NL&rdquo;.
</p>
<p>Message data (maximum 32 characters)
</p>
<p>Line number (maximum 3 digits)
</p>
<p>A means alter.
</p>
<p>b) Delete
Delete message data every line in the following format.
Key in &ldquo;D@@@ NL&rdquo;.
</p>
<p>Line number to be deleted
</p>
<p>c) Search
Search message data by address.
</p>
<p>&ldquo;A@@.@ NL&rdquo;
</p>
<p>Address of message data to be searched
</p>
<p>(4) I/O module data (I/O MODULE DATA LIST screen)
I/O module data are used for determining addresses in a sequence
program of each I/O module.
</p>
<p>***I/O MODULE DATA LIST***
ADDRESS GROUP BASE SLOT NAME
X000
X001
X002
X003
 &middot;
 &middot;
 &middot;
 &middot;
</p>
<p>����4.3.1(d) I/O module data list screen
</p>
<p>a) Input and alter from keyboard
Set I/O module data in the following format when inputting or
altering them from the keyboard.
Key in I/O module data in the format of:
</p>
<p>&ldquo;@@@ @ @ @@ @@@@@ NL&rdquo;
</p>
<p>I/O module name 
(maximum 5 digits)
</p>
<p>Slot number (maximum 2 digits within
a range of 1 to 10)
</p>
<p>Base number (1 digit within a range of 0 to 3)
</p>
<p>Group number (1 digit within a range of 0 to 15)
</p>
<p>Address (input X0, Y0, ...)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>635
</p>
<p>b) Delete
</p>
<p>Delete I/O module data every address by specifying it as follows:
</p>
<p>Key in &ldquo;@@@@ NL&rdquo;.
</p>
<p>Address of I/O module data to be deleted
(input X0, Y0, ...)
</p>
<p>NOTE
1 If the same slot number is specified when the group and
</p>
<p>base numbers are equal to each other, alarm No. 88 occurs.
2 If an output module is specified at an input address or an
</p>
<p>input module is specified at an output address, alarm No. 87
occurs.
</p>
<p>3 If a module is set doubly to a preset address, alarm No. 81
occurs.
</p>
<p>Example) When two IO modules, b are set as shown in the
following figure;
</p>
<p>d.
</p>
<p>a.
</p>
<p>address group base slot name
</p>
<p>X000 2 0 1 FS08A
</p>
<p>X001 2 0 1 FS08A
</p>
<p>X002 2 0 1 FS08A
</p>
<p>X003 2 0 1 FS08A
</p>
<p>X004 2 0 1 FS08A
</p>
<p>X005 2 0 1 FS08A
</p>
<p>X006 2 0 1 FS08A
</p>
<p>X007 2 0 1 FS08A
</p>
<p>X008
</p>
<p>X009 2 1 8 ID16C
</p>
<p>X010 2 1 8 ID16C
</p>
<p>X011
</p>
<p>X012
</p>
<p>X013
</p>
<p>X014 2 1 8 ID16C
</p>
<p>X015 2 1 8 ID16C
</p>
<p>b.
</p>
<p>c.
</p>
<p>If an attempt is made to set a module to X014 like c., alarm No. 88 oc-
curs due to the reason in 1).
</p>
<p>If an attempt is made to set an output module to X006 like d., alarm
No. 87 occurs due to the reason in 2).
</p>
<p>If an attempt is made to set input module ID32B to X006 like d., alarm
No. 81 occurs due to the reason in 3). In this case, this input module
must be set after deleting a. and b. modules once.
</p>
<p>The module names (FS08A, CT01A, etc.) used for input and output in common are out of the objects 
of check in 1) and 2).
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>636
</p>
<p>Input a sequence program from the keyboard.
</p>
<p>Set the EDIT screen (LADDER PROGRAM LIST screen).
</p>
<p>Press menu number &rdquo;1 &lt;NL&gt;&rdquo; on the menu screen, or press &lt;R0&gt; key on
the symbol or I/O module screen. Turn off all F keys at this time.
</p>
<p>Key in &rdquo;IS0 &lt;NL&gt;&rdquo; (Insert Succession) to set the sequential insert mode,
and then, input a sequence program.
</p>
<p>&rdquo;*IS MODE*&rdquo; is displayed at the lower right part of the screen. key in
desired instructions sequentially in the following format.
</p>
<p>1 IS0 &lt;NL&gt; (Sequential input start command)
</p>
<p>� *IS MODE* is displayed at the lower right part of the screen.
</p>
<p>2 R X0.1 &lt;NL&gt;
</p>
<p>3 W R1.1 &lt;NL&gt;
</p>
<p>4 IE &lt;NL&gt; (Sequential input end command)
</p>
<p>� *IS MODE* display disappears from the lower right part of the
screen.
</p>
<p>NOTE
1 Instructions to be keyed in are entered by abbreviated
</p>
<p>symbols as shown above for the purpose of preventing a
key-in failure and improving the operability by reducing the
number of key-in times. It is also allowable to input these
instructions by using their full names, like &rdquo;RD X0.1 &lt;NL&gt;&rdquo;.
Table 4.3.2 shows the correspondence between
abbreviated symbols and full names.
</p>
<p>2 No severe format checking is performed for mnemonic
program. For example, the following program may be
correct with mnemonic programming. 
However this program cannot be displayed as ladder
diagram nor printed out on the printer.
</p>
<p>Usually do not program as shown below:
</p>
<p>Wrong program
</p>
<p>4.3.2
Programming from
Keyboard
</p>
<p>(Key in sequence)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>637
</p>
<p>����� 4.3.2 Keyboard input format and screen display format
</p>
<p>Input format from keyboard
(Simple symbol)
</p>
<p>Display format on screen 
(Full name)
</p>
<p>R X0. 1 RD X0. 1
</p>
<p>RN X0. 2 RD.  NOT X0. 2
</p>
<p>RNS X0. 3 RD.NOT.STK X0. 3
</p>
<p>W R0. 4 WRT R0. 4
</p>
<p>WN R0. 5 WRT.NOT R0.5
</p>
<p>O Y1. 0 OR Y1. 0
</p>
<p>ON Y1. 1 OR.NOT Y1.1
</p>
<p>OS OR. STK
</p>
<p>AG2. 0 AND G2. 0
</p>
<p>AN G2. 1 AND.NOT G2. 1
</p>
<p>AS AND. STK
</p>
<p>T 5 TMR 5
</p>
<p>D F0 DEC F0
</p>
<p>S 5 SUB 5
</p>
<p>P 1234 (Parameter)
</p>
<p>Correct a generated sequence program by alter operation.
</p>
<p>Set the EDIT screen (LADDER PROGRAM LIST screen) first and
display the generated source program. Turn off all F keys at this time.
</p>
<p>a) Alter every instruction
</p>
<p>Key in &ldquo;A @@@@@ R X0.1 NL&rdquo;
</p>
<p>Instruction to be altered
</p>
<p>Line number of the instruction to be altered
(maximum 5 digits)
</p>
<p>A means alter.
</p>
<p>b) Sequential alter
</p>
<p>i) Key in &rdquo;AS@@@@@ NL&rdquo; (Alter Succession) to set the
sequential alter mode.
</p>
<p>@@@@@: Line number to be sequentially altered (maximum
5 digits) &ldquo;AS MODE&rdquo; is displayed at the lower right part of the
screen.
</p>
<p>ii) Instructions are sequentially altered starting with the Line
specified by @@@@@, each time the key-in operation is done
in the &ldquo;R X0.1 &lt;NL&gt;&rdquo; format.
</p>
<p>iii) After sequential alter, key in &ldquo;AE &lt;NL&gt;&rdquo; (Alter End).
</p>
<p>Example) Example of sequential alter of sequence program
For altering all step numbers 20 to 23;
</p>
<p>(Key in sequence)
</p>
<p>1 AS20 &lt;NL&gt; (Sequential alter start
command)
� *AS MODE* is displayed at the
</p>
<p>lower right part of screen.
00020 RD Y0.1 2 R Y0.1 &lt;NL&gt;
</p>
<p>4.3.3
Alter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>638
</p>
<p>00021 WRT R0.13 W R0.1 &lt;NL&gt;
00022 RD F1.1 4 R Y1.2 &lt;NL&gt;
00023 WRT R1.15 W R1.2 &lt;NL&gt;
</p>
<p>6 AE &lt;NL&gt; (Sequential alter end
command)
� *AS MODE* display disappears
</p>
<p>from the lower right part of the
screen.
</p>
<p>c) Wiring change function
</p>
<p>All of address used in Ladder Program is changed to a new
address independently of a command. Only bit address can be
changed.
</p>
<p>Type in &rsquo;CA Address 1 Address 2 &lt;NL&gt;
</p>
<p>A new address
</p>
<p>A previous address to be changed
</p>
<p>Abbreviation of CHANGE ALL
</p>
<p>(Symbol can not be changed)
</p>
<p>Example) &rsquo;CA R0.1 R1.2 &lt;NL&gt;&rsquo; 
&mdash; All &rdquo;R0.1&rdquo; used in Ladder Program is changed
</p>
<p>to &rdquo;R1.2&rdquo;.
</p>
<p>NOTE
If an address is specified which can not be changed to a new
address, an alarm 09 occurs when the specified line will be
changed. In that case, previous lines correctly changed to
that line can be acceptable.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>639
</p>
<p>1 &lsquo;CA R1.2 X0.1 NL&rsquo;
</p>
<p>Abnormal end of
changing.
</p>
<p>Normal end of 
changing?
</p>
<p>iii.ii.i.
Normal end of changing.
</p>
<p>00001 SUB1
</p>
<p>00002 RD X0.1
</p>
<p>00003 WRT R1.3
</p>
<p>00004 RD R1.2
</p>
<p>00005 WRT R1.3
</p>
<p>00006 RD X0.1
</p>
<p>00007 WRT R1.4
</p>
<p>00008 RD R1.3
</p>
<p>00009 SUB 8
</p>
<p>00010 1111
</p>
<p>00011 1111
</p>
<p>00012 X0
</p>
<p>00013 R2
</p>
<p>00014 SUB 2
</p>
<p>00015 SUB 48
</p>
<p>EDIT=�
</p>
<p>00001 SUB1
</p>
<p>00002 RD X1.7
</p>
<p>00003 WRT R1.2
</p>
<p>00004 RD R1.2
</p>
<p>00005 WRT R1.3
</p>
<p>00006 RD X1.7
</p>
<p>00007 WRT R1.4
</p>
<p>00008 RD R1.2
</p>
<p>00009 SUB 8
</p>
<p>00010 1111
</p>
<p>00011 1111
</p>
<p>00012 X0
</p>
<p>00013 R2
</p>
<p>00014 SUB 2
</p>
<p>00015 SUB 48
</p>
<p>EDIT=�
</p>
<p>This does not apply to byte address.
</p>
<p>&lsquo;CA   X0.1   X1.7   NL  &rsquo;
</p>
<p>00001 SUB1
</p>
<p>00002 RD X0.1
</p>
<p>00003 WRT R1.5
</p>
<p>00004 RD R1.2
</p>
<p>00005 WRT R1.3
</p>
<p>00006 RD X0.1
</p>
<p>00007 WRT R1.2
</p>
<p>00008 RD R1.2
</p>
<p>00009 SUB 8
</p>
<p>00010 1111
</p>
<p>00011 1111
</p>
<p>00012 R1
</p>
<p>00013 R2
</p>
<p>00014 SUB 2
</p>
<p>00015 SUB 48
</p>
<p>EDIT=�
</p>
<p>00001 SUB1
</p>
<p>00002 RD R1.2
</p>
<p>00003 WRT R1.5
</p>
<p>00004 RD R1.2
</p>
<p>00005 WRT R1.3
</p>
<p>00006 RD R1.2
</p>
<p>00007 WRT R1.2
</p>
<p>00008 RD R1.2
</p>
<p>00009 SUB 8
</p>
<p>00010 1111
</p>
<p>00011 1111
</p>
<p>00012 R1
</p>
<p>00013 R2
</p>
<p>00014 SUB 2
</p>
<p>00015 SUB 48
</p>
<p>EDIT=�
</p>
<p>00001 SUB1
</p>
<p>00002 RD X0.1
</p>
<p>00003 WRT R1.5
</p>
<p>00004 RD X0.1
</p>
<p>00005 WRT R1.3
</p>
<p>00006 RD X0.1
</p>
<p>00007 WRTR1.2
</p>
<p>00008 RD R1.2
</p>
<p>00009 SUB 8
</p>
<p>00010 1111
</p>
<p>00011 1111
</p>
<p>00012 R1
</p>
<p>00013 R2
</p>
<p>00014 SUB 2
</p>
<p>00015 SUB 48
</p>
<p>EDIT=�
</p>
<p>2 &lsquo;CA X0.1 R1.2 NL&rsquo;Alarm No. 09
</p>
<p>As shown above, an alarm No. 09 occurs when a ladder program i is
changed by an operation of 1 and a ladder program ii will be produced.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>640
</p>
<p>Then, it may be impossible to return a ladder program ii to a ladder
program i by an operation 2.
</p>
<p>All address used in ladder program of specified line number of
subsequent, is changed a new address independently of a command.
</p>
<p>Only bit address can be changed.
</p>
<p>Operate carefully with enough recognition of above.
</p>
<p>&rsquo;C@@@@@ Address 1 Address 2 NL&rsquo;
</p>
<p>A new address
</p>
<p>A previous address to be changed
</p>
<p>Change start line number
</p>
<p>(Symbol cannot be changed)
</p>
<p>Example) &rsquo;C7 R0.1 R1.2 &lt;NL&gt;&rsquo;
</p>
<p>&mdash; All &rdquo;R0.1&rdquo; used in ladder program of 7th line or
subsequent, are changed to &rdquo;R1.2&rdquo;.
</p>
<p>Insert a new program to the generated sequence program.
</p>
<p>Set the EDIT screen (LADDER PROGRAM LIST screen) first.
</p>
<p>a) Insert every instruction
</p>
<p>Key in &ldquo;I @@@@@ R X0.1 NL&rdquo;.
</p>
<p>Instruction to be inserted
</p>
<p>Line number just before the instruction to be
inserted (maximum 5 digits)
</p>
<p>I means insert.
</p>
<p>b) Sequential insert
</p>
<p>i) Key in &rdquo;IS@@@@@ &lt;NL&gt;&rdquo; (Insert Succession) to set the
sequential insert mode, and *IS MODE* is displayed at the lower
right part of the screen.
</p>
<p>@@@@@:Line number just before the instruction to be inserted
(maximum 5 digits)
</p>
<p>ii) Instructions are sequentially inserted starting with the line next
to the line specified by @@@@@, each time the key-in
operation is done in the &rdquo;R X0.1 NL&rdquo; format.
</p>
<p>iii) After sequential insert, key in &rdquo;IE &lt;NL&gt;&rdquo; (Insert End).
</p>
<p>Example) Sequential insert of a sequence program
For inserting multiple instructions after step number
20
</p>
<p>(Key in sequence)
</p>
<p>1 IS20 &lt;NL&gt; (Sequential insert start
command)
� *IS MODE* is displayed at the
</p>
<p>lower right part of screen.
</p>
<p>(Special use of wiring
change function)
</p>
<p>4.3.4
Insert
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>641
</p>
<p>00020 RD Y200.0 2 R.S R200.1 &lt;NL&gt;
00021 WRT R300.7 3 R.S R200.2 &lt;NL&gt;
</p>
<p>4 R 5 &lt;NL&gt;
5 P 9 &lt;NL&gt;
6 IE &lt;NL&gt; (Sequential insert end
</p>
<p>command)
� *IS MODE* display disappears
</p>
<p>from the lower right part of the
screen.
</p>
<p>i) Delete every instruction
</p>
<p>Key in &ldquo;D@@@@@ NL&rdquo;.
</p>
<p>Line number to be deleted
(maximum 5 digits)
</p>
<p>D means delete.
</p>
<p>ii) Sequential delete
</p>
<p>Key in &ldquo;D@@@@@,@@@@@ NL&rdquo;.
</p>
<p>Line number to complete delete 
(maximum 5 digits)
</p>
<p>Line number to start delete
</p>
<p>Search a sequence number by a line number or instruction
</p>
<p>i) Search by line number
</p>
<p>Key in &ldquo;L@@@@@ NL&rdquo;.
</p>
<p>Line number to be searched 
(maximum 5 digits)
</p>
<p>L means location search.
</p>
<p>ii) Search by instruction (Search by address)
</p>
<p>Key in &ldquo;L@@@@@ R X0.1 NL&rdquo;.
</p>
<p>Instruction to be searched
</p>
<p>Line number with which the search is to be started
</p>
<p>NOTE
Input data after changing the symbol display into address
display by passing R1 key, if the address of the instruction
to be searched is defined by a symbol and displayed by the
symbol.
</p>
<p>4.3.5
Delete
</p>
<p>4.3.6
Location Search
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>642
</p>
<p>iii)  Search by instruction (Search by symbol)
</p>
<p>Key in &ldquo;L@@@@@ R ACT NL&rdquo;.
</p>
<p>Instruction to be searched
(ACT: Symbol name)
</p>
<p>Line number with which the search is to be started
</p>
<p>NOTE
This search applies to such a case as the address of the
instruction to be searched is defined by a symbol and the
symbol is displayed.
</p>
<p>iv) Search by the bit address or its symbol name
</p>
<p>The specified address (only bit address) or its symbol name is
searched from the specified line number independently of a
command.
</p>
<p>Type in &rsquo;L@@@@ ????? NL&rsquo;.
</p>
<p>Bit address or its symbol name
</p>
<p>Search start line number
</p>
<p>Example) &rsquo;L1 R1.0 NL&rsquo;
&mdash; Start searching bit address &rdquo;R1.0&rdquo; from 1st line.
</p>
<p>&rsquo;L7 SMB NL&rsquo;
&mdash; Start searching symbol name &rdquo;SM BL&rdquo; defined at
</p>
<p>bit address from 7th line.
</p>
<p>v) Continuous search
</p>
<p>A specified command, address (only bit address) or its symbol name
is searched from 2nd line displayed on the screen.
</p>
<p>Type in &rsquo;L ????? NL&rsquo;.
</p>
<p>Command, bit address or its symbol name
to be searched
</p>
<p>Type in &rsquo;F NL&rsquo;.
</p>
<p>FIND: Search the same command, bit address or its
symbol name as that searched just before,
from 2nd line displayed on the screen.
</p>
<p>Example) &rsquo;L R R0.1 &lt;NL&gt;&rsquo;
&mdash; Search the command &rdquo;RD R0.1&rdquo; from 2nd line
</p>
<p>displayed on the screen.
&rsquo;L R0.1 &lt;NL&gt;&rsquo;
&mdash; Search the bit address &rdquo;R0.1&rdquo; from 2nd line displayed
</p>
<p>on the screen.
&rsquo;L SYMBOL &lt;NL&gt;&rsquo;
&mdash; Search the symbol name &rdquo;SYMBOL&rdquo; defined at bit
</p>
<p>address from 2nd line displayed on the screen.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>643
</p>
<p>The ladder diagram can be displayed on the programmer function EDIT
screen.
</p>
<p>Set the screen to EDIT screen (LADDER PROGRAM LIST)
</p>
<p>a) Turn on F4 key.
</p>
<p>b) Depress &lt;NL&gt; key
</p>
<p>The ladder diagram is displayed on the screen.
</p>
<p>For displaying the sequence program in the mnemonic format from
the ladder diagram, turn off F4 key, and depress &lt;NL&gt; key.
</p>
<p>The ladder diagram at an optional point can be displayed by the step
number search or instruction search method.
</p>
<p>If a ladder diagram cannot be displayed on one screen, it can be
displayed by scrolling it leftward, rightward, upward, and downward
as shown in the following table.
</p>
<p>c) Edition during LADDER diagram display
</p>
<p>Sequence programs can be edited even on the LADDER diagram
screen display, (This function is convenience when sequence
programs are edited with seeing LADDER diagram print out list.)
From &rsquo;EDIT=&rsquo; in the LADDER diagram screen display, sequence
programs can be edited by the same operation as in editing programs
in the &rsquo;LADDER PROGRAM LIST&rsquo; screen.
</p>
<p>***  LADDER  DIAGRAM  ***
</p>
<p>TMR 1
</p>
<p>X0.0 X0.1
</p>
<p>X1.0 X1.1
</p>
<p>X2.0
</p>
<p>X2.1
</p>
<p>Y 0.0
</p>
<p>Y 0.1
</p>
<p>R 40.7
</p>
<p>EDIT=
</p>
<p>Scroll direction Key
</p>
<p>Left (Left ladder on screen is
displayed.)
</p>
<p>Right (Right ladder on screen is
displayed.)
</p>
<p>Upper (Upper ladder on the
screen is displayed.)
</p>
<p>Lower (Lower ladder on the
screen is displayed.)
</p>
<p>Upper half page
</p>
<p>Lower half page
</p>
<p>�
</p>
<p>4
</p>
<p>6
�
</p>
<p>2
�
</p>
<p>�
</p>
<p>8
</p>
<p>NL
</p>
<p>NL
</p>
<p>NL
</p>
<p>NL
</p>
<p>R2 NL
</p>
<p>R2 NL
</p>
<p>����4.3.7 Ladder diagram display screen
</p>
<p>4.3.7
Display of Ladder
Diagram
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>644
</p>
<p>Example)
</p>
<p>*  LADDER DIAGRAM  *
</p>
<p>END1
</p>
<p>END2
</p>
<p>~ ~
</p>
<p>EDIT=
</p>
<p>X0.0 Y0.0
</p>
<p>1 From &rsquo;EDIT=&rsquo; IN the left figure, key in as follows.
&rsquo;ISO NL&rsquo;
&rsquo;R X1.0 NL&rsquo;
&rsquo;W Y1.0 NL&rsquo;
&rsquo;IE NL&rsquo;
</p>
<p>2 Press R0 key to display the &rsquo;LADDER PROGRAM
 LIST&rsquo; screen.
Two lines &rsquo;RDX1.0&rsquo; AND &rsquo;WRT Y1.0&rsquo; are added before
&rsquo;SUB1 (END1)&rsquo;.
</p>
<p>3 When the LADDER diagram is displayed again, the 
diagram after adding the above two lines is displayed.
</p>
<p>Editing command explanation screen can be displayed from Ladder
program edition screen. (LADDER PROGRAM LIST or LADDER
DIAGRAM)
</p>
<p>key in &rsquo;H &lt;NL&gt;&rsquo; to display the following screen.
</p>
<p>  *** HELP LIST ***
(@@@@@=SEQUENCE NO.)
</p>
<p>&lt;INSERT&gt;
  I@@@@@ OPERATION CODE : INSERT
  IS@@@@@ : INSERT SUCCESSION START
  IE : INSERT SUCCESSION END
&lt;ALTER&gt;
  A@@@@@ OPERATION CODE : ALTER
  AS@@@@@ : ALTER SUCCESSION START
  AE : ALTER SUCCESSION END
&lt;DELETE&gt;
  D@@@@(,@@@@@) : DELETE (SUCCESSION END)
&lt;LOCATION SEACH&gt;
  L@@@@@ : SEQUENCE NO. SEARCH
  L@@@@@ OPERATION CODE : OPERATION CODE SEARCH
  L@@@@@ &lt;ADDRESS OR SYMBOL&gt; : ADDRESS OR SYMBOL SEARCH
  L OPERATION CODE : SEARCH FROM DISPLAY 2ND LINE
  L &lt;ADDRESS OR SYMBOL&gt; : SEARCH FROM DISPLAY 2ND LINE
  F : FIND FROM DISPLAY 2ND LINE
&lt;CHANGE ALL ADDRESS&gt;
  CA ADDRESS1 ADDRESS2 :CHANGE ALL ADDRESS1 TO ADDRESS2
</p>
<p>Key in &rdquo;&lt;NL&gt;&rdquo; to return it to ladder program editing screen.
</p>
<p>Key is &rdquo;E &lt;NL&gt;&rdquo; (End) after editing a sequence program, and the EDIT
screen is reset to the menu screen.
</p>
<p>4.3.8
Help Screen
</p>
<p>4.3.9
Editing end
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>645
</p>
<p>Read source programs (parameters, titles,
symbols, ladders, messages, and I/O modules) from an input unit
designated by an F key on the menu screen, and load them into SYSTEM
P series memory.
</p>
<p>(1) Paper tape format of source programs
Paper tape format of source programs is of ISO code. No EIA code
paper tape can be used.
a) Parameter date
</p>
<p>Feed % @0        CR &plusmn; &plusmn; &plusmn; &plusmn; &plusmn;    % CR Feed
</p>
<p>b) Title date
</p>
<p>Feed % @1        CR 1 MACHINE TOOL CR &plusmn; &plusmn; &plusmn; &plusmn; &plusmn;  % CR Feed
</p>
<p>c) Symbol date
</p>
<p>Feed % @2        CR F0.1 SYMBOL COMMENT CR &plusmn; &plusmn; &plusmn; &plusmn; % CR Feed
</p>
<p>d) Ladder program
</p>
<p>Feed  % @3 CR RD X0.1  CR &plusmn; &plusmn;   WRT WORK01     CR &plusmn; &plusmn;   %   CR Feed
</p>
<p>e) Message date
</p>
<p>Feed % @4 CR A0.0 MESSAGE =  1   CR     &plusmn; &plusmn; A24.7 MESSAGE  = 24  CR %
WRT WORK01 CR
</p>
<p>CR ~ Feed
</p>
<p>f) I/O module date
</p>
<p>Feed  % @5 CR X 0 0 0 5 ID32C   CR  &plusmn; &plusmn; &plusmn; &plusmn; &plusmn; % CR Feed
</p>
<p>4.4
INPUT OF PROGRAM
</p>
<p>4.4.1
Source Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>646
</p>
<p>(2) Input method from PPR reader
</p>
<p> 1 Turn on F1 key.
</p>
<p> 2 Key in menu number &rdquo;2 &lt;NL&gt;&rdquo;.
</p>
<p> 3 The screen is switched, and the entry of a source program is
started.
</p>
<p> 4 After the source program has been normally entered, the screen
is automatically reset to the programmer menu screen. If an error
was detected during entry, &rdquo;PART-&rdquo; is displayed on the lower left
part of the screen. Check error contents, and key in &rdquo;E NL&rdquo;. The
screen is reset to the programmer menu screen.
</p>
<p>(3) Entry method from floppy
</p>
<p> 1 Turn on F2 key.
</p>
<p> 2 Key in menu number &rdquo;2 &lt;NL&gt;&rdquo;.
</p>
<p> 3 The following message is displayed at the lower part of the screen.
</p>
<p>SET FD &amp; KEY IN &rdquo;OK&rdquo; &rdquo;KILL&rdquo; OR &rdquo;NO&rdquo;
FD0=OK &lt;DRIVE&gt; &lt;@NAME OR : NUMBER&gt;
FD0=
</p>
<p>Fig. 4.4.1 shows the menu screen in the floppy entry mode.
</p>
<p>[Screen when source programs are input form floppy]
</p>
<p>SET I/O KEY &amp; KEY IN ONE OF THE FOLLOWING NO.S WHICH YOU WANT.
</p>
<p>NO.ITEMS
01 EDIT LADDER PROGRAM.
02 INPUT LADDER PROGRAM FROM PTR OR FD.
03 INPUT ROM DATA FROM FD. PMC-RAM OR ROM.
04 OUTPUT LADDER PROGRAM TO PTP. FD OR PRINTER.
05 OUTPUT ROM DATA TO FD. PMC-RAM OR ROM.
06 COMPARE LADDER PROGRAM WITH PTR OR FD.
07 COMPARE ROM DATA WITH FD. PMC-RAM OR ROM.
08 (UNUSED)
09 CLEAR OF TITLE. SYMBOL. LADDER OR MESSAGE DATA.
10 PARAMETER SET.
00 END EDIT &amp; DISPLAY.
F1  :  PTR (I) . F4  : GRP  (O) SYMBOL =00.0KB SCAN TIME-OO8MS
F2  :  FD  (I) . F10 : EPRT (O) LADDER =00.0KB
F5  :  PRT (O) MESSAGE=00.0KB
F6  :  PTP (O)
F7  :  FD  (O) END SEQ.NO=00000
F8  :  PMC (I/O) ERR SEQ.NO=00000
F9  :  ROM (I/O) ERR BLOCK =00000
SET FD &amp; KEY IN &rsquo;OK&rsquo;   &rsquo;KILL&rsquo; OR &rsquo;NO&rsquo;
FD0 = OK &rsquo;@FILE NAME&rsquo;
         &lt;DRIVE&gt;&lt;@NAME OR NUMBER&gt;
NO.=
</p>
<p>Example
</p>
<p>Key in file names to be input from floppy as shown in the example.
</p>
<p>����4.4.1 Floppy input menu screen
</p>
<p> 4 Insert the floppy into the disk, and enter the following data.
Characters in &lt; &gt; need not be keyed in.
</p>
<p>OK @LADDER1 NL
</p>
<p>File name (provisional file name)
</p>
<p> 5 The screen is switched, and the entry of source programs is started
from the floppy.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>647
</p>
<p> 6 The following procedure is the same as in 4.4.1 2) 4.
</p>
<p> 7 A file name is inputtable up to maximum 17 characters. All
characters on the SYSTEM P series keyboard are employable for
this entry. The kinds of capitals are not limited.
</p>
<p>&rdquo;@&rdquo; (at mark) shows a file name input identifier. Key in it just before
the file name as shown in example $$ without fail.
</p>
<p>CAUTION
If sequence program instructions are sequentially entered
while a sequence program is loaded in the SYSTEM P
series memory, the instructions are entered into the
SYSTEM P series memory following the previously loaded
program. Clear SYSTEM P series memory, if a new program
is entered from the floppy. (see 4.7)
The SYSTEM P series memory is cleared by turning off the
SYSTEM P series power supply.
</p>
<p>(1) Transfer of sequence program from the PMC-RA1/RA2/RB/RC
</p>
<p>The created sequence program is transferred from the
PMC-RA1/RA2/RB/RC.
</p>
<p>First, connect the SYSTEM P Series and the CNC with a
Reader/Puncher interface cable. (Refer to Appendix 1 for details of
the cable.)  For the method and location of connection, refer to the
section &rdquo;3.2 Configuration devices and their connection&rdquo;.  In the
following procedure, operations 1 to 6 are NC side operations.
The keys enclosed in [   ] are soft keys.
</p>
<p> 1 Pressing soft keys [SYSTEM] and [PMC] displays the PMC
screen.  Steps 2 to 4 below must be performed when [I/O] is not
displayed on the PMC screen.  For a 9-inch CRT, press soft key
[NEXT] to check that [I/O] is not on the screen.
</p>
<p> 2 Pressing soft keys [PMCPRM] and [KEEPRL] on the PMC
screen displays the keep relay setting screen.
</p>
<p> 3 Set K17.1 to 1 on the keep relay setting screen.
</p>
<p> 4 Pressing soft key [RETURN] displays the PMC screen.
</p>
<p> 5 On the PMC screen, pressing soft key [I/O] displays the I/O
screen.  For a 9-inch CRT, press soft key [NEXT] before pressing
soft key [I/O].
</p>
<p> 6 Pressing soft key [EXEC] on the I/O screen puts the system in the
EXECUTING state.
</p>
<p> 7 Turn on the F8 key on the SYSTEM P series menu screen.  (Turn
on the F12 key at the same time when the C-language program is
included.)
</p>
<p> 8 If the menu number &lsquo;3 [NL]&rsquo; is keyed in, the message shown
below will be displayed.  PMC-RA1/RA2/RB/RC is not
displayed.  Key in the type of ROM module to be used from now
on.  (Refer to Note 1 when selecting ROM module B, C or D.)
</p>
<p>4.4.2
ROM Format Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>648
</p>
<p>SELECT THE TYPE OF ROM MODULE ACCORDING 
TO THE FOLLOWING NO. 
</p>
<p>ROM MODULE 0:A 1:B, 2:C, 3:D
NO.=
</p>
<p>By means of the above-described operations, the program transfer
is started.  The transfer screen is displayed on the SYSTEM P
Series screen and the transfer counter counts.  The screen returns
to the menu screen after the end of transfer.
</p>
<p>(2) Input from a floppy disk
 1 Turn on the F2 key.  (Turn on the F12 key at the same time when
</p>
<p>the C language program is included.)
</p>
<p> 2 If the menu number &lsquo;3 [NL]&rsquo; is keyed in, the message shown
below will be displayed.  PMC-RA1/RA2/RB/RC is not
displayed.  Key in the type of ROM module to be used from now
on.  (Refer to Note 1 when selecting ROM module B, C or D.)
</p>
<p>SELECT THE TYPE OF ROM MODULE ACCORDING 
TO THE FOLLOWING NO.
</p>
<p>ROM MODULE 0:A 1:B, 2:C, 3:D
NO.=
</p>
<p> 3 The following message is displayed at the lower left part of the
screen.
</p>
<p>SET FD &amp; KEY IN &lsquo;OK&rsquo;,&lsquo;KILL&rsquo; OR &lsquo;NO&rsquo;
FD=OK &lt;@FILE NAME&gt;
FD0=OK &lt;DRIVE&gt;&lt;@NAME OR : NUMBER&gt;
FD0=
</p>
<p> 4 Insert the floppy into the disk and enter the following data
</p>
<p>5 &rsquo;OK @LADDER2 [NL]
</p>
<p>File name
</p>
<p> 6 The screen is switched and the ROM format program is started
from the floppy disk.
</p>
<p> 7 After reading is ended, the screen is automatically changed to the
program menu screen if no problem occurs.  When an error is
detected during reading, &rsquo;PART&rsquo; = is displayed on the left lower
part of the screen.  Check the error and key in &rsquo;E [NL]&rsquo; to return
the screen to the program menu screen.
</p>
<p>(3) Method of inputting from the FA writer and PMC writer
 1 Check the setting of the ROM writer.  (See Section 3.4, &rdquo;Setting
</p>
<p>of I/O Device.&rdquo;)
</p>
<p> 2 Put the FA Writer in the REMOTE mode by the
[REMOTE/LOCAL] key before using it.
</p>
<p> 3 Turn on the F9 key.  (Turn on the F12 key at the same time when
the C language program is included.)
</p>
<p> 4 If the menu number &lsquo;3 &lt;NL&gt;&rsquo; is keyed in, the message shown
below will be displayed.  PMC-RA1/RA2/RB/RC is not
displayed.  Key in the type of ROM module to be used from now
on.  (Refer to Note 1 when selecting ROM module B, C or D.)
</p>
<p>SELECT THE TYPE OF ROM MODULE ACCORDING 
TO THE FOLLOWING NO.
</p>
<p>ROM MODULE 0:A 1:B, 2:C,  3:D
NO.=
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>649
</p>
<p> 5 The screen is switched and the message shown below is
displayed.
</p>
<p>SET EPROM OR ROM MODULE &amp; KEY IN &lsquo;OK&rsquo; OR 
&lsquo;NO&rsquo;
KEY IN=
</p>
<p> 6 Check the above message.  For the PMC-RA1/RA2/RB, insert
the EPROM for the PMC into the FA Writer or PMC Writer.  For
the PMC-RC, insert the ROM module for the PMC into the FA
Writer or PMC Writer.  Note, however, that ROM modules are not
available with the PMC Writer.
</p>
<p> 7 Key in &rsquo;OK &lt;NL&gt;&rsquo; or &rsquo;NO &lt;NL&gt;&rsquo;.
When &rsquo;OK &lt;NL&gt;&rsquo; is keyed in, the sequence program written into
the EPROM and ROM module for PMC is entered into P-G
memory.
The screen returns to the menu screen if it ends with no problems
occurring.
When &rsquo;NO &lt;NL&gt;&rsquo; is keyed in, the screen returns to the menu
screen.
</p>
<p>NOTE
When using the SYSTEM P Mate, if ROM module B, C or
D is selected, overlay occurs.  When cassette B or C is
selected, set the work floppy disk for external memory in
drive 1.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>650
</p>
<p>By selecting &rsquo;04 &lt;NL&gt;&rsquo; (OUTPUT LADDER PROGRAM) from menu
no.4, the following detail menu is displayed.
</p>
<p>SET I/O KEY &amp; KEY IN ONE OF THE FOLLOWING NO.S WHICH YOU WANT.
</p>
<p>NO.  ITEMS
01  OUTPUT ALL DATA.
02  OUTPUT SYSTEM PARAMETER.
03  OUTPUT TITLE DATA
04  OUTPUT SYMBOL DATA.
05  OUTPUT MESSAGE DATA.
06  OUTPUT I/O MODUL DATA.
07  OUTPUT LADDER PROGRAM (MNEMONIC).
08  OUTPUT LADDER DIAGRAM (ONLY FANUC PRINTER).
09  OUTPUT CROSS REFERENCE (SEQUENCE NO.)
00  END
F5 : PRT (O)  ,  F10 : FANUC PRINTER (O)
F6 : PTP (O)  ,  F13 : CROSS REFERENCE (NO.8)
F7 : FD  (O)
</p>
<p>NO. =
</p>
<p>Select a desired data and device from the above details menu screen by
combining the menu numbers and F keys.
</p>
<p>(1) OUTPUT ALL DATA
</p>
<p>All data of system parameters, titles, symbols, messages, I/O
modules and ladder programs (source format) are output to a device
specified by an F key. 
Turn on an F key corresponding to the device to be output, and key
in detail menu number &rsquo;01 &lt;NL&gt;&rsquo;.
If F10 key is turned on, all data are output to the FANUC printer
(external printer) and the ladder diagram is output last. If F13 key is
turned on furthermore, the ladder diagram is output with a cross
reference.
</p>
<p>(2) OUTPUT SYSTEM PARAMETER
</p>
<p>System parameter data are output to a device specified by an F key.
Turn on an F key corresponding to the device to be output, and key
in detail menu number &rsquo;02 &lt;NL&gt;&rsquo;.
</p>
<p>(3) OUTPUT TITLE, DATA
</p>
<p>Title data are output to device specified by an F key. 
Turn on an F key corresponding to a device to be output, and key in
detail menu No. &rsquo;03 &lt;NL&gt;&rsquo;.
</p>
<p>(4) OUTPUT SYMBOL DATA
</p>
<p>Symbol data are output to device specified by an F key.
Turn on an F key corresponding to a device to be output and key in
detail menu number &rsquo;04 &lt;NL&gt;&rsquo;. 
The screen is switched and the following display appears.
</p>
<p>OUTPUT = &rsquo;L@@@@ (,@@@@)&rsquo;
OUTPUT =_
</p>
<p>Specify the output range by line numbers as follows.
</p>
<p>4.5
OUTPUT OF
PROGRAM
</p>
<p>4.5.1
Source Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>651
</p>
<p>Example)
</p>
<p>Key in &rsquo;L1, 100 NL&rsquo;
</p>
<p>Output end liner number (If this parameter is
omitted, data are output to the last one.)
</p>
<p>Output start line number
</p>
<p>(5) OUTPUT MESSAGE DATA
</p>
<p>Message data are output to a device specified by an F key.
Turn on an F key corresponding to a device to be output, and key in
detail menu number &rsquo;05 &lt;NL&gt;&rsquo;.
The screen is switched and the following display appears.
</p>
<p>OUTPUT = &rsquo;A@@.@ (,@@.@)&rsquo;
OUTPUT =_
</p>
<p>Specify the output range by addresses as follows.
</p>
<p>Example)
</p>
<p>Key in &rsquo;A1.0,10.1&rsquo;
</p>
<p>Output end address (If this parameter is
omitted, data are output to the last one.)
</p>
<p>Output start address
</p>
<p>(6) OUTPUT I/O MODULE DATA
</p>
<p>I/O module data are output to a device specified by an F key.
Turn on an F key corresponding to a device to be output, and key in
detail menu number &rsquo;06 &lt;NL&gt;&rsquo;.
</p>
<p>(7) OUTPUT LADDER PROGRAM (MNEMONIC)
</p>
<p>Ladder program (source format) data are output to a device specified
by an F key.
Turn on an F key corresponding to a device to be output, and key in
detail menu number &rsquo;07 &lt;NL&gt;&rsquo;.
</p>
<p>The screen is switched and the following display appears.
</p>
<p>OUTPUT = &rsquo;L@@@@ (,@@@@)&rsquo;
OUTPUT =_
</p>
<p>Specify the output range by line numbers as follows.
</p>
<p>Example)
</p>
<p>Key in &rsquo;L1,100 NL&rsquo;
</p>
<p>Output end line number (If this parameter is
omitted, data are output to the last one.)
</p>
<p>Output start line number
</p>
<p>(8) OUTPUT LADDER DIAGRAM (ONLY FANUC PRINTER)
</p>
<p>A ladder diagram is output to the FANUC printer (external printer).
Key in detail menu number &rsquo;08 &lt;NL&gt;&rsquo;, and then, turn on F10 key.
Turn on F13 key furthermore, if it is desired to output the ladder
diagram with a cross reference.
The screen is switched and the following display appears.
</p>
<p>OUTPUT = &rsquo;L@@@@ (,@@@@)&rsquo;
OUTPUT =_
</p>
<p>Specify the output range by line numbers as follows.
(Partial output is also possible.)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>652
</p>
<p>Example)
</p>
<p>Key in &rsquo;L1,100 &lt;NL&gt;&rsquo;
</p>
<p>Output end line number (If this parameter is
omitted, data are output to the last one.)
</p>
<p>Output start line number
</p>
<p>  ITEMS
</p>
<p>* ALL ADDRESS &rsquo;ALL&rsquo;
* HEAD CHARACTER &rsquo;G&rsquo;
* ADDRESS &rsquo;G14.6&rsquo;
* ADDRESS TO ADDRESS &rsquo;G14.6,R142.5&rsquo;
* ADDRESS TO END &rsquo;G14.6-END&rsquo;
</p>
<p>* END ; PUSH &rsquo;NL&rsquo; KEY
</p>
<p> ADDR=
</p>
<p>NOTE
� It takes time more or less from the end of operation on end
</p>
<p>to the start of printer operation when outputting the
LADDER diagram with cross reference. (EXECUTING is
displayed on the screen.)
This time depends upon the size and complexity of
sequence programs. The cross reference is displayed by
the page number and the line number of the LADDER
diagram every contact.
See Appendix printout example.
</p>
<p>� If R1 key is pressed when each data is being output to the
FANUC printer (External printer), the output is cancelled.
</p>
<p>(9) OUTPUT CROSS REFERENCE (SEQUENCE NO)
</p>
<p>Addresses (symbols, comments) are printed with cross reference
Nos. by FANUC external PRINTER.
These Nos. correspond to the Mnemonic format list (screen) or
Ladder diagram (RD command line number).
Key in above detailed memo No. &rsquo;09 &lt;NL&gt;&rsquo; and turn F10 key on. The
screen changes to display the key in example and &rsquo;ADDR=&rsquo; as below.
</p>
<p>Key in addresses to be output according to examples.
</p>
<p>Key in example Address to be output
</p>
<p>ALL ALL &lt;NL&gt; All addresses (G,F,Y,X,A,R,T,K,C,D
in order)
</p>
<p>Address initial R &lt;NL&gt; All address with the specified initial
</p>
<p>Bit address X1.0&lt;NL&gt; Only bit address specified address
</p>
<p>Byte address R58 &lt;NL&gt; Bit 0 - 7 of specified
</p>
<p>Address range specification F8.0, X7.2&lt;NL&gt; Specified addresses in order of
G,F,Y,X,A,R,T,K, C,D
</p>
<p>X0.2-END&lt;NL&gt; All address after specified address
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>653
</p>
<p>  *** CROSS REFERENCE LIST ***
              PAGE=1
</p>
<p>ADDRESS  SYMBOL       COMMENT DATA
</p>
<p>G0000.0  *IT
    653
G0000.1  *CST
    653
G0000.4  *ESP
     22   568   901   912   1177   1189   1288   2800
G0000.5  *SP
     45   2802
G0000.7  ERS
    3435  3512
G0001.0  *AIT
     656
</p>
<p>NOTE
1 When the same address performs double writing,&rdquo;*
</p>
<p>MULTIPLE COIL USED *&rdquo;  is displayed.
2 If the F10 key is set to OFF and output performed, the cross
</p>
<p>reference table is displayed on the screen.
</p>
<p>A 12-inch chart is also applicable to the FANUC printer (external printer).
</p>
<p>(The standard chart size is 11 inches.) Enter the command for changing
the chart by the following operation.
</p>
<p>(1) Press [R3] key from the R key menu screen.
</p>
<p>(2) &rsquo;REQUEST=&rsquo; is displayed at the lower left part of the screen.
</p>
<p>(3) Key in &rsquo;PAPER &lt;NL&gt;&rsquo;.
</p>
<p>(4) The following message is displayed at the lower left part of the screen.
</p>
<p>KEY IN NUMBER OF PAPER LENGTH
EXAMPLE 11-INCH;0,12-INCH;1.
</p>
<p>LINE NUM.=
</p>
<p>(5) Key in &rsquo;0 &lt;NL&gt;&rsquo; for 11-inch chart, or &rsquo;1 &lt;NL&gt;&rsquo; for 12-inch chart.
</p>
<p>4.5.2
Paper Command
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>654
</p>
<p>(1) Transfer of sequence program into PMC-RA1/RA2/RB/RC
</p>
<p>A generated sequence program is transferred into
PMC-RA1/RA2/RB/RC.
Connect SYSTEM P series to CNC by using a Reader/Puncher
interface cable. (For this cable, see Appendix 1.) for the connection
method and places, see Section 3.2.
Steps 1 to 6 show the operation on the CNC side.
</p>
<p> 1 Pressing soft keys &lt;SYSTEM&gt; and [PMC] displays the PMC
screen.  Steps 2 to 4 below must be performed when [I/O] is not
displayed on the PMC screen.  For a 9-inch CRT, press soft key
[NEXT] to check that [I/O] is not on the screen.
</p>
<p> 2 Pressing soft keys [PMCPRM] and [KEEPRL] on the PMC
screen displays the keep relay setting screen.
</p>
<p> 3 Set K17.1 to 1 on the keep relay setting screen.
</p>
<p> 4 Pressing soft key [RETURN] displays the PMC screen.
</p>
<p> 5 On the PMC screen, pressing soft key [I/O] displays the I/O
screen.  For a 9-inch CRT, press soft key [NEXT] before pressing
soft key [I/O].
</p>
<p> 6 Pressing soft key [EXEC] on the I/O screen puts the system in the
EXECUTING state.
</p>
<p> 7 Turn on F8 key from the SYSTEM P series menu screen. (Also
turn on F12 key when the C language program is included.)
</p>
<p> 8 Key in menu number &rdquo;5 &lt;NL&gt;&rdquo;.
</p>
<p>Now, the program transfer is started.
In SYSTEM P series, the transfer screen is displayed and the
transfer counter is counted up. After transfer, the screen is reset
to menu screen. In CNC screen, the COUNTER display is
counted up.
</p>
<p>i) When an alarm 31 occurs on SYSTEM P series screen;
</p>
<p>Cause 1 : Reader/Puncher interface cable is defective.
Remedy : Use the specified cable.
Cause 2 : Reader/Puncher interface connector is not
</p>
<p>connected to correct channel SYSTEM P series.
Remedy : Connect the connector correctly.
</p>
<p>ii) When the transfer counter of SYSTEM P series screen is
counted up and normally terminated, but data are not
transferred to the PMC RAM correctly;
</p>
<p>Cause 1 : Reader/Puncher interface connector is not
connected to CNC.
</p>
<p>Remedy : Connect it correctly.
Cause 2 : CNC screen is not set to &rdquo;I/O of PMC&rdquo; screen.
Remedy : Set the I/O screen by the soft key.
Cause 3 : An error occurs in ACI channel due to a certain
</p>
<p>cause.
Remedy : Turn off the power supply once, and turn it on
</p>
<p>again.
</p>
<p>(2) Output method to floppy
</p>
<p> 1 Turn on F7 key. (Also turn on F12 key when the C language
program is included.)
</p>
<p>4.5.3
ROM Format Program
</p>
<p>*Procedure when a
program cannot be
transferred from
SYSTEM P series to RAM
of PMC
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>655
</p>
<p> 2 Set the floppy to the disk.
</p>
<p> 3 Key in menu number &rdquo;5 &lt;NL&gt;&rdquo;.
</p>
<p> 4 The screen is switched and the following message is displayed:
</p>
<p>SET FD &amp; KEY IN &rdquo;OK&rdquo;,&rdquo;KILL&rdquo; OR &rdquo;NO&rdquo;.
FD0= OK &lt;INT OR ADD&gt;&lt;P OR NP,&gt;&lt;/DATE,&gt;
&lt;DRIVE&gt;@NAME
FD0 =
</p>
<p>When loading data starting with the start of the floppy, specify
INT. When loading data after the loaded files, specify ADD. After
outputting all data, the screen is reset to the program menu screen.
The menu screen is also reset by keying in &rdquo;NO &lt;NL&gt;&rdquo;.
</p>
<p>(3) Method of outputting data to FA writer or PMC writer (EPROM for
PMC/ROM module write)
</p>
<p> 1 Check the setting of the ROM writer.  (See Section 3.4, &rdquo;Setting
of I/O Device.&rdquo;)
</p>
<p> 2 Put the FA writer in the REMOTE mode by the
[REMOTE/LOCAL] key before using it.
</p>
<p> 3 Turn on F9 key. (Turn on F12 key when the C language program
is included.)
</p>
<p> 4 Key in menu number &rdquo;5 NL&rdquo;.
</p>
<p> 5 The screen is switched to the title screen, and the following
message is displayed.
</p>
<p>SET EPROM OR ROM MODULE &amp; KEY IN &rdquo;OK&rdquo; OR
&rdquo;NO&rdquo;.
KEY IN =
</p>
<p>Check the above message.  For the PMC-RA1/RA2/RB, insert
the EPROM for the PMC into the FA Writer or PMC Writer.  For
the PMC-RC, insert the ROM module for the PMC into the FA
Writer or PMC Writer.  Note, however, that ROM modules are not
available with the PMC Writer.
</p>
<p> 6 Key in &rdquo;OK &lt;NL&gt;&rdquo; or &rdquo;NO &lt;NL&gt;&rdquo;.
</p>
<p>When &rdquo;OK &lt;NL&gt;&rdquo; is keyed in, data are output from the SYSTEM
P series memory to the EPROM for PMC or ROM module.
After normal end, the screen is reset to the menu screen.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>656
</p>
<p>   *** TRANSFER ROM DATA TO PMC WRITER ***
</p>
<p>01  MACHINE TOOL BUILDER NAME
02  MACHINE TOOL NAME
03  PMC &amp; NC NAME
04  PMC PROGRAM NO
05  EDITION NO
06  PROGRAM DRAWING NO
07  DATE OF PROGRAMING
08  PROGRAM DESIGNED BY
09  ROM WRITTEN BY
10  REMARKS
</p>
<p>    PMC CONTROL PROGRAM   SERIES : 4061   EDITION :01
</p>
<p>    MEMORY USED : 00.0 KBYT SCAN TIME : 008 MSEC
</p>
<p>  SET EPROM OR ROM MODULE &amp; KEY IN &rsquo;OK&rsquo; OR &rsquo;NO&rsquo;
KEY IN =
</p>
<p>   *** TRANSFER ROM DATA TO PMC WRITER ***
</p>
<p>01  MACHINE TOOL BUILDER NAME
02  MACHINE TOOL NAME
03  PMC &amp; NC NAME
04  PMC PROGRAM NO
05  EDITION NO
06  PROGRAM DRAWING NO
07  DATE OF PROGRAMING
08  PROGRAM DESIGNED BY
09  ROM WRITTEN BY
10  REMARKS
</p>
<p>    PMC CONTROL PROGRAM   SERIES : 4061   EDITION :01
    MEMORY USED : 00.0 KBYT SCAN TIME : 008 MSEC
</p>
<p>                                        MODE=BLANK
        ROML=10  ROMH=EF  MEM FF   AD=000000
                                            ALARM=083
</p>
<p>OUTPUT=
</p>
<p>Display mode
</p>
<p>BLANK : Blank check
</p>
<p>PROGRAM : Write
</p>
<p>VERIFY : Compare
</p>
<p>Enter &rsquo;E NL&rsquo;, and restart from menu.
</p>
<p>Error number
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>657
</p>
<p>Enter source programs from the designated input unit, and compare them.
The operation method is the same as source program entry, except that &rdquo;6&rdquo;
shall be designated as the menu number.
</p>
<p>(1) Comparison with PTR
</p>
<p>1 Turn on F1 key.
</p>
<p>2 Key in menu number &rdquo;6 NL&rdquo;.
</p>
<p>(2) Comparison with FD
</p>
<p>1 Turn on F2 key.
</p>
<p>2 Key in menu number &rdquo;6 &lt;NL&gt;&rdquo;.
</p>
<p>3 The screen is switched, and the following message is displayed.
</p>
<p>SET FD &amp; KEY IN &rdquo;OK&rdquo;, &rdquo;KILL&rdquo; OR &rdquo;NO&rdquo;,
FD0=OK&lt;DRIVE&gt; &lt;@NAME OR : NUMBER&gt;
FD0=
</p>
<p>Specify the file name to be compared.
</p>
<p>After normal end, the screen is automatically reset to the menu screen.
</p>
<p>Also, this menu screen is reset by keying in &rdquo;KILL
</p>
<p>Compare ROM format program by reading it from the specified input
device. The operation method is the same as in ROM format program
input, except that menu number &rdquo;7&rdquo; is specified.
</p>
<p>(1) Comparison with FD
</p>
<p>1 Turn on F2 key.
</p>
<p>2 Key in menu number &rdquo;7 &lt;NL&gt;&rdquo;.
</p>
<p>3 The following operation is the same as in 4.6.1 2)&ndash; 3 and later.
</p>
<p>(2) Comparison with PMC&ndash;RAM
</p>
<p>Display the I/O of PMC screen on the CRT/MDI before executing the
following operation.
</p>
<p>1 Turn on F8 key.
</p>
<p>2 Key in menu number &rdquo;7 &lt;NL&gt;&rdquo;.
</p>
<p>Note when comparing P&ndash;G and PMC&ndash;RAM : The comparison
between P&ndash;G and PMC&ndash;RAM should be performed immediately
after the data transfer. (When the comparison is made after the output
of ROM format  data, the parity portion of data may become error.)
</p>
<p>(3) Comparison with EPROM for PMC and ROM module
</p>
<p>1 Turn on F9 key.
</p>
<p>2 Key in menu number &rdquo;7 &lt;NL&gt;&rdquo;.
</p>
<p>The screen is switched, and the comparison of ROM program is
started. After normal end, the screen is automatically reset to the
menu screen.
</p>
<p>4.6
COLLATION OF
PROGRAM
</p>
<p>4.6.1
Collation of Source
Programs
</p>
<p>4.6.2
ROM Format Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>658
</p>
<p>Delete ladder programs, symbols, message, titles, and I/O module data
being loaded into SYSTEM P series memory according to the following
procedure.
</p>
<p>1 Put the screen to menu screen.
</p>
<p>2 Key in menu No. &rdquo;9 &lt;NL&gt;&rdquo;.
</p>
<p>3 The screen is switched, and the following message is displayed at the
lower left part of the screen. See Fig. 4.7.
</p>
<p>KEY IN &rdquo;1,2,3,4 OR 5&rdquo; OR &rdquo;NO&rdquo;
CLEAR/KEEP =
</p>
<p>4 Key in data number of the data to be deleted or key in &rdquo;NO &lt;NL&gt;&rdquo;,
if it is not desired to delete any data. After processing, the screen is
automatically reset to the programmer menu screen.
</p>
<p>KEY IN ONE OF THE FOLLOWING NO.S WHICH YOU WANT TO CLEAR DATA
</p>
<p>NO.  ITEMS
01   TITLE DATA
02   SYMBOL DATA
03   LADDER DATA
04   MESSAGE DATA
05   I/O MODULE DATA
06   ALL DATA CLEAR
</p>
<p>KEY IN &rsquo;1. 2. 3. 4. 5 OR 6 OR &rsquo;NO&rsquo;
CLEAR/KEEP =
</p>
<p>����4.7 Delection of sepuence programs
</p>
<p>Example)
</p>
<p>i) When all title data are to be deleted;
</p>
<p>Key in &rdquo;1 &lt;NL&gt;&rdquo;.
</p>
<p>ii) When all symbol data are to be deleted;
</p>
<p>Key in &rdquo;2 &lt;NL&gt;&rdquo;.
</p>
<p>iii) When all ladder programs are to be deleted;
</p>
<p>Key in &rdquo;3 &lt;NL&gt;&rdquo;.
</p>
<p>iv) When all message data are to be deleted;
</p>
<p>Key in &rdquo;4 &lt;NL&gt;&rdquo;.
</p>
<p>v) When I/O module data are to be deleted;
</p>
<p>Key in &rdquo;5 &lt;NL&gt;&rdquo;.
</p>
<p>vi) When all titles, symbols, ladders, messages and I/O module data
are to be deleted;
</p>
<p>Key in &rdquo;6 &lt;NL&gt;&rdquo;.
</p>
<p>vii) When no data are to be deleted;
</p>
<p>Key in &rdquo;NO &lt;NL&gt;&rdquo;.
</p>
<p>4.7
DELETION OF
PROGRAMS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>659
</p>
<p>Key in &lt;NL&gt; alone at the menu screen to display the R key menu screen.
Key in R3 at the R screen, and the display &rsquo;REQUEST=&rsquo; will appear at
bottom left of the screen, making key inputs possible. Key in &lt;NL&gt; on
this screen to return to the R key menu screen.
</p>
<p>R3 executes a large number of processings. For the FAPT LADDER
system, however, note the following two points:
</p>
<p>(1) Floppy file name output
</p>
<p> 1 Press R3 key at the R key menu screen.
</p>
<p> 2 This will change the screen contents, displaying &rsquo;REQUEST=&rsquo; at
its left bottom.
</p>
<p> 3 Key in FDLIST &lt;NL&gt;.
</p>
<p> 4 The file name will appear on the CRT display. To print out the file
name, turn on the F5 (printer) key in advance.
</p>
<p>(2) Change of I/O devices (for output to a printer other than that of PPR)
</p>
<p> 1 Key in IO PRT, CN3, F5 &lt;NL&gt; while the screen displays
&rsquo;REQUEST=&rsquo;. When the F5 key has been turned on in advance,
the data is printed on the printer connected to connector CN3 on
the SYSTEM P series rear side.
</p>
<p>4.8
SPECIAL USES OF
THE R3 KEY
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>660
</p>
<p>Using the P&ndash;G Mate/Mark II software keys (in the case of P&ndash;G Mate, the
F keys), sequence program creation and editing can be performed directly
by the ladder diagram.
</p>
<p>In the following explanation, [P&ndash;G Mate] is called [Mate] and [P&ndash;G Mark
II] is called [Mark II].
When it is possible to use this function, in the R key menu screen
</p>
<p>R1: EDIT
</p>
<p>is displayed.  (In systems where [UNUSED] is displayed, it cannot be
used.)
</p>
<p>The following items are present in the edit function.
</p>
<p>� Ladder diagram direct editing by software key and cursor (input,
addition, deletion and substitution)
</p>
<p>� Copying, moving and deletion of multiple lines of the ladder
</p>
<p>� Optional relay and coil reference
</p>
<p>� Comment display on ladder diagram
</p>
<p>(1) This function operates only when the P&ndash;G  Mate main unit is version
04 and later.  (When the power supply is turned on,  it is displayed in
the lower right part of the initial screen.)
</p>
<p>(2) The function keys &lt;F keys&gt; are used instead of the soft keys (P&ndash;G
Mark II).  In the description that follows, an explanation for the soft
keys (P&ndash;G Mark II) is given.  When P&ndash;G Mate is used, operate with
the function keys.  At this time, in order to make the F key respond
and display the screen bottom line, the F key lamp illuminates to
correspond to those items displayed with shaded characters on the
screen.
</p>
<p>The program menu appears in order to operate this function.
</p>
<p>The program menu is displayed when the &lt;R1&gt; key is pressed from the
R menu screen.  The program menu is displayed above the soft keys (in
the case of P&ndash;G Mate, the function keys) as shown in the screen below,
and gives significance to the keys.
</p>
<p>(1) Keyboard
</p>
<p>Refer to Section &rdquo;3.3 SYSTEM P keyboard&rdquo;.
</p>
<p>(2) Relationship betweeen program menus and soft keys
</p>
<p>The relationship between the program menus and the soft keys is
shown in the following for each function.  These menus are changed
by pressing the related keys.  For menu contents, refer to the
explanations described later.  Utilize this figure when operating.
</p>
<p>4.9
DIRECT EDITING BY
LADDER DIAGRAM
</p>
<p>4.9.1
Outline
</p>
<p>4.9.2
Limitations in SYSTEM
P Mate
</p>
<p>4.9.3
Selection of Program
Menu by Soft Keysww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>661
</p>
<p>Press the &lt;R1&gt; key
</p>
<p>54321
</p>
<p>[ COMAND ]
</p>
<p>R0 : PROGRAMMER
R1 : EDIT
R2 : UNUSED
R3 : REQUEST
</p>
<p>FUNCTN or or COMAND
</p>
<p>[ COMAND ]
</p>
<p>SEARCHADRESS COPY MOVE
</p>
<p>R keys menu screen
</p>
<p>INSNET DELNET INSERT
</p>
<p>1    [ DELNET ]
</p>
<p>C-UPC-DOWNSEARCHEXEC CANCEL
</p>
<p>2    [ INSERT ]
</p>
<p>INSNET INSLIN INSELM
</p>
<p>3    [ ADRESS ]
</p>
<p>SEARCHINSNET DELNET SYMBOLINSERT COPY MOVE
</p>
<p>4    [ SEARCH ]
</p>
<p>TOP BOTTOM W-SRCHSRCH N-SRCH F-SRCH C-DOWN C-UP
</p>
<p>5    [ COPY/MOVE ]
</p>
<p>C-UPCANCEL C-DOWNSEARCHUNTIL
</p>
<p>C-UPTO CANCEL C-DOWNSEARCH
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>662
</p>
<p>In order to input the sequence program, press the &lt;R1&gt; key from the R
key menu.  The soft key menu program is displayed, and in the case that
the sequence program has not yet been input, only the left and right
vertical lines of the ladder diagram are displayed on the screen.
</p>
<p>Start inputting a program with the screen in this state.
</p>
<p>Input a ladder diagram program by moving the cursor to the desired input
position using the cursor key.
</p>
<p>The following description shows an example of the input of a program of
basic instruction and a program of functional instruction.
</p>
<p>(1) Basic instruction program input
</p>
<p>R0.1 R10.2 R20.2R1.7
</p>
<p>X2.4
</p>
<p>1 Press the soft key [ ] after moving the cursor to the start
position.
</p>
<p>Symbol [ ] is input at the cursor position and
HORIZONTAL LINE ILLEGAL is displayed at the lower right
part of the screen.  This is a cautionary message which shows that
the ladder diagram horizontal line is not yet completely created.
Input the continuation address and bit data.
</p>
<p>2 Press the &lt;NL&gt; key after inputting R0.1 using the keyboard.  The
address is set on the contact and the cursor shifts rightward.
</p>
<p>3 Input A contact with address R10.2 by the above methods 1 and
2.
</p>
<p>4 Input B contact R1.7.
</p>
<p>Press the soft key [ ], input address R1.7, and then press the
&lt;NL&gt; key.  The address is set on the B contact and the cursor shifts
rightward.
</p>
<p>5 Press software key [ ] with the cursor position unchanged.
</p>
<p>A right horizontal line is automatically drawn, and a relay coil
symbol is entered near the right vertical line.
</p>
<p>6 Press the &lt;NL&gt; key after inputting address R20.2.
</p>
<p>The cursor automatically shifts to the input start position of the
next line.
</p>
<p>7 Next, input the OR condition.
</p>
<p>Press the soft key [ ], input address X2.4, and then press
the &lt;NL&gt; key.  The address is set on the B contact and the cursor
shifts rightward.
</p>
<p>4.9.4
Sequence Program
Input
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>663
</p>
<p>8 Press the soft key [ ] to input a horizontal line
</p>
<p>When inputting the horizontal bar key [ ], by keying in a
numerical value and pressing this bar key, a horizontal line for the
frequency will be drawn.  However, this horizontal line will not
be drawn over the LINE.
</p>
<p>9 Because the upper right line OR is necessary, press the soft key
[ ] and input the upper right vertical line to end.
</p>
<p>Net is repeated 
</p>
<p>Downward from the net is erased
</p>
<p>Section C is erased
</p>
<p>A
</p>
<p>B
</p>
<p>C
</p>
<p>NOTE
1 When the ladder program displayed on the screen is incomplete (when, for example, addresses
</p>
<p>have not been entered) or erroneous, the screen cannot be scrolled even when a page key is
pressed.  Before attempting to scroll the screen, therefore, ensure that the ladder program is
complete and error&ndash;free.
</p>
<p>2 Since 8 contacts + coil are specified to be inputtable per line from the screen, any more contacts
in excess of this amount cannot be input.  However, this restriction does not apply to a sequence
program created with mnemonic format.
When a sequence program, transferred from the offline programmer to the PMC, exceeds the
length which can be displayed on a single line, the program is displayed using two or more lines,
linked with a continuation symbol.
This continuation symbol is not erasable by software key [&plusmn;&plusmn;&plusmn;&plusmn;].
</p>
<p>3 Below is shown an example with an error net, or part of it, erased with no error display.
</p>
<p>1   Case of multiple nets on 1 LINE
</p>
<p>2   Case of multiple WRT results in 1 NET difference as shown in the diagram below.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>664
</p>
<p>NOTE
3   Case of exceeding the highest rank WRT in 1 NET
</p>
<p>Section B is erased
</p>
<p>A
</p>
<p>B
</p>
<p>C
</p>
<p>(2) Case of functional instruction program input
</p>
<p>To input a functional instruction, input the soft key [FUNCTN], and
then input the functional instruction name or SUB number.
Further, when inputting a functional instruction, after keying in the
functional instruction number, it does not matter if the [FUNCTN]
key is pressed.
When you can not remember the instruction name or SUB number,
the functional instruction table corresponding to the instruction
symbol and SUB number can be displayed on the screen.
The functional instruction table is automatically displayed after
inputting an incorrect instruction name or SUB number and then
pressing the [FUNCTN] key, or by pressing the [FUNCTN] key only
without inputting any other key.  
In order to return from the functional instruction table to the original
ladder diagram, press the [FUNCTN] key.
</p>
<p>(1) (2) (3) (4) MOVE
</p>
<p>(SUB 8)
</p>
<p>Output address
</p>
<p>Input address
</p>
<p>Low rank 4 bit logic data
</p>
<p>High rank 4 bit logic data
</p>
<p>When inputting a functional instruction with this function, the functional
instruction parameters are input vertically as shown in the diagram below.
</p>
<p>ACT
</p>
<p>Control condition
</p>
<p> MOVE
</p>
<p>(SUB 8)
</p>
<p>(1)
</p>
<p>(2)
</p>
<p>(3)
</p>
<p>(4)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>665
</p>
<p>1 Input a control condition.
</p>
<p>Press soft key [ ], input the address and bit data, and then
press the &lt;NL&gt; key.  The cursor shifts rightward.
</p>
<p>2 Input an instruction
</p>
<p>Press the soft key [FUNCTN], input SUB number 8, and then
press the &lt;NL&gt; key.  A functional instruction diagram appears as
shown in the above figure.
</p>
<p>3 Input an instruction parameter
</p>
<p>Input the high rank 4 bit logic data of the first parameter, and then
press the &lt;NL&gt; key.  The cursor automatically lowers
downwards.  Input the three residual parameters in order.
</p>
<p>The method of substituting a created sequence program is the same as that
described earlier in Section 4.9.4.
</p>
<p>Move the cursor to the program part you want to alter and input the change
data.
</p>
<p>From the soft key program menu, press the soft key [COMAND] and
operate with the soft keys shown below.
</p>
<p>When you want to end the program menu shown below, press the soft key
at the extreme left.
</p>
<p>COPYDELNET ADRESSINSERTINSNET MOVESEARCH
</p>
<p>INSNET INSLIN INSELM
</p>
<p>A sequence program is added in four ways on the ladder diagram as
described below.
</p>
<p>(1) Case of adding a relay contact in the horizontal direction
</p>
<p>When the addition is horizontal  
</p>
<p>Case of adding
</p>
<p>Move the cursor to the position where you want to add, and input te
program by the method described in Section 4.9.4.
</p>
<p>4.9.5
Substitution of
Sequence Programs
</p>
<p>4.9.6
Additions to Sequence
Programs
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>666
</p>
<p>When a vertical line influences the addition
</p>
<p>Case of adding
</p>
<p>&Otilde;&Otilde;&Otilde;
&Otilde;&Otilde;&Otilde;
</p>
<p>Cursor
</p>
<p>1 Move the cursor to the above position.
</p>
<p>2 Press the soft key [] in order to erase the upper left vertical line.
</p>
<p>The upper left line, vertical to the cursor disappears.
</p>
<p>3 Press the soft key [ ] in order to produce an upper right line
vertical to the cursor.  Then, press the soft key [ ].  Both
vertical and horizontal lines are created.
</p>
<p>4 Shift the cursor to a line of contact addition position.
</p>
<p>5 Press the soft key [ ] to add contacts.
</p>
<p>(2) Adding a vertical line
</p>
<p>For adding a vertical line as shown in the above diagram, the area to
be added is required.  In order to produce this area, shift the entire part
after the part to be added by one line by moving the cursor to the
ladder diagram within the dotted line range (an optional part is
allowable) and then pressing the soft key [INSNET].
</p>
<p>The lower ladder diagram shifts downward by one line, each time the
[INSNET] key is pressed thereby producing the area to which a line
is to be added.
</p>
<p>If a surplus addition area remains unused after the addition processing
ends (for example, if an area corresponding to 3 lines has been
reserved when two lines have been added), there is no problem if the
area is left remaining.
</p>
<p>Addition
</p>
<p>1 Move the cursor to the ladder diagram bounded by a dotted line.
</p>
<p>2 Press the soft key [INSNET].
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>667
</p>
<p>3 Pressing the [INSNET] key without keying in numeric values will
cause one line to be inserted.
</p>
<p>4 Pressing the [INSNET] key with keying in numeric values will
cause the line to be inserted the number of times specified by the
numeric value input.
</p>
<p>5 After setting the cursor to a position to which you want to add,
press the soft key [ ].  After setting address data, press the
&lt;NL&gt; key.  The cursor shifts rightward.
</p>
<p>6 Press the shift key [ ] to create an OR circuit.
</p>
<p>(3) Inserting the 1 NET sequence program LINE.
</p>
<p>Space lines are inserted in units of 1 LINE.
</p>
<p>1 Key in the number of lines you want to insert and press the
[INSLIN] key.  The inputted number of lines will be inserted.  (If
the number of lines to be inserted is not keyed in, but the
[INSLIN] key is pressed, one line will be inserted.)
</p>
<p>&Otilde;&Otilde;&Otilde;
&Otilde;&Otilde;&Otilde;
</p>
<p>Crusor
</p>
<p>&Otilde;&Otilde;&Otilde;
&Otilde;&Otilde;&Otilde;a
</p>
<p>b
</p>
<p>If the [INSLIN] key is pressed with the cursor in the above
position, the state shown in the diagram on the right will occur.
</p>
<p>(4) Inserting the 1 NET sequence program elements
</p>
<p>Elements are inserted in 1 element units.
</p>
<p>1 Key in the number of elements you want to insert and press the
[INSELM] key.  The inputted number of elements will be
inserted.  If a number of elements prefixed by the character &rdquo;A&rdquo;
are keyed in and the [INSELM] key is pressed, the elements are
inserted after the cursor.
(If the number of elements to be inserted is not keyed in, but the
[INSELM] key is pressed, one element is inserted.)ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>668
</p>
<p>Cursor
</p>
<p>&Otilde;&Otilde;&Otilde;
&Otilde;&Otilde;&Otilde;
</p>
<p>&Otilde;&Otilde;&Otilde;
&Otilde;&Otilde;&Otilde;
</p>
<p>a
</p>
<p>b
</p>
<p>If the [INSELM] key is pressed with the cursor in the position on
the left, the state shown in the diagram on the right will occur.
</p>
<p>Cursor
</p>
<p>&Otilde;&Otilde;&Otilde;
&Otilde;&Otilde;&Otilde;
</p>
<p>&Otilde;&Otilde;&Otilde;
&Otilde;&Otilde;&Otilde;
</p>
<p>b
</p>
<p>a
</p>
<p>If the character &rdquo;A&rdquo; is keyed in and the [INSELM] key is pressed
with the cursor in the position on the left, the state shown in the
diagram on the right will occur.
</p>
<p>(1) For deleting part of a program, use the following three kinds of soft
keys and delete after setting the cursor to the unnecessary part.
</p>
<p>[&ndash; &ndash; &ndash; &ndash;] : Deletion of horizontal lines, relay contacts coils, etc.
</p>
<p>[ ] : Deletion of upper left vertical line to the cursor
</p>
<p>[ ] : Deletion of upper right vertical line to the cursor
</p>
<p>(2) For the deletion of a program net (part corresponding to the section
from RD instruction to WRT instruction), use the [DELNET] key.
</p>
<p>(3) Deleting multiple NETs in NET units
</p>
<p>SEARCHDELNET ADRESSINSERTINSNET MOVECOPY
</p>
<p>EXEC CANCEL SEARCH C-DOWN C-UP
</p>
<p>4.9.7
Deleting a Sequence
Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>669
</p>
<p>1 Deletion
</p>
<p>Move the cursor to the NET you want to delete and press the
[DELETE] key.  The net you want to delete will be displayed in
red.  (In the case of Mate, in reversal display.)
</p>
<p>2 Deleting multiple nets
</p>
<p>Move the cursor with the cursor DOWN key, [C&ndash;DOWN] key, or
[SEARCH] key to display in red the NET you want to delete.  (In
the case of Mate, in reversal display.)  Further, key in a numerical
value and press the [C&ndash;DOWN] key to move the cursor the
number of times specified by this value.
</p>
<p>3 Execution Press the [EXEC] key. . . . . . 
</p>
<p>Cancellation Press the [CANCEL] key. . . . 
</p>
<p>4 If you already know the NET you want to delete, move the cursor
to the first NET, key in the number of NETs, and press the
[DELNET] key to omit steps 1 and 2.
</p>
<p>Search a sequence program by using the following soft keys.
</p>
<p>(1) Soft key [TOP]
</p>
<p>When this key is pressed, the start of the sequence program is
desplayed on the screen and the cursor also sifts to the program start
position.
</p>
<p>(2) Soft key [BOTTOM]
</p>
<p>When this key is pressed, the last of the sequence program is
displayed on the screen and the cursor also shifts to this program end
position.
</p>
<p>(3) Soft key [SRCH]
</p>
<p>In this search, you specify an address you want to search and it
searches the specified address from the program of the cursor part on
this screen to the last part of the program and displays the address on
the screen.  There are two methods to specify the address you want
to search.
</p>
<p>(a) Method of specifying the address by the cursor
</p>
<p>Set the cursor to the relay contact part of the address you want to
search and press the soft key [SRCH].
</p>
<p>The system searches the same address as the address specified by
the cursor from the cursor part of the program currently displayed
on the screen to the end of the program.
</p>
<p>When the same address is found, the program part is displayed
on the screen, and the cursor shifts to that address part.  If the same
address is not found as a result of this search, the cursor remains
in the same position.
</p>
<p>When finishing, press the soft key on the extreme left.
</p>
<p>(b) Method of specifying the address by input
</p>
<p>Input the address you want to searcch by using address and
numeric keys, then press the soft key [SRCH].
</p>
<p>The same address as specified is searched from the program of the
cursor part currently displayed on the screen to the last part of the
program.
</p>
<p>4.9.8
Searching a Sequence
Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>670
</p>
<p>When the same address is found, the program part is displayed
on the screen, and the cursor shifts to that address part.
If the same address is not found as a result of this search, an error
is displayed.
</p>
<p>(4) Soft key [W&ndash;SRCH]
This key specifies an address of the relay coil to be searched, and then
searches the relay coil of the specified address from the program at
the cursor part to the end of the program on this screen.  Then, it
displays the relay coil on the screen.
Two methods are available to specify the address of the relay coil to
be searched.
(a) Method of specifying the address by cursor
</p>
<p>Set the cursor to the relay contact of the relay coil to be searched,
and press the soft key [W&ndash;SRCH].
The corresponding relay coil is searched from the program of the
cursor part to the end of the program.
When the relay coil is found, the program part is displayed on the
screen, and the cursor shifts to the relay coil.
If no corresponding relay coil is found as a result of the search,
an error occurs.
</p>
<p>COPYDELNET ADRESSINSERTINSNET MOVESEARCH
</p>
<p>TOP BOTTOM SRCH W-SRCH C-UPN-SRCH F-SRCH C-DOWN
</p>
<p>When you want to search the same
address as specified here.  Set the
cursor to this position and press the soft
key [SRCH].
</p>
<p>X2.0
</p>
<p>R0.5
</p>
<p>R5.0
</p>
<p>R21.0
</p>
<p>R20.1
</p>
<p>R0.4
</p>
<p>R0.5
</p>
<p>&Otilde;&Otilde;&Otilde;
&Otilde;&Otilde;&Otilde;
</p>
<p>&Otilde;&Otilde;&Otilde;
&Otilde;&Otilde;&Otilde;
</p>
<p>R20.1
</p>
<p>X4.2
</p>
<p>R6.4
</p>
<p>R20.2
</p>
<p>Y2.0
</p>
<p>R2.2
</p>
<p>R10.5
</p>
<p>The same address is searched and
the cursor shifts to this position.
</p>
<p>Y1.2
</p>
<p>(b) Method of specifying the address by input
Input the address of the relay coil to be searched by both address
and numeric keys, and then press the soft key [W&ndash;SRCH].
The specified address relay coil is searched from the program of
the cursor part currently displayed on the screen to the end of the
program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>671
</p>
<p>When the specified address relay coil is found, the program part
is displayed on the screen, and the cursor shifts to the relay coil.
</p>
<p>If no relay coil is found as a result of the search, an error occurs.
</p>
<p>(5) Soft key [N&ndash;SRCH]
</p>
<p>This displays the ladder with the specified NET number from the top
of the screen.  If the number is not keyed in, but the [N&ndash;SRCH] key
is pressed, the display is scrolled down by one NET.
</p>
<p>(6) Soft key [S&ndash;SRCH]
</p>
<p>Key in the functional instruction name or number and press the
[S&ndash;SRCH] key to start searching the functional instruction.  When the
[S&ndash;SRCH] key is pressed during execution of a functional
instruction, the functional instruction with the same number as this
instruction is searched.
</p>
<p>(7) Searching with cursor keys (&lt;�&gt; , &lt;�&gt; )
</p>
<p>� Key in the address or symbol and press the cursor to start searching
the NET No.
</p>
<p>� Key in the NET NO. and press the cursor key to start searchng the
NET NO.
</p>
<p>� Key in the functional instruction name or functional instruction
number starting with &rdquo;S&rdquo; and press the cursor key to start searching
the functional instruction.
</p>
<p>Example) Key in &rdquo;END1&rdquo; or &rdquo;S1&rdquo; and press the cursor to search
functional instruction END1.
</p>
<p>The sequence program with multiple NETs is copied in units of NETs.
Specify the NET to be copied and specify the copy position with the
cursor.  When copying, the number of copies can also be specified.
</p>
<p>1 Copying
</p>
<p>Move the cursor to the NET you want to copy and press the [COPY]
key.  The NET you want to copy will be displayed in yellow (in the
case of Mate, in reversal display).
</p>
<p>2 Copying multiple NETs
</p>
<p>Move the cursor with the cursor UP/DOWN key, [C&ndash;UP] key,
[C&ndash;DOWN] key, or [SEARCH] key to display in yellow the NET to
be copied.  (In the case of Mate, in reversal display.)  Further, if you
in a numerical value and press the [C&ndash;UP] or [C&ndash;DOWN] key, you
can scroll up or down the screen by the number of times specified by
this value.
</p>
<p>3 Setting the NET to be copied
</p>
<p>Press the [UNTIL] key.
</p>
<p>4 Specifying the copying address
</p>
<p>Copying is performed by the [TO] key.  At this time, the NET is
copied in the direction above the cursor.  If the number of copies is
keyed in before the [TO] key is pressed, the NET is copied that
specified number of times.
</p>
<p>5 Further, if the NET you want to copy is already known, if the cursor
is moved to the first NET and the number of NETs is keyed in, then
by pressing the [COPY] key, steps 1 to 3 can be omitted.
</p>
<p>4.9.9
Copying a Sequence
Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>672
</p>
<p>COPYDELNET ADRESSINSERTINSNET MOVESEARCH
</p>
<p>UNTIL CANCEL SEARCH C-UPC-DOWN
</p>
<p>TO CANCEL SEARCH C-UPC-DOWN
</p>
<p>NOTE
An error NET cannot be copied.
</p>
<p>A sequence program with multiple NETS is moved in units of NETs.
Specify the NET to be moved and specify the move position with the
cursor.  When moving, the number of moves can also be specified.
</p>
<p>1 Moving
</p>
<p>Move the cursor to the NET you want to move and press the [MOVE]
key.  The NET you want to move will be displayed in yellow.  (In the
case of Mate, in reversal display.)
</p>
<p>2 Moving multiple NETs
</p>
<p>Move the cursor with the cursor UP/DOWN key, [C&ndash;UP] key,
[C&ndash;DOWN] key, or [SEARCH] key to display in yellow the NET to
be moved.  (In the case of Mate, in reversal display.)  Further, if you
key in a numerical value and press the [C&ndash;UP] or [C&ndash;DOWN] key,
you can scroll up or down the screen by the number of times specified
by this value.
</p>
<p>3 Setting the NET to be moved
</p>
<p>Press the [UNTIL] key.
</p>
<p>4 Specifying the moving address
</p>
<p>Moving is performed by the [TO] key.  At this time, the NET is
moved in the direction above the cursor.
</p>
<p>5 Further, if the NET you want to move is already known, if the cursor
is moved to the first NET and the number of NETs is keyed in, then
by pressing the [MOVE] key, steps 1&ndash;3 can be omitted.
</p>
<p>4.9.10
Moving a Sequence
Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>673
</p>
<p>COPYDELNET ADRESSINSERTINSNET MOVESEARCH
</p>
<p>UNTIL CANCEL SEARCH C-UPC-DOWN
</p>
<p>TO CANCEL SEARCH C-UPC-DOWN
</p>
<p>NOTE
An error NET cannot be copied.
</p>
<p>(1) Symbol and comment data display
</p>
<p>Symbol data and comment are displayed together with a ladder
diagram on the screen as follows.
</p>
<p>When symbol data and comment are defined in signal addresses in the
program, the signal name and comment are displayed as shown in the
above diagram.
When converting the symbol and address display, press the shift key
[ADRESS or SYMBOL].
</p>
<p>(2) Symbol input and search in the sequence program
</p>
<p>When symbol data is defined in signal addresses in the sequence
program, input and reference can be performed by the symbols.
(Address and symbol are only different in operation.)
If neither symbol data nor comment is defined at an address, the
address is displayed as it is.
</p>
<p>4.9.11
Symbol Data Display
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>674
</p>
<p>An address is displayed if a symbol is
not defined.
</p>
<p>MA
</p>
<p>R5.4
</p>
<p>SPDALM
</p>
<p>Signal name
(within 6 characters)
</p>
<p>X2.4 R2.2 Y4.3 ATCALM R100.1 MRDY
</p>
<p>APCALM MALM
</p>
<p>R120.1 TIND D20.7 R52.1
</p>
<p>APC
</p>
<p>MACHINE
</p>
<p> READY
</p>
<p>10 lines
</p>
<p>Comment
(within 30
characters)
</p>
<p>MACHINE
</p>
<p> ALARM
</p>
<p>Signal name
(within 6 
characters)
</p>
<p>The main function of each soft key can be directly selected from the
[COMAND] key.
</p>
<p>After keying in the characters shown below, press the [COMAND] key.
[ ] shows parts that can be omitted.  Further, the &rdquo;n&rdquo; appearing after the
characters signifies that it is also posssible to input a numerical value.  For
example, after keying in &rdquo;D2&rdquo;, pressing the [COMAND] key results in the
same operation as keying in 2 and pressing the [DELNET] key.
</p>
<p>I [NSERT]
</p>
<p>D [ELNET] [n  ]
</p>
<p>A [DRESS]
</p>
<p>SY [MBOL]
</p>
<p>S [EARCH]
</p>
<p>C [OPY] [n  ]
</p>
<p>M [OVE] [n  ]
n :numerical value
</p>
<p>The creation and search of programs is performed by pressing the
software keys of the above menu.
</p>
<p>4.9.12
Compressed Input by
[COMAND] Key
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>675
</p>
<p>NOTE
The software keys [ or ] and [ or ] are used to
create or delete the upper left vertical line or the upper right
vertical line on the ladder diagram.  The solid line display of
the vertical line indicates creation; the dotted line display of
the vertical line indicates deletion.  As to which menu will
appear above the software keys, is decided by the ladder
diagram form and the cursor position.
</p>
<p>In the program menu shown below, press the extreme left software key.
</p>
<p>FUNCTN or or COMAND
</p>
<p>NOTE
When an error NET exists, ERROR NET NO. is displayed
and you cannot end the edit.  End after correcting the
erroneous NET.
</p>
<p>4.9.13
Ending Edit of a
Sequence Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>676
</p>
<p>The ladder program can be stored in or fetched out of a floppy cassette/FA
card by connecting P&ndash;G and floppy cassette adapter/FA card adapter by
using this function enables reading the program stored in a floppy
cassette/FA card by using PMC RAM into P&ndash;G or reading the program
stored in a floppy cassette/FA card by using P&ndash;G into PMC RAM.  The
usable adapters are as follows:
</p>
<p>� FANUC cassette adapter 3 (A13B&ndash;0131&ndash;B001)/cassette F1 
(A87L&ndash;0001&ndash;0038)
</p>
<p>� FANUC floppy cassette adapter (A13B&ndash;0150&ndash;B001)/floppy cassette 
(A87L&ndash;0001&ndash;0039)
</p>
<p>� FA card adapter (A13B&ndash;0148&ndash;B001)/FA card (A87B&ndash;0001&ndash;0108)
</p>
<p>When using the FANUC floppy cassette adapter/FA card adapter, change
the settings of the input/output devices by the following &lsquo;IO commands&rsquo;.
</p>
<p>1 Press the R3 key on the R key menu screen.  &lsquo;REQUEST=&rsquo; is
displayed lower left on the screen, and keying in is permitted.
</p>
<p>2 Key in &lsquo;IO BCA, CN2, F13, F14 [NL]&rsquo;.  The floppy cassette
adapter/FA card adapter is assigned to channel 2.
</p>
<p>3 To return the assignment to channel 2 to PMC WRITER, key in &lsquo;IO
AUX, CN2, F9 [NL]&rsquo;.
</p>
<p>1 Turn on F13 key.
</p>
<p>(Turn on F12 too, when C language program is included.)
</p>
<p>2 Key in the menu No. &lsquo;3 [NL]&rsquo;.
</p>
<p>3 (For PMC&ndash;RC only) Enter the type of a ROM module to be used.
(See the following note for selecting ROM module B or C.)
</p>
<p>SELECT THE TYPE OF ROM MODULE ACCORDING TO THE
FOLLOWING NO.
ROM MODULE  0:A, 1:B, 2:C
No. =
</p>
<p>4 The message is displayed lower left on the screen.
SET BC &amp; KEY IN &lsquo;OK&rsquo; OR &lsquo;NO&rsquo;
BC = OK &lt;FILE NO.  OR NEXT&gt;
BC =
</p>
<p>5 Set the floppy cassette/FA card in the adapter, and enter the following
data.
</p>
<p>4.10
INPUT/OUTPUT OF
LADDER PROGRAM
WITH P&ndash;G AND
FLOPPY
CASSETTE/FA CARD
</p>
<p>4.10.1
General
</p>
<p>4.10.2
Setting I/O Commands
</p>
<p>4.10.3
Program Input
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 4. OPERATIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>677
</p>
<p>6 &lsquo;OK 1 [NL]&rsquo; (specify file No.) or &lsquo;OK NEXT [NL]&rsquo; (read the next
file).
</p>
<p>7 The screen changes, and reading the program from the floppy
cassette/FA card starts.
</p>
<p>8 When the program reading ends normally, the screen will
automatically return to the programmer menu.  If any error is detected
during the program reading, &lsquo;PART=&rsquo; is displayed lower left on the
screen.  Check the error contents, and key in &lsquo;E [NL]&rsquo;.  The screen
will return to the programmer menu.
</p>
<p>NOTE
When ROM module B or C is selected during use of
SYSTEM P Mate, the program is overlaid.  In this case,
insert the work floppy disk for the external memory into drive
1.
</p>
<p>1 Turn on F14 key.
</p>
<p>(Turn on F12 too, when C language program is included.)
</p>
<p>2 Key in the menu No. &lsquo;5 [NL]&rsquo;.
</p>
<p>3 The message is displayed lower left on the screen.
SET BC &amp; KEY IN &lsquo;OK&rsquo; OR &lsquo;NO&rsquo;
BC = OK &lt;INT OR ADD OR FILE NO.&gt;
BC =
</p>
<p>4 Set the floppy cassette/FA card in the adapter, and enter the following
data.
</p>
<p>5 &lsquo;OK INT [NL]&rsquo; (write at the floppy head),
&lsquo;OK ADD [NL]&rsquo; (write in the next file) or &lsquo;OK1 [NL]&rsquo; (specify file
No.).
</p>
<p>CAUTION
When specifying file number, put the numbers in the
ascending order.  If the file No. located at the middle of a
floppy disk is specified, the files after that will be deleted.
</p>
<p>6 The screen changes, and writing the program into the floppy
cassette/FA card starts.
</p>
<p>7 When the program writing ends normally, the screen will
automatically return to the programmer menu.  If any error is detected
during the program reading, &lsquo;PART=&rsquo; is displayed lower left on the
screen.  Check the error contents, and key in &lsquo;E [NL]&rsquo;.  The screen
will return to the programmer menu.
</p>
<p>4.10.4
Program Output
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>4. OPERATION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>678
</p>
<p>1 Turn on F13 key.
</p>
<p>(Turn on F12 too, when C language program is included.)
</p>
<p>2 Key in the menu No. &lsquo;7 [NL]&rsquo;.
</p>
<p>3 The following operations are the same as those after 3 in &lsquo;Program
input&rsquo;.
</p>
<p>NOTE
For the program which is output from PMC&ndash;RA1/RA2/RB/RC
RAM board to the floppy cassette/FA card by specifying
LADDER of ALL, there is no problem in the input/collation.  It
is impossible to make input/collation for the program which is
output by specifying PARAM.
</p>
<p>4.10.5
Program Collation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FILE EDITING FUNCTIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>679
</p>
<p>5 FILE EDITING FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FILE EDITING FUNCTION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>680
</p>
<p>This function edits floppy disk data in the unit of file. When key in only
&lt;NL&gt; the menu screen of R key appears key in R3 key on the R key menu.
&rsquo;REQUEST=&rsquo; will  be displayed on the left below part of the screen to
show a key&ndash;in enable condition.
</p>
<p>NOTE
The format for file designation is as follows: 
[drive No.] @ file name
</p>
<p>: file No.
</p>
<p>The file attributes are as shown below.
</p>
<p>(1) File number
</p>
<p>(2) File name
</p>
<p>(3) File creation date
</p>
<p>(4) Identification of protection file (protect)
</p>
<p>(5) File size
</p>
<p>(6) Multi&ndash;volume number
</p>
<p>These file attributes are attached when writing data into floppy disk.
</p>
<p>When writing, the next floppy disk set request message is displayed, so
specify date and protection file.
</p>
<p>File editing command table
</p>
<p>Contents of jobs
Name of
</p>
<p>command 
(Instruction)
</p>
<p>Contents inputted from keyboard 
(NL key is inputted at the end of a
</p>
<p>command)
</p>
<p>Display of file name, or file
size
</p>
<p>FDLIST FDLI [D, [P,] [S,] [F,]
[L,] File designation
</p>
<p>Change of file name, date,
etc.
</p>
<p>RENAME
RENA file designation [,           ] [,/date]
[,@ new file name]
</p>
<p>P
NP
</p>
<p>Deletion of file SCRATCH SCRA file designation
</p>
<p>File area condensation CONDENSE COND [drive No.]
</p>
<p>Copy of file
(This command is
effective for SYSTEM P
series with 2&ndash;floppy disk
unit.)
</p>
<p>REMOVE
REMO [ ,] [file designation]
</p>
<p>[, ] [, ] [,/date]
</p>
<p>[,@ new. file name]
</p>
<p>M
A
</p>
<p>INT
ADD
</p>
<p>P
NP
</p>
<p>Set FD, and key in &rsquo;OK&rsquo;, KILL, or &rsquo;NO&rsquo;.
</p>
<p>FD=OK &lt;INT or ADD,&gt; &lt;P or NP,&gt; &lt;/data&gt;
&lt;drive&gt; &lt;@name&gt;
</p>
<p>FD=_
</p>
<p>Set the floppy disk and key in as follows.
</p>
<p>5.1
GENERAL
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FILE EDITING FUNCTIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>681
</p>
<p>OK INT. P  , [/date] [drive] [@ file name]
</p>
<p>ADD NP
</p>
<p>NO
</p>
<p>KILL
</p>
<p>When reading, the following floppy set request message is displayed.
</p>
<p>Set FD, and key in &rsquo;OK&rsquo;, KILL, or &rsquo;NO&rsquo;.
</p>
<p>FD=OK &lt;drive.&gt; &lt;@name or : nember&gt;
</p>
<p>FD=_
</p>
<p>Set floppy disk and key in as follows.
</p>
<p>OK [drive number] @ file name
</p>
<p>:   file number
</p>
<p>NO
</p>
<p>KILL
</p>
<p>In file editing function, the above floppy disk set request message key
input parameter can also be used. Now, parameter used in common here
here has the following meaning. Specify &rsquo;OK&rsquo;, &rsquo;NO&rsquo;, &rsquo;KILL&rsquo; and instruct
the answer to the set request.
</p>
<p>OK After instructing execution of read and write, specify. . . 
parameter.
</p>
<p>NO Cancel read/write to floppy only.. . . 
</p>
<p>KILL Cancel the specified process.. . 
</p>
<p>Parameters instructing details of read and write is as follows.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FILE EDITING FUNCTION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>682
</p>
<p>Parameter Function Notes
</p>
<p>INT When writing, write from the head of
the floppy
</p>
<p>When omitted, it is regarded as
ADD.  If INT is specified to
protection file an error generaters
</p>
<p>ADD When writing, add after exising fie
protection file, an error generaters.
</p>
<p>P Prepare as protection file When omitted, it is regarded as NP.
Ready files can be changed by
</p>
<p>NP Prepare as ordinary file
Ready files can be changed by
RENAME command.
</p>
<p>Date Specify file preparation date with 6
numbers
</p>
<p>Blank when omitted.
</p>
<p>Drive number Specify drive number 0 or 1 set with
read/write floppy disk.
0 ; Upper unit
1; Lower unit
</p>
<p>When omitted, it is regarded as 0.
See Note).
</p>
<p>@ File name Specify file name (Max. 17
characters).  When reading, the first
name correspond&ndash;ing to the
specified names is vallid.
</p>
<p>Always specify when writing.
When reading, if omitted, the file is
valid.
</p>
<p>; File number When reading, specify the
necessary file number after the :.
</p>
<p>With the FDLIST command, file
number and file name list can be
displayed.
</p>
<p>NOTE
When specifying drive number and file name or file number,
specify without separating, as follows.
Example) 0 @ ABC or 1 : 5
</p>
<p>When displaying set request message, drive number is decided by the
system, and &rsquo;FD0=&rsquo; or &rsquo;FD1=&rsquo; is displayed, instead of the &rsquo;FD=&rsquo;
message, to check the drive (unit) to be used. If a drive number is specified
then, it will be ignored.  (FD0 shows drive 0, and FD1, drive 1).
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FILE EDITING FUNCTIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>683
</p>
<p>(1) General form of command
</p>
<p>Operation Space Operand
</p>
<p>Command name or its 
abbreviated form
(4 leading characters)
</p>
<p>_ List of one or more parameters delimited
by delimiter symbol &rsquo; , &rsquo; (comma).
</p>
<p>A command name consists of plural alphabetic characters, and it can
be abbreviated by four leading characters.
</p>
<p>An operand consists of parameters peculiar to commands and
parameters specified in floppy disk mounting request message.
</p>
<p>(2) Execution of operands and commands
</p>
<p>If operands are fully designated, a command is executed without
displaying any floppy disk mounting request message.
</p>
<p>However, a certain command may require many parameters. If these
parameters cannot be recalled, specify the command name only.
Necessary parameters are indicated in the floppy disk mounting
request message. Accordingly, parameters can be input from the
keyboard according to this display. The message may be displayed
twice separately according to commands. (Old and new names are
requested separately in RENAME command, for example.)
</p>
<p>5.2
CONFIGURATION OF
COMMAND
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FILE EDITING FUNCTION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>684
</p>
<p>This command displays the attributes of files in the floppy disk, such as
file name, file size, etc.
</p>
<p>a) Input format
</p>
<p>[D,] [P,] [S,] [F,]
FDLIST
</p>
<p>[L,]
</p>
<p>@ file name
[Drive No.]
</p>
<p> :  file No.
</p>
<p>b) Operand
</p>
<p>D : Display of file creation date consisting of 6 characters
P : Identification display of protection files
S : Display of file size
F : Display of size of unoccupied area
L: Executes all display by parameters D, P, S, F.
</p>
<p>@ file name Displays a file having the designated
file name or designated
</p>
<p>: file No. file number only. If this designation 
is omitted, all files are treated as 
processing objects.
</p>
<p>c) This command displays the information (attributes) on the floppy
disk files.
</p>
<p>If no attribute to be displayed is designated, the file number, file
name, and multi&ndash;volume number only are displayed. The following
example shows the display of all information (L designation)
</p>
<p>NO. FILE NAME V. DATE SIZE P.
001 DATA1 830928 72 P
002 DATA2 831028 60
003 DATA3 831028  8 P
**** DELETED FILE ****   10
005 DATA4 901022 10 P
006 DATA5 901022  5
</p>
<p>FILE    USED AREA = 155
DELETED FILE AREA =  10
FREE    AREA      = 1019
</p>
<p>NOTE
The numeric characters shown in SIZE, FILE USED AREA,
DELETED FILE AREA, and FREE AREA are displayed
assuming that 256 characters are 1.
</p>
<p>5.3
FDLIST COMMAND &mdash;
FILE ATTRIBUTE
DISPLAY
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FILE EDITING FUNCTIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>685
</p>
<p>This command designates a change of the file name, file creation date, and
the designation of protection file.
</p>
<p>a) Input format
</p>
<p>Designation of file to be changedDesignation of file to be changed
</p>
<p>@ file name
 : file No.
</p>
<p>P
NP
</p>
<p>[,/date] [@ new file name]RENAME [drive No.]
</p>
<p>b) Function
</p>
<p>File attributes are renewed when they are designated by operand
parameters. Attributes which are not designated are stored as they
are. Protection files can be cancelled, but neither dates nor file names
are changeable. The designation of protection files must be cancelled
once before changing their attributes.
</p>
<p>If all operands are omitted, the system displays an input message to
request the designation of a file to be changed. When the file to be
changed is designated by keying operation, a message is displayed
to input attributes of the file to be changed by keying operation.
Designate new data.
</p>
<p>If the file to be changed only is designated together with the
command, the system asks the file attributes to be changed.
</p>
<p>(RENAME: 5 &lt;NL&gt;, for example)
</p>
<p>Old attributes (B) and new attributes (A) are displayed by executing
this command as shown below, for example.
</p>
<p>Example)
</p>
<p>RENAME :3, @ NEWNAME &lt;F11&gt;NL&gt;
RENA : 3,@NEWNAME 
NO. FILE NAME V. DATE P.
</p>
<p>B: 003 DATA3 901020 
A: 003 NEWNAME 901020
</p>
<p>5.4
RENAME COMMAND
&mdash; FILE ATTRIBUTE
CHANGE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FILE EDITING FUNCTION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>686
</p>
<p>This command deletes files of floppy disk.
</p>
<p>a) Input format
</p>
<p>SCRATCH [drive No.]
@ file name
 : file No.
</p>
<p>b) Function
</p>
<p>This command deletes the designated file. Even if the file name is
displayed by FDLIST, the file name is not displayed any longer. The
area occupied by the deleted file must be released by CONDENSE
command before writing new data into the area.
</p>
<p>This command releases the deleted file area to be employable.
</p>
<p>a) Input format
</p>
<p>CONDENSE [drive No.]
</p>
<p>b) Function
</p>
<p>The area occupied by the file deleted by SCRATCH command cannot
be employed for writing new data under that condition. By executing
this command, all unemploy&ndash;able areas can be released. Since it
takes time to execute this command, it is recommended to arrange
these areas when there are many files to be deleted and the residual
capacity of the floppy disk is small.
</p>
<p>5.5
SCRATCH COMMAND
&mdash; DELETION OF
FILES
</p>
<p>5.6
CONDENSE
COMMAND &mdash;
RELEASE OF
DELETED AREA
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 5. FILE EDITING FUNCTIONPMC PROGRAMMER (SYSTEM P series)
</p>
<p>687
</p>
<p>This command copies files to another floppy disk by using two floppy
disk units.
</p>
<p>a) Input format
</p>
<p>Designation of 
copying method
</p>
<p>Input designation
</p>
<p>M input drive @ file name
A, No. file No.
</p>
<p>INT ,    P , [/date] , @ new file
ADD NP   nameREMOVE
</p>
<p>Output designation
</p>
<p>b) Operand
</p>
<p>No. M,A designation:
</p>
<p>Specified file is copied with specified file attributes.
</p>
<p>M (manual):
</p>
<p>Copies designated files one by one.
</p>
<p>Floppy disk mounting request message is displayed every file to ask
if the file is to be copied or not. If input file is not designated, all files
becomes the object to be copied.
</p>
<p>If new file name is not designated, input file name is produced.
Accordingly, the output designation of REMOVE command is
meaningless, because the request for output designation is performed
every file.
</p>
<p>i) When a file name is designated as an input;
</p>
<p>All coincident files having the designated length are treated as
processing objects. If @A is desig&ndash;nated, for example, all files
starting with A are asked.
</p>
<p>ii) When a file number is designated as an input;
</p>
<p>Files from a file having the designated file number to the last file
are treated as processing objects.
</p>
<p>A (auto):
</p>
<p>All files conforming to the designated conditions are copied. The
output designation file name is meaningless. However, P, NP and /
date are designated to all copied files with new attributes.
</p>
<p>i) If the file name or file number is not designated by input
designation, all files of the input floppy disk are copied.
</p>
<p>ii) If the file name or file number is designated in input designation,
processing is done in the same way as in M designation.
</p>
<p>c) Function
</p>
<p>This command copies floppy disk files to another floppy disk. Files
are output to a floppy disk opposite to the drive number (0, if omitted)
designated by input designation. These files are copied by the
following three methods.
</p>
<p>i) Copy of one file only (Neither M nor A is designated.)
</p>
<p>(Ex. 1) REMOVE : 3,P, @ NEW  &lt;NL&gt;
</p>
<p>In this example, the input/output designations are as
follows; Input designation : 3rd file of drive No.0 floppy
disk
</p>
<p>5.7
REMOVE COMMAND
&mdash; FILE COPY
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>5. FILE EDITING FUNCTION B&ndash;61863E/10PMC PROGRAMMER (SYSTEM P series)
</p>
<p>688
</p>
<p>Output designation : File name is &rdquo;NEW&rdquo;, drive No.1
floppy disk with protection
</p>
<p>ii) The system asks every file to check if the file is to be copied or
not. (M designation)
</p>
<p>(Ex. 2) REMOVE M,1 @ A &lt;NL&gt;
</p>
<p>In this example, the system asks to copy or not every file
with file name starting with &rdquo;A&rdquo; of drive No.1 floppy
disk.
</p>
<p>A change of attributes such as file name, date, and file
protection can be designated.
</p>
<p>iii) All designated files are copied. (A designation)
</p>
<p>(Ex. 3) REMOVE A,: 3, INT,/830920 &lt;NL&gt;
</p>
<p>In this example, files with file name starting with &rdquo;A&rdquo;
and with file No.3 and later of drive No.0 floppy disk are
copied to drive No.1 floppy disk from the head of it with
designated date &rdquo;830930&rdquo;. The copied file names cannot
be changed in this method.
</p>
<p>When this command is executed, input file attributed (I) and output
file attributes (O) are displayed. The next display example shows the
execution of &rsquo;REMOVE A, 1 @TO, INT, P &lt;NL&gt;&rsquo;.
</p>
<p>NO. FILE NAME V.DATE P.
I:001 T01 ZX 1. 100/40 830920
O:001 T01 ZX 1. 100/40 830920 P
I:002 T02 ZX 1. 150/50 830920
O:002 T02 ZX 1. 150/50 830920 P
I:003 T04 ZX 1. 100/50 830920
O:003 T04 ZX 1. 100/50 830920 P
I:004 T05 ZX 1. 20/50 830920
O:004 T05 ZX 1. 20/50 830920 P
</p>
<p>If REMOVE command is only designated, key in operands according
to the request message. The following are general designation format
for file copy.
</p>
<p>i) Without M, A designation (One file is copied.)
</p>
<p> 0 @ file name INT P
REMOVE , ,
</p>
<p> 1  : file No. ADD NP
</p>
<p>[,/ date] [, @ new file name] &lt;NL&gt;
</p>
<p>ii) With M designation (request message is displayed for each
objected file.)
</p>
<p> 0 @ file name
REMOVE M,
</p>
<p> 1  : file No
</p>
<p>iii) With A designation (All subjected files are copied.)
</p>
<p> 0 @ file name INT P
REMOVE , ,
</p>
<p> 1  : file No. ADD NP
</p>
<p>[,/ date] &lt;NL&gt;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
A. ERROR CODES LIST 
</p>
<p>(FOR FAPT LADDER P&ndash;G)APPENDIX
</p>
<p>691
</p>
<p>A ERROR CODES LIST (FOR FAPT LADDER P&ndash;G)
Error codes Details of errors
</p>
<p>01 Sequence program area over
</p>
<p>02 No. of divisions has exceeded 99.
</p>
<p>03 High level program time over
</p>
<p>05 An error block was detected.
</p>
<p>07 No designated step number is found.
</p>
<p>08 An undefined instruction was specified.
</p>
<p>09 An undefined address was specified.
</p>
<p>10 Parameter data error
</p>
<p>11 An address was employed in OR.STK and AND.STK.
</p>
<p>12 An unemployable subroutine number was specified.
</p>
<p>13 An unemployable timer number was specified.
</p>
<p>14 A comparison error occurred.
</p>
<p>15 A jump instruction was specified, exceeding END1 and END2.
</p>
<p>16 A common instruction was specified, exceeding END1 and END2.
</p>
<p>17 An instruction format error
</p>
<p>18 An attempt was made to delete a parameter.
</p>
<p>19 An attempt was made to add a parameter.
</p>
<p>20 An erroneous system parameter data
</p>
<p>21 A parameter was specified in a mode other than subroutine mode.
</p>
<p>24 END2 is not specified.
</p>
<p>25 WRT instruction is not specified in WRT instruction subroutine.
</p>
<p>27 END1 is not specified.
</p>
<p>29 A data sent from PMC&ndash;RB/RC is in error.
</p>
<p>30 R1 key is pressed during data transmission between SYSTEM P series and PMC&ndash;RB/RC.
</p>
<p>31 Input/output unit error
</p>
<p>32 Read error
</p>
<p>33 Hardware error of floppy disk
</p>
<p>34 No designated file name is found.
</p>
<p>41 An error occurred when inputting ROM data from ROM writer.
</p>
<p>43 An error occurred when writing ROM data into ROM writer.
</p>
<p>44 An error is deleted during comparison between SYSTEM P series&ndash;memory data and floppy data.
</p>
<p>45 An error occurred when comparing ROM data with ROM writer data.
</p>
<p>46 Key input data over
</p>
<p>47 No designated symbol name is found.
</p>
<p>48 A numeric value was directly specified to address parameters.
</p>
<p>49 Counter number error
</p>
<p>50 Decode functional instruction error
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>A. ERROR CODES LIST 
(FOR FAPT LADDER P&ndash;G) B&ndash;61863E/10APPENDIX
</p>
<p>692
</p>
<p>Error codes Details of errors
</p>
<p>51 Symbol name (max. 6 characters) over
</p>
<p>52 Input data error
</p>
<p>53 Comment data are in error.
</p>
<p>54 Symbol table over
</p>
<p>55 Comment data area over
</p>
<p>56 Designated symbol name is already employed.
</p>
<p>57 Symbol table sequence is in error.
</p>
<p>58 Designated symbol name is not found.
</p>
<p>59 END1 was detected in COM mode.
</p>
<p>60 END1 was detected in JMP mode.
</p>
<p>61 END2 was detected in COM mode.
</p>
<p>62 END2 was detected in JMP mode.
</p>
<p>63 END 3 was detected in COM mode.
</p>
<p>64 END 3 was detected in JMP mode.
</p>
<p>65 END 3 is not specified.
</p>
<p>66 COM functional instruction was specified in COM mode.
</p>
<p>67 JMP functional instruction was specified in JMP mode.
</p>
<p>68 Message address error
</p>
<p>69 Message data area over
</p>
<p>70 Message data error
</p>
<p>71 No symbol table is prepared.
</p>
<p>72 NC model error in title
</p>
<p>73 Title number error
</p>
<p>74 Title data error
</p>
<p>75 I/O port address error
</p>
<p>76 Group number error
</p>
<p>77 Base number error
</p>
<p>78 Slot number error
</p>
<p>79 I/O module name error
</p>
<p>80 I/O port data are not prepared yet.
</p>
<p>81 I/O port data were doubly specified.
</p>
<p>82 Specified symbol or address is missing.
</p>
<p>83 An invalid unit is loaded in the ROM WRITER or the specification of ROM WRITER does not meet the
unit.
</p>
<p>84 ROM module type is different from the specified one.
</p>
<p>87 Output (or input) module was specified as an input (or output) address.
</p>
<p>88 The same slot number was specified in the same group and the same base number.
</p>
<p>89 The model of PMC is different.
</p>
<p>93 The number of coils is specified by the COM or JMP command.  (This causes an error for PMC&ndash;RA1
and PMC&ndash;RA2.)
</p>
<p>150 Parity error of transfer data (check the cable.)
</p>
<p>151 Excessive or insufficient data to be transferred (Check the cable.)
</p>
<p>152 An EPROM or ROM module is not inserted in the ROM writer, or specification of the ROM writer is
invalid.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
A. ERROR CODES LIST 
</p>
<p>(FOR FAPT LADDER P&ndash;G)APPENDIX
</p>
<p>693
</p>
<p>Error codes Details of errors
</p>
<p>153 Blank check error (Ultraviolet ray is not sufficiently irradiated or the EPROM, ROM module is defective.)
</p>
<p>154 Write error (EPROM or ROM module is defective.)
</p>
<p>155 Verifyerror (EPROM or ROM module is defective.)
</p>
<p>156 Data output level error (EPROM or ROM module is defective.)
</p>
<p>157 Timer test error is ROM writer (ROM writer is defective.)
</p>
<p>158 I/O test error in ROM write (ROM writer is defective.)
</p>
<p>159 A/D converter test error in ROM writer (ROM writer is defective.)
</p>
<p>160 Power test error in ROM writer (ROM writer is defective.)
</p>
<p>161 Power (VPP) is defective (EPROM, ROM module or ROM writer is defective.)
</p>
<p>162 Power supply (VCC) is defective (EPROM, ROM module or ROM writer is defective.)
</p>
<p>163 ROM test error in ROM writer (ROM writer is defective.)
</p>
<p>164 RAM test error in ROM writer (ROM writer is defective.)
</p>
<p>170 An initialization error in the external memory floppy disk.
</p>
<p>171 The inputted ROM format data is greater than the specified cassette type.
The PASCAL origin of the inputted PASCAL load module is unsuitable.
</p>
<p>172 The specified ROM format data cannot be edited with the P&ndash;G Mate.
Outputting data in the ROM format is possible, however.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>694
</p>
<p>B
WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2)
</p>
<p>This window function is a functional instruction by which the data on the
CNC is read or is written.
</p>
<p>In the way to process, there are window function high speed and one
processed at low speed.
</p>
<p>In case of a low&ndash;speed response, The data is read or written by the control
between CNC and PMC
</p>
<p>Therefore, it is necessary to ACT=1 of the window instrucion must be
held until the transfer completion information (W1) becomes 1
(interlock).
</p>
<p>In a high&ndash;speed response, it is not necessity for take the interlock  because
the data is directly read.
</p>
<p>CAUTION
The window instruction of a low&ndash;speed response is
controlled exclusively with the other window instructions of
low&ndash;speed response.
Therefore, when the data is read or written continuously, it
is necessary to clear ACT of the functional instruction once
when the completion information (W1) become 1.
It does not work about ACT=1 of the other window
instructions of low&ndash;speed response such as W1=1 and
ACT=1 of the window instruction of a low&ndash;speed response.
The window instruction of a high&ndash;speed response is not
exclusively controlled like a low&ndash;speed response.
Therefore, when the data is read or written  continuously,
yow need not make ACT=0.
The scan number of times to complete the processing is
summarized on the  following table.
</p>
<p>TYPE SCAN TIMES UNTIL PROCESSING ENDS
</p>
<p>LOW TWO SCAN TIMES OR MORE(This depends on the state of  CNC)
</p>
<p>HIGH 1SCAN TIME
</p>
<p>B.1
FUNCTION
</p>
<p>B.2
LOW&ndash;SPEED
RESPONSE AND 
HIGH&ndash;SPEED
RESPONSE OF 
WINDOW FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>695
</p>
<p>NOTE
Enter the desired function code (to which 1000 is added
when data of the second tool post (HEAD2) is read or written
in the TT series, or when data of the second path is read or
written in two&ndash;path control of the Power Mate&ndash;D.
To perform path 3 read/write operation in 3&ndash;path control,
enter a function code + 2000.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>696
</p>
<p>Number Description Function code R/W
</p>
<p>1 Read CNC system information 0 R
</p>
<p>2 Read the tool offset 13 R
</p>
<p>3 Write a tool offset �Low&ndash;speed response 14 W
</p>
<p>4 Read the work origin offset *PM  �Low&ndash;speed response 15 R
</p>
<p>5 Write work origin offset *PM �Low&ndash;speed response 16 W
</p>
<p>6 Read parameters *RB56 �Low&ndash;speed response 17 R
</p>
<p>7 Write parameters �Low&ndash;speed response 18 W
</p>
<p>8 Read setting data *RB56 �Low&ndash;speed response 19 R
</p>
<p>9 Write setting data �Low&ndash;speed response 20 W
</p>
<p>10 Read custom macro variables *RB56 �Low&ndash;speed response 21 R
</p>
<p>11 Write custom macro variables �Low&ndash;speed response 22 W
</p>
<p>12 Read the CNC alarm state 23 R
</p>
<p>13 Read the current program number 24 R
</p>
<p>14 Read the current sequence number 25 R
</p>
<p>15 Read an actual velocity for controlled axes 26 R
</p>
<p>16 Read an absolute position (absolute coordinate value) on controlled axes 27 R
</p>
<p>17 Read a machine position (machine coordinate value) on controlled axes 28 R
</p>
<p>18 Read a skip operation (G31) stop position (coordinate value) on controlled axes 29 R
</p>
<p>19 Read a servo delay amount 30 R
</p>
<p>20 Read acceleration/deceleration delay amount on controlled axes 31 R
</p>
<p>21 Read modal data 32 R
</p>
<p>22 Read diagnosis data *RB56 �Low&ndash;speed response 33 R
</p>
<p>23 Read a feed motor load current value (A/D conversion data) 34 R
</p>
<p>24 Reading tool life management data (tool group No.) *PM *21T 38 R
</p>
<p>25 Reading tool life management data (number of tool group s) *PM *21T 39 R
</p>
<p>26 Reading tool life management data (number of tools) *PM *21T 40 R
</p>
<p>27 Reading tool life management data (usable life of tool) *PM *21T 41 R
</p>
<p>28 Reading tool life management data (tool usage counter) *PM *21T 42 R
</p>
<p>29 Reading tool life management data (tool length compensation No. (1): Tool No.)
*PM *21T
</p>
<p>43 R
</p>
<p>30 Reading tool life management data (tool length compensation No. (2): 
Tool order No.) *PM *21T
</p>
<p>44 R
</p>
<p>31 Reading tool life management data (cutter compensation No. (1): Tool No.)
*PM *21T
</p>
<p>45 R
</p>
<p>32 Reading tool life management data (cutter compensation No. (2): Tool order No.)
*PM *21T
</p>
<p>46 R
</p>
<p>33 Reading tool life management data (tool information (1): Tool No.) *PM *21T 47 R
</p>
<p>34 Reading tool life management data (tool information (2): Tool order No.)
*PM *21T
</p>
<p>48 R
</p>
<p>35 Reading tool life management data (tool No.) *PM *21T 49 R
</p>
<p>36 Reading the actual spindle speed 50 R
</p>
<p>B.3
LIST OF WINDOW 
FUNCTIONS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>697
</p>
<p>Number R/WFunction codeDescription
</p>
<p>37 Entering data on the program check screen �low&ndash;speed response
*PM *21T
</p>
<p>150 W
</p>
<p>38 Reading clock data (date and time) 151 R
</p>
<p>39 Writing torque limit data for the digital servo motor�low&ndash;speed response 152 W
</p>
<p>40 Reading load information of the spindle motor (serial interface) 153 R
</p>
<p>41 Reading a parameter *PM *21T 154 R
</p>
<p>42 Reading setting data *PM *21T 155 R
</p>
<p>43 Reading diagnosis data *PM *21T 156 R
</p>
<p>44 Reading a character string of the CNC program being executed in the buffer *C 157 R
</p>
<p>45 Reading the relative position of a controlled axis 74 R
</p>
<p>46 Reading the remaining travel 75 R
</p>
<p>47 Reading CNC status information 76 R
</p>
<p>48 Reading an operator message 83 R
</p>
<p>49 Reading value of the P&ndash; code macro variable *RB56 �low&ndash; speed response 59 R
</p>
<p>50 Writing value of the P&ndash; code macro variable �low&ndash; speed response 60 W
</p>
<p>51 Reading the Tool life management data  (Tool life counter type) 160 R
</p>
<p>52 Registering the Tool life management data  (Tool group) �low&ndash; speed response 163 W
</p>
<p>53 Writing the Tool life management data  (Tool life) �low&ndash; speed response 164 W
</p>
<p>54 Writing the Tool life management data (Tool life counter) �low&ndash; speed response 165 W
</p>
<p>55 Writing the Tool life management data  (Tool life counter type)
�low&ndash; speed response
</p>
<p>166 W
</p>
<p>56 Writing the Tool life management data  (Tool length offset number (1): Tool number)
�low&ndash; speed response
</p>
<p>167 W
</p>
<p>57 Writing the Tool life management data  (Tool length offset num&ndash;ber (2): Tool opera-
tion sequence number) �low&ndash; speed response
</p>
<p>168 W
</p>
<p>58 Writing the Tool life management data (Cutter compensation number (1): 
Tool number) �low&ndash; speed response
</p>
<p>169 W
</p>
<p>59 Writing the Tool life management data  (Cutter compensation nu&ndash;mber (2): 
Tool operation sequence number) �low&ndash; speed response
</p>
<p>170 W
</p>
<p>60 Writing the Tool life management data (Tool condition (1): Tool number)
�low&ndash; speed response
</p>
<p>171 W
</p>
<p>61 Writing the Tool management data (Tool condition (2): 
Tooloperation sequence number) �low&ndash; speed response
</p>
<p>172 W
</p>
<p>62 Writing the Tool life management data (Tool number) �low&ndash; speed response 173 W
</p>
<p>63 Reading the Estimate disturbance torque data 211 R
</p>
<p>�� �,%�+!&amp;% �&amp;��* + �+  �-� � !% + � ��� �&amp;#,$% �)� .!%�&amp;. )��� �,%�+!&amp;%* *'��!�!��#� .!+ + � ���&#13;� �,%�+!&amp;%
�&amp;$$�%�� �,%�+!&amp;% �&amp;��* + �+  �-� � !% + � ��� �&amp;#,$% �)� .!%�&amp;. .)!+� �,%�+!&amp;%* *'��!�!��#� .!+ + � ���&#13;�
�,%�+!&amp;% �&amp;$$�%��
</p>
<p>�	 �&amp;).!%�&amp;.�,%�+!&amp;%*$�)".!+ 0�&amp;.�*'���)�*'&amp;%*���)���!%��%�.)!+!%�'�)�$�+�)*� *�++!%���+���!��%&amp;*+!���+�
�%� *&amp; &amp;% *+�)+* ��+�) + ���� )���!-�* + � )�*'&amp;%*� �&amp;) )�(,�*+ &amp;� )���!%� �%�.)!+!%� �)&amp;$ + ������% + � �&amp;%+)�)/�
+ � &amp;+ �) .!%�&amp;. �,%�+!&amp;%* ��% )��� &amp;) .)!+� ��+� �+ &amp;%�� !% )�*'&amp;%*� +&amp; + � )�(,�*+ �)&amp;$ ����
</p>
<p>�
 �,%�+!&amp;%* $�)"�� .!+ ��� �)� %&amp;+ ')&amp;-!��� �&amp;) + � �&amp;.�) ��+��&#13; &amp;) ��
</p>
<p>�� �,%�+!&amp;%* $�)"�� .!+ �	�� �)� %&amp;+ ')&amp;-!��� �&amp;) + � ��)!�* 	���
</p>
<p>*5 Functions marked with *RB56 support high&ndash;speed window response for the RB5/RB6.
</p>
<p>*6 Functions marked with *C are not provided for the RB5/RB6.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>698
</p>
<p>(1) In the explanation of the window functions, minuses (&ndash;) in the data
structure fields indicate that input data need not be set in these fields
or that output data in these fields is not significant.
</p>
<p>(2) All data is in binary unless otherwise specified.
</p>
<p>(3) All data block lengths and data lengths are indicated in bytes.
</p>
<p>(4) Output data is valid only when window processing terminates
normally.
</p>
<p>(5) Output data always includes one of the following completion codes.
Note, however, that all of the completion codes listed are not always
provided for each function.
</p>
<p>Completion code Meaning
</p>
<p>0 Normal termination
</p>
<p>1 Error (invalid function code)
</p>
<p>2 Error (invalid data block length)
</p>
<p>3 Error (invalid data number)
</p>
<p>4 Error (invalid data attribute)
</p>
<p>5 Error (invalid data)
</p>
<p>6 Error (necessary option missing)
</p>
<p>7 Error (write&ndash;protected)
</p>
<p>Input and output control data has the following structure.
</p>
<p>Top address  +0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Function code
</p>
<p>Completion code
</p>
<p>Data length (M)
(Byte length of data area)
</p>
<p>Data number
</p>
<p>Data attribute
</p>
<p>Data area
</p>
<p>� �
</p>
<p>These data set as input data are
remain unchanged in the output
data.
</p>
<p>*Data length
Depends on the function.
</p>
<p>B.4
FORMATS AND 
DETAILS OF 
CONTROL DATA
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>699
</p>
<p>[Description]
</p>
<p>System information peculiar to the CNC can be read. Such system
information includes the series name of the CNC (16 as series name, for
example), the machine type applied to the CNC, such s a machining center
(M) and a lathe (T), the series code and version of the ROM containing
the CNC system software, and the number of controlled axes.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
0
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>[Completion codes]
</p>
<p>0 : CNC system information has been read normally.
</p>
<p>B.4.1
Reading CNC System
Information
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>700
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
0
</p>
<p>(Completion code)
0
</p>
<p>(Always terminates normally.)
</p>
<p>(Data length)
14
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
&mdash;
</p>
<p>CNC series name (2 bytes)
ASCII characters
(16)
</p>
<p>Machine type M/T/TT (2 bytes)
ASCII characters
( M, T. TT, . . . )
</p>
<p>ROM series of CNC system 
software(4 bytes)
</p>
<p>ASCII characters
(B 0 0 0 1, . . . )
</p>
<p>ROM version of CNC system 
software(4 bytes)
</p>
<p>ASCII characters
(0 0 0 1, 0 0 0 2, , . . )
</p>
<p>Number of controlled axes (2 bytes)
ASCII characters
( 2, 3, 4, . . . )
</p>
<p>Value
</p>
<p>12
</p>
<p>14
</p>
<p>18
</p>
<p>22
</p>
<p>NOTE
1 Data is stored from the upper digit in each lower byte.
2 In the Power Mate&ndash;D and &ndash;F, the data corresponding to the
</p>
<p>CNC series name and machine type are left as spaces.
3 In two&ndash;path control of the Power Mate&ndash;D, the data for the
</p>
<p>first path is the same as that for the second path.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>If the type of tool offset need not be
specified, enter 0.
</p>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>701
</p>
<p>[Description]
</p>
<p>A tool offset value recorded in the CNC can be read.
</p>
<p>Wear offset data, geometry offset data, cutter compensation data, and tool
length offset data can be read as a tool offset.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
13
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N = offset number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = offset type)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>(a) Offset types (for machining centers, Power Mate&ndash;D, F)
</p>
<p>Cutter Tool length
</p>
<p>Wear 0 2
</p>
<p>Figure 1 3
</p>
<p>NOTE
In the Power Mate&ndash;D and &ndash;F, read tool offsets without
specifying the classification (i.e. cutter compensation, tool
length, tool wear, and tool geometry).
</p>
<p>(b) Offset types (for lathes)
</p>
<p>X axis Z axis Tool tip R Virtual tool tip Y axis
</p>
<p>Wear 0 2 4 6 8
</p>
<p>Figure 1 3 5 7 9
</p>
<p>B.4.2
Reading a Tool Offset
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>702
</p>
<p>[Completion codes]
</p>
<p>0 : The tool offset has been read normally.
</p>
<p>3 : The offset number specified for reading is invalid. (This
completion code is returned when the specified offset number data
is not from 1 to the maximum number of offsets.)
</p>
<p>4 : There are mistakes in the data attribute that specifies the type of
the offset to be read.
</p>
<p>6 : For the offset number specified for reading, an additional tool
offset number option is required, but it is missing.
The offset number is not available for Power Mate&ndash;D/F.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
13
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of the completion codes.)
</p>
<p>(Data length)
L (Normally set to 4)
</p>
<p>(L: Byte length of offset value)
</p>
<p>(Data number)
N
</p>
<p>(N = offset number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = offset type),,
</p>
<p>Tool offset value Signed binary (A negative value is 
represented in 2&rsquo;s complement.)
Upper 3 bytes are always &ldquo;0&rdquo; for virtual
tool tip
</p>
<p>Value
</p>
<p>Output data unit
</p>
<p>Input system Incrementsystem IS&ndash;B
Increment
</p>
<p>system IS&ndash;C
</p>
<p>Machining center
system
</p>
<p>mm, deg
system 0.001 0.0001y
</p>
<p>Power Mate&ndash;D, F inch system 0.0001 0.00001
</p>
<p>Radius
specification mm, deg
</p>
<p>0.001 0.0001
</p>
<p>Lathe
Diameter
specification
</p>
<p>g
system
</p>
<p>0.002 0.0002
</p>
<p>system Radius
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>Diameter
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>If the type of tool offset need not be
specified, enter 0.
</p>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>703
</p>
<p>[Description]
</p>
<p>The tool offset value can be directly written into the CNC.
</p>
<p>Wear offset data, geometry offset data, cutter compensation data, and tool
length offset data can be written as a tool offset.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
14
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not to be set)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N = offset number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = offset type)
</p>
<p>Tool offset value Signed binary (A negative value is 
represented in 2&rsquo;s complement.)
Upper 3 bytes are always &ldquo;0&rdquo; for virtual
tool tip
</p>
<p>Value
</p>
<p>(a) Offset types (for machining centers, Power Mate&ndash;D, F)
</p>
<p>Cutter Tool length
</p>
<p>Wear 0 2
</p>
<p>Figure 1 3
</p>
<p>In the Power Mate&ndash;D and &ndash;F, write tool offsets without specifying the
classification (i.e. cutter compensation, tool length, tool wear, and tool
geometry).
</p>
<p>(b) Offset types (for lathes)
</p>
<p>X axis Z axis Tool tip R Virtual tool tip Y axis
</p>
<p>Wear 0 2 4 6 8
</p>
<p>Figure 1 3 5 7 9
</p>
<p>B.4.3
Writing a Tool Offset 
(�Low&ndash;Speed
Response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>704
</p>
<p>Input data unit
</p>
<p>Input system Incrementsystem IS&ndash;B
Increment
</p>
<p>system IS&ndash;C
</p>
<p>Machining center
system
</p>
<p>mm, deg
system 0.001 0.0001y
</p>
<p>Power Mate&ndash;D, F inch system 0.0001 0.00001
</p>
<p>Radius
specification mm, deg
</p>
<p>0.001 0.0001
</p>
<p>Lathe
Diameter
specification
</p>
<p>g
system
</p>
<p>0.002 0.0002
</p>
<p>system Radius
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>Diameter
specification
</p>
<p>inch system
0.0002 0.00002
</p>
<p>[Completion codes]
</p>
<p>0 : The tool offset has been written normally.
</p>
<p>2 : The data byte length for the tool offset specified for writing is
invalid. (It is not set to 4.)
</p>
<p>3 : The offset number specified for writing is invalid. (This
completion code is returned when the specified offset number data
is not from 1 to the maximum number of offsets.)
</p>
<p>4 : There are mistakes in the data attribute that specifies the type of
the offset to be written.
</p>
<p>6 : For the offset number specified for writing, the additional tool
offset number option is required, but it is missing.
The specified offset number is out of range. (Power Mate&ndash;D, F)
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
14
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L: Input data)
</p>
<p>(Data number)
N
</p>
<p>(N = Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(Input data)
</p>
<p>Tool offset value: Input data
Signed binary (A negative value is 
represented in 2&rsquo;s complement.)
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>705
</p>
<p>[Description]
</p>
<p>The workpiece origin offset recorded in the CNC can be read.
</p>
<p>A workpiece origin offset is provided for each controlled axis (the first
axis to the eighth axis) in the CNC. Either the workpiece origin offset for
a specific axis can be read, or the workpiece origin offsets for all axes can
be read at one time. If the additional axis option is not provided, however,
the workpiece origin offset for the additional axis cannot be read.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
15
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N = 0 to 6)
</p>
<p>(Data attribute)
M
</p>
<p>(M = 1 to n or &ndash;1)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>N = 0: External workpiece origin offset
N = 1: G54
&middot; &middot;
&middot; &middot;
</p>
<p>N = 6: G59
With &ldquo;addition of workpiece coordinate system pair&rdquo;
N=7 : G54.1 P1
&middot;
&middot;
</p>
<p>N=306 : G54.1 P300
</p>
<p>M = 1 to n: Workpiece origin offset number of a 
specific axis. n is the axis number.
</p>
<p>M = &ndash;1: Read for all axes
</p>
<p>B.4.4
Reading a Workpiece
Origin Offset Value
(Not Supported by the
Power Mate&ndash;D or &ndash;F)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>706
</p>
<p>[Completion codes]
</p>
<p>0 : The workpiece origin offset has been read normally.
</p>
<p>3 : The specified data number is invalid because the number is not
from 0 to 6.
</p>
<p>4 : The specified data attribute is invalid because the attribute data is
neither &ndash;1 nor a value from 1 to n (n is the number of axes).
Alternatively, the specified axis number is greater than the number
of controlled axes.
</p>
<p>6 : There is no workpiece coordinate shift option added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
15
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L: Byte length of the workpiece 
origin offset value)
</p>
<p>(Data number)
N
</p>
<p>(N = Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Input data)
</p>
<p>Workpiece origin offset value
Signed binary number (A negative value
is represented in 2&rsquo;s complement.)
</p>
<p>Value
</p>
<p>L = 4: The workpiece origin offset value for 
a specific axis is read.
</p>
<p>L = 4*n: Workpiece origin offsets for all axes are 
read.
</p>
<p>Output data unit
</p>
<p>Input system Incrementsystem IS&ndash;B
Increment
</p>
<p>system IS&ndash;C
</p>
<p>Machining center
system
</p>
<p>mm, deg
system 0.001 0.0001y
</p>
<p>Power Mate&ndash;D, F inch system 0.0001 0.00001
</p>
<p>Radius
specification mm, deg
</p>
<p>0.001 0.0001
</p>
<p>Lathe
Diameter
specification
</p>
<p>g
system
</p>
<p>0.002 0.0002
</p>
<p>system Radius
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>Diameter
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>707
</p>
<p>[Description]
</p>
<p>Data can be written directly as a workpiece origin offset value in the CNC.
</p>
<p>A workpiece origin offset is provided for each controlled axis (the first
axis to the eighth axis) in the CNC. Either the workpiece origin offset
value for a specific axis can be written, or the workpiece origin offset
values for all axes can be written at one time. If the additional axis option
is not provided, however, the workpiece origin offset value for the
additional axis cannot be written.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
16
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
L
</p>
<p>(L: Byte length of the workpiece 
origin offset value)
</p>
<p>(Data number)
N
</p>
<p>(N = 0 to 6)
</p>
<p>(Data attribute)
M
</p>
<p>(M = 1 to n, or &ndash;n)
</p>
<p>Workpiece origin offset value
Signed binary (A negative value is 
represented in 2&rsquo;s complement.)
</p>
<p>Value
</p>
<p>L = 4 : Workpiece origin offset value for a specific 
axis is written.
</p>
<p>L = 4*n
Workpiece origin offset values for all axes 
are written.
</p>
<p>N = 0: External workpiece origin offset
N = 1: G54
&middot; &middot;
&middot; &middot;
</p>
<p>N = 6: G59
</p>
<p>M = 1 to n: Workpiece origin offset number of a 
specific axis. n is the axis number.
</p>
<p>M = &ndash;1: Write for all axes
</p>
<p>Input data unit
</p>
<p>Input system Incrementsystem IS&ndash;B
Increment
</p>
<p>system IS&ndash;C
</p>
<p>Machining center
system
</p>
<p>mm, deg
system 0.001 0.0001y
</p>
<p>Power Mate&ndash;D, F inch system 0.0001 0.00001
</p>
<p>Radius
specification mm, deg
</p>
<p>0.001 0.0001
</p>
<p>Lathe
Diameter
specification
</p>
<p>g
system
</p>
<p>0.002 0.0002
</p>
<p>system Radius
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>Diameter
specification
</p>
<p>inch system
0.0002 0.00002
</p>
<p>B.4.5
Writing a Workpiece
Origin Offset Value
(�Low&ndash;Speed
Response)
(Not Supported by the
Power Mate&ndash;D or &ndash;F)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>708
</p>
<p>[Completion codes]
</p>
<p>0 : The workpiece origin offset has been written normally.
</p>
<p>2 : The specified data length is invalid.
</p>
<p>3 : The data number is invalid because the specified number is not
from 0 to 6.
</p>
<p>4 : The specified data attribute is invalid because the attribute data is
neither &ndash;1 nor a value from 1 to n (n is the number of axes).
Alternatively, the specified axis number is greater than the number
of controlled axes.
</p>
<p>6 : There is no workpiece coordinate shift option added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
16
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L: Input data)
</p>
<p>(Data number)
N
</p>
<p>(N = Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Input data)
</p>
<p>Workpiece origin offset value
Signed binary number (A negative value
is represented in 2&rsquo;s complement.)
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>709
</p>
<p>[Description]
</p>
<p>Parameter data in the CNC can be read.
</p>
<p>There are four types of parameters in the CNC: Bit parameters having a
definite meaning for each bit, byte parameters holding 1&ndash;byte data, word
parameters holding 2&ndash;byte data, and double word parameters holding
4&ndash;byte data.  Therefore, the length of the read data varies according to the
parameter number specified.
</p>
<p>Note that bit parameters cannot be read in bit units.  The eight bits (one
byte) for a parameter number must be read at a time.
</p>
<p>For axis parameters, data for a specific axis can be read, or data for all axes
can be read at a time.
</p>
<p>Specify pitch error compensation data in data Nos. 10000 to 11023 (1024
points in total).
</p>
<p>For details of parameter data, refer to the Operator&rsquo;s manual of the CNC.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
17
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N = parameter number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = 1 to n or &ndash;1)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>M = 0: No axis
</p>
<p>M = 1 to n: A specific axis
</p>
<p>M = &ndash;1: All axes
</p>
<p>When all axes are specified by spindle parameters 
(parameters 4000 to 4799), only two axes are specified.
</p>
<p>B.4.6
Reading a Parameter
(�Low&ndash;Speed
Response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>710
</p>
<p>[Completion codes]
</p>
<p>0 : Parameter data has been read normally.
</p>
<p>3 : The parameter number specified for reading is invalid.
</p>
<p>4 : The specified data attribute is invalid because it is neither 0, &ndash;1,
nor a value 1 to n (n is the number of axes).
</p>
<p>6 : Although a certain option, such as the pitch error compensation
option, is required for the data of the parameter number specified
for reading, it is not provided.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
17
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 1, 2, 4, 1*n, 2*n, 4*n)
</p>
<p>(Data number)
N
</p>
<p>(N = Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Input data)
</p>
<p>Parameter data Parameter&ndash;dependent form
</p>
<p>Value
</p>
<p>L = 1: Bit or byte parameter
L = 2: Word parameter
L = 4: Double word parameter
</p>
<p>When no axis or one axis is specified
</p>
<p>When all axes are specified
L = 1*n : Bit or byte parameter
L = 2*n: Word parameter
L = 4*n: Double word parameter
</p>
<p>For the RB5/RB6, macro executor parameters 9000 to 9011 cannot be read.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>711
</p>
<p>[Description]
</p>
<p>Data can be written in a parameter in the CNC.
</p>
<p>There are four types of parameters in the CNC: Bit parameters having a
definite meaning for each bit, byte parameters holding 1&ndash;byte data, word
parameters holding 2&ndash;byte data, and double word parameters holding
4&ndash;byte data.  Therefore, the length of the written data varies according to
the parameter specified.
</p>
<p>Note that bit parameters cannot be written in bit units.  The eight bits (one
byte) for the parameter number must be written at a time.  This means that
when a bit needs to be written, the whole data for the corresponding
parameter number shall be read first, modify the target bit in the read data,
then the data shall be rewritten.
</p>
<p>For axis parameters, data for a specific axis can be read, or data for all axes
can be read at a time.
</p>
<p>For details of parameter data, refer to the Operator&rsquo;s manual of the CNC.
</p>
<p>Some parameters cause a P/S alarm 000 when data is written.  (The power
must be turned off before continuing operation.)
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
18
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set.)
</p>
<p>(Data length)
L
</p>
<p>(L = 1, 2, 4, 1*n, 2*n, 4*n)
</p>
<p>(Data number)
N
</p>
<p>(N = parameter number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = 0, 1 to n, or &ndash;1)
</p>
<p>Parameter data Parameter&ndash;dependent form
</p>
<p>Value
</p>
<p>When no axis or one axis is specified
L = 1: Bit or byte parameter
L = 2: Word parameter
L = 4: Double word parameter
</p>
<p>When all axes are specified
L = 1*n: Bit or byte parameter
L = 2*n: Word parameter
L = 4*n: Double word parameter
</p>
<p>M = 0: No axis
M = 1 to n: A specific axis
M = &ndash;1: All axes
</p>
<p>When all axes are specified by spindle parame-
ters (parameters 4000 to 4799), only two axes
are specified.
</p>
<p>B.4.7
Writing a Parameter
(�Low&ndash;Speed
Response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>712
</p>
<p>[Completion codes]
</p>
<p>0 : Parameter data has been written normally.
</p>
<p>2 : The data byte length of the parameter specified for writing is
invalid.
</p>
<p>3 : The parameter number specified for writing is invalid.
</p>
<p>4 : The specified data attribute is invalid because it is neither 0, &ndash;1,
nor a value from 1 to n (n is the number of axes).
</p>
<p>6 : Although a certain option, such as the pitch error compensation
option, is required for the data of the parameter number specified
for writing, it is not provided.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
18
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = Input data)
</p>
<p>(Data number)
N
</p>
<p>(N = Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Input data)
</p>
<p>Parameter data: Input data Parameter&ndash;dependent form
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>713
</p>
<p>[Description]
</p>
<p>The CNC setting data can be read.
</p>
<p>There are four types of setting data in the CNC:  Bit setting data having
a definite meaning for each bit, byte setting data stored in bytes, word
setting data stored in 2&ndash;byte units, and double&ndash;word setting data stored
in 4&ndash;byte units.  Therefore, the length of the read data varies according
to the setting data specified.
</p>
<p>Note that bit setting data cannot be read in bit units.  The eight bits (one
byte) for the setting data number must be read at a time.
</p>
<p>For axis parameters, data for a specific axis can be read, or data for all axes
can be read at a time.
</p>
<p>For details of setting data, refer to the Operator&rsquo;s manual of the CNC.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
19
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N = Setting data number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = 1 to n or &ndash;1)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>M = 0 : No axis
</p>
<p>M = 1 to n: A specific axis
</p>
<p>M = &ndash;1: All axes
</p>
<p>B.4.8
Reading Setting Data
(�Low&ndash;Speed
Response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>714
</p>
<p>[Completion codes]
</p>
<p>0 : Setting data has been read normally.
</p>
<p>3 : The setting number specified for reading is invalid.
</p>
<p>4 : The specified data attribute is invalid because it is neither 0, &ndash;1,
nor a value from 1 to n (n is the number of axes).
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
19
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 1, 2, 4, 1*n, 2*n, 4*n)
</p>
<p>(Data number)
N
</p>
<p>(N = Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Input data)
</p>
<p>Setting data Parameter&ndash;dependent form
</p>
<p>Value
</p>
<p>L = 1: Bit or byte parameter
L = 2: Word parameter
L = 4: Double word parameter
</p>
<p>When no axis or one axis is specified
</p>
<p>When all axes are specified
L = 1*n: Bit or byte parameter
L = 2*n: Word parameter
L = 4*n: Double word parameter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>715
</p>
<p>[Description]
</p>
<p>Data can be written as setting data in the CNC.
</p>
<p>For details of setting data, refer to the Operator&rsquo;s manual of the CNC.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
20
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set.)
</p>
<p>(Data length)
L
</p>
<p>(L = 1, 2, 4, 1*n, 2*n, 4*n)
</p>
<p>(Data number)
N
</p>
<p>(N = Setting data number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = 0, 1 to n, or &ndash;1)
</p>
<p>Setting data Setting data&ndash;dependent form
</p>
<p>Value
</p>
<p>When no axis or one axis is specified
L = 1: Bit or byte parameter
L = 2: Word parameter
L = 4: Double word parameter
</p>
<p>When all axes are specified
L = 1*n: Bit or byte parameter
L = 2*n: Word parameter
L = 4*n: Double word parameter
</p>
<p>M = 0: No axis
</p>
<p>M = 1 to n:   A specific axis
</p>
<p>M = &ndash;1: All axes
</p>
<p>B.4.9
Writing Setting Data
(�Low&ndash;Speed
Response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>716
</p>
<p>[Completion codes]
</p>
<p>0 : Setting data has been written normally.
</p>
<p>2 : The byte length of the setting data specified for writing is invalid.
</p>
<p>3 : The setting data number specified for writing is invalid.
</p>
<p>4 : The specified data attribute is invalid because it is neither 0, &ndash;1,
nor a value from 1 to n (n is the number of axes).
</p>
<p>5 : Data exceeding the allowable range was specified as setting data
to be written.  For example, when data outside the range from 0
to 3 is specified as the setting data to be written for I/O data, this
completion code is returned.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
20
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(N = Input data)
</p>
<p>(Data number)
N
</p>
<p>(N = Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Input data)
</p>
<p>Setting data: Input data Setting data&ndash;dependent form
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>717
</p>
<p>[Description]
A custom macro variable in the CNC can be read.
Custom macro variables may or may not be read depending on the
variable type.
(1) Local variables
</p>
<p>Local variables (#1 to #33) cannot be read.
(2) Common variables
</p>
<p>Common variables (#100 to #149 and #500 to #531) can be read in
floating&ndash;point representation.  When the option to add common
variables is provided, however, common variables range from #100
to #199 and #500 to #999.
</p>
<p>NOTE
Power Mate&ndash;D (two&ndash;path control), Power Mate&ndash;F: #100 to
199, #500 to 699.
Memory module A of one&ndash;path control: #100 to #149, #500
to #531.
Memory module B/C of one&ndash;path control: #100 to #199,
#500 to #699.
</p>
<p>(3) System variables
System variables (#1000 and up) can be read in floating&ndash;point
representation.
For details of the custom macro variables, refer to the Operator&rsquo;s
Manual for the CNC.
</p>
<p>NOTE
 For the RB5/RB6, system variables cannot be read.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
21
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N = Custom macro variable number)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Number of decimal places)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>B.4.10
Reading a Custom
Macro Variable
(�Low&ndash;Speed
Response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>718
</p>
<p>[Completion codes]
</p>
<p>0 : The custom macro variable has been read normally.
</p>
<p>3 : The number of a custom macro variable that cannot be read was
specified as the data number.  Only common variables can be read
as custom macro variables by this library command.
</p>
<p>5 : The custom macro variable is not within the range from
0.0000001 to 99999999.
</p>
<p>6 : The custom macro option is not provided.
The specified variable number is out of range. ( Power Mate&ndash;D,
F)
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
21
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L: Byte length of custom macro 
variable data)
</p>
<p>(Data number)
N
</p>
<p>(N = Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Number of decimal places)
</p>
<p>Custom macro variable data (4 bytes)
Mantissa (custom macro B)
</p>
<p>Signed binary 
(A negative value is represented in 2&rsquo;s
complement.)
</p>
<p>Value
</p>
<p>Custom macro variable data (2 bytes)
Exponent (custom macro B): The num-
ber of decimal digits
</p>
<p>Signed binary
0 to 8 (no negative values)
</p>
<p>14
</p>
<p>L = 6: Custom macro B
The mantissa of a floating&ndash;
point number is indicated in 4
bytes, and the exponent is 
indicated in 2 bytes.
</p>
<p>M = 0: The number of decimal 
places is not specified.
</p>
<p>M = 1� n� 7:
The number of decimal places is specified.  n
stands for the number of decimal places.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>719
</p>
<p>[Description]
</p>
<p>Data can be written in a custom macro variable in the CNC.
</p>
<p>For details of common variables, refer to the Operator&rsquo;s manual of the
CNC.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
22
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
L
</p>
<p>(L: Byte length of custom 
macro variable data)
</p>
<p>(Data number)
N
</p>
<p>(N = Custom macro variable number)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>Custom macro variable data (4 bytes)
Mantissa (custom macro B)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
complement.)
</p>
<p>Value
</p>
<p>Custom macro variable data (2 bytes)
Exponent (custom macro B): The num-
ber of decimal digits
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
complement.)
</p>
<p>14
</p>
<p>L = 6: Custom macro B
The mantissa of a floating&ndash;point
number is indicated in 4 bytes, 
and the exponent is indicated in
2 bytes.
</p>
<p>B.4.11
Writing a Custom
Macro Variable
(�Low&ndash;Speed
Response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>720
</p>
<p>[Completion codes]
</p>
<p>0 : The custom macro variable has been written normally.
</p>
<p>2 : The specified data length is invalid because it is not 6.
</p>
<p>3 : A custom macro variable number that cannot be written as the data
number was specified.
</p>
<p>6 : The custom macro option has not been provided.
</p>
<p>The specified variable number is out of range. ( Power Mate&ndash;D,
F)
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
22
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L: Input data)
</p>
<p>(Data number)
N
</p>
<p>(N = Input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>Custom macro variable data: Input data
Mantissa (custom macro B)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
complement.)
</p>
<p>Value
</p>
<p>Custom macro variable data: Input data
Exponent (custom macro B): The num-
ber of decimal digits
</p>
<p>Signed binary
14
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>721
</p>
<p>[Description]
</p>
<p>When the CNC is in the alarm status, the alarm status data can be read.
</p>
<p>The following alarm status data can be read:
</p>
<p>(1) First byte of alarm status data
</p>
<p>PS1
PS2
PS3
PS
OTS
OH
SV
MALM
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>PS1 : P/S alarm 100 (PWE (parameter write enable) is set to 1.)
</p>
<p>PS2 : P/S alarm 000 (Turn off the power before continuing operation.
Some parameters activate this alarm status when they are 
written.)
</p>
<p>PS3 : P/S alarm 101 (The part program recording area is disordered.
This alarm is activated when the power to the CNC is turned off
during part program editing or reading of a machining program.
To release the alarm, then press the RESET key while holding
down the PROG key.)
</p>
<p>PS : A P/S alarm other than the above alarm is generated
</p>
<p>OTS : Stroke limit alarm
</p>
<p>OH : Overheat alarm
</p>
<p>SV : Servo alarm
</p>
<p>MALM: Memory alarm
</p>
<p>B.4.12
Reading the CNC
Alarm Status
</p>
<p>B.4.12.1 
Except Power Mate&ndash;D
and &ndash;F
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>722
</p>
<p>(2) Second byte of alarm status data
</p>
<p>APAL
SPA
(Not used)
(Not used)
(Not used)
(Not used)
(Not used)
(Not used)
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>APAL: APC alarm
</p>
<p>SPA : Spindle alarm
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
23
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not to be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>723
</p>
<p>[Completion codes]
</p>
<p>0 : This alarm status in the CNC has been read normally.  
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
23
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
2
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
&mdash;
</p>
<p>CNC alarm status data 2 byte bit data.  For the meanings of the
bits, see [Description] in this section.
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>724
</p>
<p>(1) Overview
</p>
<p>PMC application programs can read CNC alarm information.
</p>
<p>(2) Alarm information
</p>
<p>1) Alarm status
</p>
<p>Information concerning the alarm type
</p>
<p>2) Detailed alarm
</p>
<p>Information concerning the alarm number and axis information
</p>
<p>(3) Input data configuration
</p>
<p>Top address+0 +2 +4 +6 +8 +10
Function Completion Data Data Data Data
</p>
<p>code code length number attribute area
</p>
<p>Function code : 23 (fixed)
</p>
<p>Completion code : No specification required.
</p>
<p>Data length : No specification required.
</p>
<p>Data number : Number of alarms which can be stored. (Up to 30).
If 31 or more are specified, the value is assumed to
be 30.
</p>
<p>Data attribute : Other than 0 :  Alarm status information
</p>
<p>: Detailed alarm information, indicated in two&ndash;byte
bit&ndash;type data described below (multiple bits can be
specified.)
</p>
<p>Data area : No specification required.
</p>
<p>15 14 13 12 11 10   9 8 7 6 5 4 3 2 1 0 bit
</p>
<p>Bit 0 : P/S alarm 100 (PS1)
</p>
<p>(PWE, parameter write enable, is set to 1.)
</p>
<p>Bit 1 : P/S alarm 000 (PS2)
</p>
<p>(Turn off the power. Writing data into certain parameters may
cause this alarm.)
</p>
<p>Bit 2 : P/S alarm 101 (PS3)
</p>
<p>(Part program storage has been disrupted. This alarm is issued
when the CNC is turned off during tape editing or machining 
program reading.  To release this alarm, press the RESET key
while holding down the PROG key.)
</p>
<p>Bit 3 : A P/S alarm (PS) other than those described above has been 
issued.  (Up to 255)
</p>
<p>Bit 4 : Stroke limit alarm (OTS)
</p>
<p>B.4.12.2 
For Power Mate&ndash;D 
and &ndash;F
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>725
</p>
<p>Bit 5 : Overheat alarm (OH)
</p>
<p>Bit 6 : Servo alarm (SV)
</p>
<p>Bit 7 : Not used
</p>
<p>Bit 8 : APC alarm (APAL)
</p>
<p>Bit 9 : Spindle alarm (SPA)
</p>
<p>Bit 10 : P/S alarm 5000 or greater (PS_2)
</p>
<p>Bit 11 to Bit 15 : Not used
</p>
<p>Data attribute : 0 : Alarm status information
</p>
<p>(4) Output data configuration
</p>
<p>Top address+0 +2 +4 +6 +8 +10
Function Completion Data Data Data Data
</p>
<p>code code length number attribute area
</p>
<p>Function code : 23 (fixed)
</p>
<p>Completion code : Always 0.
</p>
<p>Data length : 2 when the input data attribute is set to 0 and no 
alarm is issued.
</p>
<p>2 + 4*n when the input data attribute is set to other
than 0 (n stands for the number of alarms issued).
</p>
<p>Data number : Same as that for the input data.
</p>
<p>Data attribute : Same as that for the input data.
</p>
<p>Data area : Two&ndash;byte bit&ndash;type data when the input data
attribute is set to 0 (each bit indicates the same
information as that for the input data).
</p>
<p>(2 + 4*n)&ndash;byte data, described below, for all alarm
states specified in the input data attribute when the
input data attribute is other than 0.
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>15 14 13 12 11 10 9 8
</p>
<p>Bit 0 = 1 : When an alarm is is sued
for the first axis
</p>
<p>Bit 1 = 1 : When an alarm is issued 
for the second axis
</p>
<p>Bits 2 to 15 are always set to 0.
</p>
<p>Axis information Alarm number
</p>
<p>2byte 2byte 2byte 4byte 4byte
</p>
<p>n
</p>
<p>Number 
of alarms
</p>
<p>First alarm Second
alarm
</p>
<p>n&ndash;th
alarm
</p>
<p>(n:  Number of alarms issued)
</p>
<p>&sdot; &sdot;
</p>
<p>&sdot; &sdot;
</p>
<p>&sdot; &sdot;
</p>
<p>(5) Completion code
</p>
<p>0 : CNC alarm status has been read normally.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>726
</p>
<p>[Completion codes]
</p>
<p>0 : This alarm status in the CNC has been read normally.  
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
23
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
2
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
&mdash;
</p>
<p>CNC alarm status data 2 byte bit data.  For the meanings of the
bits, see [Description] in this section.
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>727
</p>
<p>[Description]
</p>
<p>The program number of a machining program being executed on the CNC
can be read.
</p>
<p>When a subprogram is executed on the CNC, the program number of the
main program can also be read.  Note that the main program is the first
loop program from which the subprogram was called (even in nested).
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
24
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not to be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>B.4.13
Reading the Current
Program Number
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>728
</p>
<p>[Completion codes]
</p>
<p>0 : The program number of the program currently being executed has
been read normally.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
24
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 4)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
&mdash;
</p>
<p>Current program number:  ON Unsigned binary, 2 bytes long
</p>
<p>Value
</p>
<p>Program number of the main program:
OMN
</p>
<p>12
</p>
<p>(a) Current program number (ON)
</p>
<p>The program number of the program being executed is set.
</p>
<p>(b) Program number of the main program (OMN)
</p>
<p>When the currently executed program is a subprogram, the number
of its main program (first loop main program) is set.  When the
currently executed program is not a subprogram, 0 is set.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>729
</p>
<p>[Description]
</p>
<p>The sequence number of a machining program being executed on the
CNC can be read.  If sequence numbers are not assigned to all blocks of
the machining program, the sequence number of the most recently
executed block is read.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
25
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not to be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>B.4.14
Reading the Current
Sequence Number
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>730
</p>
<p>[Completion codes]
</p>
<p>0 : The current sequence number has been read normally.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
25
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 4)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
&mdash;
</p>
<p>Current sequence number Unsigned binary
</p>
<p>Value
</p>
<p>Note that the data length must be set to 4
bytes even though the current program
number is 2 bytes long (the sequence
number is indicated by 5 digits).
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>731
</p>
<p>[Description]
</p>
<p>The actual velocity of a movement on CNC&ndash;controlled axes can be read.
Note that the read speed is the composite velocity for the controlled axes.
When movement involves only the basic three axes, the X, Y, and Z axes,
the composite velocity equals the actual velocity.  When movement,
however, involves the fourth axis, such as a rotation axis or a parallel axis,
as well as some of the basic three axes, the composite velocity for all the
relevant axes does not equal the actual velocity.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
26
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not to be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>B.4.15
Reading the Actual
Velocity of Controlled
Axes
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>732
</p>
<p>[Completion codes]
</p>
<p>0 : The actual velocity for the controlled axes has been read normally.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
26
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 4)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
&mdash;
</p>
<p>Actual velocity for controlled axes Unsigned binary
&lt;Data increments&gt;
�Input in mm
</p>
<p>1  mm/min
�Input in inches
</p>
<p>0.01 inch/min.
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>733
</p>
<p>[Description]
</p>
<p>The absolute coordinates of the CNC&ndash;controlled axes for movement can
be read.  The read absolute coordinates equal the absolute coordinates
(absolute position) indicated on the current position display screen in the
CNC.  (The screen is displayed by pressing function button POS.)
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
27
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
M
</p>
<p>(M = 1 to n or &ndash;1 )
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>M = 1 to n: Absolute coordinate of a specific 
axis.  n is the axis number.
</p>
<p>M = &ndash;1: Coordinates of all axes
</p>
<p>[Completion codes]
</p>
<p>0 : The absolute coordinates of the controlled axes have been read
normally.
</p>
<p>4 : Data specified as the data attribute is invalid because it is neither
&ndash;1 nor a value from 1 to n (n is the number of axes).  Alternatively,
the specified axis number is greater than the number of controlled
axes.
</p>
<p>B.4.16
Reading the Absolute
Position (Absolute
Coordinates) of
Controlled Axes
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>734
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
27
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 4*n, n is the number of 
axes specified.)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
L
</p>
<p>(L: Input data)
</p>
<p>Absolute coordinate of the controlled
axis specified (4 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
complement.)
</p>
<p>Value
</p>
<p>When the number of controlled axes is 4
</p>
<p>10 Absolute coordinate of the first axis 
(4 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
complement.)
</p>
<p>Value
</p>
<p>14 Absolute coordinate of the second axis
(4 bytes)
</p>
<p>18 Absolute coordinate of the third axis 
(4 bytes)
</p>
<p>22 Absolute coordinate of the fourth axis
(4 bytes)
</p>
<p>Output data unit
</p>
<p>Input system Incrementsystem IS&ndash;B
Increment
</p>
<p>system IS&ndash;C
</p>
<p>Machining center
system
</p>
<p>mm, deg
system 0.001 0.0001y
</p>
<p>Power Mate&ndash;D, F inch system 0.0001 0.00001
</p>
<p>Radius
specification mm, deg
</p>
<p>0.001 0.0001
</p>
<p>Lathe
Diameter
specification
</p>
<p>g
system
</p>
<p>0.001 0.0001
</p>
<p>system Radius
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>Diameter
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>735
</p>
<p>[Description]
</p>
<p>The machine coordinates of CNC&ndash;controlled axes for movement can be
read.  The read value equals the machine coordinate indicated on the
current position display screen displayed in the CNC.  (This screen can
be displayed by pressing the function button POS.)
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
28
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
M
</p>
<p>(M = 1 to n or &ndash;1 )
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>M = 1 to n: Machine coordinate of a specific
axis.  n is the axis number.
</p>
<p>M = &ndash;1: Coordinates of all axes
</p>
<p>[Completion codes]
</p>
<p>0 : The machine coordinates of the controlled axes have been read
normally.
</p>
<p>4 : Data specified as the data attribute is invalid because it is neither
&ndash;1 nor a value from 1 to n (n is the number of axes).  Alternatively,
the specified axis number is greater than the number of the
controlled axes.
</p>
<p>B.4.17
Reading the Machine
Position (Machine
Coordinates) of
Controlled Axes
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>736
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
28
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 4*n, n is the number of 
axes specified.)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
M
</p>
<p>(M: Input data)
</p>
<p>Machine coordinate of the controlled
axis specified (4 bytes)
</p>
<p>Signed binary
(A negative value is represented 
</p>
<p>in 2&rsquo;s complement.)
</p>
<p>Value
</p>
<p>When the number of controlled axes is 4
</p>
<p>10 Machine coordinate of the first axis 
(4 bytes)
</p>
<p>Signed binary
(A negative value is represented 
</p>
<p>in 2&rsquo;s complement.)
</p>
<p>Value
</p>
<p>14 Machine coordinate of the second axis
(4 bytes)
</p>
<p>18 Machine coordinate of the third axis 
(4 bytes)
</p>
<p>22 Machine coordinate of the fourth axis
(4 bytes)
</p>
<p>Output data unit
</p>
<p>Input system Incrementsystem IS&ndash;B
Increment
</p>
<p>system IS&ndash;C
</p>
<p>Machining center 
system
</p>
<p>mm, deg
system 0.001 0.0001y
</p>
<p>Power Mate&ndash;D, F inch system 0.0001 0.00001
</p>
<p>Radius
specification mm, deg
</p>
<p>0.001 0.0001
</p>
<p>Lathe
Diameter
specification
</p>
<p>g
system
</p>
<p>0.001 0.0001
</p>
<p>system Radius
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>Diameter
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>737
</p>
<p>[Description]
</p>
<p>When a block of the skip operation (G31) is executed by the CNC and the
skip signal goes on to stop the machine, the absolute coordinates of the
stop position on the axes of movement can be read.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
29
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
M
</p>
<p>(M = 1 to n or &ndash;1 )
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>M = 1 to n: Skip coordinate on a specific axis.
n is the axis number.
</p>
<p>M = &ndash;1: Coordinates on all axes
</p>
<p>[Completion codes]
</p>
<p>0 : The coordinates of the skip stop position for the controlled axes
have been read normally.
</p>
<p>4 : Data specified for the data attribute is invalid because it is neither
&ndash;1 nor a value from 1 to n (n is the number of axes).  Alternatively,
the specified axis number is greater than the number of controlled
axes.
</p>
<p>B.4.18
Reading a Skip
Position (Stop Position
of Skip Operation
(G31)) of Controlled
Axes
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>738
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
29
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 4*n, n is the number of 
axes specified.)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
M
</p>
<p>(M: Input data)
</p>
<p>Skip coordinate of the controlled axis
specified(4 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
</p>
<p>complement.)
</p>
<p>Value
</p>
<p>When the number of controlled axes is 4
</p>
<p>10 Skip coordinate of the second axis 
(4 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
</p>
<p>complement.)
</p>
<p>Value
</p>
<p>14 Skip coordinate of the third axis 
(4 bytes)
</p>
<p>18 Skip coordinate of the fourth axis 
(4 bytes)
</p>
<p>22 Skip coordinate of the first axis 
(4 bytes)
</p>
<p>Output data unit
</p>
<p>Input system Incrementsystem IS&ndash;B
Increment
</p>
<p>system IS&ndash;C
</p>
<p>Machining center 
system
</p>
<p>mm, deg
system 0.001 0.0001y
</p>
<p>Power Mate&ndash;D, F inch system 0.0001 0.00001
</p>
<p>Radius
specification mm, deg
</p>
<p>0.001 0.0001
</p>
<p>Lathe
Diameter
specification
</p>
<p>g
system
</p>
<p>0.001 0.0001
</p>
<p>system Radius
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>Diameter
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>739
</p>
<p>[Description]
</p>
<p>The servo delay, which is the difference between the specified coordinates
of CNC&ndash;controlled axes and the actual servo position, can be read.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
30
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
M
</p>
<p>(M = 1 to n or &ndash;1 )
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>M = 1 to n: Servo delay for a specific axis
</p>
<p>M = &ndash;1: Servo delay for all axes
</p>
<p>B.4.19
Reading the Servo
Delay for Controlled
Axes
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>740
</p>
<p>[Completion codes]
</p>
<p>0 : The servo delay  for the controlled axes have been read normally.
</p>
<p>4 : The data specified as the data attribute is invalid because it is
neither &ndash;1 nor a value from 1 to n (n is the number of axes).
Alternatively, the specified axis number is greater than the number
of controlled axes.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
30
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 4*n, n is the number of 
axes specified.)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
M
</p>
<p>(M: Input data)
</p>
<p>Servo delay for the controlled axis spe-
cified (4 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
</p>
<p>complement.)
</p>
<p>Value
</p>
<p>When the number of controlled axes is 4
</p>
<p>10 Servo delay for the first axis (4 bytes) Signed binary
(A negative value is represented in 2&rsquo;s
</p>
<p>complement.)
</p>
<p>Value
</p>
<p>14 Servo delay for the second axis 
(4 bytes)
</p>
<p>18 Servo delay for the third axis (4 bytes)
</p>
<p>22 Servo delay for the fourth axis 
(4 bytes)ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>741
</p>
<p>[Description]
</p>
<p>The acceleration/deceleration delay, which is the difference between the
coordinates of controlled axes programmed in the CNC and the position
after acceleration/deceleration is performed, can be read.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
31
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
M
</p>
<p>(M = 1 to n or &ndash;1 )
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>M = 1 to n: Acceleration/deceleration delay for a 
specific axis
</p>
<p>M = &ndash;1: Acceleration/deceleration delay for all
axes
</p>
<p>[Completion codes]
</p>
<p>0 : The acceleration/deceleration delay  for the control axis has been
read normally.
</p>
<p>4 : The data specified as the data attribute is invalid because it is
neither &ndash;1 nor a value from 1 to n (n is the number of axes).
Alternatively, the specified axis number is greater than the number
of controlled axes.
</p>
<p>B.4.20
Reading the
Acceleration/
Deceleration Delay on
Controlled Axes
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>742
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
31
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 4*n, n is the number of 
axes specified.)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
M
</p>
<p>(M: Input data)
</p>
<p>Acceleration/deceleration delay for the
 controlled axis specified (4 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
</p>
<p>complement.)
</p>
<p>Value
</p>
<p>When the number of controlled axes is 4
</p>
<p>10 Acceleration/deceleration delay for the
first axis (4 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
</p>
<p>complement.)
14 Acceleration/deceleration delay for the
</p>
<p>second axis (4 bytes)
</p>
<p>18 Acceleration/deceleration delay for the
third axis (4 bytes)
</p>
<p>22 Acceleration/deceleration delay for the
fourth axis (4 bytes)
</p>
<p>Output data unit
</p>
<p>Input system Incrementsystem IS&ndash;B
Increment
</p>
<p>system IS&ndash;C
</p>
<p>Machining center 
system
</p>
<p>mm, deg
system 0.001 0.0001y
</p>
<p>Power Mate&ndash;D, F inch system 0.0001 0.00001
</p>
<p>Radius
specification mm, deg
</p>
<p>0.001 0.0001
</p>
<p>Lathe
Diameter
specification
</p>
<p>g
system
</p>
<p>0.001 0.0001
</p>
<p>system Radius
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>Diameter
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>743
</p>
<p>[Description]
</p>
<p>Modal information can be read from the CNC.
</p>
<p>(1) Format and types of modal data for the G function
</p>
<p>Data corresponding to the specified identification code is read and
stored in the data area.  Whether the data is specified in the block
specified in the attribute of the data is determined by the value at the
most significant bit.
</p>
<p>7 0
</p>
<p>Code in a group 1byte
</p>
<p>0:  Not specified in the block
</p>
<p>1:  Specified in the block
</p>
<p>6 5 4 3 2 1
</p>
<p>1byte
</p>
<p>�
</p>
<p>NOTE
G codes for machining centers are also used for the Power
Mate&ndash;D and &ndash;F except those marked with *. G codes marked
with ** are not provided for the Power Mate&ndash;F.
</p>
<p>  (1/2)
</p>
<p>Data type Data Data type Data
</p>
<p>Identificati G code for machining
(M)
</p>
<p>Code in a G code for lathe (T, G) Code in a
on code center (M) group A series B series C series group
</p>
<p>0
</p>
<p>G00
G01
</p>
<p>��G02
��G03
�G33
</p>
<p>0
1
2
3
4
</p>
<p>G00
G01
G02
G03
G32
G33
G34
G90
G92
G94
G71
G72
G73
G74
</p>
<p>G
series
only
</p>
<p>G00
G01
G02
G03
G33
</p>
<p>G34
G77
G78
G79
G71
G72
G73
G74
</p>
<p>G
series
only
</p>
<p>G00
G01
G02
G03
G33
</p>
<p>G34
G20
G21
G24
G72
G73
G74
G75
</p>
<p>G
series
only
</p>
<p>0
1
2
3
4
8
9
5
6
7
10
11
12
13
</p>
<p>1
G17
G18
G19
</p>
<p>0
8
4
</p>
<p>G96
G97
</p>
<p>G96
G97
</p>
<p>G96
G97
</p>
<p>1
0
</p>
<p>2 G90
G91
</p>
<p>0
1
</p>
<p>G90
G91
</p>
<p>G90
G91
</p>
<p>0
1
</p>
<p>3 G68
G69
</p>
<p>G68
G69
</p>
<p>G68
G69
</p>
<p>1
0
</p>
<p>4 G94
G95
</p>
<p>0
1
</p>
<p>G98
G99
</p>
<p>G94
G95
</p>
<p>G94
G95
</p>
<p>0
1
</p>
<p>5 G20
G21
</p>
<p>0
1
</p>
<p>G20
G21
</p>
<p>G20
G21
</p>
<p>G70
G71
</p>
<p>0
1
</p>
<p>B.4.21
Reading Modal Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>744
</p>
<p>  (2/2)
</p>
<p>DataData typeDataData type
</p>
<p>Identificati
on code
</p>
<p>Code in a
group
</p>
<p>G code for lathe (T, G)Code in a
group
</p>
<p>G code for machining
center (M)
</p>
<p>Identificati
on code
</p>
<p>Code in a
groupC seriesB seriesA series
</p>
<p>Code in a
group
</p>
<p>G code for machining
center (M)
</p>
<p>6
�G40
�G41
�G42
</p>
<p>0
1
2
</p>
<p>G40
G41
G42
</p>
<p>G40
G41
G42
</p>
<p>G40
G41
G42
</p>
<p>0
1
2
</p>
<p>7
G43
G44
G49
</p>
<p>1
2
0
</p>
<p>G25
G26
</p>
<p>G25
G26
</p>
<p>G25
G26
</p>
<p>0
1
</p>
<p>8
</p>
<p>G73
G74
G76
G80
G81
G82
G83
G84
G85
G86
G87
G88
G89
</p>
<p>10
11
12
0
1
2
3
4
5
6
7
8
9
</p>
<p>G22
G23
</p>
<p>G22
G23
</p>
<p>G22
G23
</p>
<p>1
0
</p>
<p>9
</p>
<p>�G98
�G99
</p>
<p>0
1
</p>
<p>G80
G83
G84
G85
G87
G88
G89
</p>
<p>G80
G83
G84
G85
G87
G88
G89
</p>
<p>G80
G83
G84
G85
G87
G88
G89
</p>
<p>0
1
2
3
5
6
7
</p>
<p>10 �G50
�G51
</p>
<p>0
1
</p>
<p>G98
G99
</p>
<p>G98
G99
</p>
<p>0
1
</p>
<p>11 G66
G67
</p>
<p>1
0
</p>
<p>G66
G67
</p>
<p>G66
G67
</p>
<p>G66
G67
</p>
<p>1
0
</p>
<p>13
</p>
<p>�G54
�G55
�G56
�G57
�G58
�G59
</p>
<p>0
1
2
3
4
5
</p>
<p>G54
G55
G56
G57
G58
G59
</p>
<p>G54
G55
G56
G57
G58
G59
</p>
<p>G54
G55
G56
G57
G58
G59
</p>
<p>0
1
2
3
4
5
</p>
<p>14
</p>
<p>�G61
�G62
�G63
�G64
</p>
<p>1
2
3
0
</p>
<p>15 �G68
�G69
</p>
<p>1
0
</p>
<p>16 �G15
�G16
</p>
<p>0
1
</p>
<p>17
G40.1
G41.1
G42.1
</p>
<p>1
2
0
</p>
<p>18 G25
G26
</p>
<p>0
1
</p>
<p>19 G50.2
G51.2
</p>
<p>G50.2
G51.2
</p>
<p>G50.2
G51.2
</p>
<p>0
1
</p>
<p>20 G13.1
G12.1
</p>
<p>0
1
</p>
<p>G13.1
G12.1
</p>
<p>G13.1
G12.1
</p>
<p>G13.1
G12.1
</p>
<p>0
1
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>745
</p>
<p>(2) Format and types of modal data for other than the G function
</p>
<p>Number of input digits
</p>
<p>0: Positive
</p>
<p>1: Negative
</p>
<p>4 bytes
</p>
<p>1 byte
</p>
<p>Data
</p>
<p>FLAG2
</p>
<p>&ndash;
</p>
<p>0: Not specified in the current block
</p>
<p>1: Specified in the current block
</p>
<p>FLAG1 1 byte
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>0: A decimal point not specified
</p>
<p>1: A decimal point specified
</p>
<p>Number of decimal places&ndash;&ndash;&ndash;&ndash; &ndash;
</p>
<p>The specification of whether a decimal point is specified or not, in FLAG1,
and the specification of the number of decimal places, in FLAG2, are valid
only for F code.  Even if a decimal point is not specified, the number of deci-
mal places may not be 0.
</p>
<p>Data type
Identification code Specified address
</p>
<p>&ndash;2 Enter identification codes
100 to 126 at one time.
</p>
<p>100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
</p>
<p>B
D
E
F
H
L
M
S
T
R
P
Q
A
C
I
J
K
N
O
U
V
W
X
Y
Z
</p>
<p>M2
M3
</p>
<p>(second auxiliary function)
</p>
<p>(reserved)
</p>
<p>NOTE
The Power Mate&ndash;D or &ndash;F is not provided with the second
auxiliary function.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>746
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
32
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N: Data type)
</p>
<p>(Data attribute)
M
</p>
<p>(M: Specified block )
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>20
</p>
<p>M = 0 : Current block
</p>
<p>M = 1 : Next block
</p>
<p>M = 2 : Block after the next block
</p>
<p>N = 0 to : See the list of data explained 
above.
</p>
<p>N = &ndash;1: All data for G function
</p>
<p>N = &ndash;2: All data for other than G function
</p>
<p>When all data items are specified to be read, the data items are all output
</p>
<p>simultaneously in the order specified in the above data table.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>747
</p>
<p>[Completion codes]
</p>
<p>0 : Modal information has been read normally.
</p>
<p>3 : Invalid data is specified as the data number.
</p>
<p>4 : Invalid data is specified as the data attribute.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
32
</p>
<p>(See the explanation above
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 2, 6, 2*n,  6*m)
</p>
<p>(Data number)
N
</p>
<p>(N: Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M: Input data)
</p>
<p>Modal data for G function (2 bytes) See the data format for the G function.
The upper byte must always be set to 0.
</p>
<p>Value
</p>
<p>8
</p>
<p>10
</p>
<p>(Data attribute)
M
</p>
<p>(M: Input data)
</p>
<p>Data part of modal data for other than
G function(4 bytes)
</p>
<p>See the data format for other than the
G function.
</p>
<p>Value
</p>
<p>14 Flag part of modal data for other than
G function(2 bytes)
</p>
<p>See the flag format of the data for other
than the G function.  The upper byte
must always be set to 0.
</p>
<p>Or
</p>
<p>L = 2 : G function
</p>
<p>L = 2*n : All data for G function
</p>
<p>L = 6 : Other than G function
</p>
<p>L = 6*m : All data for other than G function
(n:  Number of groups for the G function)
(m:  Number of types other than for the G function)
</p>
<p>When all data items are specified to be read, the data items are all output
simultaneously in the order specified in the above data table.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>748
</p>
<p>[Description]
</p>
<p>The information displayed on the diagnosis data screen in the CNC can
be read.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
33
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N: Diagnosis No.)
</p>
<p>(Data attribute)
M
</p>
<p>(M: 0, 1 to n, or &ndash;1)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>M = 0 : No axis
</p>
<p>M = 1 to n: One axis
</p>
<p>M = &ndash;1: All axes
</p>
<p>B.4.22
Reading Diagnosis
Data (�Low&ndash;Speed
Response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>749
</p>
<p>[Completion codes]
</p>
<p>0 : Diagnosis data has been read from the CNC normally.
</p>
<p>3 : The specified diagnosis data number is invalid.
</p>
<p>4 : The data specified as the data attribute is invalid because it is
neither 0, &ndash;1, nor a value from 1 to n (n is the number of axes).
</p>
<p>6 : An option required for reading the specified diagnosis data, such
as the remote buffer option, is not provided.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
33
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 1, 2, 4, 1*n, 2*n, 4*n)
</p>
<p>(Data number)
N
</p>
<p>(N: Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M: Input data)
</p>
<p>Diagnosis data Data&ndash;dependent form
</p>
<p>Value
</p>
<p>When no axis or one axis is specified
L = 1 : Bit or byte parameter
L = 2: Word parameter
L = 4: Double Word parameter
</p>
<p>When all axes are specified
L = 1*n Bit or byte parameter
L = 2*n: Word parameter
L = 4*n: Double word parameter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>750
</p>
<p>[Description]
</p>
<p>The load current for the CNC control axis can be converted to analog
voltage, and input to the A/D converter in the CNC to obtain digital data.
The output of the A/D converter can then be read.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
34
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N: Type of analog voltage)
</p>
<p>(Data attribute)
M
</p>
<p>(M &ndash; 1 to 8: Axis specification)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(a) Type of analog voltage (data number)
</p>
<p>N Type of analog voltage
</p>
<p>0 General&ndash;purpose analog voltage information 
(for four channels)
</p>
<p>2 Load information for the CNC&ndash;controlled axes
</p>
<p>NOTE
Only one&ndash;path control of the Power Mate MODEL&ndash;D is
provided with one channel of general&ndash;purpose analog
voltage information.
</p>
<p>B.4.23
Reading A/D
Conversion Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>751
</p>
<p>(b) Specifying a CNC&ndash;controlled axis (data attribute)
</p>
<p>Specify a CNC&ndash;controlled axis for which the voltage conversion
data for the load current is to be read.  Data must be specified
according to the following table:
</p>
<p>Specification of CNC controlled&ndash;axis
</p>
<p>Specified data Connector in the CNC
</p>
<p>1
2
3
4
5
6
7
8
</p>
<p>JV1 (MAIN  BOARD)
JV2 (MAIN  BOARD)
JV3 (MAIN  BOARD)
JV4 (MAIN  BOARD)
JV5 (OPTION  BOARD)
JV6 (OPTION  BOARD)
JV7 (OPTION  BOARD)
JV8 (OPTION  BOARD)
</p>
<p>[Completion codes]
</p>
<p>0 : A/D conversion data has been read normally.
</p>
<p>3 : The data specified for the data number is invalid.
</p>
<p>4 : The data specified for the data attribute is invalid, or the specified
axis number is greater than the number of controlled axes.
</p>
<p>6 : No analog input module is connected.
</p>
<p>[Output data structure]
</p>
<p>A/D conversion data (2 bytes)
AD
</p>
<p>For general purpose analog
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
34
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
2
</p>
<p>(Data number)
N
</p>
<p>(Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(Input data)
</p>
<p>A/D conversion data (2 bytes)
AD
</p>
<p>For CNC controlled axis 
load information
</p>
<p>Binary number from 0 to �6554
</p>
<p>Value
</p>
<p>Binary number from 0 to 255
</p>
<p>10
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>752
</p>
<p>(a) A/D conversion data (AD) of CNC controlled axis load information
</p>
<p>The load current for the specified CNC controlled axis is converted
into analog voltage, the input to the A/D converter to output a digital
data.
</p>
<p>The value actually set in the AD field is obtained from the following
formula:
</p>
<p>(AD � 128) � N
7282
</p>
<p>� Load current [Apeak]
</p>
<p>AD = A/D conversion data [Value read by the window function (�)]
N = Nominal current limit for the amplifier corresponding to the motor
</p>
<p>For the nominal current limits, see the table below or the
descriptions of the control motor.
</p>
<p>(b) A/D conversion data (A/D) for general&ndash;purpose analog voltage
information
</p>
<p>In A/D conversion data (A/D), 0 corresponds to &ndash;10V, 128
corresponds to 0V, 255 corresponds to +10V, and other values
correspond in a direct proportion to these values.
</p>
<p>(AD � 128) � N
128
</p>
<p>� Load current [Apeak]
</p>
<p>AD = A/D conversion data [Value read by the window function (�)]
N = Nominal current limit for the amplifier corresponding to the motor
</p>
<p>For the nominal current limits, see the table below or the descrip-
tions of the control motor.
</p>
<p>Servo amplifier module Applicable motor model Output current at
rated output
</p>
<p>Nominal current limit
</p>
<p>Model Connected axis
rated  output
</p>
<p>SVM1&ndash;12
SVM2&ndash;12/12
SVM2&ndash;12/20
SVM2&ndash;12/40
SVM3&ndash;12/12/12
SVM3&ndash;12/12/20
SVM3&ndash;12/20/20
SVM3&ndash;12/12/40
SVM3&ndash;12/20/40
</p>
<p>L and M axes
L axis
L axis
L, M, and N axes
L and M axes
L axis
L and M axes
L axis
</p>
<p>α ��������
α ������
α ������
α ������
</p>
<p>2.9Arms 12Ap
</p>
<p>SVM1&ndash;20
SVM2&ndash;12/20
SVM2&ndash;20/20
SVM2&ndash;20/40
SVM3&ndash;12/12/20
SVM3&ndash;12/20/20
SVM3&ndash;20/20/20
SVM3&ndash;12/20/40
SVM3&ndash;20/20/40
</p>
<p>M axis
L and M axes
L axis
N axis
M and N axes
L, M, and N axes
M axis
L and M axes
</p>
<p>α 	������
α 	������
</p>
<p>α 	�������
</p>
<p>5.8Arms 20Ap
</p>
<p>SVM1&ndash;40S α ������
α ������
</p>
<p>α �������
α 
������
</p>
<p>5.8Arms 40Ap
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>753
</p>
<p>Servo amplifier module Nominal current limitOutput current at
rated output
</p>
<p>Applicable motor model
</p>
<p>Model
</p>
<p>Nominal current limitOutput current at
rated output
</p>
<p>Applicable motor model
</p>
<p>Connected axis
</p>
<p>SVM2&ndash;12/40
SVM2&ndash;20/40
SVM2&ndash;40/40
SVM3&ndash;12/12/40
SVM3&ndash;12/20/40
SVM3&ndash;20/20/40
</p>
<p>M axis
M axis
M axis
N axis
N axis
N axis
</p>
<p>α 	�	���
α ������
</p>
<p>α �������
α �	�	���
α �	�	���
</p>
<p>α ��������
</p>
<p>12.2Arms 40Ap
</p>
<p>SVM1&ndash;40L
SVM2&ndash;40/80 L axis
</p>
<p>α 	�	���
α ������
</p>
<p>α �������
α �������
α �	�	���
α �	�	���
</p>
<p>α ��������
</p>
<p>12.2Arms 40Ap
</p>
<p>SVM1&ndash;80
SVM2&ndash;40/80
SVM2&ndash;80/80
</p>
<p>L axis
L and M axes
</p>
<p>α ��	���
α ���	���
α �������
α 	������
α ���	���
α �&#13;�	���
α ���	���
α �&#13;�	���
</p>
<p>18.4Arms 80Ap
</p>
<p>SVM1&ndash;130 α 	������
α 
������
</p>
<p>26.7Arms 130Ap
</p>
<p>α ���	���
α 	��	���
</p>
<p>α 
������ ����� � ����
α ����	���
α ��������
</p>
<p>����Arms
</p>
<p>(Note3)
</p>
<p>NOTE
1 The rated output is guaranteed at the rated input voltage. If an input voltage fluctuation occurs
</p>
<p>even within the allowable fluctuation range, the rated output may not be obtained.
2 The current limits (peak values) are standard values. The operation value variation due to a
</p>
<p>circuit constant is about +10%.
3 SVM1&ndash;130 requires forced air cooling when the α 22/3000, α 30/3000, α 40/2000 (with a fan),
</p>
<p>α L25/3000, or α L50/2000 is driven. At this time, the rated output current is 51.0 Arms.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>754
</p>
<p>[Description]
</p>
<p>By specifying a tool No., the No. of the tool group to which the specified
</p>
<p>tool belongs can be read from tool life management data.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
38
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
M
</p>
<p>(M : Tool No.)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>NOTE
If 0 is specified for the tool No., the No. of the tool group
currently used is read.  In this case, if a tool group No. has
not been specified since the power to the CNC was turned
on, 0 is output.
If the same tool belongs to two or more tool groups, the Nos.
of all tool groups to which the tool belongs are displayed.
</p>
<p>B.4.24
Reading Tool Life
Management Data 
(Tool Group No.)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>755
</p>
<p>[Completion codes]
</p>
<p>0 : The tool group No. has been read normally.
</p>
<p>4 : The value specified for the data attribute is invalid.
</p>
<p>5 : The specified tool No. was not found.
</p>
<p>6 : The tool life management option has not been added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
38
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 4 � n)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
M
</p>
<p>(M: Input data)
</p>
<p>Tool group No. (4 bytes) Unsigned binary
</p>
<p>Value
</p>
<p>When the specified tool belongs to two or more tool groups
</p>
<p>10 Tool group No. (4 bytes) Unsigned binary
</p>
<p>14 Tool group No. (4 bytes)
</p>
<p>18 Tool group No. (4 bytes)
</p>
<p>L = 4 to 4 � n
n is the number of tool groups to 
which the specified tool belongs.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>756
</p>
<p>[Description]
</p>
<p>The number of tool groups in tool life management data can be read.
</p>
<p>The number of tool groups that can be registered varies depending on the
setting of parameter 6800 of the CNC, as indicated in the following table.
</p>
<p>Parameter 6800
</p>
<p>GS2 GS1
</p>
<p>Number of tools
The numbers in parentheses apply when the additional
option is used
</p>
<p>M series T series
</p>
<p>0 0 1 to 16 (1 to 64) 1 to 16 (1 to 16)
</p>
<p>0 1 1 to 32 (1 to 128) 1 to 32 (1 to 32)
</p>
<p>1 0 1 to 64 (1 to 256) 1 to 64 (1 to 64)
</p>
<p>1 1 1 to 128 (1 to 512) 1 to 16 (1 to 128)
</p>
<p>M series:  For Machining Centers T series:  For Lathes
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
39
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>B.4.25
Reading Tool Life
Management Data
(Number of Tool
Groups)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>757
</p>
<p>[Completion codes]
</p>
<p>0 : The number of tool group Nos. has been read normally.
</p>
<p>6 : The tool life management option has not been added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
39
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
&mdash;
</p>
<p>Number of tool groups (4 bytes) Unsigned binary
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>758
</p>
<p>[Description]
</p>
<p>By specifying a tool group No., the number of tools that belong to the tool
group can be read from tool life management data.
</p>
<p>The number of tools that can be registered varies depending on the setting
of parameter 6800 of the CNC, as indicated in the following table.
</p>
<p>Parameter 6800
</p>
<p>GS2 GS1
</p>
<p>Number of tools
The numbers in parentheses apply when the additional
option is used
</p>
<p>M series T series
</p>
<p>0 0 1 to 16 (1 to 64) 1 to 16 (1 to 16)
</p>
<p>0 1 1 to 32 (1 to 128) 1 to 32 (1 to 32)
</p>
<p>1 0 1 to 64 (1 to 256) 1 to 64 (1 to 64)
</p>
<p>1 1 1 to 128 (1 to 512) 1 to 16 (1 to 128)
</p>
<p>M series:  For Machining Centers T series:  For Lathes
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
40
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N: Tool group No.)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>B.4.26
Reading Tool Life
Management Data
(Number of Tools)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>759
</p>
<p>NOTE
If 0 is specified for the tool group No., the number of tools
that belong to the tool group currently used is read.  In this
case, if a tool group No. has not been specified since the
power to the CNC was turned on, 0 is output.
</p>
<p>[Completion codes]
</p>
<p>0 : The number of tools has been read normally.
</p>
<p>3 : The specified tool group No. is invalid.
</p>
<p>6 : The tool life management option has not been added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
40
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N:  Input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>Number of tools (4 bytes) Unsigned binary
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>760
</p>
<p>[Description]
</p>
<p>By specifying a tool group No., the life of tools belonging to the tool
group can be read from tool life management data.
</p>
<p>Whether to display the tool life in minutes or the number of cycles is
selected by bit 2 of parameter 6800 (LTM) for the CNC.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
41
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N:  Tool group No.)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>NOTE
If 0 is specified for the tool group No., the tool life of the tool
group currently used is read.  In this case, if a tool group No.
has not been specified since the power to the CNC was
turned on, 0 is output.
</p>
<p>B.4.27
Reading Tool Life
Management Data 
(Tool Life)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>761
</p>
<p>[Completion codes]
</p>
<p>0 : The tool life has been read normally.
</p>
<p>3 : The specified tool group No. is invalid.
</p>
<p>6 : The tool life management option has not been added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
41
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N:  Input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>Tool life (4 bytes) Unsigned binary
Unit:  Time (minutes) or 
</p>
<p>number of cycles
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>762
</p>
<p>[Description]
</p>
<p>By specifying a tool group No., the tool life counter for the specified tool
group can be read from tool life management data.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
42
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N:  Tool group No.)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>NOTE
If 0 is specified for the tool group No., the tool life counter
for the tool group currently used is read.  In this case, if a tool
group No. has not been specified since the power to the
CNC was turned on, 0 is output.
</p>
<p>B.4.28
Reading Tool Life
Management Data 
(Tool Life Counter)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>763
</p>
<p>[Completion codes]
</p>
<p>0 : The tool life has been read normally.
</p>
<p>3 : The specified tool group No. is invalid.
</p>
<p>6 : The tool life management option has not been added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
42
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N:  Input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>Tool life counter (4 bytes) Unsigned binary
Unit:  Time (minutes) or 
</p>
<p>number of cycles
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>764
</p>
<p>[Description]
</p>
<p>By specifying a tool group No. and a tool No., the tool length
compensation No. for the specified tool can be read from tool life
management data.  This function is available only with the M series
CNCs.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
43
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N:  Tool group No.)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Tool No.)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>NOTE
If 0 is specified for both the tool group No. and tool No., the
Nos. of the tool group and tool currently used are read.  In
this case, if a tool group No. has not been specified since
the power to the CNC was turned on, 0 is output.
For the T series CNCs, 0 is always output.
</p>
<p>B.4.29
Reading Tool Life
Management Data 
(Tool Length
Compensation No. (1):
Tool No.)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>765
</p>
<p>[Completion codes]
</p>
<p>0 : The tool length compensation No. has been read normally.
</p>
<p>3 : The specified tool group No. is invalid.
</p>
<p>4 : The specified tool No. is invalid.
</p>
<p>5 : The specified tool No. was not found in the specified tool group.
</p>
<p>6 : The tool life management option has not been added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
43
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N:  Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Input data)
</p>
<p>Tool length compensation No. (4 bytes) Unsigned binary
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>766
</p>
<p>[Description]
</p>
<p>By specifying a tool group No. and tool order No., the tool length
compensation No. for the specified tool can be read from tool life
management data.  This function is available only with the M series CNCs.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
44
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N:  Tool group No.)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Tool order No.)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>NOTE
If 0 is specified for the tool group No., the No. of the tool
group currently used is read.  In this case, if a tool group No.
has not been specified since the power to the CNC was
turned on, 0 is output.
When 0 is specified for the tool order No., if the specified tool
group has been used, the tool currently used is read.  In this
case, if the specified tool group has not been used, the first
tool in the group is read.
For the T series CNCs, 0 is always output.
</p>
<p>B.4.30
Reading Tool Life
Management Data 
(Tool Length
Compensation No. (2):
Tool Order  No.)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>767
</p>
<p>[Completion codes]
</p>
<p>0 : The tool length compensation No. has been read normally.
</p>
<p>3 : The specified tool group No. is invalid.
</p>
<p>4 : The specified tool order is invalid.
</p>
<p>5: The tool having the specified tool order is not registered in the
specified tool group.
</p>
<p>6 : The tool life management option has not been added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
44
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N:  Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Input data)
</p>
<p>Tool length compensation No. (4 bytes) Unsigned binary
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>768
</p>
<p>[Description]
</p>
<p>By specifying a tool group No. and a tool No., the cutter compensation
No. for the specified tool can be read from tool life management data.
This function is available only with the M series CNCs.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
45
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N:  Tool group No.)
</p>
<p>(Data attribute)
M
</p>
<p>(M : Tool No.)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>NOTE
If 0 is specified for both tool group No. and tool No., the Nos.
of the tool group and tool currently used are read.  If a tool
group No. has not been specified since the power to the
CNC was turned on, 0 is output.
For the T series CNCs, 0 is always read.
</p>
<p>B.4.31
Reading Tool Life
Management Data
(Cutter Compensation
No. (1):  Tool No.)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>769
</p>
<p>[Completion codes]
</p>
<p>0 : The cutter compensation No. has been read normally.
</p>
<p>3 : The specified tool group No. is invalid.
</p>
<p>4 : The specified tool No. is invalid.
</p>
<p>5 : The specified tool No. was not found in the specified tool group.
</p>
<p>6 : The tool life management option has not been added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
45
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N:  Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M: Input data)
</p>
<p>Cutter compensation No. (4 bytes) Unsigned binary
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>770
</p>
<p>[Description]
</p>
<p>By specifying a tool group No. and a tool order No., the cutter compensation
No. for the specified tool can be read from tool life management data.  This
function is available only with the M series CNCs.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
46
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N:  Tool group No.)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Tool order No.)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>NOTE
If 0 is specified for the tool group No., the No. of the tool
group currently used is referenced.  In this case, if a tool
group No. has not been specified since the power to the
CNC was turned on, 0 is output.
When 0 is specified for the tool order No., if the specified tool
group has been used, the tool currently used is read.  In this
case, if the specified tool group has not been used, the first
tool in the group is referred to.
For the T series CNCs, 0 is always output.
</p>
<p>B.4.32
Reading Tool Life
Management Data
(Cutter Compensation
No. (2):  Tool Order
No.)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>771
</p>
<p>[Completion codes]
</p>
<p>0 : The cutter compensation No. has been read normally.
</p>
<p>3 : The specified tool group No. is invalid.
</p>
<p>4 : The specified tool order No. is invalid.
</p>
<p>5: The tool having the specified tool order is not registered in the
specified tool group.
</p>
<p>6 : The tool life management option has not been added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
46
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N:  Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Input data)
</p>
<p>Cutter compensation No. (4 bytes) Unsigned binary
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>772
</p>
<p>[Description]
</p>
<p>By specifying a tool group No. and a tool No., the information for the
specified tool can be read from tool life management data.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
47
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N:  Tool group No.)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Tool No.)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>NOTE
If 0 is specified for both tool group No. and tool No., the Nos.
of the tool group and tool currently used are referenced.
If neither a tool group No. nor a tool No. has been specified
since the power to the CNC was turned on, 0 is output.
</p>
<p>B.4.33
Reading Tool Life
Management Data 
(Tool Information (1) :
Tool No.)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>773
</p>
<p>[Completion codes]
</p>
<p>0 : The tool group No. has been read normally.
</p>
<p>3 : The specified tool group No. is invalid.
</p>
<p>4 : The specified tool No. is invalid.
</p>
<p>5 : The specified tool No. was not found in the specified tool group.
</p>
<p>6 : The tool life management option has not been added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
47
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N:  Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Input data)
</p>
<p>Number of tools (4 bytes) 0:  See Note) on the previous page.
1:  The tool is registered.
2:  The tool has reached the end of its life.
3:  The tool was skipped.
The three high&ndash;order bytes are fixed to 0.
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>774
</p>
<p>[Description]
</p>
<p>By specifying a tool group No. and a tool order No., the information for
the specified tool can be read from tool life management data.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
48
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N:  Tool group No.)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Tool order No.)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>NOTE
If 0 is specified for the tool group No., the No. of the tool
group currently used is read.  If a tool group No. has not
been specified since the power to the CNC was turned on,
0 is output.
When 0 is specified for the tool order No., if the specified tool
group has ever been used, the tool currently used is read.
In this case, if the specified tool group has not been used,
the first tool in the group is referred to.
</p>
<p>B.4.34
Reading Tool Life
Management Data 
(Tool Information (2):
Tool Order No.)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>775
</p>
<p>[Completion codes]
</p>
<p>0 : The tool group No. has been read normally.
</p>
<p>3 : The specified tool group No. is invalid.
</p>
<p>4 : The specified tool order No. is invalid.
</p>
<p>5: The tool having the specified tool order is not registered in the
specified tool group.
</p>
<p>6 : The tool life management option has not been added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
48
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N:  Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Input data)
</p>
<p>Tool information (4 bytes) 0:  See Note) on the previous page.
1:  The tool is registered.
2:  The tool has reached the end of its life.
3:  The tool was skipped.
The three high&ndash;order bytes are fixed to 0.
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>776
</p>
<p>[Description]
</p>
<p>By specifying a tool group No. and a tool order No., the No. of the
corresponding tool can be read from tool life management data.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
49
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N:  Tool group No.)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Tool order No.)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>NOTE
When 0 is specified for the tool group No., the tool group
currently used is referenced.  If neither a tool group No. nor
a tool No. has been specified since the power to the CNC
was turned on, however, 0 is output for the tool group No.
When 0 is specified for the tool order No., if the specified tool
group has been used, the tool currently used is referred to.
If the specified tool group has not been used, the first tool
in the group is referenced.
</p>
<p>B.4.35
Reading Tool Life
Management Data 
(Tool No.)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>777
</p>
<p>[Completion codes]
</p>
<p>0 : The tool No. has been read normally.
</p>
<p>3 : The specified tool group No. is invalid.
</p>
<p>4 : The specified tool order No. is invalid.
</p>
<p>6 : The tool life management option has not been added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
49
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N:  Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Input data)
</p>
<p>Tool No. (4 bytes) Unsigned binary
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>778
</p>
<p>[Description]
</p>
<p>The actual speed of the spindle can be read from the CNC.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
50
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>B.4.36
Reading the Actual
Spindle Speed
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>779
</p>
<p>[Completion codes]
</p>
<p>0 : The actual speed of the spindle has been read normally.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
50
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
&mdash;
</p>
<p>Actual spindle speed Unsigned binary
&lt;Data unit&gt;
</p>
<p>rpm
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>780
</p>
<p>[Description]
</p>
<p>On the program check screen of the CNC, data can be entered for the
spindle tool No. and the next tool No.  This function is available only with
the M series CNCs.
</p>
<p>This function is effective only when bit 2 of parameter 3108 is 1.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
150
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N = 0, 1)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>Data for the spindle tool No. 
(4 bytes) 
or data for the next tool No.
(4 bytes)
</p>
<p>Unsigned binary
</p>
<p>Value
</p>
<p>N = 0 : Spindle tool No. (8 digits)
</p>
<p>N = 1 : Next tool No. (8 digits)
</p>
<p>B.4.37
Entering Data on the
Program Check Screen
(�Low&ndash;Speed
response)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>781
</p>
<p>[Completion codes]
</p>
<p>0 : Data has been entered on the program check screen normally.
</p>
<p>2 : The data length in bytes is invalid.
</p>
<p>3 : The data No. is invalid.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
150
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
4
</p>
<p>(Input data)
</p>
<p>(Data number)
N
</p>
<p>(Input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Input data)
</p>
<p>Data for the spindle tool No. 
(4 bytes) 
or data for the next tool No.
(4 bytes)
</p>
<p>Unsigned binary
</p>
<p>Value
</p>
<p>N = 0 : Spindle tool No. (8 digits)
</p>
<p>N = 1 : Next tool No. (8 digits)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>782
</p>
<p>[Description]
</p>
<p>The current date (year, month, day) and time (hours, minutes, seconds)
can be read from the clock built into the CNC.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
151
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N = 0, 1)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>N = &ndash;1: Reads current date and time.
</p>
<p>N = 0: Reads current date.
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>N = 1: Reads current time.
</p>
<p>[Completion codes]
</p>
<p>0 : Data of the clock built into the CNC has been read normally.
</p>
<p>3 : A value other than 0, 1, and &ndash;1 was specified for the data No.
</p>
<p>B.4.38
Reading Clock Data
(Date and Time)
(Not available for
Power Mate&ndash;F)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>783
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
151
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
6/12
</p>
<p>(Data number)
N
</p>
<p>(Input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Input data)
</p>
<p>Current date (year) or time (hours) Unsigned binary
</p>
<p>Value
</p>
<p>Current date (month) or time (minutes)
12
</p>
<p>Current date (day) or time (seconds)
14
</p>
<p>When both the current date and current time are specified to be read by entering [&ndash;1] for the data No.
</p>
<p>10
</p>
<p>&mdash;
(Input data)
</p>
<p>Current date (year) Unsigned binary
</p>
<p>Value
</p>
<p>Current date (month)
12
</p>
<p>14
Current date (day)
</p>
<p>Current time (hours)
16
</p>
<p>18
Current time (minutes)
</p>
<p>Current time (seconds)
20
</p>
<p>1990
Data area
</p>
<p>+2
9
</p>
<p>10
+4
</p>
<p>23
Data area
</p>
<p>+2
59
</p>
<p>59
+4
</p>
<p>[Example]  September 10th, 1990 [Example]  23:59:59
 (hours:minutes:seconds)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>784
</p>
<p>[Description]
</p>
<p>Torque limit values for the digital servo motor can be entered.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
152
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
2
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  1 to n)
</p>
<p>Torque limit data
(1 byte)
The high&ndash;order byte is always set to 0.
</p>
<p>Unsigned binary
&lt;Unit:  %&gt;
Values from 0 to 255 correspond to 0%
to 100%.
</p>
<p>Value
</p>
<p>M = 1 to n:  Axis No.
</p>
<p>[Example]  To specify a torque limit of 50%, enter 128.
</p>
<p>B.4.39
Entering Torque Limit
Data for the Digital
Servo Motor
(�Low&ndash;Speed
response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>785
</p>
<p>[Completion codes]
</p>
<p>0 : Torque limit data has been entered normally.
</p>
<p>4 : The specified data attribute is invalid.  That is, a value other than
1 to n (number of axes) was specified, or the specified axis No. was
greater than the number of controlled axes.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
152
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
2
</p>
<p>(Input data)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Input data)
</p>
<p>Torque limit data (1 byte):  Input data
The high&ndash;order byte is always set to 0.
</p>
<p>Unsigned binary
&lt;Unit:  %&gt;
Values from 0 to 255 correspond to 0%
to 100%.
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>786
</p>
<p>[Description]
</p>
<p>Load information of the serial spindle can be read.
</p>
<p>The equation to normalize the load information is shown below
</p>
<p>Load (%)� L
32767
</p>
<p>� �
</p>
<p>L: Data read from the window
</p>
<p>λ: The percentage of the maximum output of the motor to the
continuous rated output of the motor (When the maximum output
is 180% and the continuous rated output is 100%, the percentage
is 180.)
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
153
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>N = &ndash;1: Specifies both the first and second 
axes of the serial spindle.
</p>
<p>N = 0: Specifies the first axis of the serial 
spindle.
</p>
<p>N = 1: Specifies the second axis of the 
serial spindle.
</p>
<p>B.4.40
Reading Load
Information of the
Spindle Motor (Serial
Interface)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>787
</p>
<p>[Completion codes]
</p>
<p>0 : Load information of the serial spindle has been read normally.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
153
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 2, 4)
</p>
<p>(Data number)
N
</p>
<p>(N: Input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>Load information of the serial spindle
(first or second axis)
</p>
<p>Signed binary, 2 bytes long
</p>
<p>Value
</p>
<p>L = 2: Specifies the first axis.
</p>
<p>L = 4: Specifies all axes.
N = &ndash;1: Specifies both the first and second 
</p>
<p>axes of the serial spindle.
</p>
<p>N = 0: Specifies the first axis of the serial 
spindle.
</p>
<p>N = 1: Specifies the second axis of the serial
spindle.
</p>
<p>8
</p>
<p>10
</p>
<p>12
</p>
<p>(Data attribute)
&mdash;
</p>
<p>Second axis in the load information of
the serial spindle
</p>
<p>Signed binary, 2 bytes long
</p>
<p>Value
</p>
<p>First axis in the load information of the
serial spindle
</p>
<p>When all axes are specified
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>788
</p>
<p>[Description]
</p>
<p>Parameter data in the CNC can be read directly from the CNC via the
FANUC bus.
</p>
<p>This function is basically the same as the function described in Section
3.6 &rdquo;Reading a Parameter,&rdquo; except that the function code is 154 and some
of the completion codes are different.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
154
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N:  Parameter No.)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  0, 1 to n, or &ndash;1)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>M = 0 :  No axis
</p>
<p>M = 1 to n :  Specific axis
</p>
<p>M = &ndash;1 :  All axes
</p>
<p>When all axes are specified by spindle
parameters (parameters 4000 to 4799),
only two axes are specified.
</p>
<p>[Completion codes]
</p>
<p>0 : Parameter data has been read normally.
</p>
<p>3 : The parameter No. specified to be read is invalid.
</p>
<p>4 : A value other than 0, &ndash;1, and 1 to n (number of axes) was specified
for the data attribute.
</p>
<p>6 : An option required for setting the parameter to be read, such as the
error compensation option, is not provided.
</p>
<p>B.4.41
Reading a Parameter
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>789
</p>
<p>[Description]
</p>
<p>Set data stored in the CNC can be read directly from the CNC via the
FANUC bus.
</p>
<p>This function is basically the same as the function described in Section
3.8 &rdquo;Reading Set Data,&rdquo; except that the function code is 155 and some of
the completion codes are different.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
155
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N:  Setting data No.)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  0, 1 to n, or &ndash;1)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>M = 0 : No axis
</p>
<p>M = 1 to n : Specific axis
</p>
<p>M = &ndash;1 : All axes
</p>
<p>[Completion codes]
</p>
<p>0 : Set data has been read normally.
</p>
<p>3 : The set data No. specified to be read is invalid.
</p>
<p>4 : A value other than 0, &ndash;1, and 1 to n (number of axes) was specified
for the data attribute.
</p>
<p>B.4.42
Reading Set Data
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>790
</p>
<p>[Description]
</p>
<p>Data displayed on the diagnosis data screen of the CNC can be read
directly from the CNC via the FANUC bus.
</p>
<p>This function is basically the same as the function described in Section
3.22 &rdquo;Reading Diagnosis Data,&rdquo; except that the function code is 156 and
some of the completion codes are different.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
156
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N:  Diagnosis No.)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  0, 1 to n, or &ndash;1)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>M = 0 : No axis
</p>
<p>M = 1 to n : Specific axis
</p>
<p>M = &ndash;1 : All axes
</p>
<p>[Completion codes]
</p>
<p>0 : Diagnosis data has been read normally from the CNC.
</p>
<p>3 : The diagnosis No. specified to be read is invalid.
</p>
<p>4 : A value other than 0, &ndash;1, and 1 to n (number of axes) was specified
for the data attribute.
</p>
<p>6 : An option required for using the diagnosis data to be read, such
as the remote buffer option, is not provided.
</p>
<p>B.4.43
Reading Diagnosis
Data
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>791
</p>
<p>[Description]
</p>
<p>In a machining program being executed on the CNC, the block currently
executed, the next block, and the next block but one can be read in the
CNC program format.  That is, these blocks can be read in the form of a
character string of ASCII codes.  This function is available only with the
M series CNCs.
</p>
<p>Comments in a block can also be read.
</p>
<p>The maximum number of characters in a character string is fixed to 64.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
157
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Specified block)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>74
</p>
<p>M = 0 : Current block
</p>
<p>M = 1 to n : Next block
</p>
<p>M = &ndash;1 : Next block but one
</p>
<p>NOTE
1. When data specified by the NC is a macro statement, the
</p>
<p>character string cannot be read correctly.
2. When data attribute M is set to 2, the next block but one can
</p>
<p>be read only when the next block is an instruction for tool
diameter compensation C.
</p>
<p>B.4.44
Reading a Character
String of the CNC
Program Being
Executed in the Buffer 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>792
</p>
<p>[Completion codes]
</p>
<p>0 : The character string of the CNC program being executed in the
buffer has been read normally.
</p>
<p>4 : The value specified for the data attribute is invalid.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
157
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
64
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Specified block)
</p>
<p>NC command data for the first character
RC(1)
</p>
<p>ASCII code
If a block consists of less than 64
characters, the remaining bytes are
filled with 20H (space).11 NC command data for the second
</p>
<p>character
RC(2)
</p>
<p>73
NC command data for the 64th character
</p>
<p>RC(64)
</p>
<p>� �
</p>
<p>� �
</p>
<p>�
</p>
<p>�
</p>
<p>64 characters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>793
</p>
<p>[Description]
</p>
<p>The relative coordinates of the machine moving along an axis controlled
by the CNC can be read.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
74
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  1 to n or &ndash;1)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>M = 1 to n : Reads the relative coordinates of
each axis.  n is an axis No.
</p>
<p>M = &ndash;1 : Reads the relative coordinates of 
all axes.
</p>
<p>[Completion codes]
</p>
<p>0 : The relative coordinates on the controlled axis have been read
normally.
</p>
<p>4 : The specified data attribute is invalid.  That is, a value other than
&ndash;1 and 1 to n (number of axes) was specified, or the specified axis
No. was greater than the number of controlled axes.
</p>
<p>B.4.45
Reading the Relative
Position on a
Controlled Axis
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>794
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
74
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 4*n.  n is the number of 
specified axes.)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Input data)
</p>
<p>Relative coordinates on the specified
controlled axis (4 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
complement.)
</p>
<p>Value
</p>
<p>10
</p>
<p>14
Relative coordinates on the second
axis (4 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
complement.)
</p>
<p>Value
</p>
<p>Relative coordinates on the first axis 
(4 bytes)
</p>
<p>18
Relative coordinates on the third axis
(4 bytes)
</p>
<p>22
Relative coordinates on the fourth axis
(4 bytes)
</p>
<p>When the number of controlled axes is 4
</p>
<p>Output data unit
</p>
<p>Input system Incrementsystem IS&ndash;B
Increment
</p>
<p>system IS&ndash;C
</p>
<p>Machining center 
system
</p>
<p>mm, deg
system 0.001 0.0001y
</p>
<p>Power Mate&ndash;D, F inch system 0.0001 0.00001
</p>
<p>Radius
specification mm, deg
</p>
<p>0.001 0.0001
</p>
<p>Lathe
Diameter
specification
</p>
<p>g
system
</p>
<p>0.001 0.0001
</p>
<p>system Radius
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>Diameter
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>Double values can be read for a machining center system or when radius
specification is used for the relevant axis of a lathe system.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>795
</p>
<p>[Description]
</p>
<p>The remaining travel of the machine along an axis controlled by the CNC
can be read.  The read value equals the remaining travel indicated on the
current position display screen on the CNC.  (This screen can be called
by pressing the function button POS.)
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
75
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
M
</p>
<p>(M:  1 to n or &ndash;1)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>� �
</p>
<p>42
</p>
<p>M = 1 to n: Reads the remaining travel along 
each axis.  n is an axis No.
</p>
<p>M = &ndash;1 : Reads the remaining travel along all 
axes.
</p>
<p>[Completion codes]
</p>
<p>0 : The remaining travel along the controlled axis has beenread
normally.
</p>
<p>4 : The specified data attribute is invalid.  That is, a value other than
&ndash;1 and 1 to n (number of axes) was specified, or the specified axis
No. was greater than the number of controlled axes.
</p>
<p>B.4.46
Reading the Remaining
Travel
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>796
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
75
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(L = 4*n.  n is the number of 
specified axes.)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Data attribute)
M
</p>
<p>(M:  Input data)
</p>
<p>Remaining travel along the specified
controlled axis (4 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
complement.)
</p>
<p>Value
</p>
<p>When the number of controlled axes is 4
</p>
<p>10
</p>
<p>14
Remaining travel along the second
axis (4 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
complement.)
</p>
<p>Value
</p>
<p>Remaining travel along the first axis 
(4 bytes)
</p>
<p>18
Remaining travel along the third axis 
(4 bytes)
</p>
<p>22
Remaining travel along the fourth axis
(4 bytes)
</p>
<p>Output data unit
</p>
<p>Input system Incrementsystem IS&ndash;B
Increment
</p>
<p>system IS&ndash;C
</p>
<p>Machining center 
system
</p>
<p>mm, deg
system 0.001 0.0001y
</p>
<p>Power Mate&ndash;D, F inch system 0.0001 0.00001
</p>
<p>Radius
specification mm, deg
</p>
<p>0.001 0.0001
</p>
<p>Lathe
Diameter
specification
</p>
<p>g
system
</p>
<p>0.0005 0.00005
</p>
<p>system Radius
specification
</p>
<p>inch system
0.0001 0.00001
</p>
<p>Diameter
specification
</p>
<p>inch system
0.00005 0.000005
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>797
</p>
<p>[Description]
</p>
<p>Status information (status indication on the screen) can be read from the
CNC.
</p>
<p>The types of status information that can be read are as follows.
</p>
<p>(1) Indication of which mode is selected, automatic or manual
</p>
<p>(2) Status of automatic operation
</p>
<p>(3) Status of movement along the axis and dwelling
</p>
<p>(4) Status of M, S, T, and B functions
</p>
<p>(5) Statuses of emergency stop and the reset signal
</p>
<p>(6)  Alarm status
</p>
<p>(7) Status of program edit
</p>
<p>(Indication)
</p>
<p>(1)
EDIT
</p>
<p>15 (Soft key indication)
</p>
<p>00 05 10 15 20 25 30 35
</p>
<p>14
</p>
<p>13
</p>
<p>15
</p>
<p>14
(2)
</p>
<p>STOP
(3)
</p>
<p>MTN
(4)
FIN 16:52:13
</p>
<p>(7)
READ
</p>
<p>(5)
&ndash;&ndash;EMG&ndash;&ndash;
</p>
<p>(6)
ALM
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
76
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
�
</p>
<p>42
</p>
<p>�
</p>
<p>B.4.47
Reading CNC Status
Information
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>798
</p>
<p>[Completion codes]
</p>
<p>0 : CNC status information has been read normally.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
76
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
14
</p>
<p>(Data number)
&mdash;
</p>
<p>(Input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Input data)
</p>
<p>Indication of which mode is currently
selected, automatic or manual 
(2 bytes)
</p>
<p>0 : MDI
1 : MEMory
2 : **** (Other states)
3 :EDIT
4 : HaNDle
5 : JOG
6 :Teach in  JOG
7 :Teach in  HND
8 : INC.  feed
9 : REFerence
10: ReMoTe
</p>
<p>Value
</p>
<p>Status of automatic operation (2 bytes)12
</p>
<p>14 Status of movement along the axis or
dwelling (2 bytes)
</p>
<p>0 : **** (Reset states)
1 :STOP
2 :HOLD
3 :STaRT
</p>
<p>0 :*** (Other states)
1 :MoTioN
2 :DWell
</p>
<p>16 Status of M, S, T, and B functions 
(2 bytes)
</p>
<p>0 : *** (Other states)
1 :FIN
</p>
<p>Status of emergency stop (2 bytes)18
</p>
<p>20 Alarm status (2 bytes)
</p>
<p>22
Status of program edit (2 bytes) 0 : ******* (Non editing)
</p>
<p>1 :EDIT
2 :SeaRCH
3 :OUTPUT
4 : INPUT
5 :COMPARE
6 :LabelSKip
7 :OFST
8 :WSFT
9 :ReSTaRt
</p>
<p>0 : (Releases the emergency stop state)
1 :&mdash; &mdash;EMerGency &mdash; &mdash;
2 :&mdash; RESET &mdash;
</p>
<p>(The reset signal is on.)
</p>
<p>0 : *** (Other states)
1 :ALarM
2 :BATtery lowww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>799
</p>
<p>[Description]
</p>
<p>An CNC operator message displayed on the CNC screen can be read.  An
operator message consists of up to 256 characters.
</p>
<p>If the specified message is not found, &ndash;1 is output for the message No.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
83
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
0
</p>
<p>(Always set to 0)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
�
</p>
<p>268
</p>
<p>�
</p>
<p>B.4.48
Reading an Operator
Message
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>800
</p>
<p>[Completion codes]
</p>
<p>0 : The operator message has been read normally.
</p>
<p>4 : A value other than 0 was specified for the data attribute.
</p>
<p>6 : The option has not been added.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
83
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes.)
</p>
<p>(Data length)
L
</p>
<p>(Data number)
&mdash;
</p>
<p>(Input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Input data)
</p>
<p>Operator message No. 2000 to 2099 or &ndash;1
</p>
<p>Value
</p>
<p>Number of characters of the message 0 to 257
</p>
<p>14
</p>
<p>15
Code of the second character:  CH(2)
</p>
<p>ASCII character string
(The null code (&yen;00) is always 
appended to the end.)
</p>
<p>Operator character string
Code of the first character:  CH(1)
</p>
<p>16
Code of the third character:  CH(3)
</p>
<p>Code of the Nth character:  CH(N)
</p>
<p>267
Code of the last character:  NULL
</p>
<p>12
</p>
<p>� �
</p>
<p>L : 5 to 257
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>801
</p>
<p>[Description]
</p>
<p>This function gets the value of variable for Macro&ndash;compiler (P&ndash;code
macro variable) of specified number.
</p>
<p>The extended P&ndash;code macro variable is not able to be read.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p> + 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 10
</p>
<p>+ 12
</p>
<p>(Function code)
59
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(P&ndash;code macro variable number)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>+ 18
</p>
<p>CAUTION
The &rsquo;Data number&rsquo; occupies 4 bytes instead of 2 bytes of
usual data structure.
</p>
<p>B.4.49
Reading Value of the
P-code Macro Variable
(�Low&ndash;Speed
response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>802
</p>
<p>[Completion codes]
</p>
<p>0 : Success to read the value of P&ndash;code macro variable.
</p>
<p>3 : The P&ndash;code macro variable specified by &rsquo;Data number&rsquo; is not able
to be read.
</p>
<p>5 : The value of the P&ndash;code macro variable is out of range 
(�0.0000001 &ndash; �99999999).
</p>
<p>6 : No option, or no Macro ROM module.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 10
</p>
<p>+ 12
</p>
<p>(Function code)
59
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
6
</p>
<p>(Data number)
N
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Same as input data)
</p>
<p>Value of P&ndash;code macro variable 
(4bytes)
</p>
<p>Signed binary
(Minus number is represented by 2&rsquo;s
complemental)
</p>
<p>Value
</p>
<p>Figures after decimal point of the value
(2bytes)
</p>
<p>Signed binary
(Minus number is represented by 2&rsquo;s
complemental)
</p>
<p>+ 16
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>803
</p>
<p>[Description]
</p>
<p>This function stores the value into the variable for Macro&ndash;compiler
(P&ndash;code macro variable) of specified number.
</p>
<p>The extended P&ndash;code macro variable is not able to be written into.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 10
</p>
<p>+ 12
</p>
<p>(Function code)
60
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
6
</p>
<p>(Data number)
N
</p>
<p>(P&ndash;code macro variable number)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>Value of P&ndash;code macro variable 
(4bytes)
</p>
<p>Signed binary
(Minus number is represented by 2&rsquo;s
complemental)
</p>
<p>Value
</p>
<p>Figures after decimal point of the value
(2bytes)
</p>
<p>Signed binary
(Minus number is represented by 2&rsquo;s
complemental)
</p>
<p>+ 16
</p>
<p>CAUTION
The &rsquo;data number&rsquo; occupies 4 bytes instead of 2 bytes of
usual data structure.
</p>
<p>B.4.50
Writing Value of the
P&ndash;code Macro Variable
(�Low&ndash;Speed
response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>804
</p>
<p>[Completion codes]
</p>
<p>0 : Success to store the value into P&ndash;code macro variable.
</p>
<p>2 : The data length has illegal data (is not 6).
</p>
<p>3 : The P&ndash;code macro variable specified by &rsquo;Data number&rsquo; is not able
to be written.
</p>
<p>6 : No option, or no Macro ROM module.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p> + 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 10
</p>
<p>+ 12
</p>
<p>(Function code)
60
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
6
</p>
<p>(Same as input data)
</p>
<p>(Data number)
N
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Same as input data)
</p>
<p>Value of P&ndash;code macro variable 
(4bytes)
</p>
<p>+ 16
Figures after decimal point of the value
(2bytes)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>805
</p>
<p>[Description]
</p>
<p>This function gets the Tool life counter type of specified tool group in the
Tool life management data.  (M series only)
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p> + 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>(Function code)
160
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N = Tool group number)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>+ 12
</p>
<p>NOTE
About Tool group number (in &rsquo;Data number&rsquo;)
&rdquo;0&rdquo; as Tool group number indicates the Tool group currently
used.
When Tool group has never specified since power&ndash;on, &rdquo;0&rdquo;
of Tool group number results &rdquo;0&rdquo; as counter type.
&rdquo;0&rdquo; of counter type will be returned on T series.
</p>
<p>B.4.51
Reading the Tool Life
Management Data 
(Tool Life Counter
Type)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>806
</p>
<p>[Completion codes]
</p>
<p>0 : Success to read the Tool life counter type.
</p>
<p>3 : The Tool group number is out of range from 0 to 512, or exceeds
the maximum number of registered Tool group.
</p>
<p>6 : No option for Tool life management.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>(Function code)
160
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
2
</p>
<p>(Data number)
N
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Same as input data)
</p>
<p>Tool life counter type (2bytes) 0 : No counter type
1 : Frequency
2 : Real time (in minutes)
</p>
<p>Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>807
</p>
<p>[Description]
</p>
<p>This function registers the Tool group in Tool life management data, with
Tool number, length of life and Tool life counter type.  On T series, the
Tool life counter type will be specified by the NC parameter &rdquo;LTM&rdquo;
(No.6800#2),  and this function cannot set/change the counter type.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 14
</p>
<p>(Function code)
163
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
8
</p>
<p>(Data number)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Tool number)
</p>
<p>Length of Tool life (4bytes) Unsigned binary
1 to 9999 (Frequency)
1 to 4300 (Real time in minutes)
</p>
<p>Value
</p>
<p>+ 10
</p>
<p>+ 12
Tool life counter type (2bytes)
</p>
<p>Tool group number (2bytes)
</p>
<p>1 : Frequency
2 : Real time in minutes
</p>
<p>Unsigned binary
1 to 512
</p>
<p>[Completion codes]
</p>
<p>0 : Success to register the Tool group.
</p>
<p>3 : The Tool group number is out of range from 1 to 512, or exceeds
the maximum number of registered Tool group.
</p>
<p>4 : The Tool number in &rsquo;Data attribute&rsquo; has wrong value.
</p>
<p>5 : The length of Tool life in &rsquo;Data area&rsquo; is out of range.  The Tool life
counter type does not match on T series.
</p>
<p>6 : No option for Tool life management.
</p>
<p>B.4.52
Registering the Tool
Life Management Data
(Tool Group)
(�Low&ndash;Speed
response)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>808
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p> + 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>(Function code)
163
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
8
</p>
<p>(Same as input data)
</p>
<p>(Data number)
&mdash;
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
M
</p>
<p>(Same as input data)
</p>
<p>Tool group number (2bytes) 
(Same as input data)
</p>
<p>+ 12
Tool life counter type (2bytes)
(Same as input data)
</p>
<p>Length of Tool life (4bytes)
(Same as input data)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>809
</p>
<p>[Description]
</p>
<p>This function sets the length of Tool life of the specified Tool group in the
Tool life management data.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
164
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N = Tool group number)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>Length of Tool life (4bytes) Unsigned binary
1&ndash;9999 (Frequency)
1&ndash;4300 (Real time in minutes)
</p>
<p>Value
</p>
<p>B.4.53
Writing the Tool Life
Management Data 
(Tool life)
(�Low&ndash;Speed
response)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>810
</p>
<p>[Completion codes]
</p>
<p>0 : Success to set the length of Tool life.
</p>
<p>3 : The Tool group number is out of range from 1 to 512, or exceeds
the maximum number of registered Tool group.
</p>
<p>5 : The length of Tool life is out of range.
</p>
<p>6 : No option for Tool life management.
</p>
<p>[Output data structure]
</p>
<p>Top address +0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
164
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
4
</p>
<p>(Same as input data)
</p>
<p>(Data number)
N
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Same as input data)
</p>
<p>Length of Tool life (4bytes)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>811
</p>
<p>[Description]
</p>
<p>This function sets the Tool life counter in the specified Tool group in the
Tool life management data.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
165
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N = Tool group number)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>Length of Tool life (4bytes) Unsigned binary
1&ndash;9999 (Frequency)
1&ndash;4300 (Real time in minutes)
</p>
<p>Value
</p>
<p>B.4.54
Writing the Tool Life
Management Data 
(Tool Life Counter)
(�Low&ndash;Speed
response)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>812
</p>
<p>[Completion codes]
</p>
<p>0 : Success to set the Tool life counter.
</p>
<p>3 : The Tool group number is out of range from 1 to 512, or exceeds
the maximum number of registered Tool group.
</p>
<p>5 : The value for Tool life counter is out of range.
</p>
<p>6 : No option for Tool life management.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
165
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
4
</p>
<p>(Same as input data)
</p>
<p>(Data number)
N
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Same as input data)
</p>
<p>Length of Tool life (4bytes)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>813
</p>
<p>[Description]
</p>
<p>This function sets the Tool life counter type of specified Tool group in the
Tool life management data.  (M series only)
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
166
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
2
</p>
<p>(Data number)
N
</p>
<p>(N = Tool group number)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>Tool life counter type (2bytes) 1 : Frequency
2 : Real time in minutes
</p>
<p>Value
</p>
<p>B.4.55
Writing the Tool Life
Management Data 
(Tool Life Counter
Type) (�Low&ndash;Speed
Response)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>814
</p>
<p>[Completion codes]
</p>
<p>0 : Success to set the Tool life counter type.
</p>
<p>3 : The Tool group number is out of range from 1 to 512, or exceeds
the maximum number of registered Tool group.
</p>
<p>5 : The value for Tool life counter type is wrong.
</p>
<p>6 : No option for Tool life management.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
166
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
2
</p>
<p>(Same as input data)
</p>
<p>(Data number)
N
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Same as input data)
</p>
<p>Tool life counter type (2bytes)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>815
</p>
<p>[Description]
</p>
<p>This function sets the Tool length offset number of the specified Tool
group in the Tool life management data.  (M series only)
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
167
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N = Tool group number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Tool number)
</p>
<p>Tool length offset number (4bytes) Unsigned binary
1&ndash;255
</p>
<p>Value
</p>
<p>B.4.56
Writing the Tool Life
Management Data 
(Tool Length Offset
Number (1) : Tool
Number) 
(�Low&ndash;Speed
Response)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>816
</p>
<p>[Completion codes]
</p>
<p>0 : Success to set the Tool length offset number.
</p>
<p>3 : The Tool group number is out of range from 1 to 512, or exceeds
the maximum number of registered Tool group.
</p>
<p>4 : The Tool number in &rsquo;Data attribute&rsquo; has wrong value.
</p>
<p>5 : The Tool number is not found in the Tool group.
</p>
<p>6 : No option for Tool life management.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
167
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
4
</p>
<p>(Same as input data)
</p>
<p>(Data number)
N
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
M
</p>
<p>(Same as input data)
</p>
<p>Tool length offset number (4bytes)
</p>
<p>NOTE
The effective value for Tool length offset number depends
on Tool compensation number available on NC.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>817
</p>
<p>[Description]
</p>
<p>This function sets the Tool length offset number of the Tool of the
specified Tool operation sequence number in the Tool life management
data.  (M series only)
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
168
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N = Tool group number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Tool operation sequence number)
</p>
<p>Tool length offset number (4bytes) Unsigned binary
1&ndash;255
</p>
<p>Value
</p>
<p>B.4.57
Writing the Tool Life
Management Data 
(Tool Length Offset
Number (2) : Tool
Operation Sequence
Number) 
(�Low&ndash;Speed
Response)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>818
</p>
<p>[Completion codes]
</p>
<p>0 : Success to set the Tool length offset number.
</p>
<p>3 : The Tool group number is out of range from 1 to 512, or exceeds
the maximum number of registered Tool group.
</p>
<p>4 : The Tool operation sequence number is wrong.
</p>
<p>6 : No option for Tool life management.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
168
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
4
</p>
<p>(Same as input data)
</p>
<p>(Data number)
N
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
M
</p>
<p>(Same as input data)
</p>
<p>Tool length offset number (4bytes)
</p>
<p>NOTE
The effective value for Tool length offset number depends
on Tool compensation number available on NC.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>819
</p>
<p>[Description]
</p>
<p>This function sets the Cutter compensation number of the specified Tool
group in the Tool life management data.  (M series only)
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
169
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N = Tool group number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Tool number)
</p>
<p>Cutter compensation number (4bytes) Unsigned binary
1&ndash;255
</p>
<p>Value
</p>
<p>B.4.58
Writing the Tool Life
Management Data
(Cutter Compensation
Number (1) : Tool
Number) 
(�Low&ndash;Speed
Response)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>820
</p>
<p>[Completion codes]
</p>
<p>0 : Success to set the Cutter compensation number.
</p>
<p>3 : The Tool group number is out of range from 1 to 512, or exceeds
the maximum number of registered Tool group.
</p>
<p>4 : The Tool number in &rsquo;Data attribute&rsquo; has wrong value.
</p>
<p>5 : The Tool number is not found in the Tool group.
</p>
<p>6 : No option for Tool life management.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
169
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
4
</p>
<p>(Same as input data)
</p>
<p>(Data number)
N
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
M
</p>
<p>(Same as input data)
</p>
<p>Cutter compensation number (4bytes)
</p>
<p>NOTE
The effective value for Cutter compensation number
depends on Tool compensation number available on NC.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>821
</p>
<p>[Description]
</p>
<p>This function sets the Cutter compensation number of the Tool of the
specified Tool operation sequence number in the Tool life management
data.  (M series only)
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
170
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N = Tool group number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Tool operation sequence number)
</p>
<p>Cutter compensation number (4bytes) Unsigned binary
1&ndash;255
</p>
<p>Value
</p>
<p>B.4.59
Writing the Tool Life
Management Data
(Cutter Compensation
Number (2) : Tool
Operation Sequence
Number) 
(�Low&ndash;Speed
Response)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>822
</p>
<p>[Completion codes]
</p>
<p>0 : Success to set the Cutter compensation number.
</p>
<p>3 : The Tool group number is out of range from 1 to 512, or exceeds
the maximum number of registered Tool group.
</p>
<p>4 : The Tool operation sequence number is wrong.
</p>
<p>6 : No option for Tool life management.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
170
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
4
</p>
<p>(Same as input data)
</p>
<p>(Data number)
N
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
M
</p>
<p>(Same as input data)
</p>
<p>Cutter compensation number (4bytes)
</p>
<p>NOTE
The effective value for Cutter compensation number
depends on Tool compensation number available on NC.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>823
</p>
<p>[Description]
</p>
<p>This function sets the Tool condition of the specified Tool group in the
Tool life management data.(M series only)
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
171
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
2
</p>
<p>(Data number)
N
</p>
<p>(N = Tool group number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Tool number)
</p>
<p>Tool condition (2bytes) 1 : Tool state clear
2 : Tool state skip
</p>
<p>Value
</p>
<p>B.4.60
Writing the Tool Life
Management Data 
(Tool Condition (1) :
Tool Number)
(�Low&ndash;Speed
Response)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>824
</p>
<p>[Completion codes]
</p>
<p>0 : Success to set the Tool condition.
</p>
<p>3 : The Tool group number is out of range from 1 to 512, or exceeds
the maximum number of registered Tool group.
</p>
<p>4 : The Tool number in &rsquo;Data attribute&rsquo; has wrong value.
</p>
<p>5 : The Tool number is not found in the Tool group.
</p>
<p>6 : No option for Tool life management.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
171
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
2
</p>
<p>(Same as input data)
</p>
<p>(Data number)
N
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
M
</p>
<p>(Same as input data)
</p>
<p>Tool condition (2bytes)
</p>
<p>This function changes Tool condition as below.
</p>
<p>command before call after call
</p>
<p>clear
skip ( # )
skip ( # )
consumed ( * )
</p>
<p>usable ( )
in use (@)
usable ( )
</p>
<p>SKIP
unused ( )
in use (@)
consumed ( * )
</p>
<p>skip ( # )
skip ( # )
skip ( * )ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>825
</p>
<p>[Description]
</p>
<p>This function sets the Tool condition of the Tool of the specified Tool
operation sequence number in the Tool life management data.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
172
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
2
</p>
<p>(Data number)
N
</p>
<p>(N = Tool group number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Tool operation sequence number)
</p>
<p>Tool condition (2bytes) 1 : Tool state clear
2 : Tool state skip
</p>
<p>Value
</p>
<p>B.4.61
Writing the Tool
Management Data 
(Tool condition (2) :
Tool Operation
Sequence Number)
(�Low&ndash;Speed
Response)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>826
</p>
<p>[Completion codes]
</p>
<p>0 : Success to set the Tool condition.
</p>
<p>3 : The Tool group number is out of range from 1 to 512, or exceeds
the maximum number of registered Tool group.
</p>
<p>4 : The Tool operation sequence number is wrong.
</p>
<p>6 : No option for Tool life management.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
172
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
2
</p>
<p>(Same as input data)
</p>
<p>(Data number)
N
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
M
</p>
<p>(Same as input data)
</p>
<p>Tool condition (2bytes)
</p>
<p>This function changes Tool condition as shown in B.4.60.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>827
</p>
<p>[Description]
</p>
<p>This function registers a tool to the specified Tool group in the Tool life
management data.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
173
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
4
</p>
<p>(Data number)
N
</p>
<p>(N = Tool group number)
</p>
<p>(Data attribute)
M
</p>
<p>(M = Tool operation sequence number)
</p>
<p>Tool number (4bytes) Unsigned binary
1&ndash;9999
</p>
<p>Value
</p>
<p>B.4.62
Writing the Tool Life
Management Data 
(Tool Number)
(�Low&ndash;Speed
Response)
(Not available for
Power Mate&ndash;D/F, 
Series 21&ndash;TA)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>828
</p>
<p>[Completion codes]
</p>
<p>0 : Success to register the Tool number.
</p>
<p>3 : The Tool group number is out of range from 1 to 512, or exceeds
the maximum number of registered Tool group.
</p>
<p>4 : The Tool operation sequence number is wrong.
</p>
<p>6 : No option for Tool life management.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
173
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
4
</p>
<p>(Same as input data)
</p>
<p>(Data number)
N
</p>
<p>(Same as input data)
</p>
<p>(Data attribute)
M
</p>
<p>(Same as input data)
</p>
<p>Tool number (4bytes)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>829
</p>
<p>Power
Mate FS20 FS18 FS16
</p>
<p>� � ∆ ∆
</p>
<p>∆ : The support is decided by CNC series
�: No support
</p>
<p>(1) servo axis
</p>
<p>[Description ]
</p>
<p>The load torques except a necessary torque for acceleration/ deceleration
of the digital servo axis are read.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
211
</p>
<p>(Completion code)
&ndash;
</p>
<p>(Need not to be set)
</p>
<p>(Data length)
&ndash;
</p>
<p>(Need not to be set)
</p>
<p>(Data number)
0
</p>
<p>(Data attribute)
M
</p>
<p>(M=1 to n or &ndash; 1)
</p>
<p>(Data area)
&ndash;
</p>
<p>(Need not to be set)
</p>
<p>+12
</p>
<p>M=1 to n : Estimate disturbance torque data 
for specific axis. &ldquo;n&rdquo; is the axis 
number.
</p>
<p>M= &ndash; 1 : Estimate disturbance torque data 
for all axes.
</p>
<p>B.4.63
Reading the Estimate
Disturbance Torque
Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>830
</p>
<p>[Completion codes]
</p>
<p>0 : The estimate disturbance torque data have been read normally.
</p>
<p>4 : The data specified as the data attribute is invalid because it is
neither &ndash;1 nor a value from 1 to n (n is the number of axes).
Alternatively, the specified axis number is greater than the number
of controlled axes.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
211
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of the
completion codes. )
</p>
<p>(Data length)
L
</p>
<p>(L=2�n, n is the number
 of axes specified. )
</p>
<p>(Data number)
0
</p>
<p>(Data attribute)
M
</p>
<p>(M : Input data)
</p>
<p>Estimate disturbance torque data for-
the controlled axis specified
</p>
<p>(2 bytes)
</p>
<p>(A negative value is represented in 2&rsquo;s
complement. )
</p>
<p>Value
</p>
<p>+12
</p>
<p>+10
</p>
<p>+12 Estimate disturbance torque 
data forsecond axis
</p>
<p>(2 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
complement. )
</p>
<p>Value
</p>
<p>Estimate disturbance torque 
data forfirst axis
</p>
<p>(2 bytes)
</p>
<p>+14 Estimate disturbance torque
data forthird axis
</p>
<p>(2 bytes)
+16 Estimate disturbance torque
</p>
<p>data forfourth axis
(2 bytes)
</p>
<p>+18
</p>
<p>When the number of controlled axes is 4
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
B. WINDOW FUNCTION DESCRIPTION
</p>
<p> (EXCEPT FS 15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>831
</p>
<p>(2) spindle axis
</p>
<p>[Description]
</p>
<p>The load torques except a necessary torque for acceleration/ deceleration
of the serial spindle axis are read.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
211
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not to be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not to be set)
</p>
<p>(Data number)
1
</p>
<p>(Data attribute)
M
</p>
<p>(M=1 to n or &ndash; 1)
</p>
<p>(Data area)
&ndash;
</p>
<p>(Need not to be set)
</p>
<p>+12
</p>
<p>M=1 to n : Estimate disturbance torque 
data for specific axis. &ldquo;n&rdquo; is the 
axis number.
</p>
<p>M= &ndash; 1 : Estimate disturbance torque 
data for all axes.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B. WINDOW FUNCTION DESCRIPTION 
(EXCEPT FS 15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>832
</p>
<p>[Completion codes]
</p>
<p>0 : The estimate disturbance torque data have been read normally.
</p>
<p>4 : The data specified as the data attribute is invalid because it is neither
&ndash; 1 nor a value from 1 to n (n is the number of axes) . Alternatively,
the specified axis number is greater than the number of controlled
axes.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>+2
</p>
<p>+4
</p>
<p>+6
</p>
<p>+8
</p>
<p>+10
</p>
<p>(Function code)
211
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of 
the completion codes. )
</p>
<p>(Data length)
L
</p>
<p>(L=2�n, n is the number
 of axes specified. )
</p>
<p>(Data number)
1
</p>
<p>(Data attribute)
M
</p>
<p>(M : Input data)
</p>
<p>Estimate disturbance torque  
data forthe controlled axis specified
</p>
<p>(2 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
complement. )
</p>
<p>Value
</p>
<p>+12
</p>
<p>+10
</p>
<p>+12 Estimate disturbance torque 
data forsecond axis (2 bytes)
</p>
<p>Signed binary
(A negative value is represented in 2&rsquo;s
complement. )
</p>
<p>Value
</p>
<p>Estimate disturbance torque 
data for first axis (2 bytes)
</p>
<p>When the number of controlled axes is 2
</p>
<p>[supporting soft]
</p>
<p>CNC FS16 : B005 SERIES Edition K or later
</p>
<p>B105 SERIES Edition H or later
</p>
<p>B205 SERIES Edition H or later
</p>
<p>FS18 : BD03 SERIES Edition L or later
</p>
<p>BE03 SERIES Edition I or later
</p>
<p>BF03 SERIES Edition I or later
</p>
<p>SERVO : 9060 SERIES Edition J or later
</p>
<p>SPINDLE : 9A50 SERIES Edition Q or later
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>833
</p>
<p>C WINDOW FUNCTION DESCRIPTION (FS15B PMC&ndash;NB/NB2)
</p>
<p>This window function is a functional instruction by which the data on the
CNC is read or is written.
</p>
<p>Option (A02B&ndash;0162&ndash;J917) of NC window is necessary.
</p>
<p>In the way to process, there are window function high speed and one
processed at low speed.
</p>
<p>In case of a low&ndash;speed response, The data is read or written by the control
between CNC and PMC.
</p>
<p>Therefore, it is necessary to ACT=1 of the window instrucion must be
held until the transfer completion information (W1) becomes 1
(interlock).
</p>
<p>In a high&ndash;speed response, it is not necessity for take the interlock because
the data is directly read.
</p>
<p>Moreover, option (A02B&ndash;0162&ndash;J984) of NC window B is necessary to
read (the processing of) the tool offset data, the tool life management data
and machining time.
</p>
<p>NOTE
The window instruction of a low&ndash;speed response is
controlled exclusively with the other window instructions of
low&ndash;speed response.
Therefore, when the data is read or written continuously, it
is necessary to clear ACT of the functional instruction once
when the completion information (W1) become 1.
It does not work about ACT=1 of the other window
instructions of low&ndash;speed response such as W1=1 and
ACT=1 of the window instruction of a low&ndash;speed response.
The window instruction of a high&ndash;speed response is not
exclusively controlled like a low&ndash;speed response.
Therefore, when the data is read or written continuously,
yow need not make ACT=0.
The scan number of times to complete the processing is
summarized on the following table.
</p>
<p>TYPE SCAN TIMES UNTIL PROCESSING ENDS
</p>
<p>LOW TWO SCAN TIMES OR MORE (This depends on the state of  CNC)
</p>
<p>HIGH 1SCAN TIME
</p>
<p>C.1
FUNCTION
</p>
<p>C.2
LOW&ndash;SPEED
RESPONSE AND 
HIGH&ndash;SPEED
RESPONSE OF 
WINDOW FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>834
</p>
<p>CAUTION
There is a version which does not support in the reading or
writing of the window data by a new format.
</p>
<p>ROM VERSION CONTENT
</p>
<p>4047 A &ndash; E It does not support a new format.
Please use bit 4 of NC parameter 7401 as 0.
</p>
<p>F &ndash; It supports a new form.
When the window function of a new format is used
</p>
<p>4078 A &ndash;
When the window function of a new format is used,
please set bit 4 of NC parameter 7401 as 1.
</p>
<p>Function that is effected by bit 4 of NC parameter 7401.
</p>
<p>FUNCTION
CONTENT
</p>
<p>FUNCTION
7401#4
</p>
<p>Tool life management data 0 The data of tool life management for 128
sets of tools can be read and written.
</p>
<p>1 The data of tool life management for 512
sets of tools can be read and written.
</p>
<p>Tool offset data according
to the specified tool
</p>
<p>0 This function can not be used.
to the specified tool 
number 1 The tool offset data can be read and
</p>
<p>written.
</p>
<p>NOTE
Functions except the above&ndash;mentioned are not related to
bit 4 of NC parameter 7401.
If there is no option of the corresponding function, window
instructions can not be used.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>835
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>CTL0 Function code
</p>
<p>Completion code
</p>
<p>Data length
</p>
<p>Data number
</p>
<p>Axis specification
</p>
<p>� �
</p>
<p>Data area
</p>
<p>CTL1
</p>
<p>CTL2
</p>
<p>DATA * Data length Depends on the function
</p>
<p>part1
</p>
<p>Data type
Type of
</p>
<p>processing
Type of control data Data
</p>
<p>lengthData type process ing
CTL0 CTL1 CTL2
</p>
<p>length
</p>
<p>Tool offset data (low) 13 Offset number Offset format 4 byte
</p>
<p>Work origin offset (high) 15 0 Axis number 4 byte
</p>
<p>Parameter data
Setting data
</p>
<p>(low) 17 Parameter number Axis number 4 byte
</p>
<p>Custom macro variables (low) 21 Custom macro number 0 6 byte
</p>
<p>CNC alarm state (low) 23 0 0 2 byte
</p>
<p>Current program number (low) 24 0 0 6 byte
</p>
<p>Current sequence number (low) 25 0 0 6 byte
</p>
<p>Actual velocity for controlled axes (low) 26 0 0 4 byte
</p>
<p>Absolute position on controlled axes (high) 27 0 Axis number 4 byte
</p>
<p>Machine position on controlled axes (high) 28 0 Axis number 4 byte
</p>
<p>Skip operation stop position on
controlled axes
</p>
<p>(low) 29 0 Axis number 4 byte
</p>
<p>Servo delay amount on controlled 
axes
</p>
<p>(high) 30 0 Axis number 4 byte
</p>
<p>Acceleration/deceleration delay 
amount on controlled axes
</p>
<p>(high) 31 0 Axis number 4 byte
</p>
<p>Modal data (G function)
(other than G function)
</p>
<p>(low) 32 Data type Specified block 2 byte
6 byte
</p>
<p>Diagnosis data (low) 33 Diagnosis number 0 2 byte
</p>
<p>Feed motor load current value
General&ndash;purpose analog input
</p>
<p>(high)
(high)
</p>
<p>34
34
</p>
<p>200
0
</p>
<p>Axis number
Number
</p>
<p>2 byte
2 byte
</p>
<p>C.2.1
Functional Instruction
WINDR
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>836
</p>
<p>part2
</p>
<p>Data type
Type of
</p>
<p>processing
Type of control data Data
</p>
<p>lengthData type process ing
CTL0 CTL1 CTL2
</p>
<p>length
</p>
<p>Tool life management data
Tool group No.
Number of tool groups
Number of tools
Tool life
Tool life counter
Tool life counter type
Tool length compensation No.1
Tool length compensation No.2
Cutter compensation No.1
Cutter compensation No.2
Tool information 1
Tool information 2
Tool No.
</p>
<p>(low)
(low)
(low)
(low)
(low)
(low)
(low)
(low)
(low)
(low)
(low)
(low)
(low)
</p>
<p>38
39
40
41
42
160
43
44
45
46
47
48
49
</p>
<p>0
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
</p>
<p>Tool No.
0
0
0
0
0
Tool No.
Tool order number
Tool No.
Tool order number
Tool No.
Tool order number
Tool order number
</p>
<p>4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
</p>
<p>Clock data (low) 151 Data format 0 6 byte
</p>
<p>Relative position of controlled axes (high) 74 0 Axis number 4 byte
</p>
<p>Remaining travel of controlled axes (high) 75 0 Axis number 4 byte
</p>
<p>Estimate disturbance torque data of a
digital
Estimate disturbance torque data of a
serial spindle
</p>
<p>(high)
</p>
<p>(high)
</p>
<p>211
</p>
<p>211
</p>
<p>0
</p>
<p>1
</p>
<p>Axis number
</p>
<p>Axis number
</p>
<p>2 byte
</p>
<p>2 byte
</p>
<p>Machining time (low) 178 Program number 1 6 byte
</p>
<p>Load information of the spindle motor (high) 153 0 Axis number 2 byte
</p>
<p>Tool offset data according to the
specified tool number
</p>
<p>(low) 213 Data format Tool number 4 byte
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>837
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>CTL0 Function code
</p>
<p>Completion code
</p>
<p>Data length
</p>
<p>Data number
</p>
<p>Axis specification
</p>
<p>� �
</p>
<p>Data area
</p>
<p>CTL1
</p>
<p>CTL2
</p>
<p>DATA * Data length Depends on the function
</p>
<p>Data type
Type of
</p>
<p>processing
Type of control data Data
</p>
<p>lengthData type process ing
CTL0 CTL1 CTL2
</p>
<p>length
</p>
<p>Tool offset data (low) 14 Offset number Offset format 4 byte
</p>
<p>Parameter data
Setting data
</p>
<p>(low) 18 Parameter number Axis number 4 byte
</p>
<p>Custom macro variables (low) 22 Custom macro number 0 6 byte
</p>
<p>Data on the program check screen
Spindle tool number
Number of the tool to be used 
next
</p>
<p>(low)
</p>
<p>(low)
</p>
<p>150
</p>
<p>150
</p>
<p>Data type
</p>
<p>201
</p>
<p>0
</p>
<p>0
</p>
<p>2 byte
</p>
<p>2 byte
</p>
<p>Torque limit override (low) 152 0 Axis number 2 byte
</p>
<p>Tool life management data
Number of tool groups
Tool life
Tool life counter
Tool life counter type
Tool length compensation No.1
Tool length compensation No.2
Cutter compensation No.1
Cutter compensation No.2
Tool information 1
Tool information 2
Tool No.
</p>
<p>(low)
(low)
(low)
(low)
(low)
(low)
(low)
(low)
(low)
(low)
(low)
</p>
<p>163
164
165
166
167
168
169
170
171
172
173
</p>
<p>0
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
Tool group No.
</p>
<p>Tool No.
0
0
0
Tool No.
Tool order number
Tool No.
Tool order number
Tool No.
Tool order number
Tool order number
</p>
<p>4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
4 byte
</p>
<p>Tool offset data according to the
specified tool number (low) 214 Data format Tool number 4 byte
</p>
<p>Superposition move command
(for three axes)
Superposition move command
(for four axes)
</p>
<p>(high)
</p>
<p>(high)
</p>
<p>215
</p>
<p>215
</p>
<p>0
</p>
<p>Axis specification mode
</p>
<p>0
</p>
<p>Axis number
</p>
<p>6 byte
</p>
<p>8 byte
</p>
<p>Feedrate (high) 216 0 0 6 byte
</p>
<p>C.2.2
Functional Instruction
WINDW
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>838
</p>
<p>(1) See the description of the window function.  The data item marked
with a dash (&ndash;) in the description of the data structure need not be
entered.
</p>
<p>(2) The length of all data blocks and data items is represented in bytes.
</p>
<p>(3) The read data becomes valid only when the instruction terminates
normally.
</p>
<p>Completion
code Meaning
</p>
<p>&ndash;10 The window instruction is being processed.  Hold ACT until W1
is set to 1.
</p>
<p>0 The instruction terminated normally.
</p>
<p>1 An error occurred.  The corresponding function number is not
found.
</p>
<p>2 An error occurred.  Possible causes include the following:
Wrong data is found in the CTL area.  The NC does not have the
corresponding function.
</p>
<p>3 An error occurred.  The specified axis is not provided.
</p>
<p>5 An error occurred.  It is a mistake of data form. Though the
function supports only a new format, a old format is specified.
</p>
<p>C.3
FORMAT AND 
DETAILS OF THE 
CONTROL DATA OF
THE WINDR 
FUNCTIONAL
INSTRUCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>839
</p>
<p>[Description]
</p>
<p>The tool offset value (tool compensation) is read from the CNC.
</p>
<p>0
Function code
</p>
<p>13
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Offset number
</p>
<p>Offset format
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
13
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Offset number
</p>
<p>Offset format
</p>
<p>Tool offset value
(4 byte)
</p>
<p>C.3.1
Reading a Tool Offset
(Low&ndash;Speed Response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>840
</p>
<p>1
</p>
<p>2
</p>
<p>3
</p>
<p>4
</p>
<p>1
</p>
<p>2
</p>
<p>3
</p>
<p>4
</p>
<p>5
</p>
<p>Tool compensation C
Tool length
Geometry 
compensation
Wear 
compensation
Cutter
Geometry 
compensation
Wear 
compensation
</p>
<p>Offset number
</p>
<p>Offset number
+1000
</p>
<p>Offset number
</p>
<p>Offset number
+1000
</p>
<p>1
</p>
<p>1
</p>
<p>2
</p>
<p>2
</p>
<p>(Note 1)  Offset format
M series (machining center system) T series (lathe system)
</p>
<p>Tool compensation B
Geometry 
compensation
Wear 
compensation
</p>
<p>1
</p>
<p>1
</p>
<p>Tool compensation A
Compensation Offset number1
</p>
<p>Data type Offset number
(CTL+2, 3)
</p>
<p>Format
</p>
<p>Offset number
</p>
<p>Offset number
+1000
</p>
<p>Tool compensation B
Geometry
compensation
Compensation
along the X&ndash;axis
Compensation
along the Z&ndash;axis
Tool&ndash;tip radius
compensation
Compensation
along the Y&ndash;axis
Wear
compensation
Compensation
along the X&ndash;axis
Compensation
along the Z&ndash;axis
Tool&ndash;tip radius
compensation
Compensation
along the Y&ndash;axis
Compensation
related to the
position of the
virtual tool
</p>
<p>Tool compensation A
Compensation along
the X&ndash;axis
Compensation along
the Z&ndash;axis
Tool&ndash;tip radius com-
pensation
Compensation along
the Y&ndash;axis
Compensation
related to the posi-
tion of the virtual tool
</p>
<p>Offset number
</p>
<p>Offset number
</p>
<p>Offset number
</p>
<p>Offset number
</p>
<p>Offset number
Offset number
</p>
<p>1
</p>
<p>2
</p>
<p>3
</p>
<p>4
</p>
<p>5
</p>
<p>Data type Offset number
(CTL+2, 3)
</p>
<p>Format
</p>
<p>Offset number
</p>
<p>Offset number
</p>
<p>Offset number
</p>
<p>Offset number
</p>
<p>Offset number
+1000
Offset number
+1000
Offset number
+1000
Offset number
+1000
Offset number
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>841
</p>
<p>[Description]
</p>
<p>The offset from the workpiece reference point of the current coordinate
system (including a shared offset) of the CNC is read.
</p>
<p>The offset from the workpiece reference point for each axis can be read
individually.  The offset from the workpiece reference point for an
additional axis can be read only when the additional axis is provided.
</p>
<p>0
Function code
</p>
<p>15
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Axis number
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
15
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Data number
</p>
<p>Axis number
</p>
<p>Workpiece origin 
offset value
</p>
<p>(4 byte)
</p>
<p>C.3.2
Reading a Workpiece
Origin Offset Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>842
</p>
<p>[Description]
</p>
<p>A parameter of the CNC is read.
</p>
<p>0
Function code
</p>
<p>17
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Parameter number
</p>
<p>Data attribute
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
17
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Parameter number
</p>
<p>Data attribute
</p>
<p>Parameter data
(4 byte)
</p>
<p>0 : No axis
</p>
<p>1 to n : A specified axis
</p>
<p>10
</p>
<p>11
</p>
<p>12
</p>
<p>13
</p>
<p>14
</p>
<p>DATA+0
</p>
<p>DATA+1
</p>
<p>DATA+2
</p>
<p>DATA+3
</p>
<p>(Note) Format of parameter data
If the data is one byte long, it is set in the
DATA+0 area.
</p>
<p>C.3.3
Reading a Parameter
(Setting Data)
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>843
</p>
<p>[Description]
</p>
<p>A custom macro variable is read from the CNC.
</p>
<p>CAUTION
The position of the decimal point must be specified
beforehand.
</p>
<p>0
Function code
</p>
<p>21
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Custom macro 
variable number
</p>
<p>Data attribute
0
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
21
</p>
<p>Completion code
</p>
<p>Data length
6
</p>
<p>Custom macro 
variable number
</p>
<p>Data attribute
</p>
<p>Custom macro 
variable value
</p>
<p>(4 byte)
</p>
<p>Position of 
decimal point
</p>
<p>(2 byte)
16
</p>
<p>Position of 
decimal point
</p>
<p>(2 byte)
16
</p>
<p>CAUTION
In the case of reading a Custom Macro Variable of upper
100000.
Please input &rdquo;10&rdquo; to &rdquo;Data attribute&rdquo;, and input last four digits
of variable number to &rdquo;Custom macro variable number&rdquo;.
</p>
<p>The relationship between the read value and the stored variable is:
</p>
<p>(Read value) =
(Custom macro variable in the NC)� 10(Position of decimal point)
</p>
<p>Read value Custom macro
variable in the NC
</p>
<p>Position of
decimal point
</p>
<p>1
12
</p>
<p>123
1234
</p>
<p>12340
</p>
<p>1. 234
0
1
2
3
4
</p>
<p>C.3.4
Reading a Custom
Macro Variable
(Low&ndash;speed response)
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>844
</p>
<p>[Description]
</p>
<p>If the CNC is in the alarm state, the details of the alarm are read.
</p>
<p>0
Function code
</p>
<p>23
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Data attribute
0
</p>
<p>Data area
(2 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>12
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>Function code
23
</p>
<p>Completion code
</p>
<p>Data length
2
</p>
<p>Data number
</p>
<p>Data attribute
</p>
<p>11
</p>
<p>12
</p>
<p>ALARM 1
</p>
<p>ALARM 2
</p>
<p>The following alarm states can be read:
</p>
<p>ALARM 1 Data format
7  6  5  4  3  2  1  0
</p>
<p>#0 : Background P/S alarm
#1 : Foreground P/S alarm
#2 : Overheat
#3 : Sub&ndash;CPU error
#4 : Excessive synchronization error
#5 : Parameter enable switch enabled
#6 : Overtravel
#7 : PC error
</p>
<p>ALARM 2 Data format
7  6  5  4  3  2  1  0
</p>
<p>#0 : External alarm message
#1 : Not defined
#2 : P/S alarm preventing the processing 
</p>
<p>   from continuing (serious alarm)
#3 : Not defined
#4 : Servo alarm
#5 : I/O error
#6 : Parameter input requiring the power to be turned off
#7 : System error
</p>
<p>C.3.5
Reading the CNC
Alarm Status
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>845
</p>
<p>[Description]
</p>
<p>The number of a running machining program is read from the CNC.
</p>
<p>0
Function code
</p>
<p>24
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Data attribute
0
</p>
<p>Data area
(6 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>16
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>14
</p>
<p>Read data
</p>
<p>Function code
24
</p>
<p>Completion code
</p>
<p>Data length
6
</p>
<p>Data number
</p>
<p>Data attribute
</p>
<p>15
</p>
<p>16
</p>
<p>FLAG 1
</p>
<p>FLAG 2
</p>
<p>Program number
10
</p>
<p>FLAG 1 Data format
7  6  5  4  3  2  1  0
</p>
<p>#0 to 3 : Number of decimal places
#4 : Whether a decimal point is provided 
</p>
<p>(0:  Not provided, 1: Provided)
#5 : Positive or negative 
</p>
<p>(0:  Positive, 1:  Negative)
#6 : Whether only one digit is provided 
</p>
<p>(0:  Not only one, 1:  Only one)
#7 : Not defined
</p>
<p>FLAG 2 Data format
7  6  5  4  3  2  1  0
</p>
<p>#3 : Whether at least one address in the range
of D to the second miscellaneous 
function is specified after the NC is reset
(0:  Not specified, 1:  Specified)
</p>
<p>#7 : Whether the read data is specified in the 
current block of the part program 
(0:  Not specified, 1:  Specified)
Other bits are not defined.
</p>
<p>C.3.6
Reading the Current
Program Number
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>846
</p>
<p>[Description]
</p>
<p>The sequence number of the running machining program is read from the
CNC.  If the blocks of the running machining program have no sequence
numbers, the sequence number of the block most recently executed is
read.
</p>
<p>0
Function code
</p>
<p>25
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Data attribute
0
</p>
<p>Data area
(6 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>16
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>14
</p>
<p>Read data
</p>
<p>Function code
25
</p>
<p>Completion code
</p>
<p>Data length
6
</p>
<p>Data number
</p>
<p>Data attribute
</p>
<p>15
</p>
<p>16
</p>
<p>FLAG 1
</p>
<p>FLAG 2
</p>
<p>10
</p>
<p>FLAG 1 Data format
7  6  5  4  3  2  1  0
</p>
<p>#0 to 3 : Number of decimal places
#4 : Whether the decimal point is provided 
</p>
<p>(0:  Not provided, 1:  Provided)
#5 : Positive or negative 
</p>
<p>(0:  Positive, 1: Negative)
#6 : Whether only one digit is provided 
</p>
<p>(0:  Not only one, 1:  Only one)
#7 : Not defined
</p>
<p>FLAG 2 Data format
7  6  5  4  3  2  1  0
</p>
<p>#3 : Whether at least one address in the 
range of D to the second miscellaneous 
function is specified after the NC is reset 
(0:  Not specified, 1:  Specified)
</p>
<p>#7 : Whether the read data is specified in the 
current block of the part program 
(0:  Not specified, 1:  Specified)Other bits 
are not defined.
</p>
<p>Sequence number
(4 byte)
</p>
<p>C.3.7
Reading the Current
Sequence Number
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>847
</p>
<p>[Description]
</p>
<p>The actual speed of the feed axes controlled by the CNC is read.
</p>
<p>The composite speed of the controlled axes is read.  If the X&ndash;, Y&ndash;, and
Z&ndash;axes, the basic three axes, are controlled as feed axes, the composite
speed of the three axes is read.
</p>
<p>0
Function code
</p>
<p>26
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Data attribute
0
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
26
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Data number
</p>
<p>Data attribute
</p>
<p>Feedrate
(4 byte)
</p>
<p>[Description]
</p>
<p>The absolute position (absolute coordinates) on a feed axis controlled by
the CNC is read.
</p>
<p>0
Function code
</p>
<p>27
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Axis number
0
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
27
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Data number
</p>
<p>Axis number
</p>
<p>Absolute position
(4 byte)
</p>
<p>C.3.8
Reading the Actual
Velocity of Controlled
Axes
(Low&ndash;speed response)
</p>
<p>C.3.9
Reading the Absolute
Position on a
Controlled Axis
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>Current position
</p>
<p>Kind of data Data specification
</p>
<p>y
</p>
<p>x
</p>
<p>Origin of the machine coordinate system
</p>
<p>Local coordinate system (G52)
</p>
<p>Workpiece origin offset (G54 or after)
</p>
<p>External workpiece origin offset
</p>
<p>Workpiece coordinate system (G92)
</p>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>848
</p>
<p>Data specification
</p>
<p>1) Indicates the current position in the workpiece coordinate system.
The current position is calculated by the following simple expression.
The read current position is stored in the 4&ndash;byte area of DATA+0 to DATA+3.
Current position = machine coordinate value &ndash; workpiece offset value
The workpiece offset value can be obtained by summing up the folloing offset.
(1) External workpiece origin offset
(2) Workpiece origin offset (G54 to G59,G54.1Pp)
(3) Workpiece coordinate system (G92)
(4) Local coordinate system (G52)
</p>
<p>2) The unit of the read value is determined as follows:
(1) For the machining center system or when the radius is specified for the axis of the lathe systm.
</p>
<p>The data shows double of the present position with the least input increment as a unit.
(2) When the diameter is specified for the lathe system
</p>
<p>The data shows the present position with the least input increment.
(3) When the input unit is multiplied by 10
</p>
<p>The data shows twenty&ndash;times the present position (radius programming) or ten&ndash;times the 
present position (diameter programming) with the last command increment as a unit.
</p>
<p>3) The present position of a moving axis can be read whenever the function instruction is executed.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>849
</p>
<p>[Description]
</p>
<p>The machine position (machine coordinates) on a feed axis controlled by
the CNC is read.
</p>
<p>0
Function code
</p>
<p>28
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Data attribute
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
28
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Data number
</p>
<p>Data attribute
</p>
<p>Feedrate
(4 byte)
</p>
<p>1) The unit of the read value is determined as follows:
</p>
<p>(1) For the machining center system or when the radius is specified
for the axis of the lathe systm.
The data shows double of the present position with the least
input increment as a unit.
</p>
<p>(2) When the diameter is specified for the lathe system
</p>
<p>The data shows the present position with the least input
increment.
</p>
<p>(3) When the input unit is multiplied by 10
</p>
<p>The data shows twenty&ndash;times the present position (radius
programming) or ten&ndash;times the present position (diameter
programming) with the last command increment as a unit.
</p>
<p>2) The present position of a moving axis can be read whenever the
function instruction is executed.
</p>
<p>C.3.10
Reading the Machine
Position (Machine
Coordinates) of
Controlled Axes
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>850
</p>
<p>[Description]
</p>
<p>The absolute coordinates of the skip position specified in the CNC are
read.
</p>
<p>0
Function code
</p>
<p>29
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Axis number
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
29
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Data number
</p>
<p>Axis number
</p>
<p>Skip position
(4 byte)
</p>
<p>1) The unit of the read value is determined as follows:
</p>
<p>(1) For the machining center system or when the radius is specified
for the axis of the lathe systm.
The data shows double of the present position with the least
input increment as a unit.
</p>
<p>(2) When the diameter is specified for the lathe system
</p>
<p>The data shows the present position with the least input
increment.
</p>
<p>(3) When the input unit is multiplied by 10
</p>
<p>The data shows twenty&ndash;times the present position (radius
programming) or ten&ndash;times the present position (diameter
programming) with the last command increment as a unit.
</p>
<p>2) Once the skip signal has been input to the NC, movement along the
relevant axis is stopped then, after the elapse of the servo delay, the
absolute position can be read.
</p>
<p>C.3.11
Reading a Skip
Position (Stop Position
of Skip Operation
(G31)) of Controlled
Axes
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>851
</p>
<p>[Description]
</p>
<p>A servo delay, which is the difference between the specified position on
a controlled axis and the actual servo position, is read from the CNC.
</p>
<p>0
Function code
</p>
<p>30
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Data attribute
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
30
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Data number
</p>
<p>Data attribute
</p>
<p>Servo delay
(4 byte)
</p>
<p>[Description]
</p>
<p>An acceleration/deceleration delay, which is the difference between the
programmed position on a controlled axis and the actual position after the
acceleration or deceleration, is read from the CNC.
</p>
<p>0
Function code
</p>
<p>31
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Axis number
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
31
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Data number
</p>
<p>Axis number
</p>
<p>Acceleration/
deceleration delay
</p>
<p>(4 byte)
</p>
<p>C.3.12
Reading the Servo
Delay for Controlled
Axes
</p>
<p>C.3.13
Reading the
Acceleration/
Deceleration Delay on
Controlled Axes
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>852
</p>
<p>[Description]
</p>
<p>The continuous&ndash;state data is read from the CNC.
</p>
<p>The continuous&ndash;state data can be broadly classified into two types:  Data
of the preparatory function and data of other functions.  When CTL2
(specified block) is set to 0, the continuous&ndash;state data of the previous
block is read.  When CTL2 is set to 2, the continuous&ndash;state data of the next
block is read.
</p>
<p>(1) Continuous&ndash;state data of the preparatory function
</p>
<p>0
Function code
</p>
<p>32
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data type
</p>
<p>Specified block
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>Function code
32
</p>
<p>Completion code
</p>
<p>Data length
2
</p>
<p>Data type
</p>
<p>Specified block
</p>
<p>12
</p>
<p>Modal data
</p>
<p>12
</p>
<p>Data area
(2 byte)
</p>
<p>0 : Previous block
</p>
<p>1 : Current block
</p>
<p>2 : Next block
</p>
<p>0 &ndash; : Each data for G function
</p>
<p>(Note) Format of the continuous&ndash;state data
7  6  5  4  3  2  1  0
</p>
<p>#0 to #6 : Continuous&ndash;state data
#7 : Specified block
   1= Current block
   0= Previous block
</p>
<p>DATA+0
</p>
<p>C.3.14
Reading Modal Data
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>853
</p>
<p>(2) Continuous&ndash;state data of a function other than the preparatory
function
</p>
<p>The following eleven data items of an NC part program can be read:
addresses D, E, H, L, M, N, O, S, T, and F, and second miscellaneous
function.
</p>
<p>0
Function code
</p>
<p>32
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data type
</p>
<p>Specified block
</p>
<p>Data area
(6 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>16
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>14
</p>
<p>Read data
</p>
<p>Function code
32
</p>
<p>Completion code
</p>
<p>Data length
6
</p>
<p>Data type
</p>
<p>Specified block
</p>
<p>15
</p>
<p>16
</p>
<p>FLAG 1
</p>
<p>FLAG 2
</p>
<p>Modal data
(4 byte)
</p>
<p>10
</p>
<p>FLAG 1 Data format
7  6  5  4  3  2  1  0
</p>
<p>#0 &ndash; 3 : Number of decimal places
#4 : Whether the decimal point is provided 
</p>
<p>(0:  Not provided, 1:  Provided)
#5 : Positive or negative 
</p>
<p>(0: Positive, 1: Negative)
#6 : Whether only one digit is provided 
</p>
<p>(0:  Not only one, 1:  Only one)
#7 : Not defined
</p>
<p>FLAG 2 Data format
7  6  5  4  3  2  1  0
</p>
<p>#3 : Whether at least one address in the 
range of D to the second miscellaneous
function is specified after the NC is reset
(0:  Not specified, 1:  Specified)
</p>
<p>#7 : Whether the read data is specified in the
current block of the part program 
(0:  Not specified, 1:  Specified)
Other bits are not defined.
</p>
<p>0 : Previous block
</p>
<p>1 : Current block
</p>
<p>2 : Next block
</p>
<p>24 &ndash; : All data for G function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>854
</p>
<p>(3) Data specification
</p>
<p>1) Modal data of G function
</p>
<p>The relationship between the numbers specified in the CTL1 (kinds of data), modal data codes is shown below.  Into
CTL2 (the specified block), specify 0 (previous data), 1 (present date), or 2 (next data) in accordance with the
necessary modal data.
The G code for the lathe system is expressed with the G code system B.  Refer to the table indicating the G function
system.  For example, the G32 of the G code system A corresponds to the G33 of the G code system B.  As a result,
the code fetched in the DATA + 0 is 4.
</p>
<p>Specified number in
CTL1 (kinds of data)
</p>
<p>G code for machining
center system
</p>
<p>G code for lathe
system 
</p>
<p>(G code system B)
</p>
<p>Code fetched in
DATA + 0
</p>
<p>00 G00
G01
G02
G03
G33
&mdash;
&mdash;
&mdash;
</p>
<p>G00
G01
G02
G03
G33
G77
G78
G79
</p>
<p>0
1
2
3
4
8
9
10
</p>
<p>01 G17
G18
G19
</p>
<p>G97
G96
&mdash;
</p>
<p>0
1
2
</p>
<p>02 G90
G91
</p>
<p>G90
G91
</p>
<p>1
0
</p>
<p>03 G22
G23
</p>
<p>G22
G23
</p>
<p>0
1
</p>
<p>04 G93
G94
G95
</p>
<p>&mdash;
G94
G95
</p>
<p>2
0
1
</p>
<p>05 G20
G21
</p>
<p>G20
G21
</p>
<p>1
0
</p>
<p>06 G40
G41
G42
</p>
<p>G40
G41
G42
</p>
<p>0
1
2
</p>
<p>07 G43
G44
G49
</p>
<p>&mdash;
&mdash;
&mdash;
</p>
<p>1
2
0
</p>
<p>08 G80
G81
G82
G83
G84
G85
G86
G87
G88
G89
G73
G74
G76
</p>
<p>G80
G81
G82
G83
G84
G85
G86
G87
G88
G89
G83.1
G84.1
G86.1
</p>
<p>0
1
2
3
4
5
6
7
8
9
10
11
12
</p>
<p>09 G98
G99
</p>
<p>G98
G99
</p>
<p>0
1
</p>
<p>10 G50
G51
</p>
<p>&mdash;
&mdash;
</p>
<p>0
1
</p>
<p>Modal data
</p>
<p>Kind of data Data specification
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>855
</p>
<p>Specified number in
CTL1 (kinds of data)
</p>
<p>G code for machining
center system
</p>
<p>G code for lathe
system 
</p>
<p>(G code system B)
</p>
<p>Code fetched in
DATA + 0
</p>
<p>11 G66
G67
G66.1
</p>
<p>G66
G66
G66.1
</p>
<p>1
0
2
</p>
<p>12 G96
G97
</p>
<p>G68
G69
</p>
<p>1
0
</p>
<p>13 G54
G55
G56
G57
G58
G59
</p>
<p>G54
G55
G56
G57
G58
G59
</p>
<p>0
1
2
3
4
5
</p>
<p>14 G61
G62
G63
G64
</p>
<p>G61
&mdash;
&mdash;
G64
</p>
<p>1
2
3
0
</p>
<p>15 G69
G68
&mdash;
</p>
<p>G17
G18
G19
</p>
<p>0
1
2
</p>
<p>16 G15
G16
</p>
<p>&mdash;
&mdash;
</p>
<p>0
1
</p>
<p>17 G50.1
G51.1
</p>
<p>G50.1
G51.1
</p>
<p>0
1
</p>
<p>Modal data
</p>
<p>Kind of data Data specification
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>856
</p>
<p>Table &mdash; 1 of G code system for a lathe system
</p>
<p>G code system *1)
F nction
</p>
<p>A B C
Function
</p>
<p>G00
G01
G02
G03
G04
G07
G09
G10
G10.1
G11
G17
G18
G19
G20
G21
G22
G23
G27
G28
G29
G30
G31
G32
G34
G35
G36
</p>
<p>G37
</p>
<p>G37.1
G37.2
G37.3
G40
G41
G42
G50
</p>
<p>G50.1
G51.1
G52
G53
G54
G55
G56
G57
G58
G59
G61
G62
G64
G65
G66
G66.1
G67
G68
G69
G70
G71
</p>
<p>G00
G01
G02
G03
G04
G07
G09
G10
G10.1
G11
G17
G18
G19
G20
G21
G22
G23
G27
G28
G29
G30
G31
G32
G34
G35
G36
</p>
<p>G37
</p>
<p>G37.1
G37.2
G37.3
G40
G41
G42
G92
</p>
<p>G50.1
G51.1
G52
G53
G54
G55
G56
G57
G58
G59
G61
G62
G64
G65
G66
G66.1
G67
G68
G69
G70
G71
</p>
<p>G00
G01
G02
G03
G04
G07
G09
G10
G10.1
G11
G17
G18
G19
G70
G71
G22
G23
G27
G28
G29
G30
G31
G32
G34
G35
G36
</p>
<p>G37
</p>
<p>G37.1
G37.2
G37.3
G40
G41
G42
G92
</p>
<p>G50.1
G51.1
G52
G53
G54
G55
G56
G57
G58
G59
G61
G62
G64
G65
G66
G66.1
G67
G68
G69
G72
G73
</p>
<p>Positioning
Linear interpolation
Circular interpolation CW
Circular interpolation CCW
Dwell
Hypotherical axis interpolation
Exact stop
Data setting
PC data setting
Data setting mode cancel
XpYp plane selection    Xp:  X axis or its parallel axis
ZpXp plane selection    Yp:  Y axix or its parallel axis
YpZp plane selection    Zp:  Z axis or its parallel axis
Inch input
Metric input
Stored stroke check on
Stored stroke check off
Reference point return check
Reference point return
Return from reference point
Return to 2nd, 3rd, 4th reference point
Skip function
Thread cutting
Variable lead thread cutting
Circular thread cutting CW
Circular thread cutting CCW or automatic tool 
compensation (X axis)
Automatic tool compensation #1 or automatic tool 
compensation (Z axis)
Automatic tool compensation #1
Automatic tool compensation #2
Automatic tool compensation #3
Tool nose radius compensation cancel
Tool nose radius compensation left
Tool nose radius compensation right
Work coordinates change/maximum spindle spped 
setting
Programmable mirror image cancel
Programmable mirror image
Local coordinate system setting
Machine coordinate system selection
Work coordinate system 1 selection
Work coordinate system 2 selection
Work coordinate system 3 selection
Work coordinate system 4 selection
Work coordinate system 5 selection
Work coordinate system 6 selection
Exact stop mode
Automatic corner override
Cutting mode
Macro call
Macro modal call A
Macro modal call B
Macro modal call A/B cancel
Mirror image for double currets on
Mirror image for double currets cancel
Finishing cycle
Stock removal in turning
</p>
<p>Modal data
</p>
<p>Kind of data Data specification
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>857
</p>
<p>Table &mdash; 2 of G code system for a lathe system
</p>
<p>G code system *1)
F nction
</p>
<p>A B C
Function
</p>
<p>G72
G73
G74
G75
G76
G80
G81
G82
G83
G83.1
G84
G84.1
G85
G86
G86.1
G87
G88
G89
G90
G92
G94
G96
G97
G98
G99
&mdash;
&mdash;
&mdash;
&mdash;
</p>
<p>G72
G73
G74
G75
G76
G80
G81
G82
G83
G83.1
G84
G84.1
G85
G86
G86.1
G87
G88
G89
G77
G78
G79
G96
G97
G94
G95
G90
G91
G98
G99
</p>
<p>G74
G75
G76
G77
G78
G80
G81
G82
G83
G83.1
G84
G84.1
G85
G86
G86.1
G87
G88
G89
G20
G21
G24
G96
G97
G94
G95
G90
G91
G98
G99
</p>
<p>Stock removal in facing
Pattern repeating
Peck drilling Z axis
Grooving in X axis
Threading cycle
Canned cycle for drilling cancel
Drilling cycle, spot boring
Drilling cycle, counter boring
Peck drilling cycle
Peck drilling cycle
Tapping cycle
Counter tapping cycle
Boring cycle
Boring cycle
Fine boring cycle
Back boring cycle
Boring cycle
Boring cycle
Outting cycle A
Thread cutting cycle
Outting cycle B
Constant surface speed control
Constant surface speed control
Feed per minute
Feed per revolution
Absolute command
Incremental command
Canned cycle initial level return
Canned cycle R point level return
</p>
<p>*1) G code system A/B can be selected by parameter setting (basic function).
Gcode sytem C is optinal function. However, when this option is selected, G code system A/B
is selectable.
</p>
<p>2) Modal data other than the G function
</p>
<p>Modal data other than CTL1 (kinds of data) Field from which tothe G function 
(address in the part program)
</p>
<p>For machining
system
</p>
<p>For turning
system
</p>
<p>Field  from  which  to  
fetch data
</p>
<p>D 24 &mdash;
</p>
<p>E 25 24
</p>
<p>H 26 25
</p>
<p>L 27 26
</p>
<p>M 28 27
</p>
<p>N 29 28 DATA+0 to DATA+5
</p>
<p>O 30 29
</p>
<p>S 31 30
</p>
<p>T 32 31
</p>
<p>F 33 32
</p>
<p>Second auxiliary function 34 33
</p>
<p>Modal data
</p>
<p>Kind of data Data specification
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>858
</p>
<p>[Description]
</p>
<p>The data on the diagnostic data screen of the CNC is read.
</p>
<p>0
Function code
</p>
<p>33
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Diagnosis number
</p>
<p>Data attribute
0
</p>
<p>Data area
(2 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>12
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>12
</p>
<p>Function code
33
</p>
<p>Completion code
</p>
<p>Data length
2
</p>
<p>Diagnosis number
</p>
<p>Diagnosis data
(2 byte)
</p>
<p>Data attribute
0
</p>
<p>NOTE
Diagnosis number
The diagnosis number must fall in the range of 0 to 103 or
200 to 303.
</p>
<p>C.3.15
Reading Diagnosis
Data
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>859
</p>
<p>[Description]
</p>
<p>1. The load current for an axis controlled by the CNC is converted to
adigital value and the digital value is read.
</p>
<p>2. The analog data input to the CNC is converted to a digital value by
the A/D converter and the digital value is read.
</p>
<p>0
Function code
</p>
<p>34
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
</p>
<p>Axis number
</p>
<p>Data area
(2 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>12
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>12
</p>
<p>Function code
34
</p>
<p>Completion code
</p>
<p>Data length
2
</p>
<p>Data number
</p>
<p>A/D conversion data
(2 byte)
</p>
<p>Axis number
</p>
<p>An analog voltage ranging from &ndash;10V to +10V is input to the A/D
converter of the NC. The voltage is converted to a digital value ranging
form 0 to +255 and transferred by the window function to the PMC. This
value is called the A/D conversion data.
</p>
<p>The digital value is proportional to the analog voltage: 0 corresponds to
&ndash;10V, 128 corresponds to 0V, and 255 corresponds to +10V.
</p>
<p>Type of analog voltage input Data number Axis number
</p>
<p>General&ndash;purpose analog input 0 1
2
3
4
5
6
</p>
<p>Analog input of a voltage caluculated
from the load current for the axis con-
trolled by the NC 
(AC servo motor only)
</p>
<p>200 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</p>
<p>Method of calculation of the load current of controlled axis from the read
A/D conversion data is as follows.
</p>
<p>C.3.16
Reading A/D
Conversion Data for
the Feed Motor
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>860
</p>
<p>a) In the case of peak current [Ao&ndash;p] of load current is calculated.
</p>
<p>LOAD CURRENT[Ao&ndash;p]�
(READ DATA) � 128
</p>
<p>(COEFFICIENT)
[Ao&ndash;p]
</p>
<p>b) In the case of ratings currents [Arms] of load current are calculated.
</p>
<p>LOAD CURRENT[Arms]�
(READ DATA) � 128
</p>
<p>(COEFFICIENT)� 2�
[Arms]
</p>
<p>c) In the case of percent (rate) is calculated.
</p>
<p>rate of load[%]�
LOAD CURRENT[Ao&ndash;p]
</p>
<p>PEAK CURRENT OF SERVO MOTOR
� 100[%]
</p>
<p>COEFFICIENT:
It decides depending on the capacity of the amplifier to be used.
</p>
<p>PEAK CURRENT OF SERVO MOTOR :
It dicides with the servo motor.
</p>
<p>When the AC motor model &rdquo;30s&rdquo; is used and the read A/D conversion
data is 150, method of calculating each load current.
</p>
<p>The following is understood from manual of the servo.
</p>
<p>AC motor model Ratings currents(Arms)
</p>
<p>30S 16
</p>
<p>Moreover, the amplifier of 80A is used for the motor of 30S.
</p>
<p>The coefficient is calculated.
</p>
<p>The coefficient is a value by which the peak current of amplifier is
converted by 128.
</p>
<p>COEFFICIENT� 128
PEAK CURRENT VALUE OF AMPLIFIER
</p>
<p>�
</p>
<p>128
80
</p>
<p>� 1.6
</p>
<p>The peak current of the servo motor is calculated.
</p>
<p>PEAK CURRENT[Ao&ndash;p]� (ratings currents)� 2�
</p>
<p>� 16� 2� � 22.62742
</p>
<p>� 23 [Ao&ndash;p]
</p>
<p>Since the rade A/D conversion data is 150, the peak current, the ratings
currents and the rate of the load can be calculated.
</p>
<p>a) Peak current[Ao&ndash;p] of load current
</p>
<p>LOAD CURRENT[Ao&ndash;p]�
(READ DATA) � 128
</p>
<p>(COEFFICIENT)
�
</p>
<p>150� 128
1.6
</p>
<p>� 13.75 [Ao&ndash;p]
</p>
<p>b) Ratings currents[Arms] of load current
</p>
<p>RATINGS CURRENTS[Arms]�
(READ DATA) � 128
</p>
<p>(COEFFICIENT)� 2�
�
</p>
<p>150� 128
1.6� 2�
</p>
<p>� 9.72 [Arms]
</p>
<p>c) PERCENT(RATE)
</p>
<p>RATE OF LOAD[%]�
LOAD CURRENT[Ao&ndash;p]
</p>
<p>PEAK CURRENT OF SERVO MOTOR
� 100
</p>
<p>�
</p>
<p>13.75
23
</p>
<p>� 100� 59.8 [%]
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>861
</p>
<p>[Hardware]
</p>
<p>When general analog input data is read, one of the following hardware
items is required:
</p>
<p>1 Sub&ndash;CPU board
</p>
<p>2 Analog I/O module on the additional axis board
</p>
<p>For details of the relationship between input numbers and connectors,
refer to the connection manual. When an NC controlled axis load current
is read, the hardware described above is not required.
</p>
<p>[NC parameters]
</p>
<p>When this function is used, the NC parameters listed below need to be set.
For details, refer to the parameter descriptions.
</p>
<p>1 Bit 6 of parameter No. 1810 = 0 (A/D conversion is performed.)
</p>
<p>2 Bit 0 of parameter No. 1811 = 1 (A/D conversion data is output in
high&ndash;speed mode.)
</p>
<p>[Description]
</p>
<p>The number of the tool group in which the tool number is cataloged is
read.
</p>
<p>0
Function code
</p>
<p>38
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Tool No.
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
38
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Data number
</p>
<p>Tool No.
</p>
<p>Tool group No.
(4 byte)
</p>
<p>NOTE
The data can be read only when the tool life management
data function is provided.
</p>
<p>C.3.17
Reading the Tool Life
Management Data
(Tool Group Number)
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>862
</p>
<p>[Description]
</p>
<p>The number of tool groups contained in the tool life management data is
read.
</p>
<p>0
Function code
</p>
<p>39
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Data attribute
0
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
39
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Data number
</p>
<p>Data attribute
</p>
<p>Number of tool 
groups
(4 byte)
</p>
<p>[Description]
</p>
<p>The number of tools cataloged in the specified tool group is read.
</p>
<p>0
Function code
</p>
<p>40
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Tool group No.
</p>
<p>Data attribute
0
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
40
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Data attribute
</p>
<p>Number of tools
(4 byte)
</p>
<p>C.3.18
Reading the Tool Life
Management Data
(Number of Tool
Groups) 
(Low&ndash;speed response)
</p>
<p>C.3.19
Reading Tool Life
Management Data
(Number of Tools)
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>863
</p>
<p>[Description]
</p>
<p>The tool life of the specified tool group is read.
</p>
<p>0
Function code
</p>
<p>41
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Tool group No.
</p>
<p>Data attribute
0
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
41
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Data attribute
</p>
<p>Tool life
(4 byte)
</p>
<p>[Description]
</p>
<p>The tool life counter of the specified tool group is read.
</p>
<p>0
Function code
</p>
<p>42
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Tool group No.
</p>
<p>Data attribute
0
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
42
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Data attribute
</p>
<p>Tool life counter
(4 byte)
</p>
<p>C.3.20
Reading Tool Life
Management Data 
(Tool Life)
(Low&ndash;speed response)
</p>
<p>C.3.21
Reading Tool Life
Management Data 
(Tool Life Counter)
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>864
</p>
<p>[Description]
</p>
<p>The tool life counter type of the specified tool group is read.
</p>
<p>0
Function code
</p>
<p>160
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Tool group No.
</p>
<p>Data attribute
0
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
160
</p>
<p>Completion code
</p>
<p>Data length
&mdash;
</p>
<p>Tool group No.
</p>
<p>Data attribute
</p>
<p>Tool life counter type
(4 byte)
</p>
<p>Tool life counter type
1 : The tool life counter indicates the number of times the tool has been used.
2 : The tool life counter indicates the period of time the tool has been used.
</p>
<p>C.3.22
Reading Tool Life
Management Data 
(Tool Life Counter
Type)
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>865
</p>
<p>[Description]
</p>
<p>A tool length compensation number is read according to the specified tool
group number and tool number.
</p>
<p>0
Function code
</p>
<p>43
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Tool group No.
</p>
<p>Tool No.
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
43
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool No.
</p>
<p>Tool length compensa-
tion No.
(4 byte)
</p>
<p>If nothing is specified after the H code, the NC transfers 255 (FFH).
</p>
<p>C.3.23
Reading Tool Life
Management Data 
(Tool Length
Compensation No.1) 
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>866
</p>
<p>[Description]
</p>
<p>A tool length compensation number is read according to the specified tool
group number and tool order number.
</p>
<p>0
Function code
</p>
<p>44
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Tool group No.
</p>
<p>Tool order number
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
44
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool order number
</p>
<p>Tool length 
compensation No.
</p>
<p>(4 byte)
</p>
<p>If nothing is specified after the H code, the NC transfers 255 (FFH).
</p>
<p>C.3.24
Reading Tool Life
Management Data 
(Tool Length
Compensation No.2) 
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>867
</p>
<p>[Description]
</p>
<p>A cutter compensation number is read according to the specified tool
group number and tool number.
</p>
<p>0
Function code
</p>
<p>45
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Tool group No.
</p>
<p>Tool No.
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
45
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool No.
</p>
<p>Cutter
compensation No.
</p>
<p>(4 byte)
</p>
<p>If nothing is specified after the D code, the NC transfers 255 (FFH).
</p>
<p>C.3.25
Reading Tool Life
Management Data
(Cutter Compensation
No.1)
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>868
</p>
<p>[Description]
</p>
<p>A cutter compensation number is read according to the specified tool
group number and tool order number.
</p>
<p>0
Function code
</p>
<p>46
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Tool group No.
</p>
<p>Tool order number
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
46
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool order number
</p>
<p>Cutter 
compensation No.
</p>
<p>(4 byte)
</p>
<p>If nothing is specified after the D code, the NC transfers 255 (FFH).
</p>
<p>C.3.26
Reading Tool Life
Management Data
(Cutter Compensation
No.2) 
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>869
</p>
<p>[Description]
</p>
<p>The tool information (status) is read according to the specified tool group
number and tool number.
</p>
<p>0
Function code
</p>
<p>47
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Tool group No.
</p>
<p>Tool No.
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
47
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool No.
</p>
<p>Tool information
(4 byte)
</p>
<p>Tool information
1 : The tool is cataloged.
2 : The tool life has expired.
3 : The tool was skipped.
</p>
<p>C.3.27
Reading Tool Life
Management Data 
(Tool Information 1)
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>870
</p>
<p>[Description]
</p>
<p>The tool information (status) is read according to the specified tool group
number and tool order number.
</p>
<p>0
Function code
</p>
<p>48
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Tool group No.
</p>
<p>Tool order number
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
48
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool order number
</p>
<p>Tool information
(4 byte)
</p>
<p>Tool information
See the description in Section 3.27.
</p>
<p>[Description]
</p>
<p>A tool number is read according to the specified tool group number and
tool order number.
</p>
<p>0
Function code
</p>
<p>49
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Tool group No.
</p>
<p>Tool order number
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
49
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool order number
</p>
<p>Tool No.
(4 byte)
</p>
<p>C.3.28
Reading Tool Life
Management Data 
(Tool Information 2)
(Low&ndash;speed response)
</p>
<p>C.3.29
Reading Tool Life
Management Data 
(Tool Number)
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>871
</p>
<p>[Description]
</p>
<p>The current data (year, month, day) and current time (hours, minutes,
seconds) can be read from the clock built into the CNC.
</p>
<p>0
Function code
</p>
<p>151
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data format
</p>
<p>Data attribute
0
</p>
<p>Data area
(6 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>16
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>16
</p>
<p>Function code
151
</p>
<p>Completion code
</p>
<p>Data length
6
</p>
<p>Data format
</p>
<p>Data attribute
</p>
<p>Clock data
(6 byte)
</p>
<p>0 : Current data
</p>
<p>1 : Current time
</p>
<p>DATA+ 0
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>Years (Example: 1992)
</p>
<p>Months (Example: 12)
</p>
<p>Days (Example: 16)
</p>
<p>(Note) Format of clock data
The data is binary.
Current date
</p>
<p>DATA+ 0
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>Hours (Example: 23)
</p>
<p>Minutes (Example: 59)
</p>
<p>Seconds (Example: 59)
</p>
<p>Current time
</p>
<p>C.3.30
Reading Clock Data
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>872
</p>
<p>[Description]
</p>
<p>The relative position (relative coordinates) on a feed axis controlled by
the CNC is read.
</p>
<p>0
Function code
</p>
<p>74
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Axis number
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
74
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Data number
</p>
<p>Axis number
</p>
<p>Relative position
(4 byte)
</p>
<p>1) The unit of the read value is determined as follows:
</p>
<p>(1) For the machining center system or when the radius is specified
for the axis of the lathe systm.
The data shows double of the present position with the least
input increment as a unit.
</p>
<p>(2) When the diameter is specified for the lathe system
</p>
<p>The data shows the present position with the least input
increment.
</p>
<p>(3) When the input unit is multiplied by 10
</p>
<p>The data shows twenty&ndash;times the present position (radius
programming) or ten&ndash;times the present position (diameter
programming) with the last command increment as a unit.
</p>
<p>2) The present position of a moving axis can be read whenever the
function instruction is executed.
</p>
<p>C.3.31
Reading the Relative
Position on a
Controlled Axis
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>873
</p>
<p>[Description]
</p>
<p>The remaining traveling distance on a feed axis controlled by the CNC is
read.
</p>
<p>0
Function code
</p>
<p>75
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Axis number
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>14
</p>
<p>Function code
75
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Data number
</p>
<p>Axis number
</p>
<p>Remaining travel
(4 byte)
</p>
<p>C.3.32
Reading the Remaining
Travel
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>874
</p>
<p>[Description]
</p>
<p>1) The load torques except a necessary torque for acceleration/
deceleration of the torques of the servo axis are read.
</p>
<p>2) The load torques except a necessary torque for acceleration/
deceleration of the torques of the serial spindle axis are read.
</p>
<p>0
Function code
</p>
<p>211
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0 or 1
</p>
<p>Axis number
</p>
<p>Data area
(2 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>Function code
211
</p>
<p>Completion code
</p>
<p>Data length
2
</p>
<p>Data number
</p>
<p>Axis number
</p>
<p>12 12
</p>
<p>Estimate disturbance
torque
(2 byte)
</p>
<p>0: Estimate disturbance
torque data of a digital
servo
</p>
<p>1: Estimate disturbance
torque data of a serial
spindle
</p>
<p>Kind of data Data specification
</p>
<p>Estimate disturbance torque data
of a digital servo
</p>
<p>Please refer to &rdquo;FANUC AC SERVO AMPLIFIER AMINTENANCE MANUAL
(B&ndash;65005E)&rdquo; for correspondence of the load torque with the value of the read data.
</p>
<p>Estimate disteurbance torque data
of a serial spindle
</p>
<p>Please refer to &rdquo;FANUC AC SPINDLE SERVO UNIT (SERIAL INTERFACE) MAINTE-
NANCE MANUAL (B&ndash;65045E)&rdquo; for correspondence of the load torque with the value of
the read data.
The load torque of the spindle is understood from the undermentioned calculation type.
</p>
<p>Load torque � The read data
16384
</p>
<p>� Maximum output torque of spindle
</p>
<p>C.3.33
Reading an Estimate
Disturbance Torque
Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>875
</p>
<p>[Description]
</p>
<p>The machining time currently specified for a program is read.
</p>
<p>0
Function code
</p>
<p>178
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Program number
</p>
<p>Data attribute
1
</p>
<p>Data area
(6 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>16
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>16
</p>
<p>Function code
178
</p>
<p>Completion code
</p>
<p>Data length
6
</p>
<p>Program number
</p>
<p>Data attribute
1
</p>
<p>Machining time
(6 byte)
</p>
<p>C.3.34
Reading the Machining
Time 
(Low&ndash;speed response)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>876
</p>
<p>[Description]
</p>
<p>The load current for the spindle (spindle motor) is converted to a digital
value and the digital value is read.  (See Section 3.16, &rdquo;Reading the Load
Current (A/D Conversion Data) for the Feed Motor.&rdquo;)
</p>
<p>0
Function code
</p>
<p>153
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data number
0
</p>
<p>Axis number
</p>
<p>Data area
(2 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>Function code
153
</p>
<p>Completion code
</p>
<p>Data length
2
</p>
<p>Data number
</p>
<p>Axis number
</p>
<p>A/D conversion data
(2 byte)
</p>
<p>12 12
</p>
<p>[Hardware]
</p>
<p>When general analog input data is read, one of the following hardware
items is required:
</p>
<p>1 Sub&ndash;CPU board
</p>
<p>2 Analog I/O module on the additional axis board
</p>
<p>With a serial spindle, however, the hardware described above is not
required if CNC software of mass production version IV or later is used.
For the relationship between input numbers and connectors, refer to the
connection manual.
</p>
<p>[NC parameters]
</p>
<p>When this function is used, the NC parameters listed below must be set.
For details, refer to the parameter descriptions.
</p>
<p>1 Bit 6 of parameter No. 1810 = 0 (A/D conversion is performed.)
</p>
<p>2 Bit 0 of parameter No. 1811 = 1 
(A/D conversion data is output in high&ndash;speed mode.)
</p>
<p>C.3.35
Reading the Load
Current 
(A/D Conversion Data)
for the Spindle Motor
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>877
</p>
<p>[Description]
</p>
<p>The tool number is spedified and the tool offset data is read.
</p>
<p>0
Function code
</p>
<p>213
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
&mdash;
</p>
<p>Data format
</p>
<p>Tool number
</p>
<p>Data area
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>16
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Read data
</p>
<p>16
</p>
<p>Function code
213
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Data format
</p>
<p>Tool number
</p>
<p>offset data
(4 byte)
</p>
<p>Kind of the data to be read The data formCTL1
Tool number
</p>
<p>CTL2
</p>
<p>Tool number
Pot number
Pot number
Tool length compensation value
Tool length compensation value
Cutter compensation value
Cutter compensation value
</p>
<p>01
10
11
20
21
30
31
</p>
<p>Tool display number
Tool No.
Tool display number
Tool No.
Tool display number
Tool No.
Tool display number
</p>
<p>NOTE
Please use the bit 4 of NC parameter as 1.
When the completion code &rdquo;5&rdquo; is returned, change the
format of the window in the SETTING Screen.
(REFERENCE:chapter II 4.4 SETTING Screen)
</p>
<p>C.3.36
Reading the Tool Offset
Data According to the
Specified Tool Number
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>878
</p>
<p>(1) See the description of the window function.  The data item marked
with a dash (&ndash;) in the description of the data structure need not be
entered. 
When output, the data item has no meaning.
</p>
<p>(2) The length of all data blocks and data items is represented in bytes.
</p>
<p>(3) The output data becomes valid only when the instruction terminates
normally.
</p>
<p>Completion code Description
</p>
<p>&ndash;10 The window instruction is being processed.  Hold ACT 
until W1 is set to 1.
</p>
<p>0 The instruction terminated normally.
</p>
<p>1 An error occurred.  The corresponding function number is
not found.
</p>
<p>2 An error occurred.  Possible causes include the following:
Wrong data is found in the CTL area.  The NC does not
have the corresponding function.
</p>
<p>3 An error occurred.  The specified axis is not provided.
</p>
<p>5 An error occurred. it is a mistake of data form. Though the
function supports only a new format, a old format is speci-
fied.
</p>
<p>C.4
FORMAT AND DETAILS
OF THE CONTROL 
DATA OF THE WINDW 
FUNCTIONAL
INSTRUCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>879
</p>
<p>[Description]
</p>
<p>The data is directly written into the tool offset value (tool compensation)
area of the CNC.
</p>
<p>0
Function code
</p>
<p>14
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Offset number
</p>
<p>Offset format
</p>
<p>Tool offset value
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>(Note 1) Offset format
M system (machining center system) T system (lathe system)
</p>
<p>Tool compensation C
Tool length
Geometry 
compensation
Wear 
compensation
</p>
<p>Cutter
Geometry 
compensation
Wear 
compensation
</p>
<p>Offset number
</p>
<p>Offset number
+1000
</p>
<p>Offset number
</p>
<p>Offset number
+1000
</p>
<p>1
</p>
<p>1
</p>
<p>2
</p>
<p>2
</p>
<p>Tool compensation B
Geometry 
compensation
Wear 
compensation
</p>
<p>1
</p>
<p>1
</p>
<p>Tool compensation A
Compensation Offset number1
</p>
<p>Data type Offset number
(CTL+2, 3)
</p>
<p>Format
</p>
<p>Offset number
</p>
<p>Offset number
+1000
</p>
<p>Tool compensation A
Compensation along the 
X&ndash;axis
Compensation along the 
Z&ndash;axis
Tool&ndash;tip radius compensation
Compensation along the 
Y&ndash;axis
Compensation related to the posi-
tion of the virtual tool
</p>
<p>Offset number
</p>
<p>Offset number
</p>
<p>Offset number
Offset number
</p>
<p>Offset number
Offset number
</p>
<p>1
</p>
<p>2
</p>
<p>3
4
</p>
<p>5
</p>
<p>Data type Offset number
(CTL+2, 3)
</p>
<p>Format
</p>
<p>Tool compensation B
Geometry compensation
Compensation along the X&ndash;axis
Compensation along the Z&ndash;axis
Tool&ndash;tip radius  compensation
Compensation along the Y&ndash;axis
Wear compensation
Compensation along the X&ndash;axis
</p>
<p>Compensation along the Z&ndash;axis
</p>
<p>Tool&ndash;tip radius compensation
</p>
<p>Compensation along the Y&ndash;axis
</p>
<p>Compensation related to the 
position of the virtual tool
</p>
<p>Offset number
Offset number
Offset number
Offset number
</p>
<p>Offset number
+1000
Offset number
+1000
Offset number
+1000
Offset number
+1000
Offset number
</p>
<p>1
2
3
4
</p>
<p>1
</p>
<p>2
</p>
<p>3
</p>
<p>4
</p>
<p>5
</p>
<p>C.4.1
Writing a Tool Offset
Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>880
</p>
<p>[Description]
</p>
<p>The data is written into the parameter area of the CNC.
</p>
<p>The parameters of the CNC are classified into four types according to the
smallest unit that has a meaning.  Bit parameter:  Each bit has a meaning.
Byte parameter:  Each byte has a meaning.  Word parameter:  Each set of
two bytes has a meaning. Double word parameter:  Each set of four bytes
has a meaning.
</p>
<p>Each bit of a bit parameter cannot be written individually.  The eight bits
(one byte) of the parameter must be written at a time.  To change a bit of
a bit parameter, read the entire parameter, change the desired bit, then
write the entire parameter.
</p>
<p>0
Function code
</p>
<p>18
</p>
<p>Completion code
</p>
<p>Data length
4
</p>
<p>Parameter number
</p>
<p>Data attribute
</p>
<p>Parameter data
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>0 : No axis
</p>
<p>1 to n : A specified axis
</p>
<p>10
</p>
<p>11
</p>
<p>12
</p>
<p>13
</p>
<p>14
</p>
<p>DATA+0
</p>
<p>DATA+1
</p>
<p>DATA+2
</p>
<p>DATA+3
</p>
<p>(Note 1) Format of parameter data
If the data is one byte long, it is set in the DATA+0 area.
</p>
<p>C.4.2
Writing a Parameter
(Setting Data)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>881
</p>
<p>[Description]
</p>
<p>The data is written into the custom macro variable area of the CNC.
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>14
</p>
<p>Set data
</p>
<p>Function code
22
</p>
<p>Completion code
</p>
<p>Data length
6
</p>
<p>Custom macro 
number
</p>
<p>Data attribute
0
</p>
<p>Custom macro 
variable value
</p>
<p>(4 byte)
</p>
<p>10
</p>
<p>(Note 1) In the case of writing a Custom Macro Variable of
upper than 100000.
Please input &rdquo;10&rdquo; to &rdquo;Data attribute&rdquo;, and input last
four digits of variable number to &rdquo;Custom macro
variable number&rdquo;.
</p>
<p>(Note 2) Specification of the position of the decimal point
</p>
<p>#0 to #3 : Set number of digit beelow decimal point.
#4 to #7 : Set to &rdquo;0&rdquo;.
</p>
<p>16
</p>
<p>Position of 
decimal point
</p>
<p>(2 byte)
</p>
<p>7  6  5  4  3  2  1  0
DATA+4
</p>
<p>(Value written in the NC)�
(value of custom macro variable)
</p>
<p>10(Positon of decimal point)
</p>
<p>Value in the NC Custom macro variable value Position of
decimal point
</p>
<p>1234. 000
123. 400
12. 340
1. 124
0. 1234
</p>
<p>1 2 3 4
0
1
2
3
4
</p>
<p>C.4.3
Writing a Custom
Macro Variable
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>882
</p>
<p>[Description]
</p>
<p>The data to be displayed on the program check screen of the CNC is
rewritten.
</p>
<p>0
Function code
</p>
<p>150
</p>
<p>Completion code
</p>
<p>Data length
2
</p>
<p>Data type
</p>
<p>Data attribute
0
</p>
<p>Data on the program
check screen
</p>
<p>(2 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>12
</p>
<p>Data type Data type Attribute
</p>
<p>M code which is being executed (1 to 5) 1 to 5 0
</p>
<p>Spindle speed range 100 0
</p>
<p>Spindle tool number 200 0
</p>
<p>Number of the tool to be used next 201 0
</p>
<p>C.4.4
Writing a Data on the
Program Check Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>883
</p>
<p>[Description]
</p>
<p>The torque limit override of the specified feed axis is rewritten.
</p>
<p>0
Function code
</p>
<p>152
</p>
<p>Completion code
</p>
<p>Data length
2
</p>
<p>Data type
0
</p>
<p>Axis number
</p>
<p>Torque limit override
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>12
</p>
<p>Value
</p>
<p>Un&ndash;signed binary &lt;Unit: %&gt;
The values from 0 to 255 correspond to 
0% to 100%.
</p>
<p>[Example]
</p>
<p>If the torque limit override is 50%, please set to 128.
</p>
<p>[Description]
</p>
<p>The tool number and the tool life value are written into the specified tool
group.
</p>
<p>0
Function code
</p>
<p>163
</p>
<p>Completion code
&ndash;
</p>
<p>Data length
4
</p>
<p>Data number
0
</p>
<p>Tool No.
</p>
<p>Tool group No.
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>12
Tool life value
</p>
<p>14
</p>
<p>(4 byte)
</p>
<p>Data type Specification
</p>
<p>Number of 
tool groups
</p>
<p>Register the tool group.
Set group number, tool life value, and tool life counter for
transmission data.
</p>
<p>7  6  5  4  3  2  1  0
</p>
<p>Group number 1 to 512
Tool life value 1 to 9999 (Specified number of time)
</p>
<p>1 to 4300 (Specified time)
Tool life counter type ( DATA+1 BIT 7)
</p>
<p>0: Number of time
1: Time (minute)
</p>
<p>DATA+0
</p>
<p>DATA+1
</p>
<p>DATA+2
</p>
<p>DATA+3
</p>
<p>Group number
Life counter type
DATA+1 BIT 7
</p>
<p>Tool life value
</p>
<p>C.4.5
Writing the Torque
Limit Override
</p>
<p>C.4.6
Writing the Tool Life
Management Data 
(Tool Group Number)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>884
</p>
<p>[Description]
</p>
<p>The data is written into the tool life value area of the specified tool group.
</p>
<p>0
Function code
</p>
<p>164
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Data attribute
0
</p>
<p>Tool life
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>[Description]
</p>
<p>The data is written into the tool life counter area of the specified tool
group.
</p>
<p>0
Function code
</p>
<p>165
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Data attribute
0
</p>
<p>Tool life counter
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>C.4.7
Writing the Tool Life
Management Data 
(Tool Life)
</p>
<p>C.4.8
Writing the Tool Life
Management Data 
(Tool Life Counter)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>885
</p>
<p>[Description]
</p>
<p>The data is written into the tool life counter type area of  the specified tool
group.
</p>
<p>0
Function code
</p>
<p>166
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Data attribute
0
</p>
<p>Tool life counter type
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>Tool life counter type
1 : The tool life counter indicates the number of times the tool has been used.
2 : The tool life counter indicates the period of time the tool has been used.
</p>
<p>C.4.9
Writing the Tool Life
Management Data 
(Tool Life Counter Type)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>886
</p>
<p>[Description]
</p>
<p>The data is written into the tool length compensation number area
specified by the tool group number and tool number.
</p>
<p>0
Function code
</p>
<p>167
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool No.
</p>
<p>Tool length 
compensation No.
</p>
<p>(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>[Description]
</p>
<p>The data is written into the tool length compensation number area
specified by the tool group number and tool order number.
</p>
<p>0
Function code
</p>
<p>168
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool order number
</p>
<p>Tool length 
compensation No.
</p>
<p>(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>C.4.10
Writing the Tool Life
Management Data 
(Tool Length
Compensation 
Number 1)
</p>
<p>C.4.11
Writing the Tool Life
Management Data 
(Tool Length
Compensation 
Number 2)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>887
</p>
<p>[Description]
</p>
<p>The data is written into the cutter compensation number area specified by
the tool group number and tool number.
</p>
<p>0
Function code
</p>
<p>169
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool No.
</p>
<p>Cutter 
compensation No.
</p>
<p>(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>[Description]
</p>
<p>The data is written into the cutter compensation number area specified by
the tool group number and tool order number.
</p>
<p>0
Function code
</p>
<p>170
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool order number
</p>
<p>Cutter 
compensation No.
</p>
<p>(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>C.4.12
Writing the Tool Life
Management Data
(Cutter Compensation
Number 1)
</p>
<p>C.4.13
Writing the Tool Life
Management Data
(Cutter Compensation
Number 2)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>888
</p>
<p>[Description]
</p>
<p>The data is written into the tool information (status) area specified by the
tool group number and tool number.
</p>
<p>0
Function code
</p>
<p>171
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool No.
</p>
<p>Tool information
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>Tool information
1 : The tool is cataloged.
2 : The tool life has expired.
3 : The tool was skipped.
</p>
<p>[Description]
</p>
<p>The data is written into the tool information (status) area specified by the
tool group number and tool order number.
</p>
<p>0
Function code
</p>
<p>172
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool information
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>Tool order number
</p>
<p>C.4.14
Writing the Tool Life
Management Data 
(Tool Information 1)
</p>
<p>C.4.15
Writing the Tool Life
Management Data 
(Tool Information 2)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>889
</p>
<p>[Description]
</p>
<p>A tool number is written into (added to) the area specified by the tool
group number and tool order number.
</p>
<p>0
Function code
</p>
<p>173
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
4
</p>
<p>Tool group No.
</p>
<p>Tool order number
</p>
<p>Tool No.
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>14
</p>
<p>C.4.16
Writing the Tool Life
Management Data 
(Tool Number)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>890
</p>
<p>[Description]
</p>
<p>The tool number is specified and the tool offset data is written.
</p>
<p>0
Function code
</p>
<p>214
</p>
<p>Completion code
&mdash;
</p>
<p>Data length
4
</p>
<p>Data format
</p>
<p>Tool number
</p>
<p>offset data
(4 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>12
</p>
<p>Set data
</p>
<p>16
</p>
<p>Kind of the data to be written The data formCTL1
Tool number
</p>
<p>CTL2
</p>
<p>Change of Tool number
Change of Tool number
Pot number
Pot number
Tool length compensation value
Tool length compensation value
Cutter compensation value
Cutter compensation value
Addition of Tool number
Addition of Tool number
</p>
<p>00
01
10
11
20
21
30
31
40
41
</p>
<p>Tool No.
Tool display number
Tool No.
Tool display number
Tool No.
Tool display number
Tool No.
Tool display number
Tool No.
Tool display number
</p>
<p>NOTE
Please use the bit 4 of NC parameter as 1.
When the completion code &rdquo;5&rdquo; is returned, change the
format of the window in the SETTING Screen.
(REFERENCE : chapter II 4.4 SETTING Screen)
</p>
<p>C.4.17
Writing the Tool offset
Data According to the
Specified Tool Number
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>891
</p>
<p>(1) For three axes
</p>
<p>[Description]
</p>
<p>After the axes for manual handle feed are selected in the manual handle
feed mode, the traveling distances (number of pulses) corresponding to
three manual pulse generators are written.  The set value ranges from &ndash;256
to +256.
</p>
<p>The specified number of pulses is assumed to be the number of pulses
entered from the manual pulse generator.  The speed is calculated as
follows:  (specified number of pulses)� (magnification) � 62.5
(pulses/second)  The data in parameters 1413 and 1414 of the CNC is
valid for this function.
</p>
<p>0
Function code
</p>
<p>215
</p>
<p>Completion code
</p>
<p>Data length 
6
</p>
<p>Data number 
0
</p>
<p>Data attribute 
0
</p>
<p>Superposition 
move command
</p>
<p>(6 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>16
</p>
<p>DATA+0
</p>
<p>DATA+2
</p>
<p>DATA+4
</p>
<p>DATA+6
</p>
<p>First manual pulse generator
</p>
<p>Second manual pulse generator
</p>
<p>Third manual pulse generator
</p>
<p>(Note 1) Format of superposition move command
</p>
<p>C.4.18
Writing the
Superposition Move
Command
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>C. WINDOW FUNCTION DESCRIPTION 
C. (FS15B PMC&ndash;NB/NB2) B&ndash;61863E/10APPENDIX
</p>
<p>892
</p>
<p>(2) For four axes
</p>
<p>0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>18
</p>
<p>Set data
</p>
<p>Function code
215
</p>
<p>Completion code
</p>
<p>Data length
8
</p>
<p>Axis specification
mode
</p>
<p>Axis number
</p>
<p>Superposition 
move command
</p>
<p>(8 byte)
</p>
<p>10
</p>
<p>Axis specification mode
7  6  5  4  3  2  1  0
</p>
<p>#0 : Mode selection (0:  The BMI signal is selected.  1:  An axis number is selected.)
</p>
<p>Axis number
7  6  5  4  3  2  1  0
</p>
<p>CTL+8
</p>
<p>CTL+9
</p>
<p>P2
</p>
<p>P4
</p>
<p>P1
</p>
<p>P3
</p>
<p>CTL+8, #0 to #3:  Axis number of the first pulse generator (P1)
CTL+8, #4 to #7:  Axis number of the second pulse generator (P2)
CTL+9, #0 to #3:  Axis number of the third pulse generator (P3)
CTL+9, #4 to #7:  Axis number of the fourth pulse generator (P4)
</p>
<p>DATA+0
</p>
<p>DATA+2
</p>
<p>DATA+4
</p>
<p>First manual pulse generator
</p>
<p>Second manual pulse generator
</p>
<p>Third manual pulse generator
</p>
<p>(Note 1) Format of superposition move command
</p>
<p>DATA+8
Fourth manual pulse generator
</p>
<p>DATA+6
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
C. WINDOW FUNCTION DESCRIPTION
</p>
<p> (FS15B PMC&ndash;NB/NB2)APPENDIX
</p>
<p>893
</p>
<p>[Description]
</p>
<p>Feedrate writing can be specified only in the feed&ndash;per&ndash;minute mode.  The
velocity command is specified with F�10&ndash;d.  A flag is provided to
validate either the command of the PMC or the feedrate of the CNC.  After
the flag is set, the velocity command specified in the NC is invalidated.
To validate the feedrate of the NC, set the flag to 0.
</p>
<p>0
Function code
</p>
<p>216
</p>
<p>Completion code
</p>
<p>Data length 
6
</p>
<p>Data number 
0
</p>
<p>Data attribute
0
</p>
<p>Feedrate
(6 byte)
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>Set data
</p>
<p>16
</p>
<p>DATA+0
</p>
<p>DATA+2
</p>
<p>DATA+4
</p>
<p>DATA+6
</p>
<p>Feedrate, F
</p>
<p>Exponent 
of feedrate, d
</p>
<p>(Note 1) Format of feedrate 
7  6  5  4  3  2  1  0
</p>
<p>Flag for validating the velocity command
: Bit 2 of DATA+0
</p>
<p>(0: The NC is valid.
1: The PMC is valid.)
</p>
<p>Feedrate, F : DATA+2 and DATA+3
Exponent of feedrate, d : DATA+4 and DATA+5
</p>
<p>C.4.19
Writing the Feedrate
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>D. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;LA) B&ndash;61863E/10APPENDIX
</p>
<p>894
</p>
<p>D WINDOW FUNCTION DESCRIPTION (FS16&ndash;LA)
</p>
<p>The following function is added to PMC&ndash;CNC window function for
FS16&ndash;LA.
</p>
<p>(1) Transferring a processing condition file in non&ndash;volatile memory to
data area in CNC memory, and vice versa.
</p>
<p>(2) Reading a comment command in a part program.
</p>
<p>(3) Reading data commanded to laser oscillator
</p>
<p>D.1
OUTLINE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
D. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;LA)APPENDIX
</p>
<p>895
</p>
<p>(1) Transfer from data area to non&ndash;volatile memory.  (% low&ndash;speed
type)
</p>
<p>[Contents of data]
</p>
<p>The data can be transferred from the data area in CNC to PMC
non&ndash;volatile memory by PMC&ndash;RC application.
</p>
<p>Setting the original data set or group in data attribute M.
</p>
<p>Setting the written address of non&ndash;volatile memory for the offset address
from the top address in address N.
</p>
<p>Setting the total byte No. of written data set in address L.
</p>
<p>Setting the forward structure of data set in data.
</p>
<p>And the data can be transferred set or group from data area to non&ndash;volatile
memory.
</p>
<p>[Structure of input data]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
183
</p>
<p>(End Code)
&mdash;
</p>
<p>(No need to set)
</p>
<p>(Data length)
L
</p>
<p>(Address)
N
</p>
<p>(Data attribute)
M
</p>
<p>(Data)
</p>
<p>L = Set the total byte No. of the data structure 
for 1 set in non&ndash;volatile memory.
This data must be set in case of transferring 
the data group.  
(No&ndash;need to set in case of transferring the set)
</p>
<p>The following End Code is output at reading end.
</p>
<p>0 : normal end
3 : The incorrect data is set in Address.
4 : The incorrect data is set in Data attribute.
</p>
<p>N = Set the forward address by the offset from 
the top address of non&ndash;volatile memory.
</p>
<p>M = Set the kind of data set or group to transfer
</p>
<p>1&ndash;10 : Set of processing data
101&ndash;103 : Set of piercing d data
201&ndash;205 : Set of edge process data
1000 : Group of processing data
1001 : Group of piercing data
1002 : Group of edge process data
</p>
<p>Set the correspondence of 1 set of data item in
data area and data item in non&ndash;volatile memory
by relative address for non&ndash;volatile memory.
</p>
<p>Structure of data set
</p>
<p>D.2
FUNCTION
</p>
<p>D.2.1
Transfer Between Data
Area and Non&ndash;Volatile
Memory
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>D. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;LA) B&ndash;61863E/10APPENDIX
</p>
<p>896
</p>
<p>(2) Transfer from non&ndash;volatile memory to data area (% low&ndash;speed type)
</p>
<p>[Contents of data]
</p>
<p>The data can be transferred from the processing condition file registered
in non&ndash;volatile memory to the data area in CNC by PMC&ndash;RC application.
</p>
<p>Setting the forward data set or group in data attribute M.
</p>
<p>Setting the original read address for the offset address from non&ndash;volatile
memory top address in address N.
</p>
<p>Setting the total byte No. of original data set in address L.
</p>
<p>Setting the original structure of set in data.
</p>
<p>And the data of set or group can be transferred from non&ndash;volatile memory
to data area.
</p>
<p>[Structure of input data]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
184
</p>
<p>(End Code)
&mdash;
</p>
<p>(No need to set)
</p>
<p>(Data length)
L
</p>
<p>(Group No.)
N
</p>
<p>(Data attribute)
M
</p>
<p>(Data)
</p>
<p>L = Set the total byte No. of the data structure 
for 1 set in non&ndash;volatile memory.
This data must be set in case of transferring 
the data group.  
(No&ndash;need to set in case of transferring the set)
</p>
<p>The following End Code is output at reading end.
</p>
<p>0 : normal end
3 : The incorrect data is set in Address.
4 : The incorrect data is set in Data attribute.
</p>
<p>N = Set the original address by the offset from 
the top address of non&ndash;volatile memory.
</p>
<p>M = Set the kind of data set or group to transfer
</p>
<p>1&ndash;10 : Set of processing data
101&ndash;103 : Set of piercing d data
201&ndash;205 : Set of edge process data
1000 : Group of processing data
1001 : Group of piercing data
1002 : Group of edge process data
</p>
<p>Set the correspondence of 1 set of data item in
data area and data item in non&ndash;volatile memory
by relative address for non&ndash;volatile memory.
</p>
<p>Structure of data setww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
D. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;LA)APPENDIX
</p>
<p>897
</p>
<p>(3) Data structure of data area
</p>
<p>(a) Processing data set
</p>
<p>Address Data item Byte No.
</p>
<p>0 Feed&ndash;rate 4
</p>
<p>4 Peak power 2
</p>
<p>6 Pulse frequency 2
</p>
<p>8 Pulse duty 2
</p>
<p>10 Assist gas pres. 2
</p>
<p>12 Assist gas select 2
</p>
<p>14 Assist gas settling time 2
</p>
<p>16 Reference displacement 2
</p>
<p>18 Offset amount 4
</p>
<p>22 Edge process select 2
</p>
<p>24 Start&ndash;up process select 2
</p>
<p>(b) Piercing data set
</p>
<p>Address Data item Byte No.
</p>
<p>0 Peak power 2
</p>
<p>2 Initial frequency 2
</p>
<p>4 Initial duty 2
</p>
<p>6 Frequency increment 2
</p>
<p>8 Duty increment 2
</p>
<p>10 Step time 2
</p>
<p>12 Step No. 2
</p>
<p>14 Piercing time 4
</p>
<p>18 Assist gas pres. 2
</p>
<p>20 Assist gas select 2
</p>
<p>22 Assist gas settling time 2
</p>
<p>24 Reference displacement 2
</p>
<p>(c) Edge processing data set
</p>
<p>Address Data item Byte No.
</p>
<p>0 Judge angle 2
</p>
<p>2 Peak power 2
</p>
<p>4 Pulse frequency 2
</p>
<p>6 Pulse duty 2
</p>
<p>8 Piercing time 4
</p>
<p>12 Assist gas pres. 2
</p>
<p>14 Assist gas select 2
</p>
<p>16 Return distance 4
</p>
<p>20 Return feed rate 2
</p>
<p>22 Return frequency 2
</p>
<p>24 Return duty 2
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>D. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;LA) B&ndash;61863E/10APPENDIX
</p>
<p>898
</p>
<p>NOTE
Example of data set
The address in Data is set as follows, for example, in case
of the following data structure of processing condition file in
non&ndash;volatile memory.
</p>
<p>Pulse frequency
</p>
<p>Pulse duty
</p>
<p>Feed&ndash;rate
</p>
<p>Data
</p>
<p>Peak power
</p>
<p>Address
</p>
<p>0
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>Assist gas pres.10
</p>
<p>Assist gas select12
</p>
<p>Assist gas time14
</p>
<p>Ref. displacement16
</p>
<p>Start&ndash;up select24
</p>
<p>Offset amount18
</p>
<p>Edge select22
</p>
<p>Pulse frequency
</p>
<p>Pulse duty
</p>
<p>Feed&ndash;rate
</p>
<p>Data
</p>
<p>Peak power
</p>
<p>Address
</p>
<p>0
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>Focus distance10
</p>
<p>Assist gas pres.12
</p>
<p>Assist gas select14
</p>
<p>Assist gas time16
</p>
<p>Pulse type24
</p>
<p>Ref. displacement18
</p>
<p>Offset amount20
</p>
<p>Start&ndash;up select28
</p>
<p>Edge select26
</p>
<p>Data structure of data area The example of data structure for
the processing condition file in 
non&ndash;volatile memory
</p>
<p>Data item in data area Address Data setting value
</p>
<p>Feed&ndash;rate
Peak power
Pulse frequency
Pulse duty
Assist gas pres.
Assist gas select
Assist gas time
Ref. displacement
Offset amount
Edge select
Start&ndash;up select
</p>
<p>Top address +10
Top address +12
Top address +14
Top address +16
Top address +18
Top address +20
Top address +22
Top address +24
Top address +26
Top address +28
Top address +30
</p>
<p>0
4
6
8
12
14
16
18
20
26
28ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
D. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;LA)APPENDIX
</p>
<p>899
</p>
<p>The data in the parentheses is written in the comment area, if the following
M&ndash;code is commanded in a part program.  This comment can be read from
PMC.
</p>
<p>Mxxx  (* * * * * * *) ;
</p>
<p>Less than 24 characters, 
including alphabet, numeral, decimal&ndash;point and +/&ndash;
</p>
<p>[Contents of data]
</p>
<p>Contents of the data can be read for ASCII code.
</p>
<p>[Structure of input data]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
140
</p>
<p>(End Code)
&mdash;
</p>
<p>(No need to set)
</p>
<p>(Data length)
L
</p>
<p>(Group No.)
&mdash;
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(Data)
</p>
<p>L =Data length of the comments read in.  
(Added 1 in case of the odd number.)
</p>
<p>The following End Code is output at writing end.
</p>
<p>0 : normal end
1 : The data length of comment data is over 24 
</p>
<p>bytes
</p>
<p>The read comment data is set.
</p>
<p>NOTE
1 The comment is over&ndash;written if the next comment is input.
2 M&ndash;code number for reading of the comment is set to
</p>
<p>parameter number 15350.  
Setting value is 0 to 999.
</p>
<p>D.2.2
Reading of the
Comment
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>D. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;LA) B&ndash;61863E/10APPENDIX
</p>
<p>900
</p>
<p>(1) Reading the laser command data and laser setting data
(�high&ndash;speed type)
</p>
<p>[Contents of the data]
</p>
<p>The laser command data and laser setting data for CNC can be read by
PMC&ndash;RC application.  The data are separated to groups and can be read
by the group.
</p>
<p>[Structure of input data]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
186
</p>
<p>(End Code)
&mdash;
</p>
<p>(No need to set)
</p>
<p>(Data length)
L
</p>
<p>(Group No.)
N
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(No need to set)
</p>
<p>(Data)
</p>
<p>L = Set the byte No. assigned for the group.
</p>
<p>The following End Code is output at writing end.
</p>
<p>0 : normal end
2 : The incorrect data is set for Data length.
3 : The incorrect data is set for Data No.
</p>
<p>N = Set the group No.
</p>
<p>D.2.3
Reading and Writing
the Laser Command
Data and Laser Setting
Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
D. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;LA)APPENDIX
</p>
<p>901
</p>
<p>(2) Writing the laser command data and laser setting data (�low&ndash;speed
type)
</p>
<p>[Contents of the data]
</p>
<p>The data can be written to the laser command data for CNC by PMC&ndash;RC
application.  The data are separated to groups and can be written by the
group.
</p>
<p>[Structure of input data]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
187
</p>
<p>(End Code)
&mdash;
</p>
<p>(No need to set)
</p>
<p>(Data length)
L
</p>
<p>(Group No.)
N
</p>
<p>(Data attribute)
&mdash;
</p>
<p>(No need to set)
</p>
<p>(Data)
</p>
<p>L = Set the byte No. assigned for the group.
</p>
<p>The following End Code is output at writing end.
</p>
<p>0 : normal end
2 : The incorrect data is set for Data length.
3 : The incorrect data is set for Data No.
5 : The data beyond the allowable range is set 
</p>
<p>for data command to write.
</p>
<p>N = Set the group No.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>D. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;LA) B&ndash;61863E/10APPENDIX
</p>
<p>902
</p>
<p>(3) The data structure of the laser command data and laser setting data
</p>
<p>Group No. Address Top
add. +
</p>
<p>Byte No. 
for every item
</p>
<p>Data length 
Byte No.
</p>
<p>Item
</p>
<p>0 10
12
</p>
<p>2
2
</p>
<p>4 Power control duty const
Power control minimum duty
</p>
<p>1 10
12
14
16
</p>
<p>2
2
2
4
</p>
<p>10 Power monitor (Read only)
Power offset (Read only)
Actual power (Read only)
Actual feedrate (Read only)
</p>
<p>2 10 2 2 Power input offset coe.
</p>
<p>3 10
12
</p>
<p>2
2
</p>
<p>4 Assist gas select
Assist gas flow select
</p>
<p>4 10
12
14
16
18
20
22
24
26
28
30
32
34
36
38
</p>
<p>2
2
2
2
2
2
2
2
2
2
2
2
2
2
2
</p>
<p>30 Assist gas flow&ndash;1 pre&ndash;time
pre&ndash;pres
wrk&ndash;pres
aft&ndash;time
aft&ndash;pres
</p>
<p>Assist gas flow&ndash;2 pre&ndash;time
pre&ndash;pres
wrk&ndash;pres
aft&ndash;time
aft&ndash;pres
</p>
<p>Assist gas flow&ndash;3 pre&ndash;time
pre&ndash;pres
wrk&ndash;pres
aft&ndash;time
aft&ndash;pres
</p>
<p>5 10
12
14
</p>
<p>2
2
2
</p>
<p>6 Processing peak power
Processing pulse frequency
Processing pulse duty
</p>
<p>6 0
12
14
16
</p>
<p>2
2
2
4
</p>
<p>10 Piercing peak power
Piercing pulse frequency
Piercing pulse duty
Piercing time
</p>
<p>7 10
14
16
18
20
22
24
26
28
</p>
<p>4
2
2
2
2
2
2
2
4
</p>
<p>22 Feed&ndash;rate command
Peak power command
Pulse frequency command
Pulse duty command
Assist gas select command
Assist gas settling time
Assist gas pressure
Reference displacement
Offset amount
</p>
<p>10 10 2 2 Ref. displacement command
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
E. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;W)APPENDIX
</p>
<p>903
</p>
<p>E WINDOW FUNCTION DESCRIPTION (FS16&ndash;W)
</p>
<p>[Description]
</p>
<p>The wire diameter offset value recorded in the CNC can be read.
</p>
<p>[Input data structure]
</p>
<p>Top address
(Function)
</p>
<p>13
</p>
<p>(Completion)
&mdash;
</p>
<p>(Data length)
L
</p>
<p>(Number)
N
</p>
<p>(Attribute)
M
</p>
<p>(Data area)
&mdash;
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>Offset
</p>
<p>0&ndash;15
</p>
<p>Corner&ndash;R
</p>
<p>16
</p>
<p>Clearance
</p>
<p>17
</p>
<p>Condition
</p>
<p>&mdash;
</p>
<p>0 0 0 1
</p>
<p>[Output data structure]
</p>
<p>Top address
</p>
<p>(Data area)
D
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>0&ndash;15 16 17 &mdash;
</p>
<p>0 0 0 1
</p>
<p>Offset value Corner&ndash;R value Clearance value Actual offset value
</p>
<p>+ 14
</p>
<p>4 4 4 8
</p>
<p>Direction
</p>
<p>Offset mode
+ 16
</p>
<p>+ 18
</p>
<p>(Function)
13
</p>
<p>(Completion)
?
</p>
<p>(Data length)
L
</p>
<p>(Number)
N
</p>
<p>(Attribute)
M
</p>
<p>Offset Corner&ndash;R Clearance Condition
</p>
<p>E.1
READING THE WIRE
DIAMETER OFFSET
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>E. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;W) B&ndash;61863E/10APPENDIX
</p>
<p>904
</p>
<p>[Data number]
</p>
<p>0&ndash;15 : Reads the Offset value.
</p>
<p>0&ndash;16 : Reads the Corner&ndash;R value.
</p>
<p>0&ndash;17 : Reads the Clearance value.
</p>
<p>0&ndash;&mdash; : Reads the condition.
</p>
<p>[Data attribute]
</p>
<p>0 : Reads the Offset value, Corner&ndash;R value or Clearance value.
</p>
<p>1 : Reads the condition.
</p>
<p>[Contents of data]
</p>
<p>a) Unit of Offset, Corner&ndash;R, Clearance and actual offset value
</p>
<p>Metric system input : 10&ndash;3 [mm]
</p>
<p>(In case the incremental system is 1/10, 
output data unit is 10&ndash;4 [mm].)
</p>
<p>Inch system input : 10&ndash;5 [inch]
</p>
<p>b) Direction in condition data
</p>
<p>0 : Cancel offset (G40)
</p>
<p>1 : Wire diameter compensation left (G41)
</p>
<p>2 : Wire diameter compensation right (G42)
</p>
<p>c) Offset mode in condition data
</p>
<p>0 : Offset mode is 0.
</p>
<p>1 : Offset mode is 1.
</p>
<p>[Completion codes]
</p>
<p>0 : The data has been read normally.
</p>
<p>3 : Invalid data is specified as the data number.
</p>
<p>4 : Invalid data is specified as the data attribute.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
E. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;W)APPENDIX
</p>
<p>905
</p>
<p>[Description]
</p>
<p>The wire diameter offset value can be written into the CNC.
</p>
<p>[Input data structure]
</p>
<p>Top address
</p>
<p>(Data area)
D
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>0&ndash;15 16 17 &mdash;
</p>
<p>0 0 0 1
</p>
<p>Offset value Corner&ndash;R value Clearance value 0, 1
</p>
<p>+ 12
</p>
<p>4 4 4 8
</p>
<p>&mdash;
</p>
<p>+ 14
</p>
<p>(Function)
14
</p>
<p>(Completion)
&mdash;
</p>
<p>(Data length)
L
</p>
<p>(Number)
N
</p>
<p>(Attribute)
M
</p>
<p>Offset Corner&ndash;R Clearance Condition
</p>
<p>[Output data structure]
</p>
<p>Top address
(Function)
</p>
<p>14
</p>
<p>(Completion)
?
</p>
<p>(Data length)
L
</p>
<p>(Number)
N
</p>
<p>(Attribute)
M
</p>
<p>(Data area)
D
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>E.2
WRITING THE WIRE
DIAMETER OFFSET 
(�LOW&ndash;SPEED
RESPONSE)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>E. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;W) B&ndash;61863E/10APPENDIX
</p>
<p>906
</p>
<p>[Data number]
</p>
<p>0&ndash;15 : Writes the Offset value.
</p>
<p>0&ndash;16 : Writes the Corner&ndash;R value.
</p>
<p>0&ndash;17 : Writes the Clearance value.
</p>
<p>0&ndash;&mdash; : Writes the condition.
</p>
<p>[Data attribute]
</p>
<p>0 : Writes the Offset value, Corner&ndash;R value or Clearance value.
</p>
<p>1 : Writes the condition.
</p>
<p>[Contents of data]
</p>
<p>a) Unit of Offset, Corner&ndash;R, Clearance and actual offset value
</p>
<p>NOTE
Offset, Corner&ndash;R, Clearance or Actual offset value is signed
binary in 4 bytes.  A negative value is represented in 2&rsquo;s
complement.
</p>
<p>b) Offset mode in condition data
</p>
<p>0 : Offset mode is 0.
</p>
<p>1 : Offset mode is 1.
</p>
<p>[Completion codes]
</p>
<p>0 : The data has been written normally.
</p>
<p>2 : Invalid data is specified as the data length.
</p>
<p>3 : Invalid data is specified as the data number.
</p>
<p>4 : Invalid data is specified as the data attribute.
</p>
<p>5 : Invalid data is specified as the data value.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
E. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;W)APPENDIX
</p>
<p>907
</p>
<p>[Description]
</p>
<p>Parameter data in the CNC can be read.
</p>
<p>There are four types of parameters in the CNC:  Bit parameters having a
definite meaning for each bit, byte parameters holding 1&ndash;byte data, word
parameters holding 2&ndash;byte data, and double word parameters holding
4&ndash;byte data.  Therefore, the length of the read data varies according to the
parameter number specified.
</p>
<p>Note that bit parameters cannot be read in bit units.  The eighth bits (one
byte) for a parameter number must be read at a time.
</p>
<p>For axis parameters (servo parameters), data for a specific axis can be
read, or data for all axes can be read at a time.
</p>
<p>Specify pitch error compensation data in data Nos. 11000 to 18255.
</p>
<p>Top address
(Function)
</p>
<p>17
</p>
<p>(Completion)
&mdash;
</p>
<p>(Data length)
&mdash;
</p>
<p>(Number)
N
</p>
<p>(Data)
&mdash;
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>Top address
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>(Function)
17
</p>
<p>(Completion)
?
</p>
<p>(Data length)
L
</p>
<p>(Number)
N
</p>
<p>(Attribute)
M
</p>
<p>[Input data structure] [Output data structure]
</p>
<p>(Attribute)
M
</p>
<p>(Data)
&mdash;
</p>
<p>[Data length]
</p>
<p>L = 1 or 1*n : Reads bit or byte type parameter.
</p>
<p>2 or 2*n : Reads word type parameter.
</p>
<p>4 or 4*n : Reads 2 words type parameter.
</p>
<p>(Note: n is the axis number.)
</p>
<p>[Data number]
</p>
<p>N = (Parameter number)
</p>
<p>or (Pitch error data number)+10000
</p>
<p>[Data attribute]
</p>
<p>M =  0 : Reads the no axis parameter.
</p>
<p>  1 to n : Reads the specific axis parameter
</p>
<p>   &ndash;1 : Reads the all axes parameter.
</p>
<p>(Note: n is the axis number.)
</p>
<p>E.3
READING THE 
PARAMETER 
(�LOW&ndash;SPEED
RESPONSE)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>E. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;W) B&ndash;61863E/10APPENDIX
</p>
<p>908
</p>
<p>[Completion code]
</p>
<p>0 : Parameter data has been read normally.
</p>
<p>2 : Invalid data is specified as the data length.
</p>
<p>3 : Invalid data is specified as the data number.
</p>
<p>4 : Invalid data is specified as the data attribute.
</p>
<p>6 : Option is not provided.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
E. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;W)APPENDIX
</p>
<p>909
</p>
<p>[Description]
</p>
<p>Parameter data in the CNC can be written.
</p>
<p>There are four types of parameters in the CNC:  Bit  parameters having
a definite meaning for each bit, byte parameters holding 1&ndash;byte data, word
parameters holding 2&ndash;byte data, and double word parameters holding
4&ndash;byte data.  Therefore, the length of the written data varies according to
the parameter specified.
</p>
<p>Note that bit parameters cannot be written in bit unit.  The eighth bits (one
byte) for the parameter number must be written at a time.  This means that
when a bit needs to be written, the whole data for the corresponding
parameter number shall be read first, then the target bit in the read data
shall be written.
</p>
<p>For axis parameters (servo parameters), data for a specific axis can be
written, or data for all axes can be written at a time.
</p>
<p>Specify pitch error compensation data in data Nos. 11000 to 18255.
</p>
<p>Some parameters cause a P/S alarm 000 when data is written.  (The power
must be turned off before continuing operation.)
</p>
<p>Top address
(Function)
</p>
<p>18
</p>
<p>(Completion)
&mdash;
</p>
<p>(Data length)
L
</p>
<p>(Number)
N
</p>
<p>(Data)
Parameter data
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>Top address
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>(Function)
18
</p>
<p>(Completion)
?
</p>
<p>(Data length)
L
</p>
<p>(Number)
N
</p>
<p>(Attribute)
M
</p>
<p>[Input data structure] [Output data structure]
</p>
<p>(Attribute)
M
</p>
<p>(Data)
D
</p>
<p>[Data length]
</p>
<p>L = 1 or 1*n : Reads bit or byte type parameter.
</p>
<p>2 or 2*n : Reads word type parameter.
</p>
<p>4 or 4*n : Reads 2 words type parameter.
</p>
<p>(Note: n is the axis number.)
</p>
<p>[Data number]
</p>
<p>N = (Parameter number)
</p>
<p>or (Pitch error data number)+10000
</p>
<p>E.4
WRITING THE 
PARAMETER
(�LOW&ndash;SPEED
RESPONSE)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>E. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;W) B&ndash;61863E/10APPENDIX
</p>
<p>910
</p>
<p>[Data attribute]
</p>
<p>M =  0 : Writes the no axis parameter.
</p>
<p>  1 to n : Writes the specific axis parameter
</p>
<p>   &ndash;1 : Writes the all axes parameter.
</p>
<p>(Note: n is the axis number.)
</p>
<p>[Completion code]
</p>
<p>0 : Parameter data has been written normally.
</p>
<p>2 : Invalid data is specified as the data length.
</p>
<p>3 : Invalid data is specified as the data number.
</p>
<p>4 : Invalid data is specified as the data attribute.
</p>
<p>6 : Option is not provided.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
E. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;W)APPENDIX
</p>
<p>911
</p>
<p>[Types of parameters] In the B908 system, data type of (   ) are used.
</p>
<p>No. Length No. Data type No. Data type No. Data type
</p>
<p>0000
0001
0002
0003
0004
0005
0006
0007
0008
0009
0010
0011
0012
0013
0014
0015
0016
0017
0018
0019
0020
0021
0022
0023
0024
0025
0026
0027
0028
0029
0030
0031
0032
0033
0034
0035
0036
0037
0038
0039
0040
0041
0042
0043
0044
0045
0046
0047
0048
0049
0050
0051
0052
0053
0054
0055
0056
0057
0058
0059
0060
0061
0062
0063
0064
0065
0066
0067
0068
0069
</p>
<p>Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
</p>
<p>Byte
Byte
Word
Word
Word
Word
Byte
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
</p>
<p>Byte(&ndash;&ndash;)
Byte(&ndash;&ndash;)
</p>
<p>Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Word
</p>
<p>2words
</p>
<p>0070
0071
0072
0073
0074
0075
0076
0077
0078
0079
0080
0081
0082
0083
0084
0085
0086
0087
0088
0089
0090
0091
0092
0093
0094
0095
0096
0097
0098
0099
0100
0101
0102
0103
0104
0105
0106
0107
0108
0109
0110
0111
0112
0113
0114
0115
0116
0117
0118
0119
0120
0121
0122
0123
0124
0125
0126
0127
0128
0129
0130
0131
0132
0133
0134
0135
0136
0137
0138
0139
</p>
<p>Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
</p>
<p>2words
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
</p>
<p>2words
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
</p>
<p>0140
0141
0142
0143
0144
0145
0146
0147
0148
0149
0150
0151
0152
0153
0154
0155
0156
0157
0158
0159
0160
0161
0162
0163
0164
0165
0166
0167
0168
0169
0170
0171
0172
0173
0174
0175
0176
0177
0178
0179
0180
0181
0182
0183
0184
0185
0186
0187
0188
0189
0190
0191
0192
0193
0194
0195
0196
0197
0198
0199
0200
0201
0202
0203
0204
0205
0206
0207
0208
0209
</p>
<p>Byte
Byte
Byte
Byte
Byte
Byte
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Byte
Word
Word
Word
Word
Word
Word
Word
</p>
<p>2words
Word
</p>
<p>2words
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Byte
</p>
<p>2W(Byte)
2words
</p>
<p>Byte(2W)
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Word
Byte
Byte
</p>
<p>2words
2words
2words
2words
2words
Word
</p>
<p>2words
Byte
</p>
<p>2words
Byte
word
</p>
<p>&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
</p>
<p>0210
0211
0212
0213
0214
0215
0216
0217
0218
0219
0220
0221
0222
0223
0224
0225
0226
0227
0228
0229
0230
0231
0232
0233
0234
0235
0236
0237
0238
0239
0240
0241
0242
0243
0244
0245
0246
0247
0248
0249
0250
0251
0252
0253
0254
0255
0256
0257
0258
0259
0260
0261
0262
0263
0264
0265
0266
0267
0268
0269
0270
0271
0272
0273
0274
0275
0276
0277
0278
0279
</p>
<p>2W(&ndash;&ndash;)
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>E. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;W) B&ndash;61863E/10APPENDIX
</p>
<p>912
</p>
<p>No. Length No. Data type No. Data type No. Data type
</p>
<p>0280
0281
0282
0283
0284
0285
0286
0287
0288
0289
0290
0291
0292
0293
0294
0295
0296
0297
0298
0299
0300
0301
0302
0303
0304
0305
0306
0307
0308
0309
0310
0311
0312
0313
0314
0315
0316
0317
0318
0319
0320
0321
0322
0323
0324
0325
0326
0327
0328
0329
0330
0331
0332
0333
0334
0335
0336
0337
0338
0339
0340
0341
0342
0343
0344
0345
0346
0347
0348
0349
</p>
<p>&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
</p>
<p>Word
&mdash;
&mdash;
&mdash;
</p>
<p>Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Word
Word
</p>
<p>2words
2words
Word
Word
</p>
<p>2words
2words
2words
2words
2words
2words
2words
</p>
<p>Byte
Word
Byte
Word
Byte
</p>
<p>2words
2words
</p>
<p>0350
0351
0352
0353
0354
0355
0356
0357
0358
0359
0360
0361
0362
0363
0364
0365
0366
0367
0368
0369
0370
0371
0372
0373
0374
0375
0376
0377
0378
0379
0380
0381
0382
0383
0384
0385
0386
0387
0388
0389
0390
0391
0392
0393
0394
0395
0396
0397
0398
0399
0600
0601
0602
0603
0604
0605
0606
0607
0608
0609
0610
0611
0612
0613
0614
0615
0616
0617
0618
0619
</p>
<p>2words
Byte
Byte
Byte
Byte
Byte
Byte
Word
</p>
<p>&mdash;
&mdash;
</p>
<p>Word
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
</p>
<p>&mdash;
2words
2words
</p>
<p>&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
Bit
</p>
<p>Byte
Byte
Byte
Byte
</p>
<p>0620
0621
0622
0623
0624
0625
0626
0627
0628
0629
0630
0631
0632
0633
0634
0635
0636
0637
0638
0639
0640
0641
0642
0643
0644
0645
0646
0647
0648
0649
0650
0651
0652
0653
0654
0655
0656
0657
0658
0659
0660
0661
0662
0663
0664
0665
0666
0667
0668
0669
0670
0671
0672
0673
0674
0675
0676
0677
0678
0679
0680
0681
0682
0683
0684
0685
0686
0687
0688
0689
</p>
<p>Byte
Byte
Byte
Byte
Word
Word
Word
Word
Word
Word
Word
Word
</p>
<p>2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
</p>
<p>2words
2words
2words
2words
2words
2words
2words
2words
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
</p>
<p>0690
0691
0692
0693
0694
0695
0696
0697
0698
0699
0700
0701
0702
0703
0704
0705
0706
0707
0708
0709
0710
0711
0712
0713
0714
0715
0716
0717
0718
0719
0720
0721
0722
0723
0724
0725
0726
0727
0728
0729
0730
0731
0732
0733
0734
0735
0736
0737
0738
0739
0740
0741
0742
0743
0744
0745
0746
0747
0748
0749
0750
0751
0752
0753
0754
0755
0756
0757
0758
0759
</p>
<p>Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
</p>
<p>2words
2words
2words
2words
2words
2words
2words
2words
Word
Word
Word
</p>
<p>2words
2words
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
E. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;W)APPENDIX
</p>
<p>913
</p>
<p>No. Length No. Data type No. Data type No. Data type
</p>
<p>0760
0761
0762
0763
0764
0765
0766
0767
0768
0769
0770
0771
0772
0773
0774
0775
0776
0777
0778
0779
0780
0781
0782
0783
0784
0785
0786
0787
0788
0789
0790
0791
0792
0793
0794
0795
0796
0797
0798
0799
0800
0801
0802
0803
0804
0805
0806
0807
0808
0809
</p>
<p>2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
2words
</p>
<p>0810
0811
0812
0813
0814
0815
0816
0817
0818
0819
0820
0821
0822
0823
0824
0825
0826
0827
0828
0829
0830
0831
0832
0833
0834
0835
0836
0837
0838
0839
0840
0841
0842
0843
0844
0845
0846
0847
0848
0849
0850
0851
0852
0853
0854
0855
0856
0857
0858
0859
</p>
<p>2words
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
</p>
<p>&mdash;
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
</p>
<p>Word(2W)
Word(2W)
Word(2W)
Word(2W)
Word(2W)
Word(2W)
Word(2W)
Word(2W)
</p>
<p>0860
0861
0862
0863
0864
0865
0866
0867
0868
0869
0870
0871
0872
0873
0874
0875
0876
0877
0878
0879
0880
0881
0882
0883
0884
0885
0886
0887
0888
0889
0890
0891
0892
0893
0894
0895
0896
0897
0898
0899
0900
0901
0902
0903
0904
0905
0906
0907
0908
0909
</p>
<p>Word
Bit
Bit
</p>
<p>Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Byte
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
Word
</p>
<p>&ndash;&ndash;(Word)
&ndash;&ndash;(Bit)
&ndash;&ndash;(Bit)
&ndash;&ndash;(Bit)
</p>
<p>&mdash;
&ndash;&ndash;(Byte)
&ndash;&ndash;(Byte)
</p>
<p>&mdash;
&mdash;
&mdash;
&mdash;
</p>
<p>0910
0911
0912
0913
0914
0915
0916
0917
0918
0919
0920
0921
0922
0923
0924
0925
0926
0927
0928
0929
0930
0931
0932
0933
0934
0935
0936
0937
0938
0939
0940
0941
0942
0943
0944
0945
0946
0947
0948
0949
</p>
<p>&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
&mdash;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>E. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;W) B&ndash;61863E/10APPENDIX
</p>
<p>914
</p>
<p>[Data contents]
</p>
<p>Setting data on the CNC can be read.
</p>
<p>Top address
(Function code)
</p>
<p>19
</p>
<p>(Completion code)
&ndash;
</p>
<p>(Data length)
&ndash;
</p>
<p>(Data number)
N
</p>
<p>(Data area)
&ndash;
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>Top address
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>(Function code)
19
</p>
<p>(Completion code)
?
</p>
<p>(Data length)
L
</p>
<p>(Data number) 
Input data
</p>
<p>(Data attribute) 
&ndash;
</p>
<p>[Input data structure] [Output data structure]
</p>
<p>(Data attribute)
&ndash;
</p>
<p>(Data area) 
Setting data
</p>
<p>[Data number]
</p>
<p>See the setting data list.
</p>
<p>[Completion code]
</p>
<p>0 : Read operation was terminated normally.
</p>
<p>3 : An incorrect data number was specified.
</p>
<p>E.5
READING SETTING 
DATA
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
E. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;W)APPENDIX
</p>
<p>915
</p>
<p>[Data contents]
</p>
<p>Setting data on the CNC can be written.
</p>
<p>Top address
(Function code)
</p>
<p>20
</p>
<p>(Completion code)
&ndash;
</p>
<p>(Data length)
L
</p>
<p>(Data number)
N
</p>
<p>(Data area) 
Setting data
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>Top address
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>(Function code)
20
</p>
<p>(Completion code)
?
</p>
<p>(Data length) 
Input data
</p>
<p>(Data number)
Input data
</p>
<p>(Data attribute)
&ndash;
</p>
<p>[Input data structure] [Output data structure]
</p>
<p>(Data attribute)
&ndash;
</p>
<p>(Data area)
Input data
</p>
<p>[Data length]
</p>
<p>See the setting data list.
</p>
<p>[Data number]
</p>
<p>See the setting data list.
</p>
<p>[Completion code]
</p>
<p>0 : Read operation was terminated normally.
</p>
<p>2 : An incorrect data length was specified.
</p>
<p>3 : An incorrect data number was specified.
</p>
<p>E.6
WRITING SETTING 
DATA (LOW&ndash;SPEED
TYPE)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>E. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;W) B&ndash;61863E/10APPENDIX
</p>
<p>916
</p>
<p>Setting Data List
</p>
<p>Setting data Screen Data number Data length Bit name
</p>
<p>X mirror image
Y mirror image
Axis switching
TV check
Output code
Input unit
Parameter writable
Input unit multiplication by 10 times
Automatic recovery from power failure
Automatic power&ndash;off M20/M30
Automatic power&ndash;off M00/M10
Automatic power backward movement
alarm
Automatic power disconnection
Input/output device
Figure magnification ratio
Figure rotation angle
</p>
<p>Handy
Handy
Handy
Handy
Handy
Handy
Handy
Handy
Handy
Handy
Handy
Handy
</p>
<p>Handy
Handy
Handy
Handy
</p>
<p>1
1
1
1
1
1
1
1
2
3
3
3
</p>
<p>3
4
5
6
</p>
<p>1
1
1
1
1
1
1
1
1
1
1
1
</p>
<p>1
1
4
4
</p>
<p>Bit 0
Bit 1
Bit 2
Bit 3
Bit 4
Bit 5
Bit 6
Bit 7
Bit 3
Bit 0
Bit 1
Bit 2
</p>
<p>Bit 3
&ndash;
&ndash;
&ndash;
</p>
<p>Taper machining mode
Guide type
Program surface position
Workpiece thickness
Drawing surface position
Upper guide position
</p>
<p>(Lower guide position)
(Vertical position U)
(Vertical position V)
</p>
<p>Taper
Taper
Taper
Taper
Taper
Taper
Taper
Taper
Taper
</p>
<p>15
16
17
18
19
20
21
22
23
</p>
<p>1
1
4
4
4
4
4
4
4
</p>
<p>&ndash;
Bit 0
</p>
<p>&ndash;
&ndash;
&ndash;
&ndash;
&ndash;
&ndash;
&ndash;
</p>
<p>Enable/disable
Wire diameter
Machining groove width
Workpiece thickness
Wire deflection
Effectiveness of concave
Effectiveness of convex
Automatic override
Enable/disable
Differential voltage
</p>
<p>PWB
PWB
PWB
PWB
PWB
PWB
PWB
</p>
<p>PWB
PWB
</p>
<p>2
7
8
9
10
11
12
</p>
<p>2
13
</p>
<p>1
4
4
4
4
4
4
</p>
<p>1
2
</p>
<p>&ndash;
&ndash;
&ndash;
&ndash;
&ndash;
&ndash;
&ndash;
</p>
<p>Bit 5
&ndash;
</p>
<p>Enable/disable
Disconnection repair
Prepared hole of 0.5
Sump machining
Portion to be left uncut
Power reduction ratio (setting)
Connection position U1
Connection position V1
Connection position Z1
Number of retries (setting)
Number of allowable disconnections
(setting)
Number of retries (current)
Number of allowable disconnections
(current)
</p>
<p>AWF
AWF
AWF
AWF
AWF
AWF
AWF
AWF
AWF
AWF
AWF
</p>
<p>AWF
AWF
</p>
<p>2
2
2
2
14
24
26
27
28
40
41
</p>
<p>42
43
</p>
<p>1
1
1
1
1
1
4
4
4
1
1
</p>
<p>1
1
</p>
<p>Bit 2
Bit 1
Bit 6
Bit 7
</p>
<p>&ndash;
&ndash;
&ndash;
&ndash;
&ndash;
&ndash;
&ndash;
</p>
<p>&ndash;
&ndash;
</p>
<p>WIRE REST
WIRE CUTTER REST
(               ) REST
(               ) REST
(               ) REST
(               ) REST
(               ) REST
(               ) REST
</p>
<p>LIFE
LIFE
LIFE
LIFE
LIFE
LIFE
LIFE
LIFE
</p>
<p>30
31
32
33
34
35
36
37
</p>
<p>2
2
2
2
2
2
2
2
</p>
<p>&ndash;
&ndash;
&ndash;
&ndash;
&ndash;
&ndash;
&ndash;
&ndash;ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
E. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;W)APPENDIX
</p>
<p>917
</p>
<p>Setting Data List
</p>
<p>Setting data Bit nameData lengthData numberScreen
</p>
<p>OP. BLOCK SKIP /0
OP. BLOCK SKIP /1
OP. BLOCK SKIP /2
OP. BLOCK SKIP /3
OP. BLOCK SKIP /4
OP. BLOCK SKIP /5
OP. BLOCK SKIP /6
OP. BLOCK SKIP /7
OP. BLOCK SKIP /8
OP. BLOCK SKIP /9
</p>
<p>Others
Others
Others
Others
Others
Others
Others
Others
Others
Others
</p>
<p>38
38
38
38
38
38
38
38
39
39
</p>
<p>1
1
1
1
1
1
1
1
1
1
</p>
<p>Bit 0
Bit 1
Bit 2
Bit 3
Bit 4
Bit 5
Bit 6
Bit 7
Bit 0
Bit 1
</p>
<p>Number or tries
Number of retries
Number or tries
Number of retries
</p>
<p>AWF
AWF
AWF
AWF
</p>
<p>40
41
42
43
</p>
<p>1
1
1
1
</p>
<p>&ndash;
&ndash;
&ndash;
&ndash;
</p>
<p>Program number 
(for machining distance calculation)
</p>
<p>Graphic 44 2 &ndash;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>E. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;W) B&ndash;61863E/10APPENDIX
</p>
<p>918
</p>
<p>[Description]
</p>
<p>When the CNC is placed in the alarm status, the alarm status data can be
read.
</p>
<p>Top address
(Function)
</p>
<p>23
</p>
<p>(Completion)
&mdash;
</p>
<p>(Data length)
&mdash;
</p>
<p>(Number)
&mdash;
</p>
<p>(Data area)
&mdash;
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>Top address
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>(Function)
23
</p>
<p>(Completion)
0
</p>
<p>(Data length)
2
</p>
<p>(Number)
&mdash;
</p>
<p>(Attribute)
&mdash;
</p>
<p>[Input data structure] [Output data structure]
</p>
<p>(Attribute)
&mdash;
</p>
<p>(Data area)
Alarm status+ 11
</p>
<p>+ 12
</p>
<p>First byte
</p>
<p>Second byte
</p>
<p>[Contents of data]
</p>
<p>(1) Alarm status data in first byte.
#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>EOR OTM OTS OH SV OTH PS
</p>
<p>PS : P/S alarm
</p>
<p>OTH : Over travel alarm
</p>
<p>SV : Servo alarm
</p>
<p>OH : Overheat alarm
</p>
<p>OTS : First stroke limit alarm
</p>
<p>OTM : Second stroke limit alarm
</p>
<p>EOR : Edit alarm
</p>
<p>(2) Alarm status data in second byte.
#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>APCER
</p>
<p>APCER : Absolute pulco alarm
</p>
<p>[Completion codes]
</p>
<p>0 : This alarm status in the CNC has been read normally.
</p>
<p>E.7
READING THE CNC 
ALARM STATUS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
E. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;W)APPENDIX
</p>
<p>919
</p>
<p>[Description]
</p>
<p>Modal information in the CNC can be read.
</p>
<p>(1) Format and types of modal data for the G function
</p>
<p>Code in a group : 1 byte
</p>
<p>0 : Not specified in the current block
</p>
<p>1 : Specified in the current block
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>G04
G19
G28
G30
G92
G31
G70
G71
G72
G73
G74
G75
G76
G77
G78
G79
</p>
<p>0
1
5
7
14
15
16
17
18
19
20
21
22
23
24
25
</p>
<p>0
1
</p>
<p>0
1
2
</p>
<p>G40
G41
G42
</p>
<p>0
</p>
<p>Identification code DataData type
</p>
<p>1 0
1
2
3
</p>
<p>G00
G01
G02
G03
</p>
<p>2 0G17
</p>
<p>3 0
1
</p>
<p>G90
G91
</p>
<p>4 1
0
</p>
<p>G22
G23
</p>
<p>5 G94
G95
</p>
<p>Identification code DataData type
</p>
<p>6 0
1
</p>
<p>G20
G21
</p>
<p>7
</p>
<p>8 G50
G51
G52
</p>
<p>9 G60
G61
G62
G63
</p>
<p>0
1
2
0
1
2
3
</p>
<p>26
0
1
</p>
<p>G65
G66
G67
</p>
<p>10 1
0
</p>
<p>G48
G49
</p>
<p>11
</p>
<p>E.8
READING MODEL 
DATA
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>E. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;W) B&ndash;61863E/10APPENDIX
</p>
<p>920
</p>
<p>(2) Format and types of modal data for other than the G function
</p>
<p>: 4 bytes
</p>
<p>: 1 byte
</p>
<p>Data
</p>
<p>Flag
</p>
<p>&mdash; &mdash;
</p>
<p>0 :   Not specified in the current block
</p>
<p>1 :   Specified in the current block
</p>
<p>7 6 5 4 3 2 1 0
</p>
<p>1 byte
</p>
<p>0 : Positive
</p>
<p>1 : Negative
</p>
<p>Number of input digits
</p>
<p>Identification code Specified address Meaning of value
</p>
<p>100
101
102
103
104
105
106
107
108
109
110
111
</p>
<p>B
D
E
F
H
L
M
S
T
R
P
Q
</p>
<p>Offset number
</p>
<p>Feedrate
</p>
<p>Tapper data
</p>
<p>Top address
(Function)
</p>
<p>32
</p>
<p>(Completion)
&mdash;
</p>
<p>(Data length)
&mdash;
</p>
<p>(Number)
N
</p>
<p>(Data area)
&mdash;
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>[Input data structure]
</p>
<p>(Attribute)
M
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
E. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;W)APPENDIX
</p>
<p>921
</p>
<p>[Output data structure]
</p>
<p>Top address
(Function code)
</p>
<p>32
</p>
<p>(Completion code)
?
</p>
<p>(Data length)
L
</p>
<p>(Data number)
Input data
</p>
<p>(Data attribute)
Input data
</p>
<p>(Data area)
Modal data of 
</p>
<p>G functions
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
Modal data of oth-
</p>
<p>er than 
G functions
</p>
<p>Modal data of 
ID code 0
</p>
<p>Modal data of 
ID code 100
</p>
<p>Modal data of 
ID code 1
</p>
<p>Modal data of 
ID code 2
</p>
<p>Flag part of data
of ID code 100
</p>
<p>Flag part of 
modal data
</p>
<p>Modal data of 
ID code 16
</p>
<p>Modal data of 
ID code 111
</p>
<p>Flag part of data
of ID code 111
</p>
<p>A AA
</p>
<p>+ 12
</p>
<p>+ 14
</p>
<p>+ 16
</p>
<p>+ 44
</p>
<p>+ 78
</p>
<p>[Data length]
</p>
<p>L = 2 : G function
</p>
<p>2* : All data of G functions
</p>
<p>6 : Other than G functions
</p>
<p>6*12 : All data of other than G functions
</p>
<p>[Data number]
</p>
<p>N = 0 and up: See each data list.
</p>
<p>&ndash;1 : All data of G functions
</p>
<p>&ndash;2 : All data of other than G functions
</p>
<p>[Data attribute]
</p>
<p>M = 0 : Current block
</p>
<p>1 : Next block
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>E. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;W) B&ndash;61863E/10APPENDIX
</p>
<p>922
</p>
<p>2 : Block after the next block
</p>
<p>[Completion code]
</p>
<p>&ndash;1 : The modal data read command could not be executed. This
means that, because the modal data was being updated on
the CNC, the command could not be executed.
</p>
<p>0 : Modal data read operation terminated normally.
</p>
<p>3 : An incorrect data number was specified.
</p>
<p>4 : An incorrect data attribute was specified.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
E. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;W)APPENDIX
</p>
<p>923
</p>
<p>[Data contents]
</p>
<p>The distance (machining distance) from the machining start point to the
current point, and the distance (whole distance) from the machining start
point to the point where M02 or M30 is specified can be read.
</p>
<p>Top address
(Function code)
</p>
<p>182
</p>
<p>(Completion code)
&ndash;
</p>
<p>(Data length)
&ndash;
</p>
<p>(Data number)
N
</p>
<p>(Data area)
&ndash;
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>Top address
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>(Function code)
182
</p>
<p>(Completion code)
?
</p>
<p>(Data length)
4
</p>
<p>(Data number)
Input data
</p>
<p>(Data attribute)
&ndash;
</p>
<p>[Input data structure] [Output data structure]
</p>
<p>(Data attribute)
&ndash;
</p>
<p>(Data area)
Machining distance
</p>
<p>+ 14
</p>
<p>[Data number]
</p>
<p>N = 0 : Machining distance
</p>
<p>N = 1 : Whole length obtained with the dry run function
</p>
<p>N = 2 : Whole length obtained by drawing
</p>
<p>N = 3 : Whole length obtained with the machining distance
calculation function
</p>
<p>[Data unit]
</p>
<p>Metric input : 10&ndash;3 [mm] 
(When the increment system is 1/10: 10&ndash;4 [mm])
</p>
<p>Inch input : 10&ndash;5 [inch]
</p>
<p>[Completion code]
</p>
<p>&ndash;1 : Data could not be read. This means that, because the data was
being updated on the CNC, the command could not be executed.
</p>
<p>0 : Data read operation terminated normally.
</p>
<p>3 : An incorrect data number was specified.
</p>
<p>E.9
READING
MACHINING
DISTANCES
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>E. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;W) B&ndash;61863E/10APPENDIX
</p>
<p>924
</p>
<p>[Description]
</p>
<p>The measured point that are get by positioning can be read.  Also, the slit
width by slitting and the hole diameter by centering can be read.
</p>
<p>[Input data structure]
</p>
<p>Top address
(Function)
</p>
<p>185
</p>
<p>(Completion)
&mdash;
</p>
<p>(Length)
&mdash;
</p>
<p>(Number)
N
</p>
<p>(Attribute)
M
</p>
<p>(Data area)
&mdash;
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>Reads
measured point
</p>
<p>Point number
</p>
<p>Reads slit width 
of hole diameter
</p>
<p>0
</p>
<p>0 1
</p>
<p>[Output data structure]
</p>
<p>Top address
(Function)
</p>
<p>185
</p>
<p>(Completion)
?
</p>
<p>(Length)
L
</p>
<p>(Number)
N
</p>
<p>(Attribute)
M
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>Point number 0
</p>
<p>0 1
</p>
<p>Type Slit width of hole 
diameter
</p>
<p>Machine 
coordinate of 
</p>
<p>X axis
</p>
<p>Machine 
coordinate of 
</p>
<p>Y axis
</p>
<p>(Data area)
+ 10
</p>
<p>10 4
</p>
<p>+ 12
</p>
<p>+ 14
</p>
<p>+ 16
</p>
<p>+ 18
</p>
<p>+ 20
</p>
<p>Reads
measured point
</p>
<p>Reads slit width 
of hole diameter
</p>
<p>E.10
READING THE 
MEASURED POINT
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
E. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;W)APPENDIX
</p>
<p>925
</p>
<p>[Data unit]
</p>
<p>Metric system input : 10&ndash;3 [mm]
</p>
<p>(In case the incremental system is 1/10, output 
data unit is 10&ndash;4 [mm].)
</p>
<p>Inch system input : 10&ndash;5 [inch]
</p>
<p>[Completion codes]
</p>
<p>0 : The measured point has been read normally.
</p>
<p>3 : Invalid data is specified as data number.
</p>
<p>4 : Invalid data is specified as data attribute.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>E. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;W) B&ndash;61863E/10APPENDIX
</p>
<p>926
</p>
<p>[Description]
</p>
<p>The measured point that are get by positioning can be written.  Also, the
slit width by slitting and the hole diameter by centering can be written.
</p>
<p>Top address
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>Top address
</p>
<p>+ 2
</p>
<p>+ 4
</p>
<p>+ 6
</p>
<p>+ 8
</p>
<p>+ 10
</p>
<p>[Input data structure] [Output data structure]
</p>
<p>Machine 
coordinate of X axis
</p>
<p>+ 12
</p>
<p>+ 14
</p>
<p>Machine 
coordinate of Y axis
</p>
<p>+ 16
</p>
<p>+ 18
</p>
<p>+ 20
</p>
<p>+ 12
</p>
<p>+ 14
</p>
<p>+ 16
</p>
<p>+ 18
</p>
<p>+ 20
</p>
<p>(Function)
186
</p>
<p>(Completion)
&mdash;
</p>
<p>(Length)
10
</p>
<p>(Number)
Point number
</p>
<p>(Attribute)
0
</p>
<p>(Data area)
Type
</p>
<p>(Function)
186
</p>
<p>(Completion)
?
</p>
<p>(Length)
10
</p>
<p>(Number)
N
</p>
<p>(Attribute)
0
</p>
<p>(Data area)
</p>
<p>[Data unit]
</p>
<p>Metric system input : 10&ndash;3 [mm]
</p>
<p>(In case the incremental system is 1/10, output 
data unit is 10&ndash;4 [mm].)
</p>
<p>Inch system input : 10&ndash;5 [inch]
</p>
<p>[Completion codes]
</p>
<p>0 : The measured point has been written normally.
</p>
<p>3 : Invalid data is specified as data number.
</p>
<p>4 : Invalid data is specified as data attribute.
</p>
<p>E.11
WRITING THE 
MEASURED POINT 
(�LOW&ndash;SPEED
RESPONSE)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
F. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;PA)APPENDIX
</p>
<p>927
</p>
<p>F WINDOW FUNCTION DESCRIPTION (FS16&ndash;PA)
</p>
<p>[Description]
</p>
<p>Various Tool setting data recorded in the CNC can be read.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
188
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data Number)
N
</p>
<p>(See 1.1)
</p>
<p>(Data attribute)
M
</p>
<p>(See 1.1)
</p>
<p>(Data area)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>[Completion codes]
</p>
<p>0 :  The tool setting data has been read normally.
</p>
<p>3 : The data number specified for reading is invalid.
</p>
<p>4 : There are mistakes in the data attribute that specifies the type of
the tool setting data to be read.
</p>
<p>6 : For the tool setting data specified for reading, an additional option
(graphic or multi&ndash;tool control) is required, but it is missing.
</p>
<p>F.1
READING OF TOOL 
SETTING DATA
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>F. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;PA) B&ndash;61863E/10APPENDIX
</p>
<p>928
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
188
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of codes)
</p>
<p>(Data length)
?
</p>
<p>(See 1.1)
</p>
<p>(Data Number)
N
</p>
<p>(N : Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M : Input data)
</p>
<p>(Data area)
?
</p>
<p>(See 1.1)
</p>
<p>� �
</p>
<p>48
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
F. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;PA)APPENDIX
</p>
<p>929
</p>
<p>Data number, data attribute, data length and data area of various tool
setting data are as follows.
</p>
<p>Various tool setting data Data number (N) Data attribute (M) Data length Data area
</p>
<p>Used tool number 0 2 bytes Binary
1 to 136
</p>
<p>Number of turret indexing 1 2 bytes Binary
1 to 136
</p>
<p>Tool number of reference point 0 2 2 bytes Binary
1 to 136
</p>
<p>Feed amount per revolution of
turret
</p>
<p>3 4 bytes Binary
1 to 99999999
</p>
<p>Total punch count 4 8 bytes Binary
1 to 99999999
</p>
<p>Tool number 0 2 bytes Binary
1 to 9999
</p>
<p>Punch count 1 4 bytes Binary
1 to 99999999
</p>
<p>Tool position compensation of X 2 4 bytes Binary
&plusmn;99999999
</p>
<p>Tool position compensation of Y 3 4 bytes Binary
&plusmn;99999999
</p>
<p>Machine position of tool
Number of tool
</p>
<p>tti d t
</p>
<p>4 4 bytes Binary
&plusmn;99999999
</p>
<p>Tool number for tool change setting data
</p>
<p>1 to 136
</p>
<p>5 2 bytes Binary
1 to 136
</p>
<p>(Not used)
1 to 136
</p>
<p>6 4 bytes
</p>
<p>Tool shape (C) for graphic 7 2 bytes
High byte=0
</p>
<p>Binary
0 to 4
</p>
<p>Tool shape (I) for graphic 8 4 bytes Binary
0 to 999999
</p>
<p>Tool shape (J) for graphic 9 4 bytes Binary
0 to 999999
</p>
<p>Tool shape (K) for graphic 10 4 bytes Binary
0 to 360000
</p>
<p>Tool number for multi&ndash;tool 0 2 bytes
High byte=0
</p>
<p>Binary
0 to 99
</p>
<p>Tool angle for multi&ndash;tool 1 4 bytes Binary
&plusmn;360000
</p>
<p>Tool position compensation of Y
Number of
</p>
<p>Multi tool setting
</p>
<p>2 4 bytes Binary
&plusmn;99999999
</p>
<p>Tool shape (C) for multi&ndash;tool
Multi&ndash;tool setting
</p>
<p>data +200 3 2 bytes
High byte=0
</p>
<p>Binary
0 to 4
</p>
<p>Tool shape (I) for multi&ndash;tool 201 to 264 4 4 bytes Binary
0 to 999999
</p>
<p>Tool shape (J) for multi&ndash;tool 5 4 bytes Binary
0 to 999999
</p>
<p>Tool shape (K) for multi&ndash;tool 6 4 bytes Binary
0 to 360000
</p>
<p>F.1.1
Data Number, 
Data Attribute, 
Data Length, Data Area
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>F. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;PA) B&ndash;61863E/10APPENDIX
</p>
<p>930
</p>
<p>data unit
</p>
<p>Machine Input of IS&ndash;A Input of IS&ndash;B
</p>
<p>Tool position mm 0. 01 0. 001
compensation inch 0. 001 0. 0001
</p>
<p>Input unit Input of IS&ndash;A Input of IS&ndash;B
</p>
<p>Tool shape and mm 0. 01 0. 001
angle for graphic inch 0. 001 0. 0001
</p>
<p>Tool angle for
l i l
</p>
<p>deg 0. 01 0. 001
multi&ndash;tool
</p>
<p>[Description]
</p>
<p>The various tool setting data can be directly written into the CNC.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
189
</p>
<p>(Completion code)
&mdash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
?
</p>
<p>(See 1.1)
</p>
<p>(Data Number)
N
</p>
<p>(See 1.1)
</p>
<p>(Data attribute)
M
</p>
<p>(See 1.1)
</p>
<p>(Data)
?
</p>
<p>(See 1.1)
</p>
<p>[Completion code]
</p>
<p>0 : The tool setting data has been written normally.
</p>
<p>2 : The data length specified for writing is invalid.
</p>
<p>3 : The data number specified for writing is invalid.
</p>
<p>4 : The data attribute specified for writing is invalid.
</p>
<p>5 : The data specified for writing is invalid.
</p>
<p>6 : The additional option (multi&ndash;tool control or graphic) is required
but it is missing.
</p>
<p>F.2
WRITING OF TOOL 
SETTING DATA 
(LOW&ndash;SPEED
RESPONSE)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
F. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;PA)APPENDIX
</p>
<p>931
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>8
</p>
<p>10
</p>
<p>(Function code)
189
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation of codes)
</p>
<p>(Data length)
?
</p>
<p>(See F.1)
</p>
<p>(Data Number)
N
</p>
<p>(N : Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M : Input data)
</p>
<p>(Data area)
?
</p>
<p>(See F.1)
</p>
<p>� �
</p>
<p>48
</p>
<p>NOTE
See Sec. F. 1 for data unit.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>F. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;PA) B&ndash;61863E/10APPENDIX
</p>
<p>932
</p>
<p>[Description]
</p>
<p>Setting data for a tool (such as registration order, tool punch count, and
tool shape) can be read by specifying the tool number.
</p>
<p>[Input data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>10
</p>
<p>12
</p>
<p>(Function code)
141
</p>
<p>(Completion)
&ndash;
</p>
<p>(Need not be set)
</p>
<p>(Data length)
&ndash;
</p>
<p>(Need not be set)
</p>
<p>(Data number)
N
</p>
<p>(N=Tool number)
</p>
<p>(Data attribute)
M
</p>
<p>(See F.1)
</p>
<p>(Data area)
&ndash;
</p>
<p>(Need not be set)
</p>
<p>NOTE
1 The area for specifying the data number consists of four
</p>
<p>bytes.
2 As the data attribute, specify the type of the tool setting data
</p>
<p>to be read, in the same way as for function code 188.  If 0
is specified as the data attribute, the registration order of the
tool is read.
</p>
<p>F.3
READING TOOL
SETTING DATA BY
SPECIFYING TOOL
NUMBER
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
F. WINDOW FUNCTION DESCRIPTION
</p>
<p>(FS16&ndash;PA)APPENDIX
</p>
<p>933
</p>
<p>[Completion code]
</p>
<p>0: The tool setting data has been read normally.
</p>
<p>3: The specified data number is invalid.
</p>
<p>4: The specified data attribute is invalid.
</p>
<p>6: For the tool setting data specified for reading, an additional option
(graphic or multi&ndash;tool control) is required, but it is missing.
</p>
<p>[Output data structure]
</p>
<p>Top address + 0
</p>
<p>2
</p>
<p>4
</p>
<p>6
</p>
<p>10
</p>
<p>12
</p>
<p>(Function code)
141
</p>
<p>(Completion code)
?
</p>
<p>(See the explanation above)
</p>
<p>(Data length)
?
</p>
<p>(See F.1)
</p>
<p>(Data number)
N
</p>
<p>(N: Input data)
</p>
<p>(Data attribute)
M
</p>
<p>(M: Input data)
</p>
<p>(Data area)
?
</p>
<p>(See F.1)
</p>
<p>A A
</p>
<p>48
</p>
<p>� �
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>F. WINDOW FUNCTION DESCRIPTION 
(FS16&ndash;PA) B&ndash;61863E/10APPENDIX
</p>
<p>934
</p>
<p>The FS16&ndash;PA supports the following window functions, described in  this
manual.
</p>
<p>Number Functioncode
</p>
<p>1 Reading CNC system information 0
</p>
<p>2 Reading a tool offset 13
</p>
<p>3 Writing a tool offset �low&ndash;speed response 14
</p>
<p>4 Reading a workpiece origin offset 15
</p>
<p>5 Writing a workpiece origin offset �low&ndash;speed response 16
</p>
<p>6 Reading a parameter �low&ndash;speed response 17
</p>
<p>7 Writing a parameter �low&ndash;speed response 18
</p>
<p>8 Reading setting data �low&ndash;speed response 19
</p>
<p>9 Writing setting data �low&ndash;speed response 20
</p>
<p>10 Reading a custom macro variable �low&ndash;speed response 21
</p>
<p>11 Writing a custom macro variable �low&ndash;speed response 22
</p>
<p>12 Reading the CNC alarm state 23
</p>
<p>13 Reading the current program number 24
</p>
<p>14 Reading the current sequence number 25
</p>
<p>15 Reading an actual velocity for a controlled axis 26
</p>
<p>16 Reading an absolute position on a controlled axis 27
</p>
<p>17 Reading a machine position on a controlled axis 28
</p>
<p>18 Reading a skip position on a controlled axis 29
</p>
<p>19 Reading a servo delay amount on a controlled axis 30
</p>
<p>20 Reading an acceleration/deceleration delay amount on a controlled axis 31
</p>
<p>21 Reading modal data 32
</p>
<p>22 Reading diagnostic data �low&ndash;speed response 33
</p>
<p>38 Reading clock data (date and time) 151
</p>
<p>41 Reading a parameter 154
</p>
<p>42 Reading setting data 155
</p>
<p>43 Reading diagnostic data 156
</p>
<p>44 Reading a character string of the CNC program being executed in the buffer 157
</p>
<p>45 Reading the relative position on a controlled axis 74
</p>
<p>46 Reading the remaining travel on a controlled axis 75
</p>
<p>47 Reading CNC status information 76
</p>
<p>48 Reading an operator message 83
</p>
<p>F.4
OTHER WINDOW
FUNCTIONS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>G. SIGNAL ADDRESS CONVERSION 
(FROM THE PMC&ndash;MODEL L/M TO 
</p>
<p>THE PMC&ndash;MODEL RB/RC)APPENDIX
</p>
<p>935
</p>
<p>G
SIGNAL ADDRESS CONVERSION 
(FROM THE PMC&ndash;MODEL L/M TO THE PMC&ndash;MODEL RB/RC)
</p>
<p>DI/DO signals used in the PMC&ndash;MODEL L/M can be converted to
signals for the PMC&ndash;MODEL RB/RC using the FAPT LADDER
program for the PMC&ndash;MODEL RB/RC.
</p>
<p>The DI/DO signals used between the NC unit and the PMC correspond
to word addresses consisting of addresses and values.  Word addresses of
bit type are converted.  The program is not logically converted.
</p>
<p>The conversion is performed under the following conditions.
</p>
<p>(1) A word address of bit type used in a basic instruction is to be
converted.
</p>
<p>(2) A word address of byte type used in a functional instruction is not
converted.
</p>
<p>(3) Word addresses used in the standard FANUC Series 0&ndash;T/M are
converted to those used in the standard FANUC Series 16&ndash;T/M.  If
a value in a word address is 1000.0 or more, the address is not
converted.
</p>
<p>(4) When the same signal name is used in the FANUC Series 0 and 16,
and the addresses corresponding to the signal in the Series 0 and 16
have one&ndash;to&ndash;one relationship, the word address is converted.  For
details, see the signal conversion table.
</p>
<p>(1) Load the FAPT LADDER program for the PMC&ndash;RB/RC.
</p>
<p>(2) Press the R0 key to display the programmer menu screen.
</p>
<p>(3) Press the F2 key.  Enter 2 and press the &lt;NL&gt; key.  then the following
message appears on the screen.  Insert a data floppy for the
PMC&ndash;RB/RC.  Select the name of the file corresponding to the
conversion from Table G.3 and enter it.
</p>
<p>SET  FD  &amp;  KEYIN &lsquo;OK&rsquo;, &lsquo;KILL&rsquo; OR &lsquo;NO&rsquo;
FD0 = OK&lt;DRIVE&gt; &lt;@NAME OR :NUMBER&gt;
FD0 =
</p>
<p>Table G.3 File Name in the Data Floppy for the PMC&ndash;RB/RC
</p>
<p>File name
</p>
<p>FS0&ndash;T &rarr; FS16&ndash;T COMV.FS0&ndash;T
</p>
<p>FS0&ndash;M &rarr; FS16&ndash;M COMV.FS0&ndash;M
</p>
<p>G.1
GENERAL
</p>
<p>G.2
FUNCTION
</p>
<p>G.3
CONVERSION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>G. SIGNAL ADDRESS CONVERSION 
(FROM THE PMC&ndash;MODEL L/M TO 
THE PMC&ndash;MODEL RB/RC) B&ndash;61863E/10APPENDIX
</p>
<p>936
</p>
<p>(4) Read a source ladder program created with FAPT LADDER for the
PMC&ndash;L/M from the floppy in the same way as in Item 3.
</p>
<p>If an address not listed in the signal conversion table is used in the
ladder program file, an error occurs.  In this case, enter E, then press
the &lt;NL&gt; key to return to the programmer menu screen.
</p>
<p>PART= E &lt;NL&gt;
</p>
<p>(5) Entering 9 and pressing the &lt;NL&gt; key on the programmer menu
screen changes the screen.  The following message appears at the
lower left corner of the screen.  Enter 2, then press the &lt;NL&gt; key to
delete the symbol data.
</p>
<p>KEYIN &rsquo;1, 2, 3, 4, 5 OR 6 OR &lsquo;NO&rsquo;
CLEAR/KEEP=
</p>
<p>The above operation terminates the conversion.  Check the converted
program.  If an error occurs in the conversion, modify the program.
</p>
<p>Enter 1 on the programmer menu to change the screen to the screen for
editing a sequence program.  Editing operation is the same as usual.
</p>
<p>NOTE
Some addresses not converted have no error indication.
After modifying the program, check that all addresses are
correct according to the signal conversion table and the
connecting manual.
</p>
<p>(1) When the Series 0 and 16 differ in the number of parameters used in
a functional instruction
</p>
<p>Because the Series 0 and 16 differ in the numbers of parameters used
for TMR (timer), TMRB (timer), and CTR (counter), errors are
indicated at the parameters.  Check the program, then delete the
parameter.  Set the timer and counter again.
</p>
<p>(2) When an address not used in functional instructions is specified
</p>
<p>When an address used in the ladder program for the Series 0 is not
defined in the Series 16, the messages (NO PARAMETER) and
#PARAM.ERROR# appear as follows.  Set the parameter again and
delete the latter message.
</p>
<p>Example
00001 RD XXX.X
00002 SUB 8
00003 XXXX
00004 XXXX
00005 XXXX
00006 (NO PARAMETER) Set the parameter again.. 
00007 #PARAM.ERR# Delete the message.  This. . . . . 
</p>
<p>message may not appear.
(XXX.X and XXXX are addresses and values.)
</p>
<p>G.4
MODIFYING THE 
CONVERTED
SEQUENCE
PROGRAM
</p>
<p>G.4.1
Modification Procedure
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>G. SIGNAL ADDRESS CONVERSION 
(FROM THE PMC&ndash;MODEL L/M TO 
</p>
<p>THE PMC&ndash;MODEL RB/RC)APPENDIX
</p>
<p>937
</p>
<p>(3) Deleting SUB48 (END3) (In the PMC&ndash;RB)
</p>
<p>If SUB48 (END3) is specified in the PMC&ndash;RB, an error occurs
because the PMC&ndash;RB is not provided with SUB48 (END3).  When
this error occurs, delete third&ndash;level programs, or change the
third&ndash;level programs to second&ndash;level programs and delete SUB48.
</p>
<p>(4) Address conversion for signals not listed on the signal conversion
table Modify the address for a signal by referring to the connection
manual.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>H. CONNECTING THE OPERATOR&rsquo;S 
PANEL FOR FS 0 WITH FS16, 
FS18, FS21, OR Power Mate B&ndash;61863E/10APPENDIX
</p>
<p>938
</p>
<p>H
CONNECTING THE OPERATOR&rsquo;S PANEL FOR FS 0 WITH FS16, FS18,
FS21, OR Power Mate
</p>
<p>The Series 0 operator&rsquo;s panel consists of key switches, LEDs, a rotary
switch, and so on.  Because the states of key switches and lamps are coded,
the number of the signal lines required for connecting the operator&rsquo;s panel
with the CNC may not be the same as the number of actual switches.  PMC
management software automatically codes the states of the key switches
and lamps and transmits data.
</p>
<p>Therefore, simple bit images of switches and LEDs must only be
manipulated with the PMC ladder program.
</p>
<p>Bit image 
Rk and on
</p>
<p>PMC 
management 
software
</p>
<p>Input 
Xn and on Keyboard
</p>
<p>Coding
</p>
<p>Output 
Ym and on
</p>
<p>CNC (Series 16 or 18)
I/O unit
I/O card
</p>
<p>LED
Coding
</p>
<p>Protect key 
Emergency stop 
button 
Override rotary 
switch 
etc.
</p>
<p>Series 0 operator&rsquo;s manual
</p>
<p>PMC ladder 
program 
(of the user)
</p>
<p>G* and 
after (X)
</p>
<p>CNC 
software
</p>
<p>Interface with 
other machines
</p>
<p>Bit image 
Rl and on
</p>
<p>Input 
X* and on
</p>
<p>Contact
</p>
<p>Input 
X* and on
</p>
<p>Output 
Y* and 
after
</p>
<p>F* and on
</p>
<p>Fig. H.1 (a)  Connection between the CNC and the Operator&rsquo;s Panel
</p>
<p>H.1
GENERAL
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>H. CONNECTING THE OPERATOR&rsquo;S 
PANEL FOR FS 0 WITH FS16, 
</p>
<p>FS18, FS21, OR Power MateAPPENDIX
</p>
<p>939
</p>
<p>The operator&rsquo;s panel is made up of the following keys, LEDs, etc.
</p>
<p>� Key switch (Seat key)
</p>
<p>� 42 keys (0&ndash;TB)
</p>
<p>� 46 keys (0&ndash;MB)
</p>
<p>� LEDs (red) ....................... Prepared for all key switches
</p>
<p>� Override rotary switch ..... 4 bits
</p>
<p>� Emergency stop button .... 1 bit
</p>
<p>� Program protect key ........ 1 bit
</p>
<p>Fig. H.1 (b)  Front view of operator&rsquo;s panel for 0&ndash;TC
</p>
<p>Fig. H.1 (c)  Front view of operator&rsquo;s panel for 0&ndash;MC
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>H. CONNECTING THE OPERATOR&rsquo;S 
PANEL FOR FS 0 WITH FS16, 
FS18, FS21, OR Power Mate B&ndash;61863E/10APPENDIX
</p>
<p>940
</p>
<p>Fig. H.1 (d)  External view of operator&rsquo;s panel for 9&rdquo; CRT/MDI with full&ndash;keyboard (0&ndash;TC)
</p>
<p>Fig. H.1 (e)  External view of operator&rsquo;s panel for 9&rdquo; CRT/MDI with full&ndash;keyboard (0&ndash;MC)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>H. CONNECTING THE OPERATOR&rsquo;S 
PANEL FOR FS 0 WITH FS16, 
</p>
<p>FS18, FS21, OR Power MateAPPENDIX
</p>
<p>941
</p>
<p>CNC (Series 16 or 18)
</p>
<p>MAIN CPU
</p>
<p>I/O unit
</p>
<p>JD1A
(I/O Link)
</p>
<p>PSU
CP6
</p>
<p>JD1B
</p>
<p>CP32
</p>
<p>JD1A
</p>
<p>DI 
module
</p>
<p>DO 
module
</p>
<p>M1A
</p>
<p>M2A
</p>
<p>Series 0 operator&rsquo;s panel
</p>
<p>24 VDC Another I/O unit
</p>
<p>DI module : +24 V common, 20 ms
Example)  AID32A1
</p>
<p>DO module : 0 V common
Example)  AOD32A1
</p>
<p>M1A
</p>
<p>M2A
</p>
<p>Series 0 operator&rsquo;s panel
</p>
<p>CNC (Series 16 or 18)
To another I/O unit
</p>
<p>MAIN CPU
</p>
<p>Interface with other machinesJD1A
(I/O Link)
</p>
<p>I/O card 
DI 
</p>
<p> connector
</p>
<p>DO 
connector
</p>
<p>H.2
CONNECTION
</p>
<p>H.2.1
Connecting the I/O Unit
</p>
<p>H.2.2
Connecting the I/O
Card
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>H. CONNECTING THE OPERATOR&rsquo;S 
PANEL FOR FS 0 WITH FS16, 
FS18, FS21, OR Power Mate B&ndash;61863E/10APPENDIX
</p>
<p>942
</p>
<p>This signal is used for the fixed address directly monitored by the CNC.
</p>
<p>For connecting the signal, refer to the description of the interface between
the CNC and the PMC in the &rdquo;Series 16 or 18 Connection Manual.&rdquo;
</p>
<p>Their key switch contact signals are directly input to the PMC.  Handle
them with the PMC ladder program.
</p>
<p>For connecting these signals, refer to the description of the interface
between the CNC and the PMC in the &rdquo;Series 16 or 18 Connection
Manual.&rdquo;
</p>
<p>The key switch signals are coded by the PMC management software, and
input to the area indicated by address R in the form of to the bit image.
</p>
<p>Whether necessary keys are already pressed can be checked by the bit
image of the key switches using the user PMC ladder program.  (See
Tables H.3.4 (a), H.3.4 (b), and H.3.4 (c))
</p>
<p>While a key is pressed, the bit corresponding to the key is 1.
</p>
<p>Two keys can be pressed at the same time.  Create a user PMC program
so that it does not require pressing more than two keys at a time.  If more
than two keys are pressed simultaneously, the relevant data is not entered
correctly.
</p>
<p>A maximum of 60 ms is required before the corresponding bit is set to 1
or 0 after a key is pressed (released).
</p>
<p>Key switch signal addresses (Xn to Xn+2:  Table H.3.4 (a)) and their bit
image addresses (Rk to Rk+7:  Tables H.3.4 (b) and H.3.4 (c)) can be
defined using fixed addresses or unused addresses as desired.  (In Series
0, the key switch signal addresses are fixed to X20 and after.  The bit
image addresses are fixed to F292 and after.)
</p>
<p>H.3
SIGNALS FOR 
CONNECTING THE 
OPERATOR&rsquo;S PANEL
</p>
<p>H.3.1
Emergency Stop Signal
(*ESP)
</p>
<p>H.3.2
Override Signals (*OV1
to *OV8) and Program
Protect Key Signal
(KEY)
</p>
<p>H.3.3
Key Switch Signals
(Xn, Xn+2)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>H. CONNECTING THE OPERATOR&rsquo;S 
PANEL FOR FS 0 WITH FS16, 
</p>
<p>FS18, FS21, OR Power MateAPPENDIX
</p>
<p>943
</p>
<p>Specify the LED signals at PMC address R using the user PMC ladder
program in the form of a bit image.  PMC management software changes
the bit image LED signals to the coded output signals.  (See Tables H.3.4
(a), H.3.4 (b), and H.3.4 (c))
</p>
<p>While 1 is written in a LED bit image, the relevant LED automatically
goes on.  When 0 is written in the LED bit image, the relevant LED goes
off.  All LEDs are off before the power is turned on.
</p>
<p>A maximum of 200 ms is required before the LED goes on or off after 1
or 0 is written in a bit image in the PMC.
</p>
<p>LED signal address (Ym:  Table H.3.4 (a)) and the bit image addresses (Rl
to Rl+7:  Tables H.3.4 (b), and H.3.4 (c)) can be defined using fixed
addresses or unused addresses as desired.  (In Series 0, the LED signal
address is fixed to Y51.  The bit image addresses are fixed to G242 and
after.)
</p>
<p>Table H.3.4 (a)  Key Switch and LED Signal Addresses
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>Xn KD7 KD6 KD5 KD4 KD3 KD2 KD1 KD0
</p>
<p>Xn+1
</p>
<p>Xn+2 KST KA3 KA2 KA1 KA0
</p>
<p>Ym LD7 LD6 LD5 LD4 LD3 LD2 LD1 LD0
</p>
<p>Table H.3.4 (b)  Bit Image Addresses of Key Switch and LED Signals 
</p>
<p>(for the small operator&rsquo;s panel)
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>KEY/LED F3 F2 F1 D1 C1 B1 A1
</p>
<p>Rk/Rl F4 D2 C2 B2 A2
</p>
<p>Rk+1/Rl+1 D4 D3 C4 C3 B4 B3 A4 A3
</p>
<p>Rk+2/Rl+2 F6 F5 D5 C5 B5 A5
</p>
<p>Rk+3/Rl+3 F8 D6 C6 B6 A6
</p>
<p>Rk+4/Rl+4 D8 C8 B8 A8 A7
</p>
<p>Rk+5/Rl+5 F9 D9 C9 B9 A9
</p>
<p>Rk+6/Rl+6 F10 D10 C10 B10 A10
</p>
<p>H.3.4
LED Signals (Ym)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>H. CONNECTING THE OPERATOR&rsquo;S 
PANEL FOR FS 0 WITH FS16, 
FS18, FS21, OR Power Mate B&ndash;61863E/10APPENDIX
</p>
<p>944
</p>
<p>Table H.3.4 (c)  Bit Image Addresses of Key Switch and LED Signals 
</p>
<p>(for the operator&rsquo;s panel with the full keyboard)
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>KEY/LED E1 C1 A1 E6 D6 C6 B6 A6
</p>
<p>Rk/Rl E2 C2 A2 E7 D7 C7 B7 A7
</p>
<p>Rk+1/Rl+1 E3 C3 A3 E8 D8 C8 B8 A8
</p>
<p>Rk+2/Rl+2 E5 C4 A4 E9 D9 C9 B9 A9
</p>
<p>Rk+3/Rl+3 D2 C5 A5 E10 D10 C10 B10 A10
</p>
<p>Rk+4/Rl+4 D4 D5 B2 E11 D11 C11 B11 A11
</p>
<p>Rk+5/Rl+5 D1 B1 B4 E12 D12 C12 B12 A12
</p>
<p>Rk+6/Rl+6 D3 B3 B5 E13 D13 C13 B13 A13
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
</p>
<p>H. CONNECTING THE OPERATOR&rsquo;S 
PANEL FOR FS 0 WITH FS16, 
</p>
<p>FS18, FS21, OR Power MateAPPENDIX
</p>
<p>945
</p>
<p>The following section describes how to specify key switch and LED
signal addresses and the bit image addresses.
</p>
<p>KEY IN ONE OF THE FOLLOWING NO.S WHICH YOU WANT TO SET PARA.S
</p>
<p>NO. ITEMS                      CURRENT PARAMETERS
</p>
<p>01  (UNUSED)                 ;
</p>
<p>02  COUNTER DATA TYPE        ; BINARY
</p>
<p>03  OPERATOR PANEL           ; YES
</p>
<p>     KEY/LED ADDRESS         ; X0000/Y0000
</p>
<p>     KEY/LED BIT IMAGE ADRS. ; R0900/R0910
</p>
<p>04  PMC TYPE                 ; PMC&ndash;RB
</p>
<p>05  (UNUSED)                 ;
</p>
<p>06  (UNUSED)                 ;
</p>
<p>07  (UNUSED)                 ;
</p>
<p>08  (UNUSED)                 ;
</p>
<p>09  IGNORE DIVIDED CODE      ; NO
</p>
<p>10  (UNUSED)                 ;
</p>
<p>00  NOTHING TO SET           ;
</p>
<p>                             ; ROM WRITER = FA WRITER
</p>
<p>NO. =
</p>
<p>1) Select 3 from the parameter menu.  Then, the following message is
displayed:
</p>
<p>EXAMPLE 0:NO, 1:YES
OP.PANEL=_
</p>
<p>2) Select 1(:YES).  Then, the following message is displayed:
</p>
<p>SET KEY/LED ADDRESS(KEY ADRS., LED ADRS.)
ADDR=_
</p>
<p>3) Specify a key or LED address (X or Y).  For example, to specify a
key switch address as X0 and LED address as Y0, enter X0,Y0 and
press the [NL] key ([NL]: New line key).  The following message is
then displayed:
</p>
<p>SET KEY/LED BIT IMAGE ADDRESS(KEY ADRS., LED ADRS.)
ADDR=_
</p>
<p>H.4
SPECIFYING
ADDRESSES
</p>
<p>H.4.1
Parameter Menu 
(for PMC&ndash;RB)
</p>
<p>H.4.2
Procedure
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>H. CONNECTING THE OPERATOR&rsquo;S 
PANEL FOR FS 0 WITH FS16, 
FS18, FS21, OR Power Mate B&ndash;61863E/10APPENDIX
</p>
<p>946
</p>
<p>4) Specify bit image addresses.  For example, to specify R900 and
R910, enter R900,R910 and press the [NL] key.
</p>
<p>Then, the current display returns to the original parameter menu, and
the following message appears:
</p>
<p>  :      :     :
03  OPERATOR PANEL           ; YES
</p>
<p>     KEY/LED ADDRESS         ; X0000/Y0000
</p>
<p>     KEY/LED BIT IMAGE ADRS. ; R0900/R0910
  :      :     :
</p>
<p>NOTE
1 After the above procedure, the addresses in Tables 3.1,
</p>
<p>3.2&ndash;A, and 3.2&ndash;B are defined as the following PMC
addresses:
</p>
<p>Xn &rarr; X0000 Rk / Rl &rarr;R0900/R0910
Xn+1 &rarr; X0001 Rk+1 / Rl+1&rarr;R0901/R0911
Xn+2 &rarr; X0002 Rk+2 / Rl+2&rarr;R0902/R0912
</p>
<p>Rk+3 / Rl+3&rarr;R0903/R0913
Ym &rarr; Y0000 Rk+4 / Rl+4&rarr;R0904/R0914
</p>
<p>Rk+5 / Rl+5&rarr;R0905/R0915
Rk+6 / Rl+6&rarr;R0906/R0916
Rk+7 / Rl+7&rarr;R0907/R0917
</p>
<p>2 Since the PMC addresses for the I/O card are already fixed,
specify the signals to be used at the fixed addresses.
</p>
<p>To use X1000, X1001, X1002, and Y1000 for key switches and LEDs,
enter the following:
</p>
<p>SET KEY/LED ADDRESS(KEY ADRS., LED ADRS.)
ADDR= X1000,Y1000 [NL]
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
I. EDITING FOR Power Mate&ndash;MODEL D
</p>
<p> (PMC&ndash;PA1/PA3)APPENDIX
</p>
<p>947
</p>
<p>I EDITING FOR Power Mate&ndash;MODEL D (PMC&ndash;PA1/PA3)
</p>
<p>Ladder diagram editing function for FANUC PMC&ndash;MODEL PA1/PA3
has high compatibility in a basic specification between ladder diagram
editing function for FANUC PMC&ndash;MODEL RA1/RA2.
</p>
<p>Following abbreviations are used in this chapter.
</p>
<p>CNC Model Product/Card Name Abbr.
</p>
<p>FANUC Power Mate&ndash;MODEL D FANUC PMC&ndash;MODEL PA1 PMC&ndash;PA1
</p>
<p>FANUC PMC&ndash;MODEL PA3 PMC&ndash;PA3
</p>
<p>Ladder diagram editing 
memory card
</p>
<p>Editing card
</p>
<p>FANUC Series 18 FANUC PMC&ndash;MODEL RA1 PMC&ndash;RA1
</p>
<p>FANUC PMC&ndash;MODEL RA2 PMC&ndash;RA2
</p>
<p>Editing card described herein apply to the following software or later.
</p>
<p>CNC
&middot; Version 08(H) or later of Power Mate&ndash;MODEL D basic software
</p>
<p>8830 Series.
</p>
<p>PMC
&middot; Version 04(D) or later of PMC&ndash;PA1/PA3 control software 4075 
</p>
<p>Series.
</p>
<p>This function is used to set PMC system parameters and also generate and
execute sequence programs by using soft keys a on the CRT/MDI unit or
PDP/MDI unit.  You can not use following function because FANUC
Power Mate&ndash;MODEL D does not use ROM for sequence program.
</p>
<p>&middot; Sequence Program Copy Function
</p>
<p>&middot; Writing, Reading, and Verification of the Sequence Program and
PMC Parameter Data to/from/with ROM.
</p>
<p>I.1
OUTLINE
</p>
<p>I.2
COMPATIBILITY WITH
CNC BASIC 
SOFTWARE
</p>
<p>I.3
PMC PROGRAMMER 
(CRT/MDI OR 
PDP/MDI) [LADDER 
EDITING FUNCTION]
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>I. EDITING FOR Power Mate&ndash;MODEL D 
I. (PMC&ndash;PA1/PA3) B&ndash;61863E/10APPENDIX
</p>
<p>948
</p>
<p>The units required for generating a sequence program and connection
methods are described below.
</p>
<p>(1) Editing card
</p>
<p>This is used for editing sequence program.
</p>
<p>If this card is inserted in CNC at the time of its power&ndash;on, PMC
displays the programmer menu.
</p>
<p>When you want to put on and take off, you must turn off the CNC
power.
</p>
<p>CAUTION
Please do not release the write protect switch of editing card
for preventing a mistake deleting.
</p>
<p>WRITE PROTECT
</p>
<p>Editing Card
(A02B&ndash;0166&ndash;K701#4076)
</p>
<p>Fig. I.3.1.1
</p>
<p>I.3.1
Component Units and
Connections
</p>
<p>I.3.1.1 
Component units
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
I. EDITING FOR Power Mate&ndash;MODEL D
</p>
<p> (PMC&ndash;PA1/PA3)APPENDIX
</p>
<p>949
</p>
<p>(2) CRT/MDI unit, PDP/MDI unit
</p>
<p>CRT/MDI unit or PDP/MDI unit are necessary when you generate
or edit sequence program using editing card.
</p>
<p>CRT/MDI unit (A02B&ndash;0166&ndash;C001)
</p>
<p>PDP/MDI unit  (A02B&ndash;0166&ndash;C010, A02B&ndash;0166&ndash;C011)
</p>
<p>Feed the editing card into connector CNMC of the CNC.
</p>
<p>When you want to put on and take off, you must turn off the CNC power.
(Refer to the fig. I.3.1.2)
</p>
<p>Fig. I.3.1.2
</p>
<p>I.3.1.2 
Connection of
Components
</p>
<p>I.3.1.3 
Parameter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>I. EDITING FOR Power Mate&ndash;MODEL D 
I. (PMC&ndash;PA1/PA3) B&ndash;61863E/10APPENDIX
</p>
<p>950
</p>
<p>Please set bit 1 in K17 of keep relay area for PMC parameters.
#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>K17 PRGRAM
</p>
<p>PRGRAM 0: The programmer function is disabled. 
(The programmer menu is not displayed.)
</p>
<p>1: The programmer function is enabled. 
(The programmer menu is displayed.)
</p>
<p>FANUC Power Mate&ndash;MODEL D can set only COUNTER DATA TYPE.
</p>
<p>The meaning of this parameter is same as PMC&ndash;RA1/RA2.
</p>
<p>PMC SYSTEM PARAMETER
  COUNTER DATA TYPE  =  BINARY/BCD
</p>
<p> [BINARY] [ BCD  ] [      ] [      ] [      ]
</p>
<p>Fig. I.3.2 PMC&ndash;PA1 or PA3  System Parameter Screen
</p>
<p>When the following condition is satisfied, the CONDNS key will be used
in FANUC Power Mate&ndash;MODEL D.
</p>
<p>&middot; Some unused area remain by repeating the addition or the deletion
of the symbol/comment and the message in the memory.
</p>
<p>&middot; Ladder might be able to be made more by compressing the unused
area by pushing [CONDNS] key when the memory is insufficient
while ladder is added.
</p>
<p>[Example: When you want to expand ladder area by deleting
symbol/comment data at the memory status Fig.I.3.3 (a)]
</p>
<p>(1) Delete symbol data(0.2KB).
</p>
<p>(2) Push [CONDNS] key.
</p>
<p>(3) The memory status becomes as Fig.I.3.3 (c) and LADDER can be
edited more.
</p>
<p>I.3.2
Specification and
Display of System
Parameters (SYSPRM)
</p>
<p>I.3.3
Condense
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
I. EDITING FOR Power Mate&ndash;MODEL D
</p>
<p> (PMC&ndash;PA1/PA3)APPENDIX
</p>
<p>951
</p>
<p>NOTE
1 Sequence program area in Fig. I.3.3 (a) &ndash; (c) is 64KB.
2 The underlined memory in Fig. I.3.3 (a) &ndash; (c) is the same as
</p>
<p>the memory display of the TITLE screen.
3 The symbol/comment area in Fig. I.3.3 (a) is 20KB (Unused
</p>
<p>area 0.9KB is contained.)
4 In case of deleting message and expending another area,
</p>
<p>it is as same as this example.
</p>
<p>Message
10.0KB
</p>
<p>Message
10.0KB
</p>
<p>Message
10.0KB
</p>
<p>(Unused area 0.9KB)
</p>
<p>Symbol/Comment
19.1KB
</p>
<p>Symbol/Comment
18.9KB
</p>
<p>Symbol/Comment
18.9KB
</p>
<p>(Unused area 1.1KB) (Unused area 0.1KB)
</p>
<p>Executed 
Condense
</p>
<p>Symbol/
Comment
0.2KB 
Delete
</p>
<p>Ladder
34.0KB
</p>
<p>20.0KB
</p>
<p>19.0KB
</p>
<p>(Unused area 1.0KB)
</p>
<p>Fig. I.3.3 (a) Fig. I.3.3 (b) Fig. I.3.3 (c)
</p>
<p>Ladder
34.0KB
</p>
<p>Ladder
34.0KB
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>I. EDITING FOR Power Mate&ndash;MODEL D 
I. (PMC&ndash;PA1/PA3) B&ndash;61863E/10APPENDIX
</p>
<p>952
</p>
<p>PCLAD PCDGN PCPRM
</p>
<p>STOP EDIT I/O SYSPRM
</p>
<p>TITLE LADDER SYMBOL MESAGE
</p>
<p>MODULE CROSS CLEAR
</p>
<p>RETURN
</p>
<p>NEXT
</p>
<p>NEXT
</p>
<p>Fig. I.4 (a)
</p>
<p>TITLE LADDER SYMBOL MESAGE
</p>
<p>FUNCTN
</p>
<p>COMAND
</p>
<p>INSNET DELNET INSERT ADRESS SEARCH
</p>
<p>RETURN NEXT
</p>
<p>NEXT
</p>
<p>COPY MOVE CHANGE
</p>
<p>Fig. I.4 (b)
</p>
<p>I.4
SYSTEM DIAGRAM 
OF SOFT KEY
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 J. APPLICABLE FAPT LADDER EDITIONSAPPENDIX
</p>
<p>953
</p>
<p>J APPLICABLE FAPT LADDER EDITIONS
The following tables list the editions of offline programs required to
program each PMC model.
</p>
<p>Model
</p>
<p>Drawing number
</p>
<p>PMC&ndash;
PA1
</p>
<p>PMC&ndash;
PA3
</p>
<p>PMC&ndash;
RA1
</p>
<p>PMC&ndash;
RA2
</p>
<p>PMC&ndash;
RA3
</p>
<p>PMC&ndash;
RA5
</p>
<p>PMC&ndash;
RB
</p>
<p>PMC&ndash;
RB2
</p>
<p>PMC&ndash;
RB3
</p>
<p>A02B&ndash;9200&ndash;J502#JP
</p>
<p>A02B&ndash;9201&ndash;J502#EN
</p>
<p>5.0 
and later
</p>
<p>5.0 
and later
</p>
<p>2.0 
and later
</p>
<p>2.0 
and later
</p>
<p>5.0 
and later
</p>
<p>6.2 
and later 
</p>
<p>(Note)
</p>
<p>1.0 
and later
</p>
<p>2.0 
and later
</p>
<p>5.0 
and later
</p>
<p>A02B&ndash;9200&ndash;J603#JP
</p>
<p>A02B&ndash;9201&ndash;J603#EN
</p>
<p>4.0 
and later
</p>
<p>4.0 
and later
</p>
<p>1.0 
and later
</p>
<p>1.0 
and later
</p>
<p>4.0 
and later
</p>
<p>4.2 
and later 
</p>
<p>(Note)
</p>
<p>&ndash; &ndash; &ndash;
</p>
<p>A02B&ndash;9200&ndash;J604#JP
</p>
<p>A02B&ndash;9201&ndash;J604#EN
</p>
<p>&ndash; &ndash; &ndash; &ndash; &ndash; &ndash; 1.0 
and later
</p>
<p>3.0 
and later
</p>
<p>4.5 
and later
</p>
<p>A08B&ndash;9201&ndash;J503 &ndash; 1.0 
and later
</p>
<p>2.0 
and later
</p>
<p>&ndash; 1.0 
and later
</p>
<p>2.0 
and later
</p>
<p>&ndash; &ndash; 1.0 
and later
</p>
<p>A08B&ndash;9201&ndash;J510 &ndash; &ndash; 2.1 
and later
</p>
<p>&ndash; 1.3 
and later
</p>
<p>2.2 
and later
</p>
<p>&ndash; &ndash; 1.0 
and later
</p>
<p>Model
</p>
<p>Drawing number
</p>
<p>PMC&ndash;
RB4
</p>
<p>PMC&ndash;
RB5
</p>
<p>PMC&ndash;
RB6
</p>
<p>PMC&ndash;
RC
</p>
<p>PMC&ndash;
RC3
</p>
<p>PMC&ndash;
RC4
</p>
<p>PMC&ndash;
NB
</p>
<p>PMC&ndash;
NB2
</p>
<p>A02B&ndash;9200&ndash;J502#JP
</p>
<p>A02B&ndash;9201&ndash;J502#EN
</p>
<p>7.1 
and later
</p>
<p>8.5 
and later
</p>
<p>8.5 
and later
</p>
<p>1.0 
and later
</p>
<p>5.0 
and later
</p>
<p>7.1 
and later
</p>
<p>6.1 
and later
</p>
<p>8.5 
and later
</p>
<p>A02B&ndash;9200&ndash;J603#JP
</p>
<p>A02B&ndash;9201&ndash;J603#EN
</p>
<p>&ndash; &ndash; &ndash; 1.0 
and later
</p>
<p>4.5 
and later
</p>
<p>5.0 
and later
</p>
<p>&ndash; &ndash;
</p>
<p>A02B&ndash;9200&ndash;J604#JP
</p>
<p>A02B&ndash;9201&ndash;J604#EN
</p>
<p>5.0 
and later
</p>
<p>7.0 
and later
</p>
<p>7.0 
and later
</p>
<p>&ndash; &ndash; &ndash; 1.0 
and later
</p>
<p>3.0 
and later
</p>
<p>A08B&ndash;9201&ndash;J503 1.0 
and later
</p>
<p>1.1 
and later
</p>
<p>1.1 
and later
</p>
<p>&ndash; 1.0 
and later
</p>
<p>1.0 
and later
</p>
<p>1.0 
and later
</p>
<p>1.0 
and later
</p>
<p>A08B&ndash;9201&ndash;J510 1.0 
and later
</p>
<p>1.0 
and later
</p>
<p>1.0 
and later
</p>
<p>&ndash; 1.0 
and later
</p>
<p>1.0 
and later
</p>
<p>2.1 
and later
</p>
<p>2.1 
and later
</p>
<p>Body of FAPT LADDER (PC&ndash;9801) A02B&ndash;9200&ndash;J502#JP
Body of FAPT LADDER (IBM PC/AT) A02B&ndash;9201&ndash;J502#EN
</p>
<p>PMC&ndash;RA module (PC&ndash;9801) A02B&ndash;9200&ndash;J603#JP
PMC&ndash;RA module (IBM PC/AT) A02B&ndash;9201&ndash;J603#EN
PMC&ndash;RB/RC module (PC&ndash;9801) A02B&ndash;9200&ndash;J604#JP
</p>
<p>J.1
FAPT LADDER, FAPT
LADDER&ndash;II, LADDER
EDITING PACKAGES
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>J. APPLICABLE FAPT LADDER EDITIONS B&ndash;61863E/10APPENDIX
</p>
<p>954
</p>
<p>PMC&ndash;RB/RC module (IBM PC/AT) A02B&ndash;9201&ndash;J604#EN
</p>
<p>PMC&ndash;NB module (PC&ndash;9801) A02B&ndash;9200&ndash;J606#JP
</p>
<p>PMC&ndash;NB module (IBM PC/AT) A02B&ndash;9201&ndash;J606#EN
</p>
<p>FAPT LADDER&ndash;II (IBM PC/AT) A08B&ndash;9201&ndash;J503
</p>
<p>Ladder editing package (IBM PC/AT) A08B&ndash;9201&ndash;J510
</p>
<p>NOTE
When a PMC&ndash;RA5 ladder is to be created, set the model to
PMC&ndash;RA3.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 J. APPLICABLE FAPT LADDER EDITIONSAPPENDIX
</p>
<p>955
</p>
<p>A08B&ndash;0035&ndash;J595#E (P&ndash;G Mark II): FAPT LADDER PMC&ndash;RA1/RA2
</p>
<p>A08B&ndash;0036&ndash;J595#E (P&ndash;G Mate):
</p>
<p>Model
Edition
</p>
<p>PMC&ndash;
PA1
</p>
<p>PMC&ndash;
PA3
</p>
<p>PMC&ndash;
RA1
</p>
<p>PMC&ndash;
RA2
</p>
<p>PMC&ndash;
RA3
</p>
<p>1.1 and later � � � � �
</p>
<p>2.1 and later � � � � �
</p>
<p>3.1 and later � � � � �
</p>
<p>4.1 and later � � � � �
</p>
<p>�: Not supported, �: Supported, �: Restrictedly supported  (Note)
</p>
<p>NOTE
A sequence program cannot be transferred from the
PMC&ndash;RA1 of the FANUC Series 20 to the offline programmer
(edition 6.0 or an earlier edition).  If this is attempted, alarm
89 occurs in the offline programmer.
</p>
<p>A08B&ndash;0036&ndash;J964 (P&ndash;G Mark II and P&ndash;G Mate): 
PMC&ndash;RA1/RA2/RB/RC/PA1/PA3 data
</p>
<p>Model
Edition
</p>
<p>PMC&ndash;
PA1
</p>
<p>PMC&ndash;
PA3
</p>
<p>PMC&ndash;
RA1
</p>
<p>PMC&ndash;
RA2
</p>
<p>PMC&ndash;
RA3
</p>
<p>1.1 and later � � � � �
</p>
<p>2.1 and later � � � � �
</p>
<p>�: Not supported, �: Supported, �: Restrictedly supported  (Note)
</p>
<p>A08B&ndash;0035&ndash;J595#E (P&ndash;G Mark II): 
FAPT LADDER PMC&ndash;RB/RB2/RC
</p>
<p>A08B&ndash;0036&ndash;J595#E (P&ndash;G Mate):
</p>
<p>Model
Edition
</p>
<p>PMC&ndash;
RB
</p>
<p>PMC&ndash;
RB2
</p>
<p>PMC&ndash;
RB3
</p>
<p>PMC&ndash;
RC
</p>
<p>PMC&ndash;
RC3
</p>
<p>PMC&ndash;
NB
</p>
<p>1.1 and later � � � � � �
</p>
<p>4.1 and later � � � � � �
</p>
<p>�: Not supported, �: Supported, �: Restrictedly supported  (Note)
</p>
<p>J.2
FAPT LADDER 
(SYSTEM P SERIES)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>J. APPLICABLE FAPT LADDER EDITIONS B&ndash;61863E/10APPENDIX
</p>
<p>956
</p>
<p>NOTE
The edition of FAPT LADDER adopted for the PMC&ndash;RA2 or
PMC&ndash;RB2 can be used to program the PMC&ndash;RA3 or
PMC&ndash;RB3 as long as some functional instructions including
structured programming are not used (as long as FAPT
LADDER is used within the range of the specifications of the
PMC&ndash;RA2 or PMC&ndash;RB2).
When this edition is used:
</p>
<p>(1)The following functional instructions cannot be used.
(For details, see Section 5 of Part I.)
&ndash; MOVB, MOVW, MOVN
&ndash; DIFU, DIFD
&ndash; AND, OR, NOT, EOR
&ndash; END, CALL, CALLU, SP, SPE
&ndash; JMPB, JMPC, LBL
</p>
<p>(2)A sequence program created by the editing function
(ladder editing module) contained in the PMC&ndash;RA3/RB3
cannot be edited after it is read into the offline programmer.
</p>
<p>(3)A sequence program created by the offline programmer
and transferred to the PMC (sequence program
transferred and edited by the built&ndash;in editing function)
can be edited again after it is read into the offline
programmer.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
K. LEVEL UP OF INPUT/OUTPUT 
</p>
<p>FUNCTION WITH MEMORY CARDAPPENDIX
</p>
<p>957
</p>
<p>K LEVEL UP OF INPUT/OUTPUT FUNCTION WITH MEMORY CARD
</p>
<p>The function is leveled up, that is Input/Output function with Memory
Card by CNC or Offline Programmer.  The leveled up contents are as
follows.
</p>
<p>(1) The time is reduced in Inputing/Outputing between CNC and
Memory Card by PMC I/O function.  This is the same between
Offline Programmer and Memory Card.
</p>
<p>(2) Sequence programs can be inputted from Memory Card by BOOT
SYSTEM, by which CNC management software or so can be
inputted.  (Refer to K.2.3.)
</p>
<p>Memory Card function can be used in the following editions of CNC
basic software and PMC management software and FAPT LADDER
for Personal Computer.
</p>
<p>&middot; CNC basic software
</p>
<p>non leveled up leveled up
</p>
<p>FANUC Series 20&ndash;FA basic software (D001) 05&ndash;06 More than 07
</p>
<p>FANUC Series 20&ndash;TA basic software (D101) 02 More than 03
</p>
<p>&middot; PMC management  software
</p>
<p>non leveled up leveled up
</p>
<p>PMC&ndash;RA1/RA3 management software (4080) 04&ndash;05 More than 06
</p>
<p>&middot; FAPT LADDER for Personal Computer
</p>
<p>non leveled up leveled up
</p>
<p>FAPT LADDER PMC&ndash;RA1/RA2/RB/RB2/RC SYSTEM
(A08B&ndash;9200&ndash;J502#JP (PC&ndash;9801))
(A08&ndash;9201&ndash;J502#EN (IBM PC/AT))
</p>
<p>6.1 6.2 More than 6.3
</p>
<p>PMC&ndash;RA1/RA2 MODULE
(PMC&ndash;RA1/RA2/RA3/PA1/PA3)
</p>
<p>(A08B&ndash;9200&ndash;J603#JP (PC&ndash;9801))
(A08&ndash;9201&ndash;J603#EN (IBM PC/AT))
</p>
<p>4.1 More than 4.2
</p>
<p>K.1
OUTLINE OF 
LEVELED UP 
CONTENTS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>K. LEVEL UP OF INPUT/OUTPUT 
FUNCTION WITH MEMORY CARD B&ndash;61863E/10APPENDIX
</p>
<p>958
</p>
<p>(1) Operation of CNC
</p>
<p>1) On PMC I/O screen, specify M&ndash;CARD as &ldquo;DEVICE&rdquo;, WRITE
as &ldquo;FUNCTION&rdquo;, LADDER as &ldquo;DATA KIND&rdquo;, any file name,
which is omissible, as &ldquo;FILE NO.&rdquo; (See Fig. K.2.1(a)) and
press the soft key [EXEC].
</p>
<p>PMC I/O PROGRAM                     MONIT  STOP
</p>
<p>    CHANNEL    =    1
    DEVICE     = M&ndash;CARD
    FUNCTION   = WRITE
    DATA  KIND = LADDER
    FILE  NO.  =
     ( #NAME )
</p>
<p>[ EXEC ][CANCEL][ WRITE ][ READ ][COMPAR]
</p>
<p>[DELETE][ LIST ][FORMAT ][      ][SETUP ]
</p>
<p>Fig. K.2.1(a)  PMC I/O Screen
</p>
<p>(2) Operation of Offline Programmer (FAPT LADDER for Personal
Computer)
</p>
<p>2) Mount a Memory Card interface on the personal computer.
</p>
<p>3) Select [INOUT] (I/O) from the main menu.
</p>
<p>4) Select [M&ndash;CARD] (Memory Card) from the I/O menu.  (See 
Fig. K.2.1(b))
</p>
<p>I/O PMC&ndash;RA1 &lt;O&gt;[A:&yen;FLADDER&yen; ]
</p>
<p>F1  KEY :  FA WRITER
</p>
<p>F2  KEY :  PMC WRITER
</p>
<p>F3  KEY :  PMC
</p>
<p>F4  KEY :  Handy File
</p>
<p>F5  KEY :  Memory Card
</p>
<p>F10 KEY :  END
</p>
<p>FAWRT PMC PMC FDCAS M END
WRT CARD
</p>
<p>Fig. K.2.1(b)  I/O Menu Screen
</p>
<p>K.2
OPERATION
</p>
<p>K.2.1
CNC �Offline
Programmer
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
K. LEVEL UP OF INPUT/OUTPUT 
</p>
<p>FUNCTION WITH MEMORY CARDAPPENDIX
</p>
<p>959
</p>
<p>5) Select [READ] (PROGRAMMER&larr; Memory Card).  (See Fig.
K.2.1(c))
</p>
<p>I/O (M_CARD) PMC&ndash;RA1 &lt;O&gt; [A:&yen;FLADDER&yen; ]
</p>
<p>F1  KEY :  WRITE (PROGRAMMER &ndash;&gt; Memory Card)
</p>
<p>F2  KEY :  READ (PROGRAMMER &lt;&ndash; Memory Card)
</p>
<p>F10 KEY :  END
</p>
<p>WRITE READ END
</p>
<p>Fig. K.2.1(c)  I/O (I/O M_CARD) Screen
</p>
<p>6) Specify the followings:
</p>
<p>&ndash; Name of the Memory Card file
Specify the name of the file in the Memory Card which is to be
converted and the Memory Card drive on which the Memory
Card is mounted.
</p>
<p>&ndash; Name of the ROM format file to be created
Specify a file name to be given to the converted ROM format
data.
</p>
<p>I/O (FROM MC) PMC&ndash;RA1 &lt;O&gt; [A:&yen;FLADDER&yen; ]
</p>
<p>READ (PROGRAMMER &lt;&ndash; Memory Card)
</p>
<p>Memory Card FILE NAME :
(Specify the MEMORY CARD drive)
</p>
<p>ROM FORMAT FILE NAME :
</p>
<p>EXEC END
</p>
<p>Fig. K.2.1(d)  I/O (FROM MC) Screen
</p>
<p>7) After it is decompiled, the converted ROM format file can be 
edited by the personal computer.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>K. LEVEL UP OF INPUT/OUTPUT 
FUNCTION WITH MEMORY CARD B&ndash;61863E/10APPENDIX
</p>
<p>960
</p>
<p>(1) Operation of Offline Programmer (FAPT LADDER for Personal
computer)
</p>
<p>1) Mount a Memory Card interface on the personal computer.
</p>
<p>2) Compile a source program and create a ROM format file.
</p>
<p>3) Return to the main menu and select [INOUT] (I/O).
</p>
<p>4) From the I/O menu, select {M&ndash;CARD] (memory Card).
</p>
<p>5) Select [WRITE] (PROGRAMMER � Memory Card).  (See
Fig. K.2.1(b)).
</p>
<p>6) Specify the following:
</p>
<p>&ndash; Name of the ROM format file
Specify the name of the ROM format file to be converted.
</p>
<p>&ndash; Name of Memory Card file name
Specify the name to be given to the converted Memory Card
file and the Memory Card drive to which the data is output. 
(The file can be accessed by the Memory Card interface 
incorporated into the CNC.)
</p>
<p>I/O (TO MC) PMC&ndash; RA1 &lt;O&gt; [A:&yen;FLADDER&yen; ]
</p>
<p>WRITE(PROGRAMMER &ndash;&gt; Memory Card)
</p>
<p>ROM FORMAT FILE NAME :
</p>
<p>Memory Card FILE NAME :
(Specify the MEMORY CARD drive)
</p>
<p>EXEC END
</p>
<p>Fig. K.2.2(a)  I/O (TO MC) Screen
</p>
<p>(2) Operation of CNC
</p>
<p>There are 2 methods by which the sequence program can be inputted
from Memory Card.
</p>
<p>&ndash; The method of using I/O function of PMC
On PMC I/O screen, specify M&ndash;CARD as &ldquo;DEVICE&rdquo;, READ
as &ldquo;FUNCTION&rdquo;, the file name or file No. you want to input as
&ldquo;FILE NO.&rdquo; and press the soft key [EXEC].
</p>
<p>&ndash; The method of using BOOT SYSTEM (When CNC starting up)
Refer to K.2.3.
</p>
<p>K.2.2
Offline Programmer �
CNC
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
K. LEVEL UP OF INPUT/OUTPUT 
</p>
<p>FUNCTION WITH MEMORY CARDAPPENDIX
</p>
<p>961
</p>
<p>Sequence programs which are output from leveled up CNC or Offline
Programmer to Memory Card can not be input to non leveled up CNC or
Offline Programmer.  (Refer to the table of K.1)
</p>
<p>CNC Offline Programmer
</p>
<p>: Leveled up
</p>
<p>: Non leveled up
</p>
<p>: Available with no condition
</p>
<p>: Available with some condition
</p>
<p>(1) (4)
</p>
<p>(2) (3)
</p>
<p>The case of (1), (2), (3) and (4) are explained as follows.
</p>
<p>&middot; In case of (1), (2)
</p>
<p>Output operation : There is no special operation
Input operation : Input sequence programs buy BOOT SYSTEM. 
</p>
<p>(Refer to K.2.3)
</p>
<p>K.2.3
Note
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>K. LEVEL UP OF INPUT/OUTPUT 
FUNCTION WITH MEMORY CARD B&ndash;61863E/10APPENDIX
</p>
<p>962
</p>
<p>&middot; In case of (3)
</p>
<p>Output operation : Output sequence programs by setting the output
format to 1 (:S&ndash;FORMAT) on the following 
SETUP screen PMC I/O.  The default output 
format is 0 (:BINARY).
</p>
<p>PMC I/O PROGRAM MONIT  STOP
</p>
<p>    CHANNEL    =   1
    DEVICE     =  M&ndash;CARD
    FUNCTION   =  WRITE
    DATA KIND  =  LADDER
    FILE NO.   =
     ( #NAME )
</p>
<p>[ EXEC ][CANCEL][ WRITE ][ READ ][COMPAR]
</p>
<p>[DELETE][ LIST ][FORMAT ][      ][SETUP ]
</p>
<p>PMC SETUP M&ndash;CARD MONIT  STOP
</p>
<p>OUTPUT FORMAT (PROGRAM) =   1
 (0:BINARY,1:S&ndash;FORMAT)
</p>
<p>[ INPUT ][     ][      ][      ][  INIT  ]
</p>
<p>Press [INIT] key to reset default value 0.
</p>
<p>Input operation : Input sequence programs by selecting F6:&ldquo;I/O&rdquo;
on main menu screen of FAPT LADDER, then 
F3:&ldquo;Handy File &amp; Memory Card&rdquo;.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
K. LEVEL UP OF INPUT/OUTPUT 
</p>
<p>FUNCTION WITH MEMORY CARDAPPENDIX
</p>
<p>963
</p>
<p>&middot; In case of (4)
</p>
<p>Output operation : Output sequence programs by selecting F6:&ldquo;I/O&rdquo;
on main menu screen of FAPT LADDER, then 
F4:&ldquo;Handy File&rdquo;.
</p>
<p>Input operation : Input sequence programs by selecting F6:&ldquo;I/O&rdquo; on
main menu screen of FAPT LADDER, then 
F3:&ldquo;Handy File &amp; Memory Card&rdquo;.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>K. LEVEL UP OF INPUT/OUTPUT 
FUNCTION WITH MEMORY CARD B&ndash;61863E/10APPENDIX
</p>
<p>964
</p>
<p>Ladder data can be transferred by using a memory card.
</p>
<p>Two data formats are used:
</p>
<p>&ndash; Handy file format
</p>
<p>&ndash; Memory card format
</p>
<p>The handy file format defines the S format data used with RS&ndash;232C.  
The memory card format defines the binary format data used for a boot.
Data output to a memory card from the I/O screen of an NB of the 4047
series is handy file format data.  
Data output to a memory card from the I/O screen of an NB/NB2 of the
4048 series is memory card format data.
</p>
<p>Transfer in handy file format Transfer function not provided
</p>
<p>Transfer function not provided
</p>
<p>FAPT LADDER
(personal computer
version)
</p>
<p>��	 
�&#13; ������
</p>
<p>�� ������
</p>
<p>NC boot function
NB (4047)
</p>
<p>PMC I/O screen
NB/NB2 (4048)
</p>
<p>Transfer in handy
file format
</p>
<p>Transfer in memory card format
Transfer in memory card format
</p>
<p>Transfer in memory card format
</p>
<p>FAPT LADDER
(personal computer
version)
</p>
<p>NC boot function
NB/NB2 (4048)
</p>
<p>K.3
NB/NB2 DATA 
COMPATIBILITY
</p>
<p>K.3.1
Data Transfer Between
NB (4047 series) and
FAPT LADDER
</p>
<p>K.3.2
Data Transfer Between
NB/NB2 (4048 series)
and FAPT LADDER
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
K. LEVEL UP OF INPUT/OUTPUT 
</p>
<p>FUNCTION WITH MEMORY CARDAPPENDIX
</p>
<p>965
</p>
<p>Transfer function not provided
</p>
<p>Transfer in memory card format
</p>
<p>Transfer in memory card formatTransfer in handy file format
</p>
<p>Transfer in handy file format
</p>
<p>FAPT LADDER
(personal computer
version)
</p>
<p>PMC I/O screen
NB (4047)
</p>
<p>PMC I/O screen
NB (4048)
</p>
<p>NC boot function
NB (4047)
</p>
<p>NC boot function
NB (4048)
</p>
<p>K.3.3
Data Transfer
Between NB (4047
series) and NB (4048
series)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>L. ALARM MESSAGE LIST B&ndash;61863E/10APPENDIX
</p>
<p>966
</p>
<p>L ALARM MESSAGE LIST
Alarm messages 1 (alarm screen)
</p>
<p>Message Contents and solution
</p>
<p>ALARM NOTHING Normal status
</p>
<p>ER00 PROGRAM DATA ERROR (ROM) The sequence program in the ROM is not written correctly.
(solution) Please exchange ROM for the sequence program.
</p>
<p>ER01 PROGRAM DATA ERROR (RAM) The sequence program in the debugging RAM is defective.
(solution) Please clear the debugging RAM and input LADDER again.
The debugging RAM is not installed though the RAM is selected.
(solution) Please install the debugging RAM or install ROM for sequence
</p>
<p>program and select ROM with K17#3=0.
</p>
<p>ER02 PROGRAM SIZE OVER The size of a sequence program exceeded the maximum allowable
ladder size.
(solution) The ordered RAM size is smaller than the option. Contact FA-
</p>
<p>NUC.
Change the value of MAX LADDER AREA SIZE on the SYSPRM
screen, then turn the power off then back on (only with PMC&ndash;RC).
</p>
<p>ER03 PROGRAM SIZE ERROR (OPTION) The size of sequence program exceeds the option specification size.
(solution) Please increase the option specification size.
</p>
<p>Or, reduce the size of sequence program.
</p>
<p>ER04 PMC TYPE UNMATCH The PMC model setting of the sequence program is not corresponding to
an actual model.
(solution) Please change the PMC model setting by the offline program-
</p>
<p>mer.
</p>
<p>ER05 PMC MODULE TYPE ERROR The module type of the PMC engine is not correct.
(solution) Please exchange the module of PMC engine for a correct one.
</p>
<p>ER06 PROGRAM MODULE NOTHING Both ROM for sequence program and the debugging RAM do not exist
(PMC&ndash;RC only).
For a 3&ndash;path system, the PMC model must be RB6.
(solution) Contact FANUC.
</p>
<p>ER07 NO OPTION (LADDER STEP) There is no step number option of LADDER.
</p>
<p>ER10 OPTION AREA NOTHING 
(SERIES&ndash;NAME)
</p>
<p>The PMC&ndash;RB management software is not transferred.
(solution) There is a mismatch between the order and delivered the soft-
</p>
<p>ware. Contact FANUC.
</p>
<p>ER11 OPTION AREA NOTHING 
(SERIES&ndash;NAME)
</p>
<p>The PMC C language board management software is not transferred.
(solution) There is a mismatch between the order and delivered the soft-
</p>
<p>ware. Contact FANUC.
</p>
<p>ER12 OPTION AREA ERROR (SERIES&ndash;NAME) There is a series mismatch between the basic and option of the PMC&ndash;RB
management software.
(solution) Contact FANUC.
</p>
<p>ER13 OPTION AREA ERROR (SERIES&ndash;NAME) There is a series mismatch between the basic and option of the PMC C
language board management software.
(solution) Contact FANUC.
</p>
<p>ER14 OPTION AREA VERSION ERROR
(SERIES&ndash;NAME)
</p>
<p>There is an edition mismatch between the basic and option of the
PMC&ndash;RB management software.
(solution) Contact FANUC.
</p>
<p>ER15 OPTION AREA VERSION ERROR
(SERIES&ndash;NAME)
</p>
<p>There is an edition mismatch between the basic and option of the PMC C
language board management software.
(solution) Contact FANUC.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 L. ALARM MESSAGE LISTAPPENDIX
</p>
<p>967
</p>
<p>Message Contents and solution
</p>
<p>ER16 RAM CHECK ERROR (PROGRAM RAM) The debugging RAM cannot be read/written normally.
(solution) Please exchange the debugging RAM.
</p>
<p>ER17 PROGRAM PARITY The parity error occurred on ROM for sequence program or the
debugging RAM.
(solution) ROM: The deterioration of ROM may be deteriorated 
</p>
<p>Please exchange ROM for the sequence program
RAM: Please edit the sequence program once on PMC 
</p>
<p>Still the error occurs, exchange the debugging
RAM.
</p>
<p>F&ndash;ROM: (PMC&ndash;NB/FS&ndash;20)
Please edit the sequence program once on PMC
and write sequence program to F&ndash;ROM again.
</p>
<p>NOTE
1 The PMC&ndash;RB3/RC3 for the Series 16 MODEL&ndash;B does not support ER00 and ER06.
2 For the PMC&ndash;RB3/RC3 for the Series 16 MODEL&ndash;B, the &rdquo;debugging RAM&rdquo; and &rdquo;ROM for
</p>
<p>sequence program,&rdquo; described in the table, are not supported but the relevant descriptions
apply to ordinary RAM.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>L. ALARM MESSAGE LIST B&ndash;61863E/10APPENDIX
</p>
<p>968
</p>
<p>Alarm messages 2 (alarm screen)
</p>
<p>Message Contents and solution
</p>
<p>ER18 PROGRAM DATA ERROR BY I/O Transferring the sequence program from offline programmer was
interrupted by the power off etc.
(solution) Please clear the sequence program and transfer the se-
</p>
<p>quence program again.
</p>
<p>ER19 LADDER DATA ERROR Editing the LADDER was interrupted by the power off or by the switch to
the CNC screen by the function key etc.
(solution) Please edit LADDER once on PMC. 
</p>
<p>Or, please input LADDER again.
</p>
<p>ER20 SYMBOL/ COMMENT DATA ERROR Editing the symbol and comment was interrupted by the power off or by
the switch to the CNC screen by the function key etc.
(solution) Please edit symbol and comment once on PMC. 
</p>
<p>Or, please input symbol and comment again.
</p>
<p>ER21 MESSAGE DATA ERROR Editing the message data was interrupted by the power off or the switch to
the CNC screen by the function key etc.
(solution) Please edit message data once on PMC.
</p>
<p>Or, please input message data again.
</p>
<p>ER22 PROGRAM NOTHING There is no sequence program.
</p>
<p>ER23 PLEASE TURN OFF POWER There is a change in setting LADDER MAX AREA SIZE etc.
(solution) Please restart the system to make the change effective.
</p>
<p>ER24 LADDER, LANGUAGE AREA OVERLAP The ladder area overlaps the C language area.
(solution) Adjust the C program address range.
</p>
<p>ER32 NO I/O DEVICE Any DI/DO unit of I/O Unit or the connection unit etc. is not connected.
When built&ndash;in I/O card is connected, this message is not displayed.
(solution) When built&ndash;in I/O card is used:
</p>
<p>Please confirm whether the built&ndash;in I/O card is certainly con-
nected with.
When I/O Link is used:
Please confirm whether the DI/DO units turning on.  Or please
confirm the connection of the cable.
</p>
<p>ER33 SLC ERROR The LSI for I/O Link is defective.
(solution) Please exchange the module of PMC engine.
</p>
<p>ER34 SLC ERROR (xx) The communication with the DI/DO units of the xx group failed.
(solution) Please confirm the connection of the cable connected to the DI/
</p>
<p>DO units of the xx group.
Please confirm whether the DI/DO units turned on earlier than
CNC and PMC.  Or, please exchange the module of PMC en-
gine on the DI/DO units of the xx group.
</p>
<p>ER35 TOO MUCH OUTPUT DATA IN GROUP
(xx)
</p>
<p>The number of the output data in the xx group exceeded the max.  The
data, which exceed 32 bytes, become ineffective.
(solution) Please refer to the following for the number of the data for each
</p>
<p>group.
&rdquo;FANUC I/O Unit&ndash;MODEL A connecting and maintenance
manual&rdquo; (B&ndash;61813E)
&rdquo;FANUC I/O Unit&ndash;MODEL B connecting manual&rdquo;(B&ndash;62163E)
</p>
<p>ER36 TOO MUCH INPUT DATA IN GROUP (xx) The number of the input data in the xx group exceeded the max.  The
data, which exceed 32 bytes, become ineffective.
(solution) Please refer to the following for the number of the data for each
</p>
<p>group.
&rdquo;FANUC I/O Unit&ndash;MODEL A connecting and maintenance
manual&rdquo; (B&ndash;61813E)
&rdquo;FANUC I/O Unit&ndash;MODEL B connecting manual&rdquo;(B&ndash;62163E)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 L. ALARM MESSAGE LISTAPPENDIX
</p>
<p>969
</p>
<p>Message Contents and solution
</p>
<p>ER38 MAX SETTING OUTPUT DATA OVER (xx) The assignment data for a group exceeds 128 bytes.
(The assignment data  of output side of xx group or later become
ineffective.)
(solution) Please reduce the assignment data to 128 bytes or less for the
</p>
<p>number of the output data of each group.
</p>
<p>ER39 MAX SETTING INPUT DATA OVER (xx) The assignment data for a group exceeds 128 bytes.
(The assignment data of input  side of xx group or later become infective.)
(solution) Please reduce the assignment data to 128 bytes or less for the
</p>
<p>number of the input data of each group.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>L. ALARM MESSAGE LIST B&ndash;61863E/10APPENDIX
</p>
<p>970
</p>
<p>Alarm messages 3 (alarm screen)
</p>
<p>Message Contents and solution
</p>
<p>WN01 LADDER MAX SIZE ERROR The MAX LADDER AREA SIZE in the system parameter is illegal.
(solution) Set the correct value to MAX LADDER AREA SIZE and restart
</p>
<p>the system.
</p>
<p>WN02 OPERATE PANEL ADDRESS ERROR The address setting data of the operator&rsquo;s panel for FS&ndash;0 is illegal.
(solution) Please correct the address setting data.
</p>
<p>WN03 ABORT NC&ndash;WINDOW/EXIN LADDER was stopped while CNC and PMC were communicating.
The functional instruction WINDR, WINDW, EXIN, DISPB, and etc. may
not work normally.
(solution) When restarting the system, this alarm will be released.
</p>
<p>Execute the sequence program(Press RUN key) after confirm-
ing whether there is a problem in LADDER or not.
</p>
<p>WN04 UNAVAIL EDIT MODULE The LADDER editing module cannot be recognized.
(PMC&ndash;RA1/RA2/RA3/RB/RB2/RB3, except RA1/RA3 for FS&ndash;20)
(solution) Please confirm the slot position installed.
</p>
<p>Please confirm the installed module.
</p>
<p>WN05 PMC TYPE NO CONVERSION A PMC&ndash;RA3/RA5 ladder was transferred to PMC&ndash;RB5.
(solution) Correct the ladder type.
</p>
<p>WN06 TASK STOPPED BY DEBUG FUNC Some user tasks are stopped by break point of the debugging function.
</p>
<p>WN07 LADDER SP ERROR (STACK) When functional instruction CALL(SUB65) or CALLU(SUB66) was
executed, the stack of the LADDER overflowed.
(solution) Please reduce the nesting of the subprogram to 8 or less.
</p>
<p>WN17 NO OPTION (LANGUAGE) There is no C language option.
</p>
<p>WN18 ORIGIN ADDRESS ERROR The LANGUAGE ORIGIN address of the system parameter is wrong
(solution) Please set the address of symbol RC_CTLB_INIT in the map file
</p>
<p>to the LANGUAGE ORIGIN of the system parameter.
</p>
<p>WN19 GDT ERROR (BASE, LIMIT) The value of BASE, LIMIT or ENTRY of user defined GDT is illegal.
(solution) Please correct the address in link control statement and build file.
</p>
<p>WN20 COMMON MEM. COUNT OVER The number of common memories exceeds 8.
(solution) Please reduce the number of common memories to 8 or less.
</p>
<p>It is necessary to correct a link control statement,build file and the
source file for the common memory.
</p>
<p>WN21 COMMON MEM. ENTRY ERROR GDT ENTRY of the common memory is out of range.
(solution) Please correct the address of GDT ENTRY of the common
</p>
<p>memory in the link control statement.
</p>
<p>WN22 LADDER 3 PRIORITY ERROR The priority of LADDER LEVEL 3 is out of range.
(solution) Please correct the value of LADDER LEVEL 3 in the link con-
</p>
<p>trol statement within the range of 0 or 10&ndash;99 or &ndash;1.
</p>
<p>WN23 TASK COUNT OVER The number of user tasks exceeds 16.
(solution) Please confirm TASK COUNT in the link control statement.
</p>
<p>When the number of tasks is changed, it is necessary to cor-
rect the link control statement, build file and the composition of
the files to be linked.
</p>
<p>WN24 TASK ENTRY ADDR ERROR The selector of the entry address to the user task is out of range.
(solution) Please correct the table of GDT in build file to the value within
</p>
<p>32(20H)&ndash;95(5FH).
</p>
<p>WN25 DATA SEG ENTRY ERROR The entry address of the data segment is out of range.
(solution) Please correct DATA SEGMENT GDT ENTRY in the link con-
</p>
<p>trol statement and the table of GDT in build file within
32(20H)&ndash;95(5FH).
</p>
<p>WN26 USER TASK PRIORITY ERROR The priority of the user task is out of range.
(solution) Please correct the TASK LEVEL in link control statement within
</p>
<p>the range of 10&ndash;99 or &ndash;1.
Note: Only one task can have TASK LEVEL &ndash;1 (including LAD-
DER LEVEL 3).
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 L. ALARM MESSAGE LISTAPPENDIX
</p>
<p>971
</p>
<p>Alarm messages 4 (alarm screen)
</p>
<p>Message Contents and solution
</p>
<p>WN27 CODE SEG TYPE ERROR The code segment type is illegal.  The code segment of RENAMESEG in
the binding control file is wrong.
(solution) Please correct the entry of the code segment in the link control
</p>
<p>statement to correspond to the entry in the build file.
</p>
<p>WN28 DATA SEG TYPE ERROR The data segment type is illegal.  The data segment of RENAMESEG in
the binding control file is wrong.
(solution) Please correct the entry of the code segment in the link control
</p>
<p>statement to correspond to the entry in the build file.
</p>
<p>WN29 COMMON MEM SEG TYPE ERROR The segment type of common memory is illegal.  The segment of
RENAMESEG in the building control file of the common memory is
wrong.
(solution) Please correct the entry of common memory in the link control
</p>
<p>statement to correspond to the entry in the build file.
</p>
<p>WN30 IMOPSSIBLE ALLOCATE MEM. The memories for the data and stack etc. cannot be allocated.
(solution) Please confirm whether the value of code segment in build file
</p>
<p>and USER GDT ADDRESS in link control statement is correct
or not.
Or please reduce the value of MAX LADDER AREA SIZE of
the system parameter and the size of the stack in link control
statement at the least.
</p>
<p>WN31 IMPOSSIBLE EXECUTE LIBRARY The library function cannot be executed.
(solution) Please confirm the object model of the library.
</p>
<p>Or, system ROM of PMC must be replaced with one of later ver-
sion.
</p>
<p>WN32 LNK CONTROL DATA ERROR Link control statement data is illegal.
(solution) Please confirm whether the address of symbol
</p>
<p>RC_CTLB_INIT in map file is set to LANGUAGE ORIGIN of the
system parameter.  Or, please make the link control statement
again.
</p>
<p>WN33 LNK CONTROL VER. ERROR A link control statement data version error occurred.
(solution) Correct the link control statement in the C program.
</p>
<p>WN34 LOAD MODULE COUNT OVER There are more than eight independent load modules.
(solution) Reduce the number of independent load modules to eight or
</p>
<p>less.
</p>
<p>WN35 CODE AREA OUT OF RANGE The code segment area is outside the RAM area.
(solution) Check the link map, and place segments within the RAM area.
</p>
<p>WN36 LANGUAGE SIZE ERROR (OPTION) The size of the language area exceeds the option.
(solution) Check the free space, and increase the option.
</p>
<p>WN37 PROGRAM DATA ERROR (LANG.) The language program area is invalid.
(solution) Clear the language area.
</p>
<p>[EDIT]�[CLEAR]�[CLRLNG]�[EXEC]
</p>
<p>WN38 RAM CHECK ERROR (LANG.) A RAM check error occurred in the language program area.
(solution) Replace the RAM.
</p>
<p>WN39 PROGRAM PARITY (LANG.) A parity error occurred in the language program area.
(solution) Reenter each language program. If an error still occurs, re-
</p>
<p>place the RAM.
</p>
<p>WN40 PROGRAM DATA ERROR BY I/O
(LANG.)
</p>
<p>Language program read operation was interrupted.
(solution) Reenter the language program.
</p>
<p>WN41 LANGUAGE TYPE UNMATCH There is a C program type mismatch.
(solution) Correct the C program.
</p>
<p>WN42 UNDEFINE LANGUAGE ORIGIN
ADDRESS
</p>
<p>No language origin address is set.
(solution) Set a language origin address.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>L. ALARM MESSAGE LIST B&ndash;61863E/10APPENDIX
</p>
<p>972
</p>
<p>System alarm messages 1 (PMC&ndash;RC)
</p>
<p>Message STATUS LED Contents and solution
</p>
<p>PC1nn CPU INTERPT xxxx yyyyyy
</p>
<p>STATUS LED ��
</p>
<p>A CPU error (abnormal interrupt) occurred.
nn : CPU exception handling code
</p>
<p>It is an exception code of i80386. For details,  please refer to 
the manual of the CPU.
</p>
<p>00 Division error such as a divisor is 0 in division instruction.
12 Stack exception such as violations of limit of stack segment.
13 General protection exception such as segment limit over.
</p>
<p>xxxx : Segment selector where system error occurred.
The selector of 0103&ndash;02FB is used by C language.
</p>
<p>yyyyyy: Offset address where system error occurred.
</p>
<p>PC130 RAM PARITY aa xxxx yyyyyy
</p>
<p>STATUS LED ��
</p>
<p>The parity error occurred on the debugging RAM of PMC.
aa : RAM PARITY ERROR information.
xxxx : Segment selector where system error occurred.
yyyyyy: Offset address where system error occurred.
</p>
<p>PC140 NMI BOC bb xxxx yyyyyy
</p>
<p>STATUS LED ��
</p>
<p>The RAM parity error or NMI(Non Maskable Interrupt) generated in
module of PMC engine.
bb : RAM PARITY ERROR information.
1, 2, 4, 8 Parity error occurred on basic DRAM.
14, 18 Parity error occurred on option DRAM.
20, 60, A0, E0 Parity error occurred on SRAM.
</p>
<p>xxxx : Segment selector where system error occurred.
yyyyyy: Offset address where system error occurred.
</p>
<p>System alarm messages 2 (PMC&ndash;RC)
</p>
<p>Message STATUS LED Contents and solution
</p>
<p>PC150 NMI SLC aa cc
</p>
<p>STATUS LED ��
</p>
<p>The communication error occurred in the I/O Link.
aa, cc : I/O Link error information.
This error may occur by the following causes.
1.When I/O Unit&ndash;MODEL A is used, base1, 2 or 3 is not connected 
</p>
<p>though allocated.
2.The connection of cable is insufficient.
3.Defects of cable.
4.Defects of DI/DO units (I/O unit, Power Mate etc.)
5.Defects of PMC board (printed circuit board on host side where I/O 
</p>
<p>Link cable is connected.)
(solution) Investigate the cause of error.
1.Please confirm the allocation data (by &rdquo;EDIT&rdquo;&rarr;&rdquo;MODULE&rdquo; screen) 
</p>
<p>and compare with the actual connection.
2.Please confirm whether the cable is correctly connected.
</p>
<p>If you cannot find the cause with the ways above, it may be the defect 
of hardware.
Please investigate a defective place by the following  methods.
</p>
<p>3.Please confirm the specification of the cable referring to &rdquo;FANUC I/O 
Unit&ndash;MODEL B connecting manuals(B&ndash;62163E)&rdquo;.
</p>
<p>4.Exchange the interface module of I/O Unit, the cable and the PMC 
board, etc. one by one and, confirm whether this error occurs again.
The communication may fail by the noise etc. when this error still 
occurs after replacing all DI/DO units.
Please investigate the cause of noise.
</p>
<p>PC160 F&ndash;BUS ERROR xxxx:yyyyyyyy
PC161 F&ndash;BUS ERROR xxxx:yyyyyyyy
PC162 F&ndash;BUS ERROR xxxx:yyyyyyyy
STATUS LED ��
</p>
<p>A bus error occurred on the PMC.
xxxx : Segment selector for which a bus error occurred.
yyyyyyyy : Offset address where a bus error occurred.
</p>
<p>PC170 L&ndash;BUS ERROR xxxx:yyyyyyyy
PC171 L&ndash;BUS ERROR xxxx:yyyyyyyy
PC172 L&ndash;BUS ERROR xxxx:yyyyyyyy
STATUS LED ��
</p>
<p>A bus error occurred on the PMC.
xxxx : Segment selector for which a bus error occurred.
yyyyyyyy : Offset address where a bus error occurred.
</p>
<p>PC199 ROM PARITY eeeeeeee
STATUS LED ��
</p>
<p>The parity error occur in PMC system ROM.
eeeeeeee : ROM parity error information.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 L. ALARM MESSAGE LISTAPPENDIX
</p>
<p>973
</p>
<p>STATUS LED (green) are LED1, LED2 on PMC&ndash;RC. CAP&ndash;II is LED3
and LED4.
</p>
<p>� : Off � : On �� : Blinking
</p>
<p>NOTE
1 The system error on PMC&ndash;RA1,RA2,RA3,RB,RB2 and
</p>
<p>RB3 is displayed as a system error on the CNC side.
(Refer to the &rdquo;FANUC Series 16&ndash;MA Operator&rsquo;s Manual
(B&ndash;61874E)&rdquo; and &rdquo;FANUC Series 16&ndash;TA Operator&rsquo;s Manual
(B&ndash;61804E)&rdquo;.)
</p>
<p>2 Error information is needed to investigate on FANUC, please
take notes of it.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>L. ALARM MESSAGE LIST B&ndash;61863E/10APPENDIX
</p>
<p>974
</p>
<p>System alarm messages 3 (PMC&ndash;NB/NB2)
</p>
<p>Message STATUS LED Contents and solution
</p>
<p>RAM ERROR &lt;a&gt; bbcc xxxx: yyyyyyyy: PC010
</p>
<p>STATUS LED �� or ��
</p>
<p>The parity error occurs on the debugging RAM of PMC.
a : RAM which generates RAM parity.
</p>
<p>B BASIC RAM
O OPTION RAM
S STATIC RAM
</p>
<p>bb, cc : RAM PARITY information.
xxxx : Segment selector where system error occurred.
yyyyyyyy : Offset address where system error occurred.
</p>
<p>ROM ERROR aaaaaaaa: PC020
STATUS LED ��
</p>
<p>The parity error occurs in PMC system ROM.
aaaaaaaa : ROM parity information
</p>
<p>DIVIDE ERROR xxxx: yyyyyyyy: PC040
</p>
<p>STATUS LED ��
</p>
<p>Division error occurs such as a divisor is 0 in the division instruction.
xxxx : Segment selector where system error occurred.
yyyyyyyy : Offset address where system error occurred.
</p>
<p>BUS ERROR xxxx: yyyyyyyy: PC040
</p>
<p>STATUS LED ��
</p>
<p>The BUS error (access on illegal address).
xxxx : Segment selector where system error occurred.
yyyyyyyy : Offset address where system error occurred.
</p>
<p>STACK FAULT xxxx: yyyyyyyy: PC040
</p>
<p>STATUS LED ��
</p>
<p>The stack exception such as the violation of the limit of the stack.
xxxx : Segment selector where system error occurred.
yyyyyyyy : Offset address where system error occurred.
</p>
<p>GENERAL PROTECTION xxxx: yyyyyyyy:
PC040
</p>
<p>STATUS LED ��
</p>
<p>The general protection exception such as segment limit over was
generated.
xxxx : Segment selector where system error occurred.
yyyyyyyy : Offset address where system error occurred.
</p>
<p>SLC ERROR aa (cc) : PC050
</p>
<p>STATUS LED ��
</p>
<p>The communication error occurred in the I/O Link.
aa, cc : I/O Link error information.
This error may occur by the following causes.
1.When I/O Unit&ndash;MODEL A is used, base1, 2 or 3 is not connected 
</p>
<p>though allocated.
2.The connection of cable is insufficient.
3.Defects of cable.
4.Defects of DI/DO units (I/O unit, Power Mate etc.)
5.Defects of PMC board (printed circuit board on host side where I/O 
</p>
<p>Link cable is connected.)
(solution) Investigate the cause of error.
1.Please confirm the allocation data (by &rdquo;EDIT&rdquo;&rarr;&rdquo;MODULE&rdquo; screen) 
</p>
<p>and compare with the actual connection.
2.Please confirm whether the cable is correctly connected.
</p>
<p>If you cannot find the cause with the ways above, it may be the defect 
of hardware.
Please investigate a defective place by the following methods.
</p>
<p>3.Please confirm the specification of the cable referring to &rdquo;FANUC I/O 
Unit&ndash;MODEL B connecting manuals(B&ndash;62163E)&rdquo;.
</p>
<p>4.Exchange the interface module of I/O Unit, the cable and the PMC 
board, etc. one by one and, confirm whether this error occurs again.
The communication may fail by the noise etc. when this error still 
occurs after replacing all DI/DO units.
Please investigate the cause of noise.
</p>
<p>STATUS LED (green) are LED1, LED2 on PMC&ndash;NB.
</p>
<p>� : Off � : On �� : Blinking
</p>
<p>NOTE
Error information is needed to investigate on FANUC,
please take notes of it
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 L. ALARM MESSAGE LISTAPPENDIX
</p>
<p>975
</p>
<p>System alarm messages (PMC&ndash;RB5/RB6)
</p>
<p>Message Contents and solution
</p>
<p>PC0nn CPU INTERRUPT xxxxxxxx CPU error
</p>
<p>nn :Exception code
xxxxxxxx :Address at which an error occurred
</p>
<p>PC004 CPU ERR xxxxxxxx:yyyyyyyy
PC006 CPU ERR xxxxxxxx:yyyyyyyy
PC009 CPU ERR xxxxxxxx:yyyyyyyy
PC010 CPU ERR xxxxxxxx:yyyyyyyy
</p>
<p>A CPU error occurred on the PMC.
xxxxxxxx and yyyyyyyy represent an internal error code.
</p>
<p>This error may be caused by a main board failure.
</p>
<p>(solution)
Replace the main board, then check if this error occurs again. If this error
still occurs, contact FANUC with the error status information (system con-
figuration, operation, error occurrence timing, error occurrence frequen-
cy, and so forth).
</p>
<p>PC030 RAM PARITY aa:bb A RAM parity error occurred on the PMC.
aa and bb represent an internal error code.
</p>
<p>This error may be caused by a main board failure.
</p>
<p>(solution)
Replace the main board, then check if this error occurs again. If this error
still occurs, contact FANUC with the error status information (system con-
figuration, operation, error occurrence timing, error occurrence frequen-
cy, and so forth) and the internal error code above.
</p>
<p>PC040 NMI BOC xxxxxxxx A non&ndash;maskable interrupt (NMI) occurred in the PMC control module.
</p>
<p>xxxxxxxx :Address at which an error occurred
</p>
<p>PC050 NMI SLC   aa:bb A communication error occurred on the I/O Link.
aa and bb represent an internal error code.
</p>
<p>This error may occur as a result of one of the following:
(1) When I/O Unit A is used, an I/O assignment is made for base expan-
</p>
<p>sion, but no base is connected.
(2) Cables are not connected correctly.
(3) Cables are faulty.
(4) I/O devices (I/O Unit, Power Mate, and so forth) are faulty.
(5) The main board is faulty.
</p>
<p>(solution)
(1) Check if the I/O assignment data matches the actual connections of
</p>
<p>the I/O devices.
(2) Check if the cables are connected correctly.
(3) Check the cable specifications by referring to the &rdquo;FANUC I/O Unit&ndash;
</p>
<p>MODEL A Connection and Maintenance Manual (B&ndash;61813EN)&rdquo; or
&rdquo;FANUC I/O Unit&ndash;MODEL B Connection Manual (B&ndash;62163EN).
</p>
<p>(4) Replace the interface module, cables, and main board of the I/O Unit,
then check whether this error occurs again.
</p>
<p>If this error still occurs after replacement of all the devices related to the
I/O Link according to Action (4), the communication error may have been
caused by noise. Attempt to identify the source of the noise.
</p>
<p>PC060 FBUS xxxxxxxx:yyyyyyyy
PC061 FL&ndash;R xxxxxxxx:yyyyyyyy
PC062 FL&ndash;W aa:xxxxxxxx:yyyyyyyy
</p>
<p>A bus error occurred on the PMC.
aa, xxxxxxxx, and yyyyyyyy represent an internal error code.
</p>
<p>This error may be caused by a hardware failure.
</p>
<p>(solution)
Contact FANUC with the error status information (system configuration,
operation, error occurrence timing, error occurrence frequency, and so
forth), the internal error code above, and the LED statuses on each
board.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>L. ALARM MESSAGE LIST B&ndash;61863E/10APPENDIX
</p>
<p>976
</p>
<p>Message Contents and solution
</p>
<p>PC070 SUB65 CALL (STACK) A stack error occurred with the ladder functional instruction CALL/CAL-
LU.
</p>
<p>(solution)
Check the correspondence between the CALL/CALLU instruction and
the SPE instruction. If the cause of the fault cannot be found, contact FA-
NUC with the error status information and the ladder program.
</p>
<p>PC080 SYS EMG xxxxxxxx:yyyyyyyy
PC081 FL EMG  xxxxxxxx:yyyyyyyy
</p>
<p>A system alarm was issued due to other software.
</p>
<p>(solution)
Contact FANUC with the error status information (system configuration,
operation, error occurrence timing, error occurrence frequency, and so
forth), the internal error code above, and the LED statuses on each
board.
</p>
<p>PC097 PARITY ERR (LADDER)
PC098 PARITY ERR (DRAM)
PC099 PARITY ERR (SRAM)
</p>
<p>A parity error occurred on the PMC system.
</p>
<p>This error may be caused by a main board failure.
</p>
<p>(solution)
Replace the main board, then check whether this error occurs again. If
this error still occurs, contact FANUC with the error status information
(system configuration, operation, error occurrence timing, error occur-
rence frequency, and so forth).
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
M. EXAMPLE OF STEP 
</p>
<p>SEQUENCE PROGRAMSAPPENDIX
</p>
<p>977
</p>
<p>MEXAMPLE OF STEP SEQUENCE PROGRAMS
The CNC is connected two or three Power Mate units.
</p>
<p>I/O Unit
</p>
<p>X0.0:Safety switch Y0.0:Safety switch
Y1.0:Ready end#1
Y1.1:Drive start#1
Y2.0:Ready end#2
Y2.1:Drive start#2
Y3.0:Ready end#3
Y3.1:Drive start#3
</p>
<p>Connection Unit.
</p>
<p>Power Mate #1
</p>
<p>X100.0:Ready end#1 Y100.0:Emergency#1
X100.1:Driving#1 Y100.1:Drive start#1
</p>
<p>Power Mate #2
</p>
<p>X110.0:Ready end#2 Y110.0:Emergency#2
X110.1:Driving#2 Y110.1:Drive start#2
</p>
<p>Power Mate #3
</p>
<p>X120.0:Ready end#3 Y120.0:Emergency#3
X120.1:Driving#3 Y120.1:Drive start#3
</p>
<p>CNC
</p>
<p>NOTE
The addresses indicate the single addresses, as viewed
from the CNC.
</p>
<p>The CNC controls the Power Mate units at the following signal timing.
</p>
<p>Ready end #1
(Power Mate to CNC)
</p>
<p>Drive start #1
(CNC to Power Mate)
</p>
<p>Driving #1
(Power Mate to CNC)
</p>
<p>1sec1sec
</p>
<p>1sec
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>M. EXAMPLE OF STEP 
SEQUENCE PROGRAMS B&ndash;61863E/10APPENDIX
</p>
<p>978
</p>
<p>The following flowchart illustrates the interface with the Power Mate
units.
</p>
<p>Waiting for that the moving 
finishes.
</p>
<p>CNC Power Mate x
</p>
<p>When the ready and signal is off, 
the driving start common is not sent.
</p>
<p>The start signal (STx) is set on.
STx
</p>
<p>STx
</p>
<p>Start moving by the start signal and
the DEN signal (DENx) is set on for
CNC.
</p>
<p>DENx
When the moving finishes, the NC
program is rewound and the DEN
signal (DENx) is set off.
</p>
<p>DENx
</p>
<p>Finished
</p>
<p>The start signal (STx) is set off 
after 1 second.
</p>
<p>The interface with the Power Mate units is changed to the Step Sequence
program.
</p>
<p>Dummy Step
</p>
<p>Ready end Ready
</p>
<p>finished
</p>
<p>Step Sequence for the Power Mate
</p>
<p>The start signal is set on.
</p>
<p>Wait for 1 second.
</p>
<p>The start signal is set off.
</p>
<p>Wait for that the TIMER finishes.
</p>
<p>The moving status is set the LED.
</p>
<p>Wait for that the moving finishes.
</p>
<p>finished
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
M. EXAMPLE OF STEP 
</p>
<p>SEQUENCE PROGRAMSAPPENDIX
</p>
<p>979
</p>
<p>The Step sequence program for three sequentially driven Power Mate
units:
</p>
<p>The input signal is set the LED.
</p>
<p>The input signal is 1 (true).
</p>
<p>Drive Power Mate#1
</p>
<p>Dummy trasition
</p>
<p>Drive Power Mate#2
</p>
<p>Dummy trasition
</p>
<p>Drive Power Mate#3
</p>
<p>Dummy trasition
</p>
<p>Main program
</p>
<p>Start the timer.
</p>
<p>Wait for one second.
</p>
<p>Clear the timer.
</p>
<p>Wait for that the timer finishes.
</p>
<p>L1
</p>
<p>L1
</p>
<p>Example 1
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>M. EXAMPLE OF STEP 
SEQUENCE PROGRAMS B&ndash;61863E/10APPENDIX
</p>
<p>980
</p>
<p>The Step Sequence program for three simultaneously driven Power Mate
units:
</p>
<p>The input signal is set the LED.
</p>
<p>The input signal is 1 (true).
</p>
<p>Drive Power 
Mate#1
</p>
<p>Dummy trasition
</p>
<p>Main program
</p>
<p>Start the timer.
</p>
<p>Wait for one second.
</p>
<p>Clear the timer.
</p>
<p>Wait for that the timer finishes.
</p>
<p>L1
</p>
<p>L1
</p>
<p>Drive Power 
Mate#2
</p>
<p>Drive Power 
Mate#3
</p>
<p>Example 2
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
N. STEP SEQUENCE CORRESPONDED 
</p>
<p>C LANGUAGEAPPENDIX
</p>
<p>981
</p>
<p>N STEP SEQUENCE CORRESPONDED C LANGUAGE
</p>
<p>The operation is continued while the condition is true.
</p>
<p>condition
</p>
<p>The condition is false.
</p>
<p>L1
</p>
<p>L1
</p>
<p>The condition is true.
</p>
<p>operation
</p>
<p>Operation finished.
</p>
<p>N.1
WHILE STATEMENT
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>N. STEP SEQUENCE CORRESPONDED 
C LANGUAGE B&ndash;61863E/10APPENDIX
</p>
<p>982
</p>
<p>S1
(P10)
</p>
<p>P11
</p>
<p>L1
</p>
<p>L1
</p>
<p>P12
S2
(P20)
</p>
<p>P21
</p>
<p>COMPB 1
30
R10
</p>
<p>R9000.0
</p>
<p>TRSET
</p>
<p>P10
</p>
<p>P11
</p>
<p>TRSET
</p>
<p>R9091.1
COMPB 1
</p>
<p>30
R10
</p>
<p>R9000.0
</p>
<p>TRSET
</p>
<p>P12
</p>
<p>TRSET
</p>
<p>R9091.0
MULB 1
</p>
<p>R10
5
R12
</p>
<p>P20
</p>
<p>R9091.1
</p>
<p>(   )
R0.0
</p>
<p>R9091.0
ADDB 1
</p>
<p>R10
1
R10
</p>
<p>R9091.1
</p>
<p>(   )
R0.0
</p>
<p>R9091.1
</p>
<p>TRSET
</p>
<p>P21
</p>
<p>TRSET
</p>
<p>R9091.1
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
N. STEP SEQUENCE CORRESPONDED 
</p>
<p>C LANGUAGEAPPENDIX
</p>
<p>983
</p>
<p>The operation is continued while the condition is true after executing the
operation.
</p>
<p>The difference between do&ndash;while and while is that the operation is
executed at least one time.
</p>
<p>operation
</p>
<p>The condition is false.
</p>
<p>L1
</p>
<p>L1
</p>
<p>The condition is true.
</p>
<p>condition
</p>
<p>N.2
DO&ndash;WHILE
STATEMENT
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>N. STEP SEQUENCE CORRESPONDED 
C LANGUAGE B&ndash;61863E/10APPENDIX
</p>
<p>984
</p>
<p>S1
(P20)
P21
</p>
<p>L1
</p>
<p>L1
</p>
<p>P12
</p>
<p>COMPB 1
30
R10
</p>
<p>R9000.0
</p>
<p>TRSET
</p>
<p>P10
</p>
<p>P11
</p>
<p>TRSET
</p>
<p>R9091.1
COMPB 1
</p>
<p>30
R10
</p>
<p>R9000.0
</p>
<p>TRSET
</p>
<p>P12
</p>
<p>TRSET
</p>
<p>R9091.0
MULB 1
</p>
<p>R10
5
R12
</p>
<p>P20
</p>
<p>R9091.1
</p>
<p>(   )
R0.0
</p>
<p>R9091.0
ADDB 1
</p>
<p>R10
1
R10
</p>
<p>R9091.1
</p>
<p>(   )
R0.0
</p>
<p>R9091.1
</p>
<p>TRSET
</p>
<p>P21
</p>
<p>TRSET
</p>
<p>S2
(P10)
</p>
<p>P11
</p>
<p>R9091.1
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
N. STEP SEQUENCE CORRESPONDED 
</p>
<p>C LANGUAGEAPPENDIX
</p>
<p>985
</p>
<p>After the initial data is set, the operation is continued while the condition
is true.
</p>
<p>operation
</p>
<p>The condition is false.
</p>
<p>L1
</p>
<p>L1
</p>
<p>The condition is true.
</p>
<p>condition
</p>
<p>Set the initial data.
</p>
<p>N.3
FOR STATEMENT
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>N. STEP SEQUENCE CORRESPONDED 
C LANGUAGE B&ndash;61863E/10APPENDIX
</p>
<p>986
</p>
<p>R9091.1
NUMEB 1
</p>
<p>0
R10
</p>
<p>R9091.1
</p>
<p>TRSET
</p>
<p>P1
</p>
<p>R9091.0
COMPB 1
</p>
<p>30
R10
</p>
<p>R9000.0
</p>
<p>TRSET
</p>
<p>P11
</p>
<p>TRSET
</p>
<p>R9091.0
MULB 1
</p>
<p>R10
5
R12
</p>
<p>P20
</p>
<p>R9091.1
</p>
<p>(   )
R0.0
</p>
<p>P2
</p>
<p>R9091.1
</p>
<p>TRSET
</p>
<p>P21
</p>
<p>R9091.0
ADDB 1
</p>
<p>R10
1
R10
</p>
<p>P10
</p>
<p>R9091.1
</p>
<p>(   )
R0.0
</p>
<p>R9091.0
COMPB 1
</p>
<p>30
R10
</p>
<p>R9000.0
</p>
<p>TRSET
</p>
<p>P21
</p>
<p>TRSET
</p>
<p>S2
(P20)
P21
</p>
<p>L1
</p>
<p>L1
P12
</p>
<p>S3
(P10)
</p>
<p>P11
</p>
<p>S1
(P1)
P2
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
N. STEP SEQUENCE CORRESPONDED 
</p>
<p>C LANGUAGEAPPENDIX
</p>
<p>987
</p>
<p>If the condition is true, the operation 1 is executed and if the condition is
false, the operation 2 is executed.
</p>
<p>condition
</p>
<p>The condition is true. The condition is false.
</p>
<p>operation1 operation2
</p>
<p>N.4
IF ELSE STATEMENT
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>N. STEP SEQUENCE CORRESPONDED 
C LANGUAGE B&ndash;61863E/10APPENDIX
</p>
<p>988
</p>
<p>R9091.0
MULB 1
</p>
<p>R10
8
R12
</p>
<p>P20
</p>
<p>R9091.1
</p>
<p>(   )
R0.0
</p>
<p>R9091.1
</p>
<p>TRSET
</p>
<p>P21
</p>
<p>COMPB 1
30
R10
</p>
<p>R9000.0
</p>
<p>TRSET
</p>
<p>P1
0
</p>
<p>P1
1
</p>
<p>TRSET
</p>
<p>R9091.0
COMPB 1
</p>
<p>30
R10
</p>
<p>R9000.0
</p>
<p>TRSET
</p>
<p>P12
</p>
<p>TRSET
</p>
<p>R9091.0
MULB 1
</p>
<p>R10
10
R12
</p>
<p>P22
</p>
<p>R9091.1
</p>
<p>(   )
R0.0
</p>
<p>R9091.1
</p>
<p>TRSET
</p>
<p>P23
</p>
<p>S1
(P10)
</p>
<p>P11 P12
</p>
<p>S2
(P20)
</p>
<p>S3
(P22)
</p>
<p>P21 P23
</p>
<p>R9091.0
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
N. STEP SEQUENCE CORRESPONDED 
</p>
<p>C LANGUAGEAPPENDIX
</p>
<p>989
</p>
<p>The operation connected to the condition is executed.
</p>
<p>condition
</p>
<p>condition1
</p>
<p>operation1
</p>
<p>condition2
</p>
<p>operation2
</p>
<p>condition3
</p>
<p>operation3
</p>
<p>N.5
SWITCH STATEMENT
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>N. STEP SEQUENCE CORRESPONDED 
C LANGUAGE B&ndash;61863E/10APPENDIX
</p>
<p>990
</p>
<p>R9091.0
MULB 1
</p>
<p>R10
5
R12
</p>
<p>P20
</p>
<p>R9091.1
</p>
<p>(   )
R0.0
</p>
<p>R9091.1
</p>
<p>TRSET
</p>
<p>P21
</p>
<p>COMPB 1
30
R10
</p>
<p>R9000.0
</p>
<p>TRSET
</p>
<p>P1
0
</p>
<p>P1
1
</p>
<p>TRSET
</p>
<p>R9091.0
COMPB 1
</p>
<p>40
R10
</p>
<p>R9000.0
</p>
<p>TRSET
</p>
<p>P12
</p>
<p>TRSET
</p>
<p>R9091.0
MULB 1
</p>
<p>R10
10
R12
</p>
<p>P22
</p>
<p>R9091.1
</p>
<p>(   )
R0.0
</p>
<p>R9091.1
</p>
<p>TRSET
</p>
<p>P13
</p>
<p>S1
(P10)
</p>
<p>P11
</p>
<p>S2
(P20)
</p>
<p>P12
</p>
<p>S3
(P22)
</p>
<p>P13
</p>
<p>S4
(P24)
</p>
<p>P21 P23 P25
</p>
<p>R9091.1
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10
N. STEP SEQUENCE CORRESPONDED 
</p>
<p>C LANGUAGEAPPENDIX
</p>
<p>991
</p>
<p>R9091.0
MULB 1
</p>
<p>R10
15
R12
</p>
<p>P24
</p>
<p>R9091.1
</p>
<p>(   )
R0.0
</p>
<p>R9091.1
</p>
<p>TRSET
</p>
<p>P25
</p>
<p>R9091.1
</p>
<p>TRSET
</p>
<p>P23
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>0. CHINESE CHARACTER CODE, HIRAGANA 
CODE, AND SPECIAL CODE LIST APPENDIX 
</p>
<p>CHINESE CHARACTER CODE, HIRAGANA CODE, AND SPECIAL 
</p>
<p>* Replace all tables with follows. 
</p>
<p>Pronun 
ciation 
</p>
<p>alpha 
nume 
</p>
<p>l-k 
</p>
<p>% 
</p>
<p>hi 
</p>
<p>ra 
</p>
<p>ga 
lla 
</p>
<p>. 
</p>
<p>G 
r 
e 
</p>
<p>: 
</p>
<p>JIS 
</p>
<p>2330 
</p>
<p>2350 
</p>
<p>2360 
</p>
<p>2370 
</p>
<p>2420 
</p>
<p>2430 
</p>
<p>2440 
</p>
<p>2450 
</p>
<p>2460 
</p>
<p>2470 
</p>
<p>2520 
</p>
<p>2530 
</p>
<p>2540 
</p>
<p>2550 
</p>
<p>2560 
</p>
<p>2570 
</p>
<p>2620 
</p>
<p>2630 
</p>
<p>2640 
</p>
<p>2650 
</p>
<p>Shift 
JIS 
</p>
<p>824F 
</p>
<p>825F 
</p>
<p>826F 
</p>
<p>8280 
</p>
<p>8290 
</p>
<p>8293 
</p>
<p>B2AE 
</p>
<p>B2BE 
</p>
<p>BZCE 
</p>
<p>BPDE 
</p>
<p>62EE 
</p>
<p>833F 
</p>
<p>834F 
</p>
<p>835F 
</p>
<p>836F 
</p>
<p>8380 
</p>
<p>8390 
</p>
<p>8393 
</p>
<p>63AE 
</p>
<p>BSBE 
</p>
<p>63CE 
</p>
<p>Segment and point 
</p>
<p>0123456789ABCDEF 
</p>
<p>0 12 3 4 5 6 7 8 9 
</p>
<p>X The characters with mark % cannot be displayed on FANUC Series 16-MODEL A. 
</p>
<p>- 992 - 
</p>
<p>4 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>1 AL 
</p>
<p>6--61863E/lO 
</p>
<p>0. CHINESE CHARACTER CODE, HIRAGANA 
APPENDIX CODE, AND SPECIAL CODE LIST 
</p>
<p>Vonun 
:iation 
</p>
<p>7 
</p>
<p>4 
</p>
<p>3 
</p>
<p>L 
</p>
<p>7t 
</p>
<p>n 
</p>
<p>4 
</p>
<p>9 
</p>
<p>JIS 
</p>
<p>1020 
</p>
<p>I030 
</p>
<p>1040 
</p>
<p>Fzj- 
</p>
<p>I050 
</p>
<p>1060 
</p>
<p>1070 
</p>
<p>$120 
</p>
<p>Kz 
</p>
<p>$130 
</p>
<p>3140 
</p>
<p>3140 
</p>
<p>3150 
</p>
<p>3160 
</p>
<p>3170 
3170 
</p>
<p>3220 
</p>
<p>3230 
</p>
<p>3230 
</p>
<p>3240 
3250 
</p>
<p>3260 
</p>
<p>3270 
</p>
<p>3320 
3330 
</p>
<p>3340 
3350 
3360 
</p>
<p>3370 
3420 
3430 
</p>
<p>3440 
</p>
<p>3450 
3460 
</p>
<p>3460 
</p>
<p>3470 
</p>
<p>3520 
</p>
<p>3530 
</p>
<p>3540 
</p>
<p>3550 
</p>
<p>3560 
</p>
<p>3570 
</p>
<p>3620 
</p>
<p>3630 
</p>
<p>3640 
</p>
<p>3650 
</p>
<p>3660 
</p>
<p>3660 
</p>
<p>3670 
</p>
<p>3720 
</p>
<p>Shift Segment and point 
</p>
<p>JIS 0 1 2 3 4 5 6 7 8 9 A B C D E F 
</p>
<p>- 993 - 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>0. CHINESE CHARACTER CODE, HIRAGANA 
CODE, AND SPECIAL CODE LIST APPENDIX 8-61863Em 
</p>
<p>Pronun 
ciation 
</p>
<p>JIS 
</p>
<p>3840 
</p>
<p>3870 
3920 
3930 
3940 
3950 
3960 
3970 
3A20 
3A30 
3A30 
3A40 
3A50 
3A60 
3A70 
3B20 
3B30 
3B40 
3B40 
3B50 
</p>
<p>3B60 
3B70 
3C20 
3C30 
3C40 
3c50 
3c60 
3c70 
3D20 
</p>
<p>3D30 
</p>
<p>3D40 
3D50 
</p>
<p>3D60 
</p>
<p>3D70 
3E20 
</p>
<p>3E30 
</p>
<p>3E40 
3E50 
</p>
<p>3E60 
</p>
<p>Shin 
JIS 
</p>
<p>8C4F 
</p>
<p>8C4F 
8C5F 
</p>
<p>8C6F 
</p>
<p>8C80 
8C90 
8C9E 
</p>
<p>SCAE 
</p>
<p>8CBE 
8CBE 
</p>
<p>8CCE 
8CDE 
8CEE 
8D3F 
8D4F 
8D5F 
8D6F 
8D80 
8D90 
8D9E 
8DAE 
8DAE 
8DBE 
</p>
<p>8DCE 
8DDE 
8DEF 
8E3F 
8E4F 
8E5F 
8E5F 
8E6F 
</p>
<p>8E80 
8E90 
8E9E 
8EAE 
8EBE 
</p>
<p>8ECE 
8EDE 
8EEE 
</p>
<p>8F3F 
8F4F 
</p>
<p>8F5F 
</p>
<p>8F6F 
8F80 
</p>
<p>8F90 
</p>
<p>8F9E 
</p>
<p>8FAE 
</p>
<p>8FBE 
8FCE 
8FDE 
</p>
<p>ronun 
iation 4 
</p>
<p>&lsquo;V 
</p>
<p>x 
</p>
<p>..: .,... ( _ . ..~ /.. 
;; -i &rdquo; &lsquo;.&lsquo;!I .:. .;;,. 
</p>
<p>. . I : :,. shows the character which is impossible to display. 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>prDnun 
ciation 
</p>
<p>&amp;61863010 
0. CHINESE CHARACTER CODE, HIRAGANA 
</p>
<p>APPENDIX CODE, AND SPECIAL CODE LIST 
</p>
<p>f 
</p>
<p>--r 
</p>
<p>JIS 
</p>
<p>3E70 
3F20 
3F30 
3F40 
3F50 
3F50 
3F60 
3F70 
4020 
4020 
4030 
4040 
4050 
4060 
4070 
4120 
4130 
4130 
4140 
4150 
4160 
4170 
4220 
4230 
4230 
4240 
4250 
4260 
4270 
4320 
4330 
4340 
4340 
4350 
4360 
4370 
4420 
4430 
</p>
<p>4450 
</p>
<p>-izz 
4470 
4520 
4530 
4540 
4540 
4550 
4560 
</p>
<p>Shift 
JIS 
</p>
<p>8FEE 
903F 
904F 
905F 
906F 
906F 
9080 
9090 
909E 
909E 
9OAE 
90BE 
90CE 
90DE 
9oEE 
913F 
914F 
m 
915F 
916F 
9180 
9190 
919E 
91AE 
9lAE 
91BE 
91CE 
91DE 
91EE 
923F 
924F 
925F 
915F 
926F 
9280 
9290 
9293 
92AE 
92BE 
92BE 
92CE 
92DE 
92DE 
92EE 
933F 
934F 
9353 
9353 
936F 
9380 
</p>
<p>Segment and point 
</p>
<p>0123456789A~cn~.~ 
</p>
<p>;..:::. ?I..&lsquo;:.: + shows the character which is impossible to display. :j:;:;:;,. .,.: -&lsquo;.:;:;.. F&rsquo;;&ldquo;.&rsquo; :&rsquo; :: 
</p>
<p>- 995 - 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>0. CHINESE CHARACTER CODE, HIRAGANA 
CODE, AND SPECIAL CODE LIST APPENDIX ~1863Vlcl 
</p>
<p>Pronun 
ciation 
</p>
<p>/ 
</p>
<p>4 
</p>
<p>,\ d- 
</p>
<p>7 
</p>
<p>4 
</p>
<p>JIS 
</p>
<p>4570 
</p>
<p>4620 
</p>
<p>4630 
</p>
<p>4640 
</p>
<p>4650 
</p>
<p>ziz 
</p>
<p>4670 
</p>
<p>4670 
</p>
<p>4720 
</p>
<p>4720 
</p>
<p>4720 
</p>
<p>4730 
</p>
<p>4730 
</p>
<p>4740 
</p>
<p>4740 
</p>
<p>4750 
</p>
<p>4760 
4770 
</p>
<p>4820 
</p>
<p>4830 
</p>
<p>4850 
zz 
</p>
<p>4860 
</p>
<p>4870 
</p>
<p>4920 
4930 
</p>
<p>4940 
</p>
<p>4950 
4950 
</p>
<p>4960 
</p>
<p>4970 
</p>
<p>MO 
</p>
<p>MO 
lm 
</p>
<p>a40 
</p>
<p>&amp;A50 
</p>
<p>4A50 
</p>
<p>4A60 
4A70 
</p>
<p>4B20 
</p>
<p>4B30 
</p>
<p>4B40 
</p>
<p>4B50 
</p>
<p>ZiY 
</p>
<p>4B70 
</p>
<p>4C20 
</p>
<p>zzii 
</p>
<p>4c30 
</p>
<p>4c30 
</p>
<p>_:~~~.~~~~~~~ail~~ shows the character which is impossible to display. 
. . . . 
</p>
<p>-!W6- 
</p>
<p>Pronun 
ciation 
</p>
<p>% 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>. 
</p>
<p>0. CHINESE CHARACTER CODE, HIRAGANA 
APPENDIX CODE, AND SPECIAL CODE LIST 
</p>
<p>- 997 - 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>IndexB&ndash;61863E/10
</p>
<p>i&ndash;1
</p>
<p>[A]
ADD (Addition), 191
</p>
<p>ADDB (Binary Addition), 193
</p>
<p>Additions to Sequence Programs, 665
</p>
<p>Address, 42
</p>
<p>Address Change of Sequence Program, 453
</p>
<p>Address of Counter (C), 73
</p>
<p>Address of Data Table (D), 77
</p>
<p>Address of Keep Relay and Nonvolatile Memory Con-
trol (K), 75
</p>
<p>Addresses, 304
</p>
<p>Addresses Between PMC and CNC (PMC�NC), 52
</p>
<p>Addresses Between PMC and Machine Tool
(PMC�MT), 53
</p>
<p>Addresses Between PMC and Machine Tool for PMC-
RB/RC, 53
</p>
<p>Addresses for Message Selection Displayed on CRT
(A), 71
</p>
<p>Addresses, Signal Names, Comments, and Line Num-
bers, 304
</p>
<p>Alarm Message List, 966
</p>
<p>Alarm Screen (Alarm), 356
</p>
<p>Alter, 637
</p>
<p>Alteration of Sequence Programs, 445
</p>
<p>AND, 90
</p>
<p>AND. NOT, 90
</p>
<p>AND. STK, 93
</p>
<p>Applicable Fapt Ladder Editions, 953
</p>
<p>Applications, 312
</p>
<p>Arbitrary Functional Instructions, 243
</p>
<p>Area Managed by the System Program, 68
</p>
<p>Assignment of I/O Module Addresses, 55
</p>
<p>Automatic Operation when the Power is Turned on,
340
</p>
<p>Automatic Tracing Function at Power on, 359
</p>
<p>Axctl (Axis Control by PMC), 285
</p>
<p>[B]
Block Step, 571
</p>
<p>[C]
C Input/Output, 477
</p>
<p>CALL (Conditional Subprogram Call), 278
</p>
<p>CALLU (Unconditional Subprogram Call), 279
Cautions for Subroutines, 319
Chinese Character Code, Hiragana Code, and Special
</p>
<p>Code List, 992
Clearing the PMC Parameter, 466
Clearing the Sequence Program, 340, 465
Clearing the Sequence Program and Condensation of
</p>
<p>the Sequence Program, 465
CNC &rarr; Offline Programmer, 958
COD (Code Conversion), 148
CODB (Binary Code Conversion), 151
Coding (Step 5), 22
COIN (Coincidence Check), 177
Collation of Program, 657
Collation of Source Programs, 657
COM (Common Line Control), 156
COME (Common Line Control End), 161
Comments, 305
COMP (Comparison), 173
Compatibility of Ladder Diagram, 603
Compatibility with CNC Basic Software, 947
COMPB (Comparison Between Binary Data), 175
Component Units, 423, 611, 948
Component Units and Connections, 422, 610, 948
Compress the Sequence Program, 466
Compressed Input by [COMAND] Key, 674
Condense, 950
Condense Command &ndash; Release of Deleted Area, 686
Configuration and Operation of Step- Sequence Pro-
</p>
<p>grams, 562
Configuration of Command, 683
Confirming the Ladder Mnemonics, 526
Connecting Component Units, 428
Connecting the I/O Card, 941
Connecting the I/O Unit, 941
Connecting the Operator&rsquo;s Panel for FS 0 with FS16,
</p>
<p>FS18, FS21, or Power Mate, 938
Connection, 941
Connection of Components, 949
Connections of Units, 612
Convergence of Selective Sequence, 567
Convergence of Simultaneous Sequence, 569
Conversion, 935
Copy a Ladder Program [CPYLAD], 495
Copy I/O Module Data [CPYMDL], 496
Copy Message Data [CPYMSG], 495
Copy Symbol Data and Comment Data [CPYSYM],
</p>
<p>495
Copy the Sequence Programs [CPYALL], 496
Copy Title Data [CPYTTL], 495
Copying a Sequence Program, 671
Copying Message Data (COPY), 464
Copying the Sequence Program, 451
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>Index B&ndash;61863E/10
</p>
<p>i&ndash;2
</p>
<p>Corresponding Function, 602
</p>
<p>Counter Screen (COUNTR), 390
</p>
<p>Creating a Program, 317
</p>
<p>Creation of Interface Specifications (Steps 1 to 3), 21
</p>
<p>Creation of Ladder Diagram (Step 4), 21
</p>
<p>Cross Reference Display, 467
</p>
<p>CRT/MDI Operation, 586
</p>
<p>CTR (Counter), 133
</p>
<p>CTRC (Counter), 139
</p>
<p>[D]
Data Display and Setting (Title, Symbol, Ladder Pro-
</p>
<p>gram, Comment, Message, I/O Module), 630
</p>
<p>Data Input to and Output from other Devices, 489
</p>
<p>Data Keys and Screen Scroll Key, 618
</p>
<p>Data Number, Data Attribute, Data Length, Data
Area, 929
</p>
<p>Data Table (DATA), 396
</p>
<p>Data Transfer Between NB (4047 series) and FAPT
LADDER, 964
</p>
<p>Data Transfer Between NB (4047 series) and NB
(4048 series), 965
</p>
<p>Data Transfer Between NB/NB2 (4048 series) and
FAPT LADDER, 964
</p>
<p>DCNV (Data Conversion), 169
</p>
<p>DCNVB (Extended Data Conversion), 171
</p>
<p>Debugging, 504
</p>
<p>DEC (Decode), 129
</p>
<p>DECB (Binary Decoding), 131
</p>
<p>Delete, 641
</p>
<p>Delete of Sequence Program, 448
</p>
<p>Delete of Symbol data and Comment, 459
</p>
<p>Deleting a Sequence Program, 668
</p>
<p>Deleting Title Data, 437
</p>
<p>Deletion of Programs, 658
</p>
<p>Descriptions of Displayed Items, 500
</p>
<p>Details of Basic Instructions, 84
</p>
<p>DIFD (Falling Edge Detection), 254
</p>
<p>Difference of Status of Signals Between 1st Level and
2nd Level, 37
</p>
<p>DIFU (Rising Edge Detection), 253
</p>
<p>Direct Editing by Ladder Diagram, 660
</p>
<p>DISP(Message Display) (PMC&ndash;RB/RB2/RB3/
RB4/RB5/RB6/RC/ RC3/RC4 Only), 209
</p>
<p>DISPB, 223
</p>
<p>Display of Ladder Diagram, 643
</p>
<p>Display of Signal Status (Status), 355
</p>
<p>Displayed Items, 503
</p>
<p>Displaying and Setting the Configuration Status of I/O
Devices(IOCHK), 370
</p>
<p>Displaying Input Code (DSPMOD), 464
</p>
<p>Displaying of Sequence Program, 587
</p>
<p>Displaying the Contents of Memory, 360
</p>
<p>Displaying the GDT (Global Descriptor Table), 498
</p>
<p>Displaying the Memory Allocation Information of a
User Program CODED IN C., 501
</p>
<p>Displaying the Running State of a User Task
(USRDGN), 368
</p>
<p>Displaying Title Data, 353
</p>
<p>DIV (Division), 203
</p>
<p>DIVB (Binary Division), 205
</p>
<p>Divergence of Selective Sequence, 567
</p>
<p>Divergence of Simultaneous Sequence, 568
</p>
<p>Dividing Display of Ladder Diagram, 415
</p>
<p>Do&ndash;while Statement, 983
</p>
<p>DSCH (Data Search), 181
</p>
<p>DSCHB (Binary Data Search), 184
</p>
<p>Dump Display on Ladder Diagram, 407
</p>
<p>[E]
Editing a Character String in Message Data, 463
</p>
<p>Editing Character Strings of Symbol Data and Com-
ment Data, 460
</p>
<p>Editing Character Strings of Title Data, 438
</p>
<p>Editing for Power Mate&ndash;MODEL D (PMC&ndash;PA1/PA3),
947
</p>
<p>Editing Function of Ladd ER Diagram, 597
</p>
<p>Editing Ladder Mnemonics, 525
</p>
<p>Editing of Sequence Program (EDIT), 436
</p>
<p>Editing Symbol Data and Comment at Once, 453
</p>
<p>Editing the Sequence Program (EDIT), 524
</p>
<p>Emergency Stop Signal (*ESP), 942
</p>
<p>Enabling Automatic Debugging at Power-on, 508
</p>
<p>END (End of a Ladder Program), 277
</p>
<p>End of Block Step, 572
</p>
<p>END1 (1st Level Sequence Program End), 120
</p>
<p>END2 (2nd Level Sequence Program End), 121
</p>
<p>End3 (End of 3rd Level Sequence) (PMC-RC/
RC3/RC4/ NB/NB2 Only), 122
</p>
<p>Ending Edit of a Sequence Program, 675
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 Index
</p>
<p>i&ndash;3
</p>
<p>Ending Ladder Mnemonics Editing, 528
</p>
<p>Entering Data on the Program Check Screen (*Low&ndash;
Speed response) (Not available for Power Mate&ndash;
D/F, Series 21&ndash;TA), 780
</p>
<p>Entering Title Data, 437
</p>
<p>Entering Torque Limit Data for the Digital Servo
Motor (*Low&ndash;Speed response), 784
</p>
<p>EOR (Exclusive OR), 255
</p>
<p>Error Codes List (For FAPT Ladder P&ndash;G), 691
</p>
<p>Error Details, 533
</p>
<p>Error List, 537
</p>
<p>Error Messages (For EDIT), 517
</p>
<p>Error Messages (For I/O), 519
</p>
<p>Error Messages (For Ladder Mnemonics Editing), 531
</p>
<p>Example of Step Sequence Programs, 977
</p>
<p>Examples of Structured Programming, 311
</p>
<p>Examples of Using the Counter, 136
</p>
<p>Except Power Mate&ndash;D and &ndash;F, 721
</p>
<p>Exclusive Control for Functional Instructions, 583
</p>
<p>Execution Method, 316
</p>
<p>Execution of a Sequence Program, 472
</p>
<p>Execution of Step Sequence, 558
</p>
<p>Execution Procedure of Sequence Program, 26
</p>
<p>EXIN (External Data Input), 233
</p>
<p>Extended Ladder Instructions, 573
</p>
<p>[F]
F Keys (F1 to F0), 616
</p>
<p>FAPT Ladder (System P Series), 955
</p>
<p>FAPT LADDER System Floppy Loading, 625
</p>
<p>FAPT Ladder, FAPT Ladder&ndash;II, Ladder Editing Pack-
ages, 953
</p>
<p>Fdlist Command &ndash; File Attribute Display, 684
</p>
<p>File Editing Function, 679
</p>
<p>For MDI Units other than Standard MDI Units (for
FS20 PMC-RA1 and RA3), 340
</p>
<p>For Power Mate&ndash;D and &ndash;F, 724
</p>
<p>For Statement, 985
</p>
<p>For the FS15 (PMC-NB), 417
</p>
<p>For the FS16 (PMC-RC or PMC-RC3), 417
</p>
<p>Forced Input/Output Function, 375
</p>
<p>Forcibly Stopping the Sequence Program, 474
</p>
<p>Foreign Language Display, 230
</p>
<p>Format and Details of the Control Data of the Windr
Functional Instruction, 838
</p>
<p>Format And Details of the Control Data of the Windw
Functional Instruction, 878
</p>
<p>Formats and Details of Control Data, 698
</p>
<p>Function, 315, 694, 833, 895, 935
</p>
<p>Function for Displaying Signal Waveforms (Analys),
362
</p>
<p>Function for Storing Data in Memory, 361
</p>
<p>Function of Copying Symbol and Comment Data, 461
</p>
<p>Functional Instruction Trset, 574
</p>
<p>Functional Instruction WINDR, 835
</p>
<p>Functional Instruction WINDW, 837
</p>
<p>Functional Instructions, 98
</p>
<p>Functions for Displaying Memory Areas and Debug-
ging the Program (MONIT), 497
</p>
<p>Functions of Processing, 608
</p>
<p>[G]
General Rules, 577
</p>
<p>Graphical Symbols, 545
</p>
<p>[H]
Help Screen, 644
</p>
<p>[I]
I/O Error Messages, 493
</p>
<p>I/O Link Connecting Check Screen, 371
</p>
<p>I/O Link Connection Unit Assignment, 61
</p>
<p>I/O Link&ndash;II Parameter Setting Screen, 372
</p>
<p>I/O Signals to CNC, 36
</p>
<p>I/O Unit Address Setting (MODULE), 455
</p>
<p>I/O Unit Model B Assignment, 63
</p>
<p>If Else Statement, 987
</p>
<p>Implementation Techniques, 311
</p>
<p>Infinite Number of Relay Contacts, 308
</p>
<p>Initial Block Step, 572
</p>
<p>Initial Step, 565
</p>
<p>Input of Program, 645
</p>
<p>Input PMC Parameters from MDI Panel, 388
</p>
<p>Input Signal Processing, 35
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>Index B&ndash;61863E/10
</p>
<p>i&ndash;4
</p>
<p>Input with a Katakana Identification Code, 464
</p>
<p>Input/Output Ladder/PMC&ndash;parameter by MDI/DPL,
534
</p>
<p>Input/Output Method to FANUC FLOPPY CASSETE
(Fixed 4800bit/sec.), 534
</p>
<p>Input/Output Method to Office Programmer (P&ndash;g
Mate/Mark II) (Fixed 9600bit/Sec.), 534
</p>
<p>Input/Output of Ladder Program with P&ndash;G and Floppy
Cassette/FA Card, 676
</p>
<p>Inputting a Multi-byte Character (D.CHAR), 464
</p>
<p>Insert, 640
</p>
<p>Insert of Sequence Program, 445
</p>
<p>Interlocking, 38
</p>
<p>Internal Relay Addresses (R), 66
</p>
<p>[J]
JMP (Jump), 162
</p>
<p>JMP Instructions with Label Specification, 321
</p>
<p>JMPB (Label Jump), 282
</p>
<p>JMPC (Label Jump), 283
</p>
<p>JMPE (Jump End), 166
</p>
<p>Jump, 570
</p>
<p>[K]
Keep Relay (KEEPRL), 390
</p>
<p>Key Switch Signals (Xn, Xn+2), 942
</p>
<p>Keyboard of System P Series, 615
</p>
<p>[L]
Label, 570
</p>
<p>Label Addresses (JMPB, JMPC, LBL) (L), 80
</p>
<p>Ladder Debugging Function, 509
</p>
<p>Ladder Diagram Display, 406
</p>
<p>Ladder Diagram Format, 303, 307
</p>
<p>Ladder Password Function, 341
</p>
<p>Ladder Screen, 590, 600
</p>
<p>LBL (Label), 284
</p>
<p>Level Up of Input/Output Function with Memory
Card, 957
</p>
<p>Limitations in SYSTEM P Mate, 660
</p>
<p>Limitations with the SYSTEM P Mate, 624
</p>
<p>Line Numbers, 305
</p>
<p>List of Window Functions, 696
</p>
<p>LOAD Key (System Program Loading Key), 616
</p>
<p>Loading of Floppy, 624
</p>
<p>Loading the Standard Ladder (for Power Mate &ndash;D/F
PMC&ndash;PA1 AND PA3), 341
</p>
<p>Location Search, 641
</p>
<p>Logical AND, 257
</p>
<p>Logical OR, 259
</p>
<p>Low&ndash;Speed Response and High&ndash;Speed Response of
Window Function, 833
</p>
<p>Low&ndash;speed Response and High&ndash;speed Response of
Window Function, 694
</p>
<p>[M]
Message Data Input, 463
</p>
<p>Message Data Setting (MESSAGE), 462
</p>
<p>Miscellaneous Item, 309
</p>
<p>MMC3 R (MMC-III Window Data Read), 263
</p>
<p>MMC3W (MMC-III Window Data Write), 266
</p>
<p>MMCWR (Reading MMC Window Data) (Other than
PMC&ndash;PA1/PA3), 246
</p>
<p>MMCWW (Writing MMC Window Data) (Other Than
PMC&ndash;PA1/PA3), 248
</p>
<p>Modification Procedure, 936
</p>
<p>Modifying the Converted Sequence Program, 936
</p>
<p>Modifying the Ladder Mnemonics, 527
</p>
<p>Modifying the Values of Signals by Forced Input/Out-
put, 382
</p>
<p>Monitor Time Screen, 595
</p>
<p>Monitoring Elapsed Time, 594
</p>
<p>MOVB (Transfer of 1 Byte), 250
</p>
<p>MOVE (Logical Product Transfer), 153
</p>
<p>Moving a Sequence Program, 672
</p>
<p>Moving the Sequence Program, 452
</p>
<p>MOVN (Transfer of an Arbitrary Number of Bytes),
252
</p>
<p>MOVOR (Data Transfer After Logical Sum), 155
</p>
<p>MOVW (Transfer of 2 Bytes), 251
</p>
<p>MUL (Multiplication), 199
</p>
<p>MULB (Binary Multiplication), 201
</p>
<p>Multiple Data Input, 388
</p>
<p>[N]
NB/NB2 Data Compatibility, 964
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 Index
</p>
<p>i&ndash;5
</p>
<p>Nonvolatile Memory, 295
</p>
<p>NOT (Logical NOT), 261
</p>
<p>Note, 404, 961
</p>
<p>Notes, 508
</p>
<p>Notes on Using an MDI Keyboard without Cursor
Keys (when using the FS20 PMC&ndash;MODEL
RA1/RA3), 492
</p>
<p>Notes when this Functional Instruction is Used in Sub-
routine, 239
</p>
<p>NUME (Definition of Constant), 207
</p>
<p>NUMEB (Definition of Binary Constants), 208
</p>
<p>[O]
Offline Programmer &rarr; CNC, 960
On&ndash;line Debugging Function (Only for Power
</p>
<p>Mate&ndash;H), 535
</p>
<p>On&ndash;line Edit, 416
</p>
<p>Online Function, 514
</p>
<p>Online Setting Screen, 514
</p>
<p>Operation, 357, 360, 362, 467, 498, 501, 504, 621,
958
</p>
<p>Operations, 480
</p>
<p>OR, 90
</p>
<p>OR. NOT, 90
</p>
<p>OR. STK, 93
</p>
<p>Other Setting Screens, 401
</p>
<p>Other Window Functions, 934
</p>
<p>Outline of Leveled Up Contents, 957
</p>
<p>Output of Program, 650
</p>
<p>Output Signal Processing, 35
</p>
<p>Override Signals (*OV1 to *OV8) and Program Pro-
tect Key Signal (KEY), 942
</p>
<p>Overview, 375
</p>
<p>[P]
Paper Command, 653
</p>
<p>Parameter, 949
</p>
<p>Parameter Display on Ladder Diagram, 408
</p>
<p>Parameter Menu (for PMC&ndash;RB), 945
</p>
<p>Parameter Screen, 363, 505
</p>
<p>Parameter Setting and Display, 627
</p>
<p>Parameter Setting Screen, 357, 468
</p>
<p>PARI (Parity Check), 167
</p>
<p>PMC Address (S ADDRESS), 574
</p>
<p>PMC Basic Instructions, 82
</p>
<p>PMC Data Table, 298
</p>
<p>PMC I/O Signal Display and Internal Relay Display
(PMCDGN), 352
</p>
<p>PMC Ladder Diagram Display (PMCLAD), 405
</p>
<p>PMC Menu Selection Procedure by Softkey, 346
</p>
<p>PMC Operation for Loader Contorol Function, 345
</p>
<p>PMC Parameters Setting and Display (PMCPRM),
386
</p>
<p>PMC Programmer (CRT/MDI OR PDP/MDI) [Ladder
Editing Function], 947
</p>
<p>PMC Programmer (DPL/MDI) (Only for the Power
Mate&ndash;D/F/H), 520
</p>
<p>Power Mate&ndash;model D/H Assignment, 64
</p>
<p>Preparation before Operation, 624
</p>
<p>Priority of Execution (1st Level, 2nd Level and 3rd
Level), 28
</p>
<p>Procedure, 945
</p>
<p>Processing I/O Signals, 34
</p>
<p>Program Collation, 678
</p>
<p>Program Configuration List (Main Screen), 587, 597
</p>
<p>Program Editing, 630
</p>
<p>Program Input, 676
</p>
<p>Program Output, 677
</p>
<p>Programmer Menu Screen, 626
</p>
<p>Programming, 546
</p>
<p>Programming from Keyboard, 636
</p>
<p>PSGN2 (Position Signal Output 2), 293
</p>
<p>PSGNL (Position Signal Output), 290
</p>
<p>[R]
R Keys (R0 to R3), 617
</p>
<p>RD, 86
</p>
<p>RD . NOT, 87
</p>
<p>RD. NOT. STK, 92
</p>
<p>RD. STK, 91
</p>
<p>Reading a Character String of the CNC Program
Being Executed in the Buffer , 791
</p>
<p>Reading a Custom Macro Variable (*Low&ndash;Speed
Response), 717
</p>
<p>Reading a Custom Macro Variable (Low&ndash;speed
response), 843
</p>
<p>Reading a Parameter (*Low&ndash;Speed Response), 709
</p>
<p>Reading a Parameter (Not available for Power Mate&ndash;
D/F, Series 21&ndash;TA), 788
</p>
<p>Reading a Parameter (Setting Data) (Low&ndash;speed
response), 842
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>Index B&ndash;61863E/10
</p>
<p>i&ndash;6
</p>
<p>Reading a Skip Position (Stop Position of Skip Opera-
tion (G31)) of Controlled Axes, 737
</p>
<p>Reading a Skip Position (Stop Position of Skip Opera-
tion (G31)) of Controlled Axes (Low&ndash;speed
response), 850
</p>
<p>Reading a Tool Offset, 701
</p>
<p>Reading a Tool Offset (Low&ndash;Speed Response), 839
</p>
<p>Reading a Workpiece Origin Offset Value, 841
</p>
<p>Reading a Workpiece Origin Offset Value (Not Sup-
ported by the Power Mate&ndash;D or &ndash;F), 705
</p>
<p>Reading A/D Conversion Data, 750
</p>
<p>Reading A/D Conversion Data for the Feed Motor,
859
</p>
<p>Reading an Estimate Disturbance Torque Data, 874
</p>
<p>Reading an Operator Message, 799
</p>
<p>Reading and Writing of Nonvolatile Memory data,
297
</p>
<p>Reading and Writing the Laser Command Data and
Laser Setting Data, 900
</p>
<p>Reading Clock Data (Date and Time) (Not available
for Power Mate&ndash;F), 782
</p>
<p>Reading Clock Data (Low&ndash;speed response), 871
</p>
<p>Reading CNC Status Information, 797
</p>
<p>Reading CNC System Information, 699
</p>
<p>Reading Diagnosis Data (*Low&ndash;Speed Response), 748
</p>
<p>Reading Diagnosis Data (Low&ndash;speed response), 858
</p>
<p>Reading Diagnosis Data (Not available for Power
Mate&ndash;D/F, Series 21&ndash;TA), 790
</p>
<p>Reading Load Information of the Spindle Motor
(Serial Interface), 786
</p>
<p>Reading Machining Distances, 923
</p>
<p>Reading Modal Data, 743
</p>
<p>Reading Modal Data (Low&ndash;speed response), 852
</p>
<p>Reading Model Data, 919
</p>
<p>Reading of the Comment, 899
</p>
<p>Reading of Tool Setting Data, 927
</p>
<p>Reading Set Data (Not available for Power Mate&ndash;D/F,
Series 21&ndash;TA), 789
</p>
<p>Reading Setting Data, 914
</p>
<p>Reading Setting Data (*Low&ndash;Speed Response), 713
</p>
<p>Reading Signals Automatically at Power on, 367
</p>
<p>Reading the Absolute Position (Absolute Coordinates)
of Controlled Axes, 733
</p>
<p>Reading the Absolute Position on a Controlled Axis,
847
</p>
<p>Reading the Acceleration/Deceleration Delay on Con-
trolled Axes, 741, 851
</p>
<p>Reading the Actual Spindle Speed, 778
</p>
<p>Reading the Actual Velocity of Controlled Axes, 731
</p>
<p>Reading the Actual Velocity of Controlled Axes
(Low&ndash;speed response), 847
</p>
<p>Reading the CNC Alarm Status, 721, 918
</p>
<p>Reading the CNC Alarm Status (Low&ndash;speed
response), 844
</p>
<p>Reading the Current Program Number, 727
</p>
<p>Reading the Current Program Number (Low&ndash;speed
response), 845
</p>
<p>Reading the Current Sequence Number, 729
</p>
<p>Reading the Current Sequence Number (Low&ndash;speed
response, 846
</p>
<p>Reading the Estimate Disturbance Torque Data, 829
</p>
<p>Reading the Load Current (A/D Conversion Data) for
the Spindle Motor, 876
</p>
<p>Reading the Machine Position (Machine Coordinates)
of Controlled Axes, 735, 849
</p>
<p>Reading the Machining Time (Low&ndash;speed response),
875
</p>
<p>Reading the Measured Point, 924
</p>
<p>Reading the Parameter (*Low&ndash;speed Response), 907
</p>
<p>Reading the Relative Position on a Controlled Axis,
793, 872
</p>
<p>Reading the Remaining Travel, 795, 873
</p>
<p>Reading the Servo Delay for Controlled Axes, 739,
851
</p>
<p>Reading the Tool Life Management Data (Number of
Tool Groups) (Low&ndash;speed response), 862
</p>
<p>Reading the Tool Life Management Data (Tool Life
Counter Type) (Not available for Power Mate&ndash;D/F,
Series 21&ndash;TA), 805
</p>
<p>Reading the Tool Life Management Data(Tool Group
Number)(Low&ndash;speed response), 861
</p>
<p>Reading the Tool Offset Data According to the Speci-
fied Tool Number, 877
</p>
<p>Reading the Wire Diameter Offset, 903
</p>
<p>Reading Tool Life Management Data (Cutter Com-
pensation No. (1): Tool No.) (Not available for
Power Mate&ndash;D/F, Series 21&ndash;TA), 768
</p>
<p>Reading Tool Life Management Data (Cutter Com-
pensation No. (2): Tool Order No.) (Not available
for Power Mate&ndash;D/F, Series 21&ndash;TA), 770
</p>
<p>Reading Tool Life Management Data (Cutter Com-
pensation No.1) (Low&ndash;speed response), 867
</p>
<p>Reading Tool Life Management Data (Cutter Com-
pensation No.2) (Low&ndash;speed response), 868
</p>
<p>Reading Tool Life Management Data (Number of
Tool Groups) (Not available for Power Mate&ndash;D/F,
Series 21&ndash;TA), 756
</p>
<p>Reading Tool Life Management Data (Number of
Tools) (Low&ndash;speed response), 862
</p>
<p>Reading Tool Life Management Data (Number of
Tools) (Not available for Power Mate&ndash;D/F, Series
21&ndash;TA), 758
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 Index
</p>
<p>i&ndash;7
</p>
<p>Reading Tool Life Management Data (Tool Group
No.) (Not available for Power Mate&ndash;D/F, Series
21&ndash;TA), 754
</p>
<p>Reading Tool Life Management Data (Tool Informa-
tion (1) : Tool No.) (Not available for Power Mate&ndash;
D/F, Series 21&ndash;TA), 772
</p>
<p>Reading Tool Life Management Data (Tool Informa-
tion (2): Tool Order No.) (Not available for Power
Mate&ndash;D/F, Series 21&ndash;TA), 774
</p>
<p>Reading Tool Life Management Data (Tool Informa-
tion 1) (Low&ndash;speed response), 869
</p>
<p>Reading Tool Life Management Data (Tool Informa-
tion 2) (Low&ndash;speed response), 870
</p>
<p>Reading Tool Life Management Data (Tool Length
Compensation No. (1): Tool No.) (Not available for
Power Mate&ndash;D/F, Series 21&ndash;TA), 764
</p>
<p>Reading Tool Life Management Data (Tool Length
Compensation No. (2): Tool Order No.) (Not avail-
able for Power Mate&ndash;D/F, Series 21&ndash;TA), 766
</p>
<p>Reading Tool Life Management Data (Tool Length
Compensation No.1) (Low&ndash;speed response), 865
</p>
<p>Reading Tool Life Management Data (Tool Life
Counter Type) (Low&ndash;speed response), 864
</p>
<p>Reading Tool Life Management Data (Tool Life
Counter) (Low&ndash;speed response), 863
</p>
<p>Reading Tool Life Management Data (Tool Life
Counter) (Not available for Power Mate&ndash;D/F, Series
21&ndash;TA), 762
</p>
<p>Reading Tool Life Management Data (Tool Life)
(Low&ndash;speed response), 863
</p>
<p>Reading Tool Life Management Data (Tool Life) (Not
available for Power Mate&ndash;D/F, Series 21&ndash;TA), 760
</p>
<p>Reading Tool Life Management Data (Tool No.) (Not
available for Power Mate&ndash;D/F, Series 21&ndash;TA), 776
</p>
<p>Reading Tool Life Management Data (Tool Number)
(Low&ndash;speed response), 870
</p>
<p>Reading Tool Setting Data by Specifying Tool Num-
ber, 932
</p>
<p>Reading Value of the P&ndash;code Macro Variable (*Low&ndash;
speed response), 801
</p>
<p>Registering the Tool Life Management Data (Tool
Group) (*Low&ndash;Speed response) (Not available for
Power Mate&ndash;D/F, Series 21&ndash;TA), 807
</p>
<p>Remove Command &ndash; File Copy, 687
</p>
<p>Rename Command &ndash; File Attribute Change, 685
</p>
<p>Repetitive Operation, 27
</p>
<p>Restrictions, 325, 496
</p>
<p>ROM Format Program, 647, 654, 657
</p>
<p>ROT (Rotation Control), 142
</p>
<p>ROTB (Binary Rotation Control), 145
</p>
<p>RST, 96
</p>
<p>[S]
Scratch Command &ndash; Deletion of Files, 686
</p>
<p>Screen Display, 379
</p>
<p>Screen for Displaying Traced Data, 508
</p>
<p>Screen of Ladder Debugging Function, 509
</p>
<p>Search of Sequence Program, 449
</p>
<p>Search of Specified Relay Coil Points in Ladder Dia-
gram, 412
</p>
<p>Searching a Sequence Program, 669
</p>
<p>Searching for an Address (SRCH), 463
</p>
<p>Selecting the PMC Programmer Menu, 522
</p>
<p>Selection of Program Menu by Soft Keys, 660
</p>
<p>Selection of Programmer Menus by Softkeys, 429
</p>
<p>Sequence Program, 25
</p>
<p>Sequence Program Check and Write into ROM (Steps
8 to 11), 23
</p>
<p>Sequence Program Copy Function, 495
</p>
<p>Sequence Program Creating Procedure, 3
</p>
<p>Sequence Program Entry (Steps 6, 7), 23
</p>
<p>Sequence Program Generation (LADDER), 440
</p>
<p>Sequence Program Input, 441, 662
</p>
<p>Sequence Program Memory Capacity, 41
</p>
<p>Sequence Program Processing Time, 39
</p>
<p>Sequence Program Structuring, 32, 310
</p>
<p>SET, 94
</p>
<p>Set Items, 478
</p>
<p>Setting and Display Screen, 389
</p>
<p>Setting and Displaying System Parameters (System
Param), 523
</p>
<p>Setting I/O Commands, 676
</p>
<p>Setting Method, 515
</p>
<p>Setting of I/O Device, 619
</p>
<p>Setting on the NC Parameter Screen, 515
</p>
<p>Setting Screen, 398
</p>
<p>Setting the Transfer Speed ([SPEED] Soft Key), 490
</p>
<p>Setting/Clearing OVERRIDE, 383
</p>
<p>Setting/Operation for Enabling Forced Input/Output,
378
</p>
<p>SFT (Shift Register), 179
</p>
<p>Signal Address Conversion (from the PMC&ndash;MODEL
L/M to the PMC&ndash;MODEL RB/RC), 935
</p>
<p>Signal Diagnosis Screen, 366
</p>
<p>Signal Names, 305
</p>
<p>Signals for Connecting the Operator&rsquo;s Panel, 942
</p>
<p>Soft key menu of Ladder Debugging Function, 510
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>Index B&ndash;61863E/10
</p>
<p>i&ndash;8
</p>
<p>Source Program, 645, 650
</p>
<p>SP (Subprogram), 280
</p>
<p>SPCNT (Spindle Control), 269
</p>
<p>Spe (End of a Subprogram), 281
</p>
<p>Special Uses of the R3 Key, 659
</p>
<p>Specification, 576
</p>
<p>Specification and Display of System Parameters
(SYSPRM), 950
</p>
<p>Specification of PMCs, 5
</p>
<p>Specification of Step Sequence, 575
</p>
<p>Specifications, 314, 321, 362, 504
</p>
<p>Specifying Addresses, 945
</p>
<p>Specifying and Displaying System Parameters
(SYSPRM), 431
</p>
<p>Specifying and Displaying Title Data (TITLE), 437
</p>
<p>Start and Stop of a Sequence Program, 473
</p>
<p>Starting and Stopping the On&ndash;line Debugging Func-
tion, 535
</p>
<p>Starting and Stopping the Sequence Program (RUN/
STOP), 530
</p>
<p>Starting Ladder Mnemonics Editing, 525
</p>
<p>Starting or Stopping the Trace Function, 358
</p>
<p>Starting the Sequence Program, 474
</p>
<p>Step, 563
</p>
<p>Step Operation [STEP], 511
</p>
<p>Step Sequence Basics, 548
</p>
<p>Step Sequence Corresponded C Language, 981
</p>
<p>Step Sequence Method, 542
</p>
<p>Step Sequence Screen, 588, 598
</p>
<p>Stop Function of Break with Condition [BRKCTL],
512
</p>
<p>Stop of Ladder Diagram Display by Trigger of Signal,
413
</p>
<p>Storage and Control of Sequence Program (Steps 12 to
14), 24
</p>
<p>Storage to a Memory Card, 484
</p>
<p>Storage to Flash ROM, 482
</p>
<p>Storing the Sequence Program into Flash Eeprom
(I/O) (Only for the Power Mate&ndash;H), 532
</p>
<p>SUB (Subtraction), 195
</p>
<p>SUBB (Binary Subtraction), 197
</p>
<p>Subprogram Numbers (CALL, CALLU, SP) (P), 81
</p>
<p>Subprogramming and Nesting, 315
</p>
<p>Substitution of Sequence Programs, 665
</p>
<p>Summary of Specification of Ladder Program, 15
</p>
<p>Switch Statement, 989
</p>
<p>Symbol and Comment Display, 411
</p>
<p>Symbol Data and Comment Input, 459
</p>
<p>Symbol Data Display, 673
</p>
<p>Symbol Data Search (SRCH), 459
</p>
<p>Symbol Data Setting (SYMBOL), 458
</p>
<p>Symbols Used in the Ladder Diagram, 306
</p>
<p>System Diagram of Soft Key, 952
</p>
<p>System Floppy, 624
</p>
<p>[T]
Terminology, 549
</p>
<p>The Value of Functional Instruction Parameter, 408
</p>
<p>Time Screen, 593
</p>
<p>Timer Addresses (T), 78
</p>
<p>Timer Screen, 593
</p>
<p>Timer Screen (TIMER), 389
</p>
<p>Timer Set Time Address, 128
</p>
<p>Timer, Counter, Keep Relay, Nonvolatile Memory
Control, Data Table, 295
</p>
<p>TMR (Timer), 123
</p>
<p>TMRB (Fixed Timer), 125
</p>
<p>TMRC (Timer), 127
</p>
<p>Trace Function (Trace), 357
</p>
<p>Trace Screen, 359
</p>
<p>Transfer Between Data Area and Non&ndash;Volatile
Memory, 895
</p>
<p>Transfer to and from a FANUC FD Cassette, 480
</p>
<p>Transfer to and from a FAPT LADDER, 480
</p>
<p>Transfer to and from a ROM WRITER, 491
</p>
<p>Transition, 566
</p>
<p>[U]
User PMC Screen (PCMDI), 417
</p>
<p>[W]
What is a Sequence Program?, 19
</p>
<p>While Statement, 981
</p>
<p>WINDOW (Writing CNC Window Data), 240
</p>
<p>Window Function Description (Except FS 15B PMC&ndash;
NB/NB2), 694
</p>
<p>Window Function Description (FS15B PMC&ndash;NB/
NB2) , 833
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61863E/10 Index
</p>
<p>i&ndash;9
</p>
<p>Window Function Description (FS16&ndash;LA), 894
</p>
<p>Window Function Description (FS16&ndash;PA), 927
</p>
<p>Window Function Description (FS16&ndash;W), 903
</p>
<p>WINDR (Reading CNC Window Data), 237
</p>
<p>Writing a Custom Macro Variable, 881
</p>
<p>Writing a Custom Macro Variable (*Low&ndash;Speed
Response), 719
</p>
<p>Writing a Data on the Program Check Screen, 882
</p>
<p>Writing a Parameter (*Low&ndash;Speed Response), 711
</p>
<p>Writing a Parameter (Setting Data), 880
</p>
<p>Writing a Tool Offset (*Low&ndash;speed response), 703
</p>
<p>Writing a Tool Offset Data, 879
</p>
<p>Writing a Workpiece Origin Offset Value (*Low&ndash;
Speed Response) (Not Supported by the Power
Mate&ndash;D or &ndash;F), 707
</p>
<p>Writing of Tool Setting Data (Low&ndash;speed Response),
930
</p>
<p>Writing Setting Data (*Low&ndash;Speed Response), 715
</p>
<p>Writing Setting Data (Low&ndash;Speed Type), 915
</p>
<p>Writing the Feedrate, 893
</p>
<p>Writing the Measured Point (*Low&ndash;speed Response),
926
</p>
<p>Writing the Parameter (*Low&ndash;speed Response), 909
</p>
<p>Writing the Superposition Move Command, 891
</p>
<p>Writing the Tool Life Management Data (Cutter Com-
pensation Number (1) : Tool Number) (*Low&ndash;Speed
Response) (Not available for Power Mate&ndash;D/F,
Series 21&ndash;TA), 819
</p>
<p>Writing the Tool Life Management Data (Cutter Com-
pensation Number (2) : Tool Operation Sequence
Number) (*Low&ndash;Speed Response) (Not available
for Power Mate&ndash;D/F, Series 21&ndash;TA), 821
</p>
<p>Writing the Tool Life Management Data (Cutter Com-
pensation Number 1), 887
</p>
<p>Writing the Tool Life Management Data (Cutter Com-
pensation Number 2), 887
</p>
<p>Writing the Tool Life Management Data (Tool Condi-
tion (1) : Tool Number) (*Low&ndash;Speed Response)
(Not available for Power Mate&ndash;D/F, Series 21&ndash;TA),
823
</p>
<p>Writing the Tool Life Management Data (Tool Group
Number), 883
</p>
<p>Writing the Tool Life Management Data (Tool
Information 1), 888
</p>
<p>Writing the Tool Life Management Data (Tool
Information 2), 888
</p>
<p>Writing the Tool Life Management Data (Tool Length
Compensation Number 1), 886
</p>
<p>Writing the Tool Life Management Data (Tool Length
Compensation Number 2), 886
</p>
<p>Writing the Tool Life Management Data (Tool Length
Offset Number (1) : Tool Number) (*Low&ndash;Speed
Response) (Not available for Power Mate&ndash;D/F,
Series 21&ndash;TA), 815
</p>
<p>Writing the Tool Life Management Data (Tool Length
Offset Number (2) : Tool Operation Sequence Num-
ber) (*Low&ndash;Speed Response) (Not available for
Power Mate&ndash;D/F, Series 21&ndash;TA), 817
</p>
<p>Writing the Tool Life Management Data (Tool Life
Counter Type), 885
</p>
<p>Writing the Tool Life Management Data (Tool Life
Counter Type) (*Low&ndash;Speed Response) (Not avail-
able for Power Mate&ndash;D/F, Series 21&ndash;TA), 813
</p>
<p>Writing the Tool Life Management Data (Tool Life
Counter), 884
</p>
<p>Writing the Tool Life Management Data (Tool Life
Counter) (*Low&ndash;Speed response) (Not available for
Power Mate&ndash;D/F, Series 21&ndash;TA), 811
</p>
<p>Writing the Tool Life Management Data (Tool Life),
884
</p>
<p>Writing the Tool Life Management Data (Tool life)
(*Low&ndash;Speed response) (Not available for Power
Mate&ndash;D/F, Series 21&ndash;TA), 809
</p>
<p>Writing the Tool Life Management Data (Tool Num-
ber), 889
</p>
<p>Writing the Tool Life Management Data (Tool Num-
ber) (*Low&ndash;Speed Response) (Not available for
Power Mate&ndash;D/F, Series 21&ndash;TA), 827
</p>
<p>Writing the Tool Management Data (Tool condition
(2) : Tool Operation Sequence Number) (*Low&ndash;
Speed Response) (Not available for Power Mate&ndash;
D/F, Series 21&ndash;TA), 825
</p>
<p>Writing the Tool offset Data According to the Speci-
fied Tool Number, 890
</p>
<p>Writing the Torque Limit Override, 883
</p>
<p>Writing the Wire Diameter Offset (*Low&ndash;speed
Response), 905
</p>
<p>Writing Value of the P&ndash;code Macro Variable (*Low&ndash;
speed response), 803
</p>
<p>Writing, Reading, and Verifying the Sequence Pro-
gram and PMC Parameter Data, 475
</p>
<p>WRT, 88
</p>
<p>WRT. NOT, 89
</p>
<p>[X]
XMOV (Indexed Data Transfer), 186
</p>
<p>XMOVB (Binary Index Modifier Data Transfer), 189
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>R
ev
</p>
<p>is
io
</p>
<p>n 
R
</p>
<p>ec
or
</p>
<p>d
</p>
<p>FA
N
</p>
<p>U
C
</p>
<p> P
M
</p>
<p>C
&ndash;M
</p>
<p>O
D
</p>
<p>E
L 
</p>
<p>PA
1/
</p>
<p>PA
3/
</p>
<p>R
A
</p>
<p>1/
R
</p>
<p>A
2/
</p>
<p>R
A
</p>
<p>3/
R
</p>
<p>A
5/
</p>
<p>R
B
</p>
<p>/R
B
</p>
<p>2/
R
</p>
<p>B
3/
</p>
<p>R
B
</p>
<p>4/
R
</p>
<p>B
5/
</p>
<p>R
B
</p>
<p>6/
R
</p>
<p>C
/R
</p>
<p>C
3/
</p>
<p>R
C
</p>
<p>4/
N
</p>
<p>B
/N
</p>
<p>B
2
</p>
<p>LA
D
</p>
<p>D
E
</p>
<p>R
 L
</p>
<p>A
N
</p>
<p>G
U
</p>
<p>A
G
</p>
<p>E
 P
</p>
<p>R
O
</p>
<p>G
R
</p>
<p>A
M
</p>
<p>M
IN
</p>
<p>G
 M
</p>
<p>A
N
</p>
<p>U
A
</p>
<p>L 
(B
</p>
<p>&ndash;6
18
</p>
<p>63
E
</p>
<p>)
</p>
<p>05
M
</p>
<p>ay
,&rsquo;9
</p>
<p>4
</p>
<p>A
dd
</p>
<p>iti
on
</p>
<p> o
f P
</p>
<p>M
C
</p>
<p>&ndash;M
O
</p>
<p>D
E
</p>
<p>L 
R
</p>
<p>B
4/
</p>
<p>R
C
</p>
<p>4
A
</p>
<p>dd
iti
</p>
<p>on
 o
</p>
<p>f t
he
</p>
<p> fo
llo
</p>
<p>w
in
</p>
<p>g 
A
</p>
<p>pp
en
</p>
<p>di
x.
</p>
<p>�
W
</p>
<p>in
do
</p>
<p>w
 fu
</p>
<p>nc
tio
</p>
<p>n 
de
</p>
<p>sc
rip
</p>
<p>tio
n
</p>
<p>(F
S
</p>
<p>16
&ndash;L
</p>
<p>A
)
</p>
<p>�
W
</p>
<p>in
do
</p>
<p>w
 fu
</p>
<p>nc
tio
</p>
<p>n 
de
</p>
<p>sc
rip
</p>
<p>tio
n
</p>
<p>(F
S
</p>
<p>16
&ndash;W
</p>
<p>)
�
</p>
<p>W
in
</p>
<p>do
w
</p>
<p> fu
nc
</p>
<p>tio
n 
</p>
<p>de
sc
</p>
<p>rip
tio
</p>
<p>n
(F
</p>
<p>S
16
</p>
<p>P
A
</p>
<p>)
�
</p>
<p>P
M
</p>
<p>C
 M
</p>
<p>O
D
</p>
<p>E
L 
</p>
<p>R
A
</p>
<p>1/
R
</p>
<p>A
3 
</p>
<p>S
up
</p>
<p>pl
em
</p>
<p>en
ta
</p>
<p>ry
 E
</p>
<p>xp
la
</p>
<p>na
tio
</p>
<p>n 
of
</p>
<p>P
ro
</p>
<p>gr
am
</p>
<p>m
in
</p>
<p>g
</p>
<p>10
D
</p>
<p>ec
., 
</p>
<p>&rsquo;9
7
</p>
<p>C
or
</p>
<p>re
sp
</p>
<p>on
ds
</p>
<p> to
 1
</p>
<p>6i
/1
</p>
<p>8i
/2
</p>
<p>1i
&ndash;M
</p>
<p>O
D
</p>
<p>E
L 
</p>
<p>A
</p>
<p>04
A
</p>
<p>ug
.,&rsquo;
</p>
<p>93
A
</p>
<p>dd
iti
</p>
<p>on
 o
</p>
<p>f P
M
</p>
<p>C
&ndash;M
</p>
<p>O
D
</p>
<p>E
L
</p>
<p>P
A
</p>
<p>1/
P
</p>
<p>A
3/
</p>
<p>R
A
</p>
<p>3/
R
</p>
<p>B
3/
</p>
<p>R
C
</p>
<p>3/
N
</p>
<p>B
.
</p>
<p>09
M
</p>
<p>ar
.,&rsquo;
</p>
<p>96
A
</p>
<p>dd
iti
</p>
<p>on
 P
</p>
<p>M
C
</p>
<p>&ndash;N
B
</p>
<p>2
</p>
<p>03
M
</p>
<p>ar
., 
</p>
<p>&rsquo;9
2
</p>
<p>A
dd
</p>
<p>iti
on
</p>
<p> o
f P
</p>
<p>M
C
</p>
<p>&ndash;M
O
</p>
<p>D
E
</p>
<p>L 
R
</p>
<p>A
1/
</p>
<p>R
A
</p>
<p>2/
R
</p>
<p>B
2
</p>
<p>08
O
</p>
<p>ct
.,&rsquo;
</p>
<p>95
A
</p>
<p>dd
iti
</p>
<p>on
 o
</p>
<p>f P
M
</p>
<p>C
&ndash;R
</p>
<p>B
5/
</p>
<p>R
B
</p>
<p>6
</p>
<p>02
A
</p>
<p>ug
., 
</p>
<p>&rsquo;9
1
</p>
<p>A
ll 
</p>
<p>pa
ge
</p>
<p>s 
ar
</p>
<p>e 
re
</p>
<p>vi
se
</p>
<p>d.
P
</p>
<p>M
C
</p>
<p>&ndash;M
O
</p>
<p>D
E
</p>
<p>L 
R
</p>
<p>C
 is
</p>
<p> a
dd
</p>
<p>ed
.
</p>
<p>07
A
</p>
<p>pr
.,&rsquo;
</p>
<p>95
To
</p>
<p>ta
l r
</p>
<p>ev
is
</p>
<p>io
n
</p>
<p>01
O
</p>
<p>ct
., 
</p>
<p>&rsquo;9
0
</p>
<p>06
N
</p>
<p>ov
.,&rsquo;
</p>
<p>94
C
</p>
<p>or
re
</p>
<p>sp
on
</p>
<p>ds
 to
</p>
<p> 1
8&ndash;
</p>
<p>B
</p>
<p>E
di
</p>
<p>tio
n
</p>
<p>D
at
</p>
<p>e
C
</p>
<p>on
te
</p>
<p>nt
s
</p>
<p>E
di
</p>
<p>tio
n
</p>
<p>D
at
</p>
<p>e
C
</p>
<p>on
te
</p>
<p>nt
s
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>&middot;  No part of this manual may be
reproduced in any form.
</p>
<p>&middot;  All specifications and designs
are subject to change without
notice.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<ul>	<li>Cover Sheet.pdf</li>
	<li>61863E.PDF</li>
<ul>	<li>WARNINGS, CAUTIONS, AND NOTES</li>
	<li>TABLE OF CONTENTS</li>
	<li>PREFACE</li>
<ul>	<li>Applicable Models</li>
	<li>Related Manuals</li>
</ul>
	<li>PMC SEQUENCE PROGRAM</li>
<ul>	<li>Sequence Program Creating Procedure</li>
<ul>	<li>Specifications for PMC</li>
	<li>Specifications for Ladder Program</li>
	<li>Sequence Program</li>
	<li>Creation of Interface Specifications (Steps 1 to 3)</li>
	<li>Creation of Ladder Diagram (Step 4)</li>
	<li>Coding (Step 5)</li>
	<li>Sequence Program Entry (Steps 6 and 7)</li>
	<li>Sequence Program Check and Write into ROM (Steps 8 to 11)</li>
	<li>Storage and Control of Sequence Program (Steps 12 to 14)</li>
</ul>
	<li>Sequence Program</li>
<ul>	<li>Execution Procedure</li>
	<li>Repetitive Operation</li>
	<li>Priority of Execution</li>
	<li>Sequence Program Structuring</li>
	<li>Processing I/O Signals</li>
<ul>	<li>Input Signal Processing</li>
	<li>Output Signal Processing</li>
	<li>I/O Signals to CNC</li>
	<li>Difference of the Status of the Signals between Levels</li>
</ul>
	<li>Interlocking</li>
	<li>Sequence Program Processing Time</li>
	<li>Sequence Program Memory Capacity</li>
</ul>
	<li>Addresses</li>
<ul>	<li>Alphabetic Characters in Address Numbers</li>
	<li>Addresses between the PMC and the CNC</li>
	<li>Addresses between the PMC and the Machine Tool</li>
<ul>	<li>PMC-RB/RC</li>
	<li>Assignment of I/O Module Addresses</li>
	<li>I/O Link Connection Unit Assignment</li>
	<li>I/O Unit Model B Assignment</li>
	<li>Power Mate Model D/H Assignment</li>
</ul>
	<li>Internal Relay Addresses</li>
<ul>	<li>Area Managed by the System Program</li>
</ul>
	<li>Addresses for Message Selection Displayed on the CRT (A)</li>
	<li>Address of Counter (C)</li>
	<li>Address of Keep Relay and Non-Volatile Memory Control (K)</li>
	<li>Address of Data Table (D)</li>
	<li>Timer Addresses (T)</li>
	<li>Label Addresses (L)</li>
	<li>Subprogram Numbers (CALL, CALLU, SP) (P)</li>
</ul>
	<li>PMC Basic Instructions</li>
<ul>	<li>Details of Basic Instructions</li>
<ul>	<li>RD</li>
	<li>RD.NOT</li>
	<li>WRT</li>
	<li>WRT.NOT</li>
	<li>AND</li>
	<li>AND.NOT</li>
	<li>OR</li>
	<li>OR.NOT</li>
	<li>RD.STK</li>
	<li>RD.NOT.STK</li>
	<li>AND.STK</li>
	<li>OR.STK</li>
	<li>SET</li>
	<li>RST</li>
</ul>
</ul>
	<li>Functional Instructions</li>
<ul>	<li>Sequence Program End - First Level  (END1)</li>
	<li>Sequence Program End - Second Level  (END2)</li>
	<li>Sequence Program End - Third Level  (END3)</li>
	<li>Timer  (TMR)</li>
	<li>Fixed Timer  (TMRB)</li>
	<li>Timer  (TMRC)</li>
	<li>Decode  (DEC)</li>
	<li>Binary Decoding  (DECB)</li>
	<li>Counter  (CTR)</li>
	<li>Counter  (CTRC)</li>
	<li>Rotation Control  (ROT)</li>
	<li>Binary Rotation Control  (ROTB)</li>
	<li>Code Conversion  (COD)</li>
	<li>Binary Code Conversion  (CODB)</li>
	<li>Logical Product Transfer  (MOVE)</li>
	<li>Data Transfer after Logical Sum  (MOVOR)</li>
	<li>Common Line Control  (COM)</li>
	<li>Common Line Control End  (COME)</li>
	<li>Jump  (JMP)</li>
	<li>Jump End  (JMPE)</li>
	<li>Parity Check  (PARI)</li>
	<li>Data Conversion  (DCNV)</li>
	<li>Extended Data Conversion  (DCNVB)</li>
	<li>Comparison  (COMP)</li>
	<li>Comparison between Binary Data  (COMPB)</li>
	<li>Coincidence Check  (COIN)</li>
	<li>Shift Register  (SFT)</li>
	<li>Data Search  (DSCH)</li>
	<li>Binary Data Search  (DSCHB)</li>
	<li>Indexed Data Transfer  (XMOV)</li>
	<li>Binary Index Modifier Data Transfer  (XMOVB)</li>
	<li>Addition  (ADD)</li>
	<li>Binary Addition  (ADDB)</li>
	<li>Subtraction  (SUB)</li>
	<li>Binary Subtraction  (SUBB)</li>
	<li>Multiplication  (MUL)</li>
	<li>Binary Multiplication  (MULB)</li>
	<li>Division  (DIV)</li>
	<li>Binary Division  (DIVB)</li>
	<li>Definition of Constant  (NUME)</li>
	<li>Definition of Binary Constants  (NUMEB)</li>
	<li>Message Display  (DISP)</li>
	<li>Message Display  (DISPB)</li>
	<li>External Data Input  (EXIN)</li>
	<li>Reading CNC Window Data  (WINDR)</li>
	<li>Writing CNC Window Data  (WINDOW)</li>
	<li>Arbitrary Functional Instructions</li>
	<li>Reading MMC Window Data  (MMCWR)</li>
	<li>Writing MMC Window Data  (MMCWW)</li>
	<li>Transfer of One Byte  (MOVB)</li>
	<li>Transfer of Two Bytes  (MOVW)</li>
	<li>Transfer of an Arbitrary Number of Bytes  (MOVN)</li>
	<li>Rising Edge Detection  (DIFU)</li>
	<li>Falling Edge Detection  (DIFD)</li>
	<li>Exclusive OR  (EOR)</li>
	<li>Logical AND</li>
	<li>Logical OR</li>
	<li>Logical NOT  (NOT)</li>
	<li>MMC-III Window Data Read  (MMC3R)</li>
	<li>MMC-III Window Data Write  (MMC3W)</li>
	<li>Spindle Control  (SPCNT)</li>
	<li>End of a Ladder Program  (END)</li>
	<li>Conditional Subprogram Call  (CALL)</li>
	<li>Unconditional Subprogram Call  (CALLU)</li>
	<li>Subprogram  (SP)</li>
	<li>End of a Subprogram  (SPE)</li>
	<li>Label Jump  (JMPB)</li>
	<li>Label Jump  (JMPC)</li>
	<li>Label  (LBL)</li>
	<li>Axis Control by PMC  (AXCTL)</li>
	<li>Position Signal Output  (PSGNL)</li>
	<li>Position Signal Output 2  (PSGN2)</li>
</ul>
	<li>Non-Volatile Memory</li>
<ul>	<li>Timer, Counter, Keep Relay, Non-Volatile Memory Control, Data Table</li>
	<li>Reading and Writing Non-Volatile Memory Data</li>
	<li>PMC Data Table</li>
</ul>
	<li>Ladder Diagram Format</li>
<ul>	<li>Addresses, Signal Names, Comments, and Line Numbers</li>
<ul>	<li>Addresses</li>
	<li>Signal Names</li>
	<li>Comments</li>
	<li>Line Numbers</li>
</ul>
	<li>Symbols Used in the Ladder Diagram</li>
	<li>Ladder Diagram Format</li>
	<li>Infinite Number of Relay Contacts</li>
</ul>
	<li>Miscellaneous Item</li>
	<li>Sequence Program Structuring</li>
<ul>	<li>Examples of Structured Programming</li>
<ul>	<li>Implementation Techniques</li>
	<li>Applications</li>
	<li>Specifications</li>
</ul>
	<li>Subprogramming and Nesting</li>
<ul>	<li>Function</li>
	<li>Execution Method</li>
	<li>Creating a Program</li>
</ul>
	<li>Cautions for Subroutines</li>
</ul>
	<li>JMP Instructions with Label Specification</li>
<ul>	<li>Specifications</li>
	<li>Restrictions</li>
</ul>
</ul>
	<li>PMC OPERATION  (CRT/MDI)</li>
<ul>	<li>General</li>
<ul>	<li>For Non-Standard MDI Units</li>
	<li>Automatic Operation When Power is Turned ON</li>
	<li>Clearing the Sequence Program</li>
	<li>Loading the Standard Ladder</li>
	<li>Ladder Password Function</li>
	<li>PMC Operation for Loader Control Function</li>
</ul>
	<li>PMC Menu Selection Procedure by Softkey</li>
	<li>PMC I/O Signal Display and Internal Relay Display  (PMCDGN)</li>
<ul>	<li>Displaying Title Data</li>
	<li>Display of Signal Status  (STATUS)</li>
	<li>Alarm Screen  (ALARM)</li>
	<li>Trace Function  (TRACE)</li>
<ul>	<li>Operation</li>
	<li>Parameter Setting Screen</li>
	<li>Starting or Stopping the Trace Function</li>
	<li>Trace Screen</li>
	<li>Automatic Tracing Function at Power-On</li>
</ul>
	<li>Displaying the Contents of Memory</li>
<ul>	<li>Operation</li>
	<li>Function for Storing Data in Memory</li>
</ul>
	<li>Function for Displaying Signal Waveforms  (ANALYS)</li>
<ul>	<li>Specifications</li>
	<li>Operation</li>
	<li>Parameter Screen</li>
	<li>Signal Diagnosis Screen</li>
	<li>Reading Signals Automatically at Power-On</li>
</ul>
	<li>Displaying the Running State of a User Task  (USRDGN)</li>
	<li>Displaying and Setting the Configuration of I/O Devices  (IOCHK)</li>
<ul>	<li>I/O Link Connecting Check Screen</li>
	<li>I/O Link-II Parameter Setting Screen</li>
</ul>
	<li>Forced Input / Output Function</li>
<ul>	<li>Overview</li>
	<li>Enabling Forced Input / Output</li>
	<li>Screen Display</li>
	<li>Modifying the Values of Signals</li>
	<li>Setting / Clearing Override</li>
</ul>
</ul>
	<li>PMC Parameters Setting and Display  (PMCPRM)</li>
<ul>	<li>Outline</li>
	<li>Input PMC Parameters from MDI Panel</li>
<ul>	<li>Multiple Data Input</li>
</ul>
	<li>Setting and Display Screen</li>
<ul>	<li>Timer Screen  (TIMER)</li>
	<li>Counter Screen  (COUNTR)</li>
	<li>Keep Relay  (KEEPRL)</li>
	<li>Data Table  (DATA)</li>
</ul>
	<li>Setting Screen</li>
<ul>	<li>Other Setting Screens</li>
</ul>
	<li>Notes</li>
</ul>
	<li>PMC Ladder Diagram Display  (PMCLAD)</li>
<ul>	<li>Ladder Diagram Display</li>
	<li>Dump Display on Ladder Diagram</li>
	<li>Parameter Display on Ladder Diagram</li>
<ul>	<li>Value of Functional Instruction Parameter</li>
</ul>
	<li>Symbol and Comment Display</li>
	<li>Search of Specified Relay Coil Points in Ladder Diagram</li>
	<li>Stop of Ladder Diagram Display by Trigger of Signal</li>
	<li>Dividing Display of Ladder Diagram</li>
	<li>On-Line Edit</li>
</ul>
	<li>User PMC Screen  (PMCMDI)</li>
<ul>	<li>For the Series 16</li>
	<li>For the Series 15</li>
</ul>
</ul>
	<li>PMC PROGRAMMER  (CRT/MDI)</li>
<ul>	<li>General</li>
	<li>Component Units and Connections</li>
<ul>	<li>Component Units</li>
<ul>	<li>Main CPU Board for Series 16</li>
	<li>Option 3 Board for Series 16</li>
	<li>Main CPU Board for Series 18</li>
</ul>
	<li>Connecting Component Units</li>
</ul>
	<li>Selection of Programmer Menus by Soft Keys</li>
	<li>Specifying and Displaying System Parameters  (SYSPRM)</li>
	<li>Editing of Sequence Program  (EDIT)</li>
<ul>	<li>Specifying and Displaying Title Data  (TITLE)</li>
<ul>	<li>Entering Title Data</li>
	<li>Deleting Title Data</li>
	<li>Editing Character Strings of Title Data</li>
</ul>
	<li>Sequence Program Generation  (LADDER)</li>
<ul>	<li>Inputting a Program</li>
	<li>Changing a Program</li>
	<li>Inserting a Program</li>
	<li>Deleting a Program</li>
	<li>Searching a Program</li>
	<li>Copying a Program</li>
	<li>Moving a Program</li>
	<li>Editing Symvol Data and Comments</li>
	<li>Changing the Address of a Program</li>
</ul>
	<li>I/O Unit Address Setting  (MODULE)</li>
	<li>Symbol Data Setting  (SYMBOL)</li>
<ul>	<li>Inputting Symbol Data</li>
	<li>Searching Symbol Data (SRCH)</li>
	<li>Deleting Symbol Data</li>
	<li>Editing Character Strings</li>
	<li>Editing Symbol and Comment Data at One Time</li>
	<li>Copying Symbol Data</li>
</ul>
	<li>Message Data Setting  (MESSAGE)</li>
<ul>	<li>Inputting Message Data</li>
	<li>Searching for an Address (SRCH)</li>
	<li>Editing a Character String</li>
	<li>Inputting with a Katakana Identification Code</li>
	<li>Copying Message Data (COPY)</li>
	<li>Inputting a Multi-Byte Character (D.CHAR)</li>
	<li>Displaying Input Code (DSPMOD)</li>
</ul>
	<li>Clearing and Condensing the Sequence Program</li>
<ul>	<li>Clearing the Program</li>
	<li>Compressing the Program</li>
	<li>Clearing the PMC Parameter</li>
</ul>
	<li>Cross-Reference Display</li>
<ul>	<li>Operation</li>
	<li>Parameter Setting Screen</li>
</ul>
</ul>
	<li>Executing a Sequence Program</li>
<ul>	<li>Starting and Stopping a Program</li>
	<li>Starting the Program</li>
	<li>Forcibly Stopping the Program</li>
</ul>
	<li>Writing, Reading, and Verifying the Sequence Program and PMC Parameter Data</li>
<ul>	<li>Overview</li>
<ul>	<li>C Input/Output</li>
</ul>
	<li>Set Items</li>
	<li>Operations</li>
<ul>	<li>Transfer to and from a FAPT Ladder</li>
	<li>Transfer to and from a Cassette</li>
	<li>Storing to Flash ROM</li>
	<li>Storing to a Memory Card</li>
	<li>Data Input to and Output from Other Devices</li>
	<li>Setting the Transfer Speed</li>
	<li>Transfer to and from a ROM Writer</li>
	<li>Using an MDI Keyboard without Cursor Keys</li>
</ul>
	<li>I/O Error Messages</li>
	<li>Sequence Program Copy Function</li>
<ul>	<li>Copying Title Data  (CPYTTL)</li>
	<li>Copying a Ladder Program  (CPYLAD)</li>
	<li>Copying Symbol Data and Comments  (CPYSYM)</li>
	<li>Copying Message Data  (CPYMSG)</li>
	<li>Copying All Sequence Programs  (CPYALL)</li>
	<li>Copying I/O Module Data  (CPYMDL)</li>
	<li>Restrictions</li>
</ul>
</ul>
	<li>Functions for Displaying Memory Areas and Debugging the Program  (MONIT)</li>
<ul>	<li>Displaying the Global Descriptor Table  (GDT)</li>
<ul>	<li>Operation</li>
	<li>Descriptions of Displayed Items</li>
</ul>
	<li>Displaying the Memory Allocation Information of a User Program Coded in C</li>
<ul>	<li>Operation</li>
	<li>Displayed Items</li>
</ul>
	<li>Debugging</li>
<ul>	<li>Specifications</li>
	<li>Operation</li>
	<li>Parameter Screen</li>
	<li>Screen for Displaying Traced Data</li>
	<li>Enabling Automatic Debugging at Power-On</li>
	<li>Notes</li>
</ul>
	<li>Ladder Debugging Function</li>
<ul>	<li>Screen Display</li>
	<li>Soft Key Menu</li>
	<li>Step Operation  (STEP)</li>
	<li>Stop Function of Break with Condition  (BRKCTL)</li>
</ul>
	<li>Online Function</li>
<ul>	<li>Online Setting Screen</li>
	<li>Setting Method</li>
	<li>Setting on the NC Parameter Screen</li>
</ul>
</ul>
	<li>Error Messages  (for Edit)</li>
	<li>Error Messages  (for I/O)</li>
	<li>PMC Programmer  (DPL/MDI)(Only for Power Mate D / F / H)</li>
<ul>	<li>Selecting the PMC Programmer Menu</li>
	<li>Setting and Displaying System Parameters  (SYSTEM PARAM)</li>
	<li>Editing the Sequence Program  (EDIT)</li>
	<li>Editing Ladder Mnemonics</li>
<ul>	<li>Starting Ladder Mnemonics Editing</li>
	<li>Confirming the Ladder Mnemonics</li>
	<li>Modifying the Ladder Mnemonics</li>
	<li>Ending Ladder Mnemonics Editing</li>
	<li>Starting and Stopping the Sequence Program  (RUN/STOP)</li>
	<li>Error Messages</li>
	<li>Storing the Sequence Program into Flash EEPROM  (I/O)</li>
	<li>Error Details</li>
	<li>Input / Output Ladder / PMC-Parameter by MDI/DPL</li>
<ul>	<li>Office Programmer</li>
	<li>Floppy Cassette</li>
</ul>
	<li>Online Debugging Function  (Power Mate H)</li>
<ul>	<li>Starting and Stopping Online Debugging</li>
</ul>
	<li>Error List</li>
</ul>
</ul>
</ul>
	<li>STEP SEQUENCE FUNCTION</li>
<ul>	<li>General</li>
<ul>	<li>Step Sequence Method</li>
	<li>Graphical Symbols</li>
	<li>Programming</li>
</ul>
	<li>Step Sequence Basics</li>
<ul>	<li>Terminology</li>
	<li>Execution of Step Sequence</li>
</ul>
	<li>Configuration and Operation of Step Sequence Programs</li>
<ul>	<li>Step</li>
	<li>Initial Step</li>
	<li>Transition</li>
	<li>Divergence of a Selective Sequence</li>
	<li>Convergence of Selective Sequences</li>
	<li>Divergence of Simultaneous Sequences</li>
	<li>Convergence of Simultaneous Sequences</li>
	<li>Jump</li>
	<li>Label</li>
	<li>Block Step</li>
	<li>Initial Block Step</li>
	<li>End of Block Step</li>
</ul>
	<li>Extended Ladder Instructions</li>
<ul>	<li>Functional Instruction  (TRSET)</li>
	<li>PMC Address  (S ADDRESS)</li>
</ul>
	<li>Specification of Step Sequence</li>
<ul>	<li>Specifications</li>
	<li>General Rules</li>
	<li>Exclusive Control for Functional Instructions</li>
</ul>
	<li>CRT/MDI Operation</li>
<ul>	<li>Displaying a Sequence Program</li>
<ul>	<li>Program Configuration List</li>
	<li>Step Sequence Screen</li>
	<li>Ladder Screen</li>
</ul>
	<li>Timer Screen</li>
<ul>	<li>Time Screen</li>
	<li>Monitoring Elapsed Time</li>
</ul>
	<li>Monitor Time Screen</li>
	<li>Editing Function of Ladder Diagram</li>
<ul>	<li>Program Configuration List</li>
	<li>Step Sequence Screen</li>
	<li>Ladder Screen</li>
</ul>
	<li>Corresponding Function</li>
	<li>Compatibility of the Ladder Diagram</li>
</ul>
</ul>
	<li>PMC PROGRAMMER  (SYSTEM P SERIES)</li>
<ul>	<li>General</li>
	<li>Functions of Processing</li>
	<li>Component Units and Connections</li>
<ul>	<li>Component Units</li>
	<li>Connections</li>
	<li>Keyboard</li>
<ul>	<li>LOAD Key</li>
	<li>F Keys</li>
	<li>R Keys</li>
	<li>Data Keys and Screen Scroll Key</li>
</ul>
	<li>Setting I/O Devices</li>
</ul>
	<li>Operation</li>
<ul>	<li>General</li>
	<li>Preparation before Operation</li>
<ul>	<li>System Floppy</li>
	<li>Limitations</li>
	<li>Loading of the Floppy</li>
	<li>FAPT Ladder System Floppy Loading</li>
	<li>Programmer Menu Screen</li>
	<li>Parameter Setting and Display</li>
</ul>
	<li>Program Editing</li>
<ul>	<li>Data Display and Setting</li>
	<li>Programming from the Keyboard</li>
	<li>Changing a Program</li>
	<li>Inserting a New Program</li>
	<li>Deleting an Instruction</li>
	<li>Searching a Sequence Number</li>
	<li>Displaying a Ladder Diagram</li>
	<li>Help Screen</li>
	<li>Ending the Edit</li>
</ul>
	<li>Input of a Program</li>
<ul>	<li>Source Program</li>
	<li>ROM Format Program</li>
</ul>
	<li>Output of a Program</li>
<ul>	<li>Source Program</li>
	<li>Paper Command</li>
	<li>ROM Format Program</li>
</ul>
	<li>Collating a Program</li>
<ul>	<li>Collating Source Programs</li>
	<li>ROM Format Program</li>
</ul>
	<li>Deleting Programs</li>
	<li>Special Uses of the R3 Key</li>
	<li>Direct Editing by Ladder Diagram</li>
<ul>	<li>Outline</li>
	<li>Limitations</li>
	<li>Selection of Program Menu by Soft Keys</li>
	<li>Sequence Program Input</li>
	<li>Substituting Sequence Programs</li>
	<li>Adding Sequence Programs</li>
	<li>Deleting a Sequence Program</li>
	<li>Searching a Sequence Program</li>
	<li>Copying a Sequence Program</li>
	<li>Moving a Sequence Program</li>
	<li>Symbol Data Display</li>
	<li>Compressed Input by [COMAND] Key</li>
	<li>Ending the Edit of a Sequence Program</li>
</ul>
	<li>Input / Output of a Ladder Program with P-G and Floppy Cassette / FA Card</li>
<ul>	<li>General</li>
	<li>Setting I/O Commands</li>
	<li>Program Input</li>
	<li>Program Output</li>
	<li>Program Collation</li>
</ul>
</ul>
	<li>File Editing Function</li>
<ul>	<li>General</li>
	<li>Configuration of Command</li>
	<li>FDLIST Command - File Attribute Display</li>
	<li>Rename Command - File Attribute Change</li>
	<li>Scratch Command - Deletion of Files</li>
	<li>Condense Command - Release of Deleted Area</li>
	<li>Remove Command - File Copy</li>
</ul>
</ul>
	<li>APPENDIXES</li>
<ul>	<li>Error Codes List  (for FAPT Ladder P-G)</li>
	<li>Window Function Description  (except Series 15-B PMC-NB/NB2)</li>
<ul>	<li>Function</li>
	<li>Low-Speed Response and High-Speed Response of Window Function</li>
	<li>List of Window Functions</li>
	<li>Formats and Details of Control Data</li>
<ul>	<li>Reading CNC System Information</li>
	<li>Reading a Tool Offset</li>
	<li>Writing a Tool Offset</li>
	<li>Reading a Workpiece Origin Offset Value</li>
	<li>Writing a Workpiece Origin Offset Value</li>
	<li>Reading a Parameter</li>
	<li>Writing a Parameter</li>
	<li>Reading Setting Data</li>
	<li>Writing Setting Data</li>
	<li>Reading a Custom Macro Variable</li>
	<li>Writing a Custom Macro Variable</li>
	<li>Reading the CNC Alarm Status</li>
<ul>	<li>Except for Power Mate D and F</li>
	<li>Power Mate D and F</li>
</ul>
	<li>Reading the Current Program Number</li>
	<li>Reading the Current Sequence Number</li>
	<li>Reading the Actual Velocity of the Controlled Axes</li>
	<li>Reading the Absolute Position of the Controlled Axes</li>
	<li>Reading the Machine Position of the Controlled Axes</li>
	<li>Reading a Skip Position of the Controlled Axes</li>
	<li>Reading the Servo Delay for the Controlled Axes</li>
	<li>Reading the Acceleration / Deceleration Delay on the Controlled Axes</li>
	<li>Reading Modal Data</li>
	<li>Reading Diagnostic Data</li>
	<li>Reading A/D Conversion Data</li>
	<li>Reading Tool Life Management Data</li>
<ul>	<li>Tool Group Number</li>
	<li>Number of Tool Groups</li>
	<li>Number of Tools</li>
	<li>Tool Life</li>
	<li>Tool Life Counter</li>
	<li>Tool Length Compensation No. 1:  Tool Number</li>
	<li>Tool Length Compensation No. 2:  Tool Order Number</li>
	<li>Cutter Compensation No. 1:  Tool Number</li>
	<li>Cutter Compensation No. 2:  Tool Order Number</li>
	<li>Tool Information No. 1:  Tool Number</li>
	<li>Tool Information No. 2:  Tool Order Number</li>
	<li>Tool Number</li>
</ul>
	<li>Reading the Actual Spindle Speed</li>
	<li>Entering Data on the Program Check Screen</li>
	<li>Reading Clock Data  (Date and Time)</li>
	<li>Entering Torque Limit Data for the Digital Servo Motor</li>
	<li>Reading Load Information of the Spindle Motor  (Serial Interface)</li>
	<li>Reading a Parameter</li>
	<li>Reading Set Data</li>
	<li>Reading Diagnosis Data</li>
	<li>Reading a Character String of the CNC Program Being Executed in the Buffer</li>
	<li>Reading the Relative Position on a Controlled Axis</li>
	<li>Reading the Remaining Travel</li>
	<li>Reading CNC Status Information</li>
	<li>Reading an Operator Message</li>
	<li>Reading the Value of the P-Code Macro Variable</li>
	<li>Writing the Value of the P-Code Macro Variable</li>
	<li>Reading Tool Life Management Data  (Tool Life Counter Type)</li>
	<li>Registering Tool Life Management Data  (Tool Group)</li>
	<li>Writing Tool Life Management Data</li>
<ul>	<li>Tool Life</li>
	<li>Tool Life Counter</li>
	<li>Tool Life Counter Type</li>
	<li>Tool Length Offset No.1:  Tool Number</li>
	<li>Tool Length Offset No. 2:  Tool Operation Sequence Number</li>
	<li>Cutter Compensation No. 1:  Tool Number</li>
	<li>Cutter Compensation No. 2:  Tool Operation Sequence Number</li>
	<li>Tool Condition No. 1:  Tool Number</li>
	<li>Tool Condition No. 2:  Tool Operation Sequence Number</li>
	<li>Tool Number</li>
	<li>Reading the Estimate Disturbance Torque Data</li>
</ul>
</ul>
</ul>
	<li>Window Function Description  (Series 15-B PMC-NB/NB2)</li>
<ul>	<li>Function</li>
	<li>Low-Speed Response and High-Speed Response of Window Function</li>
<ul>	<li>WINDR</li>
	<li>WINDW</li>
</ul>
	<li>Format and Details of the Control Data of WINDR</li>
<ul>	<li>Reading the Tool Offset Data</li>
	<li>Reading a Workpiece Origin Offset Value</li>
	<li>Reading a Parameter</li>
	<li>Reading a Custom Macro Variable</li>
	<li>Reading the CNC Alarm State</li>
	<li>Reading the Current Program Number</li>
	<li>Reading the Current Sequence Number</li>
	<li>Reading the Actual Speed of the Controlled Axes</li>
	<li>Reading the Absolute Position on a Controlled Axis</li>
	<li>Reading the Machine Position on a Controlled Axis</li>
	<li>Reading the Skip Position on a Controlled Axis</li>
	<li>Reading a Servo Delay on a Controlled Axis</li>
	<li>Reading an Acceleration / Deceleration Delay on a Controlled Axis</li>
	<li>Reading Modal Data</li>
	<li>Reading Diagnostic Data</li>
	<li>Reading A/D Conversion Data for the Feed Motor</li>
	<li>Reading Tool Life Management Data</li>
<ul>	<li>Tool Group Number</li>
	<li>Number of Tool Groups</li>
	<li>Number of Tools</li>
	<li>Tool Life</li>
	<li>Tool Life Counter</li>
	<li>Tool Life Counter Type</li>
	<li>Tool Length Compensation No. 1</li>
	<li>Tool Length Compensation No. 2</li>
	<li>Cutter Compensation No. 1</li>
	<li>Cutter Compensation No. 2</li>
	<li>Tool Information No. 1</li>
	<li>Tool Information No. 2</li>
	<li>Tool Number</li>
</ul>
	<li>Reading the Clock Data</li>
	<li>Reading the Relative Position on a Controlled Axis</li>
	<li>Reading the Remaining Traveling Distance</li>
	<li>Reading Estimate Disturbance Torque Data</li>
	<li>Reading the Machining Time</li>
	<li>Reading the Load Current for the Spindle Motor</li>
	<li>Reading the Tool Offset Data According to the Specified Tool Number</li>
</ul>
	<li>Format and Details of the Control Data of WINDW</li>
<ul>	<li>Writing Tool Offset Data</li>
	<li>Writing a Parameter</li>
	<li>Writing a Custom Macro Variable</li>
	<li>Writing Data on the Program Check Screen</li>
	<li>Writing the Torque Limit Override</li>
	<li>Writing the Tool Life Management Data</li>
<ul>	<li>Tool Group Number</li>
	<li>Tool Life</li>
	<li>Tool Life Counter</li>
	<li>Tool Life Counter Type</li>
	<li>Tool Length Compensation No. 1</li>
	<li>Tool Length Compensation No. 2</li>
	<li>Cutter Compensation No. 1</li>
	<li>Cutter Compensation No. 2</li>
	<li>Tool Information No. 1</li>
	<li>Tool Information No. 2</li>
	<li>Tool Number</li>
</ul>
	<li>Writing Tool Offset Data According to the Specified Tool Number</li>
	<li>Writing the Super Position Move Command</li>
	<li>Writing the Feedrate</li>
</ul>
</ul>
	<li>Window Function Description (Series 16-LA)</li>
<ul>	<li>Outline</li>
	<li>Function</li>
<ul>	<li>Transfer between Data Area and Non-Volatile Memory</li>
	<li>Reading Comments</li>
	<li>Reading and Writing Laser Command Data and Laser Setting Data</li>
</ul>
</ul>
	<li>Window Function Description (Series 16-W)</li>
<ul>	<li>Reading the Wire Diameter Offset</li>
	<li>Writing the Wire Diameter Offset</li>
	<li>Reading the Parameter</li>
	<li>Writing the Parameter</li>
	<li>Reading Setting Data</li>
	<li>Writing Setting Data</li>
	<li>Reading the CNC Alarm Status</li>
	<li>Reading Modal Data</li>
	<li>Reading Machining Distances</li>
	<li>Reading the Measured Point</li>
	<li>Writing the Measured Point</li>
</ul>
	<li>Window Function Description (Series 16-PA)</li>
<ul>	<li>Reading Tool Setting Data</li>
<ul>	<li>Data Number, Attribute, Length, Area</li>
</ul>
	<li>Writing Tool Setting Data</li>
	<li>Reading Tool Setting Data by Specifying the Tool Number</li>
	<li>Other Window Functions</li>
</ul>
	<li>Signal Address Conversion </li>
<ul>	<li>General</li>
	<li>Function</li>
	<li>Conversion</li>
	<li>Modifying the Converted Sequence Program</li>
<ul>	<li>Modification Procedure</li>
</ul>
</ul>
	<li>Connecting the Operator's Panel</li>
<ul>	<li>General</li>
	<li>Connection</li>
<ul>	<li>Connecting the I/O Unit</li>
	<li>Connecting the I/O Card</li>
</ul>
	<li>Signals for Connecting the Operator's Panel</li>
<ul>	<li>Emergency Stop Signal</li>
	<li>Override Signals and Program Protect Key Signal</li>
	<li>Key Switch Signals</li>
	<li>LED Signals</li>
</ul>
	<li>Specifying Addresses</li>
<ul>	<li>Parameter Menu  (for PMC-RB)</li>
	<li>Procedure</li>
</ul>
</ul>
	<li>Editing for Power Mate-Model D  (PMC-PA1 / PA3)</li>
<ul>	<li>Outline</li>
	<li>Compatibility with CNC Basic Software</li>
	<li>PMC Programmer</li>
<ul>	<li>Component Units and Connections</li>
<ul>	<li>Component Units</li>
	<li>Connection of Components</li>
	<li>Parameters</li>
</ul>
	<li>Specification and Display of System Parameters  (SYSPRM)</li>
	<li>Condense</li>
</ul>
	<li>System Diagram of Soft Keys</li>
</ul>
	<li>Applicable FAPT Ladder Editions</li>
<ul>	<li>FAPT Ladder / FAPT Ladder-II, Ladder Editing Packages</li>
	<li>FAPT Ladder  (System P Series)</li>
</ul>
	<li>Level Up of Input / Output Function with Memory Card</li>
<ul>	<li>Outline</li>
	<li>Operation</li>
<ul>	<li>CNC Offline to Programmer</li>
	<li>Offline Programmer to CNC</li>
	<li>Notes</li>
</ul>
	<li>NB / NB2 Data Compatibility</li>
<ul>	<li>Data Transfer between NB and FAPT Ladder</li>
	<li>Data Transfer between NB / NB2 and FAPT Ladder</li>
	<li>Data Transfer between NB and NB</li>
</ul>
</ul>
	<li>Alarm Message List</li>
<ul>	<li>Alarm Messages 1 (Alarm Screen)</li>
	<li>System Alarm Messages (PMC to RC)</li>
	<li>System Alarm Messages (PMC to NB / NB2)</li>
	<li>System Alarm Messages (PMC to RB5 / RB6)</li>
</ul>
	<li>Example of Step Sequence Programs</li>
	<li>Step Sequence Corresponded C Language</li>
<ul>	<li>WHILE Statement</li>
	<li>DO-WHILE Statement</li>
	<li>FOR Statement</li>
	<li>IF ELSE Statement</li>
	<li>SWITCH Statement</li>
</ul>
	<li>Chinese Character Code, Hiragana Code, and Special Code List</li>
</ul>
	<li>INDEX</li>
	<li>REVISION RECORD</li>
</ul>
</ul>
</body>
</html>
