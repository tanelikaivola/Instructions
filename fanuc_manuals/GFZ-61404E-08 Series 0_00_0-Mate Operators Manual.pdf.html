<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="date" content="2011-10-19T15:38:55Z"/>
<meta name="pdf:PDFVersion" content="1.4"/>
<meta name="pdf:docinfo:title" content="GFZ-61404E/08, Series 0 Operator Mnl (Mach Center)"/>
<meta name="xmp:CreatorTool" content="Microsoft Word - Cover Sheet"/>
<meta name="dc:description" content="GFZ-61404E/08, Series 0 Operator Mnl (Mach Center)"/>
<meta name="Keywords" content="GFZ-61404E/08, Series 0 Operator Mnl (Mach Center)"/>
<meta name="access_permission:modify_annotations" content="false"/>
<meta name="access_permission:can_print_degraded" content="true"/>
<meta name="subject" content="GFZ-61404E/08, Series 0 Operator Mnl (Mach Center)"/>
<meta name="dc:creator" content="CNC Center"/>
<meta name="description" content="GFZ-61404E/08, Series 0 Operator Mnl (Mach Center)"/>
<meta name="dcterms:created" content="2011-10-19T15:36:41Z"/>
<meta name="Last-Modified" content="2011-10-19T15:38:55Z"/>
<meta name="dcterms:modified" content="2011-10-19T15:38:55Z"/>
<meta name="dc:format" content="application/pdf; version=1.4"/>
<meta name="Last-Save-Date" content="2011-10-19T15:38:55Z"/>
<meta name="pdf:docinfo:creator_tool" content="Microsoft Word - Cover Sheet"/>
<meta name="access_permission:fill_in_form" content="false"/>
<meta name="pdf:docinfo:keywords" content="GFZ-61404E/08, Series 0 Operator Mnl (Mach Center)"/>
<meta name="pdf:docinfo:modified" content="2011-10-19T15:38:55Z"/>
<meta name="meta:save-date" content="2011-10-19T15:38:55Z"/>
<meta name="pdf:encrypted" content="true"/>
<meta name="dc:title" content="GFZ-61404E/08, Series 0 Operator Mnl (Mach Center)"/>
<meta name="modified" content="2011-10-19T15:38:55Z"/>
<meta name="cp:subject" content="GFZ-61404E/08, Series 0 Operator Mnl (Mach Center)"/>
<meta name="pdf:docinfo:subject" content="GFZ-61404E/08, Series 0 Operator Mnl (Mach Center)"/>
<meta name="Content-Type" content="application/pdf"/>
<meta name="pdf:docinfo:creator" content="CNC Center"/>
<meta name="X-Parsed-By" content="org.apache.tika.parser.DefaultParser"/>
<meta name="X-Parsed-By" content="org.apache.tika.parser.pdf.PDFParser"/>
<meta name="creator" content="CNC Center"/>
<meta name="meta:author" content="CNC Center"/>
<meta name="dc:subject" content="GFZ-61404E/08, Series 0 Operator Mnl (Mach Center)"/>
<meta name="meta:creation-date" content="2011-10-19T15:36:41Z"/>
<meta name="created" content="2011-10-19T15:36:41Z"/>
<meta name="access_permission:extract_for_accessibility" content="false"/>
<meta name="access_permission:assemble_document" content="false"/>
<meta name="xmpTPg:NPages" content="710"/>
<meta name="Creation-Date" content="2011-10-19T15:36:41Z"/>
<meta name="access_permission:extract_content" content="false"/>
<meta name="access_permission:can_print" content="true"/>
<meta name="meta:keyword" content="GFZ-61404E/08, Series 0 Operator Mnl (Mach Center)"/>
<meta name="Author" content="CNC Center"/>
<meta name="producer" content="ScanSoft PDF Create! 7"/>
<meta name="access_permission:can_modify" content="false"/>
<meta name="pdf:docinfo:producer" content="ScanSoft PDF Create! 7"/>
<meta name="pdf:docinfo:created" content="2011-10-19T15:36:41Z"/>
<title>GFZ-61404E/08, Series 0 Operator Mnl (Mach Center)</title>
</head>
<body>
<div class="page">
<p/>
<p>GFZ-61404E B-61404E
</p>
<p>GE Fanuc CNC
</p>
<p>Series 0/00/0-Mate Operator
Manual (for Machining Center)
</p>
<p>Presented By: CNC Center
</p>
<p>For Product Needs Please Visit:
</p>
<p>http://www.cnccenter.com/
</p>
<p>OR Email:
</p>
<p>sales@cnccenter.com
</p>
<p>OR Call:
</p>
<p>1-800-963-3513
GE Fanuc CNC Manuals www.cnccenter.com</p>
<p/>
<div class="annotation">
<a href="http://www.cnccenter.com/">http://www.cnccenter.com/</a>
</div>
<div class="annotation">
<a href="mailto:sales@cnccenter.com">mailto:sales@cnccenter.com</a>
</div>
</div>
<div class="page">
<p/>
<p>GE Fanuc Automation
</p>
<p>Computer Numerical Control Products
</p>
<p>Series 0 / 00 / 0-Mate
for Machining Center
</p>
<p>Operator's Manual
</p>
<p>GFZ-61404E/08 June 1998</p>
<p/>
</div>
<div class="page">
<p/>
<p>GFL-001
</p>
<p>Warnings, Cautions, and Notes
as Used in this Publication
</p>
<p>Warning
</p>
<p>Warning notices are used in this publication to emphasize that hazardous voltages, currents,
temperatures, or other conditions that could cause personal injury exist in this equipment or
may be associated with its use.
</p>
<p>In situations where inattention could cause either personal injury or damage to equipment, a
Warning notice is used.
</p>
<p>Caution
</p>
<p>Caution notices are used where equipment might be damaged if care is not taken.
</p>
<p>Note
Notes merely call attention to information that is especially significant to understanding and
operating the equipment.
</p>
<p>This document is based on information available at the time of its publication.  While efforts
have been made to be accurate, the information contained herein does not purport to cover all
details or variations in hardware or software, nor to provide for every possible contingency in
connection with installation, operation, or maintenance.  Features may be described herein
which are not present in all hardware and software systems.  GE Fanuc Automation assumes
no obligation of notice to holders of this document with respect to changes subsequently made.
</p>
<p>GE Fanuc Automation makes no representation or warranty, expressed, implied, or statutory
with respect to, and assumes no responsibility for the accuracy, completeness, sufficiency, or
usefulness of the information contained herein.  No warranties of merchantability or fitness for
purpose shall apply.
</p>
<p>&copy;Copyright 1998 GE Fanuc Automation North America, Inc.
</p>
<p>All Rights Reserved.</p>
<p/>
</div>
<div class="page">
<p/>
<p>s&ndash;1
</p>
<p>SAFETY PRECAUTIONS
</p>
<p>This section describes the safety precautions related to the use of CNC units.  It is essential that these precautions
be observed by users to ensure the safe operation of machines equipped with a CNC unit (all descriptions in this
section assume this configuration).  Note that some precautions are related only to specific functions, and thus
may not be applicable to certain CNC units.
Users must also observe the safety precautions related to the machine, as described in the relevant manual supplied
by the machine tool builder.  Before attempting to operate the machine or create a program to control the operation
of the machine, the operator must become fully familiar with the contents of this manual and relevant manual
supplied by the machine tool builder.
</p>
<p>Contents
</p>
<p>1. DEFINITION OF WARNING, CAUTION, AND NOTE s&ndash;2. . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2. GENERAL WARNINGS AND CAUTIONS s&ndash;3. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3. WARNINGS AND CAUTIONS RELATED TO PROGRAMMING s&ndash;5. . . . . . . . . . . . . . 
</p>
<p>4. WARNINGS AND CAUTIONS RELATED TO HANDLING s&ndash;7. . . . . . . . . . . . . . . . . . . . 
</p>
<p>5. WARNINGS RELATED TO DAILY MAINTENANCE s&ndash;9. . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>SAFETY PRECAUTIONS B&ndash;61404E/08
</p>
<p>s&ndash;2
</p>
<p>1 DEFINITION OF WARNING, CAUTION, AND NOTE
This manual includes safety precautions for protecting the user and preventing damage to the
machine.  Precautions are classified into Warning and Caution according to their bearing on safety.
Also, supplementary information is described as a Note.  Read the Warning, Caution, and Note
thoroughly before attempting to use the machine.
</p>
<p>WARNING
</p>
<p>Applied when there is a danger of the user being injured or when there is a damage of both the user
being injured and the equipment being damaged if the approved procedure is not observed.
</p>
<p>CAUTION
</p>
<p>Applied when there is a danger of the equipment being damaged, if the approved procedure is not
observed.
</p>
<p>NOTE
</p>
<p>The Note is used to indicate supplementary information other than Warning and Caution.
</p>
<p>ï¿½ Read this manual carefully, and store it in a safe place.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 SAFETY PRECAUTIONS
</p>
<p>s&ndash;3
</p>
<p>2 GENERAL WARNINGS AND CAUTIONS
WARNING
</p>
<p>1. Never attempt to machine a workpiece without first checking the operation of the machine.
Before starting a production run, ensure that the machine is operating correctly by performing
a trial run using, for example, the single block, feedrate override, or machine lock function or
by operating the machine with neither a tool nor workpiece mounted.  Failure to confirm the
correct operation of the machine may result in the machine behaving unexpectedly, possibly
causing damage to the workpiece and/or machine itself, or injury to the user.
</p>
<p>2. Before operating the machine, thoroughly check the entered data.
Operating the machine with incorrectly specified data may result in the machine behaving
unexpectedly, possibly causing damage to the workpiece and/or machine itself, or injury to the
user.
</p>
<p>3. Ensure that the specified feedrate is appropriate for the intended operation.  Generally, for each
machine, there is a maximum allowable feedrate.  The appropriate feedrate varies with the
intended operation.  Refer to the manual provided with the machine to determine the maximum
allowable feedrate.  If a machine is run at other than the correct speed, it may behave
unexpectedly, possibly causing damage to the workpiece and/or machine itself, or injury to the
user.
</p>
<p>4. When using a tool compensation function, thoroughly check the direction and amount of
compensation.  
Operating the machine with incorrectly specified data may result in the machine behaving
unexpectedly, possibly causing damage to the workpiece and/or machine itself, or injury to the
user.
</p>
<p>5. The parameters for the CNC and PMC are factory&ndash;set.  Usually, there is not need to change them.
When, however, there is not alternative other than to change a parameter, ensure that you fully
understand the function of the parameter before making any change.
Failure to set a parameter correctly may result in the machine behaving unexpectedly, possibly
causing damage to the workpiece and/or machine itself, or injury to the user.
</p>
<p>6. Immediately after switching on the power, do not touch any of the keys on the MDI panel until
the position display or alarm screen appears on the CNC unit.
Some of the keys on the MDI panel are dedicated to maintenance or other special operations.
Pressing any of these keys may place the CNC unit in other than its normal state.  Starting the
machine in this state may cause it to behave unexpectedly.
</p>
<p>7. This manual supplied with a CNC unit provide an overall description of the machine&rsquo;s functions,
including any optional functions.  Note that the optional functions will vary from one machine
model to another.  Therefore, some functions described in the manuals may not actually be
available for a particular model.  Check the specification of the machine if in doubt.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>SAFETY PRECAUTIONS B&ndash;61404E/08
</p>
<p>s&ndash;4
</p>
<p>WARNING
</p>
<p>8. Some functions may have been implemented at the request of the machine&ndash;tool builder.  When
using such functions, refer to the manual supplied by the machine&ndash;tool builder for details of their
use and any related cautions.
</p>
<p>NOTE
</p>
<p>Programs, parameters, and macro variables are stored in nonvolatile memory in the CNC unit.
Usually, they are retained even if the power is turned off.  Such data may be deleted inadvertently,
however, or it may prove necessary to delete all data from nonvolatile memory as part of error
recovery.
To guard against the occurrence of the above, and assure quick restoration of deleted data, backup
all vital data, and keep the backup copy in a safe place.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 SAFETY PRECAUTIONS
</p>
<p>s&ndash;5
</p>
<p>3 WARNINGS AND CAUTIONS RELATED TOPROGRAMMING
This section covers the major safety precautions related to programming.  Before attempting to
perform programming, read the supplied this manual carefully such that you are fully familiar with
their contents.
</p>
<p>WARNING
</p>
<p>1. Coordinate system setting
</p>
<p>If a coordinate system is established incorrectly, the machine may behave unexpectedly as a
result of the program issuing an otherwise valid move command.
Such an unexpected operation may damage the tool, the machine itself, the workpiece, or cause
injury to the user.
</p>
<p>2. Positioning by nonlinear interpolation
</p>
<p>When performing positioning by nonlinear interpolation (positioning by nonlinear movement
between the start and end points), the tool path must be carefully confirmed before performing
programming.
Positioning involves rapid traverse.  If the tool collides with the workpiece, it may damage the
tool, the machine itself, the workpiece, or cause injury to the user.
</p>
<p>3. Function involving a rotation axis
</p>
<p>When programming polar coordinate interpolation or normal&ndash;direction (perpendicular) control,
pay careful attention to the speed of the rotation axis.  Incorrect programming may result in the
rotation axis speed becoming excessively high, such that centrifugal force causes the chuck to
lose its grip on the workpiece if the latter is not mounted securely.
Such mishap is likely to damage the tool, the machine itself, the workpiece, or cause injury to
the user.
</p>
<p>4. Inch/metric conversion
</p>
<p>Switching between inch and metric inputs does not convert the measurement units of data such
as the workpiece origin offset, parameter, and current position.  Before starting the machine,
therefore, determine which measurement units are being used.  Attempting to perform an
operation with invalid data specified may damage the tool, the machine itself, the workpiece, or
cause injury to the user.
</p>
<p>5. Constant surface speed control
</p>
<p>When an axis subject to constant surface speed control approaches the origin of the workpiece
coordinate system, the spindle speed may become excessively high.  Therefore, it is necessary
to specify a maximum allowable speed.  Specifying the maximum allowable speed incorrectly
may damage the tool, the machine itself, the workpiece, or cause injury to the user.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>SAFETY PRECAUTIONS B&ndash;61404E/08
</p>
<p>s&ndash;6
</p>
<p>WARNING
</p>
<p>6. Stroke check
</p>
<p>After switching on the power, perform a manual reference position return as required.  Stroke
check is not possible before manual reference position return is performed.  Note that when stroke
check is disabled, an alarm is not issued even if a stroke limit is exceeded, possibly damaging
the tool, the machine itself, the workpiece, or causing injury to the user.
</p>
<p>7. Tool post interference check
</p>
<p>A tool post interference check is performed based on the tool data specified during automatic
operation.  If the tool specification does not match the tool actually being used, the interference
check cannot be made correctly, possibly damaging the tool or the machine itself, or causing
injury to the user.
After switching on the power, or after selecting a tool post manually, always start automatic
operation and specify the tool number of the tool to be used.
</p>
<p>8. Absolute/incremental mode
</p>
<p>If a program created with absolute values is run in incremental mode, or vice versa, the machine
may behave unexpectedly.
</p>
<p>9. Plane selection
</p>
<p>If an incorrect plane is specified for circular interpolation, helical interpolation, or a canned cycle,
the machine may behave unexpectedly.  Refer to the descriptions of the respective functions for
details.
</p>
<p>10. Torque limit skip
</p>
<p>Before attempting a torque limit skip, apply the torque limit.  If a torque limit skip is specified
without the torque limit actually being applied, a move command will be executed without
performing a skip.
</p>
<p>11. Programmable mirror image
</p>
<p>Note that programmed operations vary considerably when a programmable mirror image is
enabled.
</p>
<p>12. Compensation function
</p>
<p>If a command based on the machine coordinate system or a reference position return command
is issued in compensation function mode, compensation is temporarily canceled, resulting in the
unexpected behavior of the machine.
Before issuing any of the above commands, therefore, always cancel compensation function
mode.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 SAFETY PRECAUTIONS
</p>
<p>s&ndash;7
</p>
<p>4 WARNINGS AND CAUTIONS RELATED TO HANDLING
This section presents safety precautions related to the handling of machine tools.  Before attempting
to operate your machine, read the supplied this manual carefully, such that you are fully familiar with
their contents.
</p>
<p>WARNING
</p>
<p>1. Manual operation
</p>
<p>When operating the machine manually, determine the current position of the tool and workpiece,
and ensure that the movement axis, direction, and feedrate have been specified correctly.
Incorrect operation of the machine may damage the tool, the machine itself, the workpiece, or
cause injury to the operator.
</p>
<p>2. Manual reference position return
</p>
<p>After switching on the power, perform manual reference position return as required.  If the
machine is operated without first performing manual reference position return, it may behave
unexpectedly.  Stroke check is not possible before manual reference position return is performed.
An unexpected operation of the machine may damage the tool, the machine itself, the workpiece,
or cause injury to the user.
</p>
<p>3. Manual numeric command
</p>
<p>When issuing a manual numeric command, determine the current position of the tool and
workpiece, and ensure that the movement axis, direction, and command have been specified
correctly, and that the entered values are valid.
Attempting to operate the machine with an invalid command specified may damage the tool, the
machine itself, the workpiece, or cause injury to the operator.
</p>
<p>4. Manual handle feed
</p>
<p>In manual handle feed, rotating the handle with a large scale factor, such as 100, applied causes
the tool and table to move rapidly.  Careless handling may damage the tool and/or machine, or
cause injury to the user.
</p>
<p>5. Disabled override
</p>
<p>If override is disabled (according to the specification in a macro variable) during threading, rigid
tapping, or other tapping, the speed cannot be predicted, possibly damaging the tool, the machine
itself, the workpiece, or causing injury to the operator.
</p>
<p>6. Origin/preset operation
</p>
<p>Basically, never attempt an origin/preset operation when the machine is operating under the
control of a program.  Otherwise, the machine may behave unexpectedly, possibly damaging the
tool, the machine itself, the tool, or causing injury to the user.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>SAFETY PRECAUTIONS B&ndash;61404E/08
</p>
<p>s&ndash;8
</p>
<p>WARNING
</p>
<p>7. Workpiece coordinate system shift
</p>
<p>Manual intervention, machine lock, or mirror imaging may shift the workpiece coordinate
system.  Before attempting to operate the machine under the control of a program, confirm the
coordinate system carefully.
If the machine is operated under the control of a program without making allowances for any shift
in the workpiece coordinate system, the machine may behave unexpectedly, possibly damaging
the tool, the machine itself, the workpiece, or causing injury to the operator.
</p>
<p>8. Software operator&rsquo;s panel and menu switches
</p>
<p>Using the software operator&rsquo;s panel and menu switches, in combination with the MDI panel, it
is possible to specify operations not supported by the machine operator&rsquo;s panel, such as mode
change, override value change, and jog feed commands.
Note, however, that if the MDI panel keys are operated inadvertently, the machine may behave
unexpectedly, possibly damaging the tool, the machine itself, the workpiece, or causing injury
to the user.
</p>
<p>9. Manual intervention
</p>
<p>If manual intervention is performed during programmed operation of the machine, the tool path
may vary when the machine is restarted.  Before restarting the machine after manual intervention,
therefore, confirm the settings of the manual absolute switches, parameters, and
absolute/incremental command mode.
</p>
<p>10. Feed hold, override, and single block
</p>
<p>The feed hold, feedrate override, and single block functions can be disabled using custom macro
system variable #3004.  Be careful when operating the machine in this case.
</p>
<p>11. Dry run
</p>
<p>Usually, a dry run is used to confirm the operation of the machine.  During a dry run, the machine
operates at dry run speed, which differs from the corresponding programmed feedrate.  Note that
the dry run speed may sometimes be higher than the programmed feed rate.
</p>
<p>12. Cutter and tool nose radius compensation in MDI mode
</p>
<p>Pay careful attention to a tool path specified by a command in MDI mode, because cutter or tool
nose radius compensation is not applied.  When a command is entered from the MDI to interrupt
in automatic operation in cutter or tool nose radius compensation mode, pay particular attention
to the tool path when automatic operation is subsequently resumed.  Refer to the descriptions of
the corresponding functions for details.
</p>
<p>13. Program editing
</p>
<p>If the machine is stopped, after which the machining program is edited (modification, insertion,
or deletion), the machine may behave unexpectedly if machining is resumed under the control
of that program.  Basically, do not modify, insert, or delete commands from a machining program
while it is in use.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 SAFETY PRECAUTIONS
</p>
<p>s&ndash;9
</p>
<p>5 WARNINGS RELATED TO DAILY MAINTENANCE
WARNING
</p>
<p>1. Memory backup battery replacement
</p>
<p>When replacing the memory backup batteries, keep the power to the machine (CNC) turned on,
and apply an emergency stop to the machine.  Because this work is performed with the power
on and the cabinet open, only those personnel who have received approved safety and
maintenance training may perform this work.
When replacing the batteries, be careful not to touch the high&ndash;voltage circuits (marked  and
fitted with an insulating cover).
Touching the uncovered high&ndash;voltage circuits presents an extremely dangerous electric shock
hazard.
</p>
<p>NOTE
</p>
<p>The CNC uses batteries to preserve the contents of its memory, because it must retain data such as
programs, offsets, and parameters even while external power is not applied.
If the battery voltage drops, a low battery voltage alarm is displayed on the machine operator&rsquo;s panel
or CRT screen.
When a low battery voltage alarm is displayed, replace the batteries within a week.  Otherwise, the
contents of the CNC&rsquo;s memory will be lost.
Refer to the maintenance section of this manual for details of the battery replacement procedure.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>SAFETY PRECAUTIONS B&ndash;61404E/08
</p>
<p>s&ndash;10
</p>
<p>WARNING
</p>
<p>2. Absolute pulse coder battery replacement
</p>
<p>When replacing the memory backup batteries, keep the power to the machine (CNC) turned on,
and apply an emergency stop to the machine.  Because this work is performed with the power
on and the cabinet open, only those personnel who have received approved safety and
maintenance training may perform this work.
When replacing the batteries, be careful not to touch the high&ndash;voltage circuits (marked  and
fitted with an insulating cover).
Touching the uncovered high&ndash;voltage circuits presents an extremely dangerous electric shock
hazard.
</p>
<p>NOTE
</p>
<p>The absolute pulse coder uses batteries to preserve its absolute position.
If the battery voltage drops, a low battery voltage alarm is displayed on the machine operator&rsquo;s panel
or CRT screen.
When a low battery voltage alarm is displayed, replace the batteries within a week.  Otherwise, the
absolute position data held by the pulse coder will be lost.
Refer to the maintenance section of this manual for details of the battery replacement procedure.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 SAFETY PRECAUTIONS
</p>
<p>s&ndash;11
</p>
<p>WARNING
</p>
<p>3. Fuse replacement
</p>
<p>Before replacing a blown fuse, however, it is necessary to locate and remove the cause of the
blown fuse.
For this reason, only those personnel who have received approved safety and maintenance
training may perform this work.
When replacing a fuse with the cabinet open, be careful not to touch the high&ndash;voltage circuits
(marked  and fitted with an insulating cover).
Touching an uncovered high&ndash;voltage circuit presents an extremely dangerous electric shock
hazard.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>Table of ContentsB&ndash;61404E/08
</p>
<p>c&ndash;1
</p>
<p>SAFETY PRECAUTIONS s&ndash;1. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>I.  GENERAL
</p>
<p>1. GENERAL 3. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.1 GENERAL FLOW OF OPERATION OF CNC MACHINE TOOL 6. . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.2 NOTES ON READING THIS MANUAL 8. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>II.  PROGRAMMING
</p>
<p>1. GENERAL 11. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.1 TOOL MOVEMENT ALONG WORKPIECE PARTS FIGURE&ndash;INTERPOLATION 12. . . . . . . . . . . . 
</p>
<p>1.2 FEED&ndash;FEED FUNCTION 13. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.3 PART DRAWING AND TOOL MOVEMENT 14. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.3.1 Reference Position (Machine&ndash;Specific Position) 14. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.3.2 Coordinate System on Part Drawing and Coordinate System 
Specified by CNC &ndash; Coordinate System 15. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.3.3 How to Indicate Command Dimensions for Moving the Tool &ndash; Absolute, 
Incremental Commands 18. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.4 CUTTING SPEED &ndash; SPINDLE SPEED FUNCTION 19. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.5 SELECTION OF TOOL USED FOR VARIOUS MACHINING &ndash; TOOL FUNCTION 20. . . . . . . . . . . 
</p>
<p>1.6 COMMAND FOR MACHINE OPERATIONS &ndash; MISCELLANEOUS FUNCTION 20. . . . . . . . . . . . . 
</p>
<p>1.7 PROGRAM CONFIGURATION 21. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.8 TOOL FIGURE AND TOOL MOTION BY PROGRAM 24. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.9 TOOL MOVEMENT RANGE &ndash; STROKE 25. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2. CONTROLLED AXES 26. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.1 CONTROLLED AXES 27. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.2 NAME OF AXES 27. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.3 INCREMENT SYSTEM 27. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.4 MAXIMUM STROKE 27. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3. PREPARATORY FUNCTION (G FUNCTION) 28. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4. INTERPOLATION FUNCTIONS 32. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.1 POSITIONING (G00) 33. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.2 SINGLE DIRECTION POSITIONING (G60) 34. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.3 LINEAR INTERPOLATION (G01) 35. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.4 CIRCULAR INTERPOLATION (G02, G03) 37. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.5 HELICAL CUTTING (G02, G03) 41. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.6 CYLINDRICAL INTERPOLATION (G107) 42. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.7 CONSTANT LEAD THREADING (G33) 45. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.8 SKIP FUNCTION (G31) 47. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>TABLE OF CONTENTS B&ndash;61404E/08
</p>
<p>c&ndash;2
</p>
<p>5. FEED FUNCTIONS 49. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.1 GENERAL 50. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.2 RAPID TRAVERSE 53. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.3 CUTTING FEED 54. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.4 CUTTING FEEDRATE CONTROL 58. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.4.1 Exact Stop (G09, G61) Cutting Mode (G64) Tapping Mode (G63) 59. . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.4.2 Automatic Override for Inner Corners (G62) 60. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.4.3 Internal Circular Cutting Feedrate Change 62. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.5 DWELL (G04) 63. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.6 CUTTING FEED LINEAR ACCELERATION/DECELERATION 
BEFORE INTERPOLATION 64. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.7 CUTTING FEED BLOCK OVERLAP 67. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.8 AUTOMATIC CORNER DECELERATION 68. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.9 FEEDRATE CLAMP BASED ON ARC RADIUS 74. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.10 RAPID TRAVERSE BELL&ndash;SHAPED ACCELERATION/DECELERATION 76. . . . . . . . . . . . . . . . . . 
</p>
<p>6. REFERENCE POSITION 77. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7. COORDINATE SYSTEM 81. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.1 MACHINE COORDINATE SYSTEM 82. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.2 WORKPIECE COORDINATE SYSTEM 83. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.2.1 Setting a Workpiece Coordinate System 83. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.2.2 Selecting a Workpiece Coordinate System 84. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.2.3 Changing Workpiece Coordinate System 85. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.2.4 Adding Workpiece Coordinate Systems 88. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.3 LOCAL COORDINATE SYSTEM 90. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.4 PLANE SELECTION 92. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8. COORDINATE VALUE AND DIMENSION 93. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.1 ABSOLUTE AND INCREMENTAL PROGRAMMING (G90, G91) 94. . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.2 POLAR COORDINATE COMMAND (G15, G16) 95. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.3 INCH/METRIC CONVERSION (G20, G21) 98. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.4 DECIMAL POINT PROGRAMMING 99. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9. SPINDLE SPEED FUNCTION (S FUNCTION) 100. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.1 SPECIFYING THE SPINDLE SPEED WITH A BINARY CODE 101. . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.2 SPECIFYING THE SPINDLE SPEED VALUE DIRECTLY (S5&ndash;DIGIT COMMAND) 101. . . . . . . . . 
</p>
<p>9.3 CONSTANT SURFACE SPEED CONTROL (G96, G97) 102. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>10. TOOL FUNCTION (T FUNCTION) 106. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>10.1 TOOL SELECTION FUNCTION 107. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>10.2 TOOL LIFE MANAGEMENT FUNCTION 108. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>10.2.1 Tool Life Management Data 109. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>10.2.2 Register, Change and Delete of Tool Life Management Data 110. . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>10.2.3 Tool Life Management Command in a Machining Program 111. . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>10.2.4 Tool Life 114. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>TABLE OF CONTENTSB&ndash;61404E/08
</p>
<p>c&ndash;3
</p>
<p>11. AUXILIARY FUNCTION 115. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.1 AUXILIARY FUNCTION (M FUNCTION) 116. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.2 MULTIPLE M COMMANDS IN A SINGLE BLOCK 117. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.3 THE SECOND AUXILIARY FUNCTIONS (B CODES) 117. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>12. PROGRAM CONFIGURATION 118. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>12.1 PROGRAM COMPONENTS OTHER THAN PROGRAM SECTIONS 120. . . . . . . . . . . . . . . . . . . . . 
</p>
<p>12.2 PROGRAM SECTION CONFIGURATION 123. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>12.3 SUBPROGRAM 129. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13. FUNCTIONS TO SIMPLIFY PROGRAMMING 132. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1 CANNED CYCLE 133. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1.1 High&ndash;speed Peck Drilling Cycle (G73) 137. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1.2 Left&ndash;handed Tapping Cycle (G74) 139. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1.3 Fine Boring Cycle (G76) 141. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1.4 Drilling Cycle, Spot Drilling (G81) 143. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1.5 Drilling Cycle Counter Boring Cycle (G82) 145. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1.6 Peck Drilling Cycle (G83) 147. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1.7 Tapping Cycle (G84) 149. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1.8 Boring Cycle (G85) 151. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1.9 Boring Cycle (G86) 153. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1.10 Boring Cycle Back Boring Cycle (G87) 155. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1.11 Boring Cycle (G88) 157. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1.12 Boring Cycle (G89) 159. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1.13 Canned Cycle Cancel (G80) 161. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.2 RIGID TAPPING 164. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.2.1 Rigid Tapping (G84) 165. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.2.2 Left&ndash;handed Rigid Tapping Cycle (G74) 167. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.2.3 Peck Rigid Tapping Cycle (G84 or G74) 169. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.2.4 Canned Cycle Cancel (G80) 171. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.3 CANNED GRINDING CYCLE (0&ndash;GSC, 0&ndash;GSD/II) 172. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.3.1 Plunge Grinding Cycle (G75) 173. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.3.2 Direct Constant&ndash;dimension Plunge Grinding Cycle (G77) 175. . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.3.3 Continuous&ndash;feed Surface Grinding Cycle (G78) 177. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.3.4 Intermittent&ndash;feed Surface Grinding Cycle (G79) 179. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.4 GRINDING&ndash;WHEEL WEAR COMPENSATION BY CONTINUOUS DRESSING 
(0&ndash;GSC, 0&ndash;GSD/II) 181. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.5 AUTOMATIC GRINDING WHEEL DIAMETER COMPENSATION AFTER DRESSING 182. . . . . 
</p>
<p>13.5.1 Checking the Minimum Grinding Wheel Diameter (0&ndash;GSC, 0&ndash;GSD/II) 182. . . . . . . . . . . . . . . . . 
</p>
<p>13.6 IN&ndash;FEED GRINDING ALONG THE Y AND Z AXES AT THE END OF TABLE SWING 
(0&ndash;GSC, 0&ndash;GSD/II) 183. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.7 OPTIONAL ANGLE CHAMFERING AND CORNER ROUNDING 184. . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.8 EXTERNAL MOTION FUNCTION (G81) 186. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.9 SMALL&ndash;DIAMETER PECK DRILLING CYCLE 187. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>TABLE OF CONTENTS B&ndash;61404E/08
</p>
<p>c&ndash;4
</p>
<p>14. COMPENSATION FUNCTION 191. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.1 TOOL LENGTH OFFSET (G43, G44, G49) 192. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.2 AUTOMATIC TOOL LENGTH MEASUREMENT (G37) 196. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.3 TOOL OFFSET (G45 TO G48) 200. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.4 CUTTER COMPENSATION B (G39 TO G42) 205. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.4.1 Cutter Compensation Left (G41) 208. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.4.2 Cutter Compensation Right (G42) 210. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.4.3 Corner Offset Circular Interpolation (G39) 212. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.4.4 Cutter Compensation Cancel (G40) 213. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.4.5 Switch between Cutter Compensation Left and Cutter Compensation Right 214. . . . . . . . . . . . . . . 
</p>
<p>14.4.6 Change of the Cutter Compensation Value 215. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.4.7 Positive/Negative Cutter Compensation Value and Tool Center Path 216. . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.5 OVERVIEW OF CUTTER COMPENSATION C (G40 TO G42) 218. . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.6 DETAILS OF CUTTER COMPENSATION C 224. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.6.1 General 224. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.6.2 Tool Movement in Start&ndash;up 225. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.6.3 Tool Movement in Offset Mode 229. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.6.4 Tool Movement in Offset Mode Cancel 243. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.6.5 Interference Check 249. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.6.6 Overcutting by Cutter Compensation 254. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.6.7 Input Command from MDI 257. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.7 TOOL COMPENSATION VALUES, NUMBER OF COMPENSATION VALUES, 
AND ENTERING VALUES FROM THE PROGRAM (G10) 258. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.8 SCALING (G50, G51) 260. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.9 COORDINATE SYSTEM ROTATION (G68, G69) 266. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.10 INDEX TABLE INDEXING FUNCTION 272. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>14.11 NORMAL DIRECTION CONTROL (G150, G151, G152) 275. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>15. CUSTOM MACRO A 279. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>15.1 CUSTOM MACRO COMMAND 280. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>15.1.1 M98 (Single Call) 280. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>15.1.2 Subprogram Call Using M Code 280. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>15.1.3 Subprogram Call Using T Code 281. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>15.1.4 G66 (Modal Call) 282. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>15.1.5 Argument Specification 283. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>15.2 CUSTOM MACRO BODY 285. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>15.2.1 Variables 285. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>15.2.2 Kind of Variables 286. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>15.2.3 Operation Instruction and Branch Instruction (G65) 291. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>15.2.4 Notes on Custom Macro 296. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16. CUSTOM MACRO B 297. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.1 VARIABLES 298. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.2 SYSTEM VARIABLES 301. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.3 ARITHMETIC AND LOGIC OPERATION 308. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.4 MACRO STATEMENTS AND NC STATEMENTS 312. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>TABLE OF CONTENTSB&ndash;61404E/08
</p>
<p>c&ndash;5
</p>
<p>16.5 BRANCH AND REPETITION 313. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.5.1 Unconditional Branch (GOTO Statement) 313. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.5.2 Conditional Branch (IF Statement) 313. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.5.3 Repetition (WHILE Statement) 314. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.6 MACRO CALL 317. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.6.1 Simple Call (G65) 317. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.6.2 Modal Call (G66) 322. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.6.3 Macro Call Using G Code 324. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.6.4 Macro Call Using an M Code 325. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.6.5 Subprogram Call Using an M Code 326. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.6.6 Subprogram Calls Using a T Code 327. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.6.7 Sample Program 328. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.7 PROCESSING MACRO STATEMENTS 330. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.8 REGISTERING CUSTOM MACRO PROGRAMS 331. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.9 LIMITATIONS 332. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.10 EXTERNAL OUTPUT COMMANDS 333. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.11 INTERRUPTION TYPE CUSTOM MACRO 337. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.11.1 Specification Method 338. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>16.11.2 Details of Functions 339. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>17. PATTERN DATA INPUT FUNCTION 346. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>17.1 DISPLAYING THE PATTERN MENU 347. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>17.2 PATTERN DATA DISPLAY 351. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>17.3 CHARACTERS AND CODES TO BE USED FOR THE PATTERN DATA 
INPUT FUNCTION 355. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>18. PROGRAMMABLE PARAMETER ENTRY (G10) 357. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>19. MEMORY OPERATION USING Series 10/11 TAPE FORMAT 359. . . . . . . . . . . . . . . . . . 
</p>
<p>20. HIGH SPEED CYCLE CUTTING 360. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>20.1 NUMBER OF CONTROL AXES 361. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>20.2 PULSE DISTRIBUTION 361. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>20.3 CONFIGURATION OF HIGH SPEED CYCLE CUTTING DATA 362. . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>20.3.1 Number of Registered Cycles 362. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>20.3.2 Header 362. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>21. SIMPLE SYNCHRONOUS CONTROL 365. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>22. ROTARY AXIS ROLL&ndash;OVER 368. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>23. ANGULAR AXIS CONTROL (0&ndash;GSC, 0&ndash;GSD/II) 369. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>24. ADVANCED PREVIEW CONTROL 371. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>TABLE OF CONTENTS B&ndash;61404E/08
</p>
<p>c&ndash;6
</p>
<p>III.  OPERATION
</p>
<p>1. GENERAL 375. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.1 MANUAL OPERATION 376. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.2 TOOL MOVEMENT BY PROGRAMMING&ndash;AUTOMATIC OPERATION 378. . . . . . . . . . . . . . . . . . 
</p>
<p>1.3 AUTOMATIC OPERATION 380. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.4 TESTING A PROGRAM 382. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.4.1 Check by Running the Machine 382. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.4.2 How to View the Position Display Change without Running the Machine 383. . . . . . . . . . . . . . . . 
</p>
<p>1.5 EDITING A PART PROGRAM 384. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.6 DISPLAYING AND SETTING DATA 385. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.7 DISPLAY 388. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.7.1 Program Display (See Subsections III&ndash;11.2.1 and III&ndash;11.3.1) 388. . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.7.2 Current Position Display (See Section III&ndash;11.1.1 to 11.1.3) 389. . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.7.3 Alarm Display (See Section III&ndash;7.1) 389. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.7.4 Parts Count Display, Run Time Display (See Section III&ndash;11.1.5) 390. . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.7.5 Graphic Display (See Section III&ndash;12) 390. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.8 DATA OUTPUT (SEE CHAPTER III&ndash;8) 391. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2. OPERATIONAL DEVICES 392. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.1 CRT/MDI PANELS AND LCD/MDI PANELS 393. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.2 FUNCTION KEYS AND SOFT KEYS 398. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.2.1 General Screen Operations 398. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.2.2 Function Keys 399. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.2.3 Key Input and Input Buffer 400. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.2.4 14&Prime; CRT Soft Key Configuration 402. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2.3 EXTERNAL I/O DEVICES 403. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.3.1 FANUC Handy File 405. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.3.2 FANUC Floppy Cassette 405. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.3.3 FANUC FA Card 406. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.3.4 FANUC PPR 406. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.3.5 Portable Tape Reader 407. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.4 POWER ON/OFF 408. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.4.1 Turning on the Power 408. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.4.2 Display of Software Configuration 409. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>2.4.3 Power Disconnection 409. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3. MANUAL OPERATION 410. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.1 MANUAL REFERENCE POSITION RETURN 411. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.2 JOG FEED 413. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.3 INCREMENTAL FEED 415. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.4 MANUAL HANDLE FEED 416. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>3.5 MANUAL ABSOLUTE ON AND OFF 418. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>TABLE OF CONTENTSB&ndash;61404E/08
</p>
<p>c&ndash;7
</p>
<p>4. AUTOMATIC OPERATION 423. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.1 MEMORY OPERATION 424. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.2 MDI OPERATION 426. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.3 DNC OPERATION 431. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.4 PROGRAM RESTART 432. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.5 SCHEDULING FUNCTION 436. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.6 SUBPROGRAM CALL FUNCTION 441. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.7 MANUAL HANDLE INTERRUPTION 443. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.8 MIRROR IMAGE 446. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>4.9 SEQUENCE NUMBER SEARCH 448. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5. TEST OPERATION 450. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.1 MACHINE LOCK AND AUXILIARY FUNCTION LOCK 451. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.2 FEEDRATE OVERRIDE 452. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.3 RAPID TRAVERSE OVERRIDE 453. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.4 DRY RUN 454. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>5.5 SINGLE BLOCK 455. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6. SAFETY FUNCTIONS 457. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.1 EMERGENCY STOP 458. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.2 OVERTRAVEL 459. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>6.3 STROKE CHECK 460. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7. ALARM AND SELF&ndash;DIAGNOSIS FUNCTIONS 464. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.1 ALARM DISPLAY 465. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>7.2 CHECKING BY SELF&ndash;DIAGNOSTIC SCREEN 467. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8. DATA INPUT/OUTPUT 469. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.1 FILES 470. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.2 FILE SEARCH 472. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.3 FILE DELETION 473. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.4 PROGRAM INPUT/OUTPUT 474. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.4.1 Inputting a Program 474. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.4.2 Outputting a Program 476. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.5 OFFSET DATA INPUT AND OUTPUT 479. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.5.1 Inputting Offset Data 479. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.5.2 Outputting Offset Data 480. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.6 INPUTTING AND OUTPUTTING PARAMETERS AND 
PITCH ERROR COMPENSATION DATA 481. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.6.1 Inputting Parameters 481. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.6.2 Outputting Parameters 482. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.7 INPUTTING/OUTPUTTING CUSTOM MACRO B COMMON VARIABLES 483. . . . . . . . . . . . . . . . 
</p>
<p>8.7.1 Inputting Custom Macro B Common Variables 483. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.7.2 Outputting Custom Macro B Common Variable 484. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>TABLE OF CONTENTS B&ndash;61404E/08
</p>
<p>c&ndash;8
</p>
<p>8.8 DISPLAYING DIRECTORY OF FLOPPY DISK 485. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.8.1 Displaying the Directory 486. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>8.8.2 Reading Files 488. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.8.3 Outputting Programs 489. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.8.4 Deleting Files 490. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
8.8.5 Changing the File Name 492. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9. EDITING PROGRAMS 493. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.1 INSERTING, ALTERING AND DELETING A WORD 494. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.1.1 Word Search 496. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.1.2 Heading a Program 498. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.1.3 Inserting a Word 499. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.1.4 Altering a Word 500. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.1.5 Deleting a Word 501. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.2 DELETING BLOCKS 502. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.2.1 Deleting a Block 502. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.2.2 Deleting Multiple Blocks 503. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.3 PROGRAM NUMBER SEARCH 504. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.4 DELETING PROGRAMS 505. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.4.1 Deleting One Program 505. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.4.2 Deleting All Programs 505. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.4.3 Deleting More Than One Program by Specifying a Range 506. . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.5 EXTENDED PART PROGRAM EDITING FUNCTION 507. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.5.1 Copying an Entire Program 508. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.5.2 Copying Part of a Program 509. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.5.3 Moving Part of a Program 510. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.5.4 Merging a Program 511. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.5.5 Supplementary Explanation for Copying, Moving and Merging 512. . . . . . . . . . . . . . . . . . . . . . . . 
9.5.6 Replacement of Words and Addresses 513. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>9.6 EDITING OF CUSTOM MACRO B 515. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.7 BACKGROUND EDITING 516. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
9.8 REORGANIZING MEMORY 518. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>10. CREATING PROGRAMS 519. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>10.1 CREATING PROGRAMS USING THE MDI PANEL 520. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
10.2 AUTOMATIC INSERTION OF SEQUENCE NUMBERS 521. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
10.3 CREATING PROGRAMS IN TEACH IN MODE 523. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>10.4 MENU PROGRAMMING 526. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
10.5 CONVERSATIONAL PROGRAMMING WITH GRAPHIC FUNCTION 528. . . . . . . . . . . . . . . . . . . . 
</p>
<p>11. SETTING AND DISPLAYING DATA 532. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.1 SCREENS DISPLAYED BY FUNCTION KEY POS 540. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.1.1 Position Display in the Work Coordinate System 541. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.1.2 Position Display in the Relative Coordinate System 542. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.1.3 Overall Position Display 544. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.1.4 Actual Feedrate Display 545. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.1.5 Display of Run Time and Parts Count 546. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.1.6 Operating Monitor Display 547. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>TABLE OF CONTENTSB&ndash;61404E/08
</p>
<p>c&ndash;9
</p>
<p>11.2 SCREENS DISPLAYED BY FUNCTION KEY PRGRM  (IN AUTO MODE OR MDI MODE) 548. . . . 
</p>
<p>11.2.1 Program Contents Display 549. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.2.2 Current Block Display Screen 550. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.2.3 Next Block Display Screen 551. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.2.4 Program Check Screen 552. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.2.5 Program Screen for MDI Operation 554. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.3 SCREENS DISPLAYED BY FUNCTION KEY PRGRM  (IN THE EDIT MODE) 556. . . . . . . . . . . . . . . 
</p>
<p>11.3.1 Displaying Memory Used and a List of Programs 557. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.4 SCREENS DISPLAYED BY FUNCTION KEY MENUOFSET 559. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.4.1 Setting and Displaying the Tool Offset Value 560. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.4.2 Tool Length Measurement 562. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.4.3 Displaying and Setting the Workpiece Origin Offset Value 564. . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.4.4 Displaying and Setting Custom Macro Common Variables 566. . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.4.5 Displaying Pattern Data and Pattern Menu 567. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.4.6 Displaying and Setting Tool Life Management Data 569. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.5 SCREENS DISPLAYED BY FUNCTION KEY DGNOSPARAM 571. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.5.1 Displaying and Setting Parameters 572. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.5.2 Displaying and Setting Pitch Error Compensation Data 574. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.5.3 Displaying and Entering Setting Data 579. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.5.4 Sequence Number Comparison and Stop 581. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.5.5 Displaying and Setting Run Time, Parts Count, and Time 583. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.6 SCREENS DISPLAYED BY FUNCTION KEY OPR
ALARM
</p>
<p>586. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.6.1 Displaying Operator Message 586. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.6.2 Displaying and Setting the Software Operator&rsquo;s Panel 587. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.7 DISPLAYING THE PROGRAM NUMBER, SEQUENCE NUMBER, AND STATUS, 
AND WARNING MESSAGES FOR DATA SETTING 589. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>11.7.1 Displaying the Program Number and Sequence Number 589. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
11.7.2 Displaying the Status and Warning for Data Setting 590. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>12. GRAPHICS FUNCTION 591. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>12.1 GRAPHICS DISPLAY 592. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
12.2 DYNAMIC GRAPHIC DISPLAY 598. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>12.2.1 Path Drawing 598. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
12.2.2 Solid Graphics 607. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13. DISPLAY AND OPERATION OF 00&ndash;MC 620. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>13.1 DISPLAY 621. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
13.2 OPERATION 622. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>IV.  MAINTENANCE
</p>
<p>1. METHOD OF REPLACING BATTERY 625. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>1.1 REPLACING CNC BATTERY FOR MEMORY BACK&ndash;UP 626. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
1.2 REPLACING BATTERIES FOR ABSOLUTE PULSE CODER 627. . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>TABLE OF CONTENTS B&ndash;61404E/08
</p>
<p>c&ndash;10
</p>
<p>APPENDIX
</p>
<p>A. TAPE CODE LIST 631. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>B. LIST OF FUNCTIONS AND TAPE FORMAT 634. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>C. RANGE OF COMMAND VALUE 639. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>D. NOMOGRAPHS 642. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>D.1 INCORRECT THREADED LENGTH 643. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>D.2 SIMPLE CALCULATION OF INCORRECT THREAD LENGTH 645. . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>D.3 TOOL PATH AT CORNER 647. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>D.4 RADIUS DIRECTION ERROR AT CIRCLE CUTTING 650. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>E. STATUS WHEN TURNING POWER ON, WHEN CLEAR AND WHEN RESET 651. . . . 
</p>
<p>F. CHARACTER&ndash;TO CODES CORRESPONDENCE TABLE 653. . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>G. ALARM LIST 654. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>H. OPERATION OF PORTABLE TAPE READER 673. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>I. Series 0&ndash;D SPECIFICATIONS 677. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>J. CORRESPONDENCE BETWEEN ENGLISH KEY AND SYMBOLIC KEY 685. . . . . . . . . 
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>I.  GENERAL
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALGENERAL
</p>
<p>3
</p>
<p>1 ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
This manual consists of the following parts:
</p>
<p>I. GENERAL
Describes chapter organization, applicable models, related manuals,
and notes for reading this manual.
</p>
<p>II. PROGRAMMING
Describes each function:  Format used to program functions in the NC
language, characteristics, and restrictions.  When a program is created
through conversational automatic programming function, refer to the
manual for the conversational automatic programming function
(Table 1).
</p>
<p>III. OPERATION
Describes the manual operation and automatic operation of a machine,
procedures for inputting and outputting
 data, and procedures for editing a program.
</p>
<p>IV.MAINTENANCE
Describes procedure for replacing batteries.
</p>
<p>APPENDIX
Lists tape codes, valid data ranges, and error codes.
</p>
<p>This manual does not describe parameters in detail.  For details on
parameters mentioned in this manual, refer to the manual for parameters
(B&ndash;61410E).
</p>
<p>This manual describes all optional functions.  Look up the options
incorporated into your system in the manual written by the machine tool
builder.
</p>
<p>The models covered by this manual, and their abbreviations are:
</p>
<p>Product name Abbreviations
</p>
<p>FANUC Series 0&ndash;MC 0&ndash;MC
</p>
<p>FANUC Series 0&ndash;MF 0&ndash;MF Series 0
</p>
<p>FANUC Series 0&ndash;GSC 0&ndash;GSC
</p>
<p>FANUC Series 00&ndash;MC 00&ndash;MC Series 00
</p>
<p>FANUC Series 0&ndash;Mate MC 0&ndash;Mate MC
Series 0&ndash;Mate
</p>
<p>FANUC Series 0&ndash;Mate MF 0&ndash;Mate MF
Series 0&ndash;Mate
</p>
<p>FANUC Series 0&ndash;MD 0&ndash;MD
Series 0&ndash;D
</p>
<p>FANUC Series 0&ndash;GSD 0&ndash;GSD
Series 0&ndash;D
</p>
<p>Series 0&ndash;D
FANUC Series 0&ndash;MD II 0&ndash;MD II
</p>
<p>Series 0&ndash;D II
</p>
<p>Series 0&ndash;D
</p>
<p>FANUC Series 0&ndash;GSD II 0&ndash;GSD II
Series 0&ndash;D II
</p>
<p>About this manual
</p>
<p>Applicable models
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>GENERAL B&ndash;61404E/081. GENERAL
</p>
<p>4
</p>
<p>This manual uses the following symbols:
ï¿½ï¿½_: Indicates a combination of axes such as X__ Y__
</p>
<p>Z (used in PROGRAMMING.).
</p>
<p>; : Indicates the end of a block.  It actually corre-
sponds to the ISO code LF or EIA code CR.
</p>
<p>The table below lists manuals related to the FANUC Series 0/00/0&ndash;Mate.
In the table, this manual is marked with an asterisk (*).
</p>
<p>List of related manuals
</p>
<p>Manual name Specificationnumber
</p>
<p>FANUC Series 0/00  DESCRIPTIONS B&ndash;61392E
</p>
<p>FANUC Series 0/00/0&ndash;Mate  DESCRIPTIONS (Suppelement for Remote buffer) B&ndash;61392EN&ndash;1
</p>
<p>FANUC Series 0/00/0&ndash;Mate  CONNECTION MANUAL (HARDWARE) B&ndash;61393E
</p>
<p>FANUC Series 0/00/0&ndash;Mate  CONNECTION MANUAL (FUNCTION) B&ndash;61393E&ndash;2
</p>
<p>FANUC Series 0/00/0&ndash;Mate FOR LATHE  OPERATOR&rsquo;S MANUAL B&ndash;61394E
</p>
<p>FANUC Series 0/00/0&ndash;Mate FOR MACHINING CENTER  OPERATOR&rsquo;S MANUAL B&ndash;61404E *
</p>
<p>FANUC Series 0/00/0&ndash;Mate  MAINTENANCE MANUAL B&ndash;61395E
</p>
<p>FANUC Series 0/00/0&ndash;Mate  OPERATION AND MAINTENANCE HANDBOOK B&ndash;6139ï¿½ï¿½
</p>
<p>FANUC Series 0/00/0&ndash;Mate FOR LATHE  PARAMETER MANUAL B&ndash;61400E
</p>
<p>FANUC Series 0/00/0&ndash;Mate FOR MACHINING CENTER PARAMETER MANUAL B&ndash;61410E
</p>
<p>GRAPHIC CONVERSATION FOR MACHINING CENTER 
(Series 0&ndash;MC, Series 0&ndash;MF, Series 0&ndash;Mate MF)  OPERATOR&rsquo;S MANUAL
</p>
<p>B&ndash;61434E
</p>
<p>FANUC PMC&ndash;MODEL K/L/M  PROGRAMMING MANUAL (LADDER LANGUAGE) B&ndash;55193E
</p>
<p>FANUC Series 0/0&ndash;Mate  
PROGRAMMING MANUAL (Macro Compiler / Macro Executer)
</p>
<p>B&ndash;61393E&ndash;1
</p>
<p>List of related manuals
</p>
<p>Manual name Specificationnumber
</p>
<p>FANUC Series 0&ndash;TD/MD  DESCRIPTIONS B&ndash;62542EN
</p>
<p>FANUC Series 0/00/0&ndash;Mate  CONNECTION MANUAL (HARDWARE) B&ndash;61393E
</p>
<p>FANUC Series 0/00/0&ndash;Mate  CONNECTION MANUAL (FUNCTION) B&ndash;61393E&ndash;2
</p>
<p>FANUC Series 0&ndash;PD CONNECTION MANUAL (FUNCTION) B&ndash;62973EN
</p>
<p>FANUC Series 0/00/0&ndash;Mate FOR LATHE  OPERATOR&rsquo;S MANUAL B&ndash;61394E
</p>
<p>FANUC Series 0/00/0&ndash;Mate FOR MACHINING CENTER  OPERATOR&rsquo;S MANUAL B&ndash;61404E *
</p>
<p>FANUC Series 0&ndash;PD  OPERATOR&rsquo;S MANUAL B&ndash;62974EN
</p>
<p>FANUC Series 0/00/0&ndash;Mate  MAINTENANCE MANUAL B&ndash;61395E
</p>
<p>FANUC Series 0&ndash;PD  MAINTENANCE MANUAL B&ndash;62975EN
</p>
<p>FANUC Series 0/00/0&ndash;Mate FOR LATHE  PARAMETER MANUAL B&ndash;61400E
</p>
<p>FANUC Series 0/00/0&ndash;Mate FOR MACHINING CENTER PARAMETER MANUAL B&ndash;61410E
</p>
<p>Special symbols
</p>
<p>Related manuals
</p>
<p>ï¿½ Series 0/00/0&ndash;Mate C
</p>
<p>ï¿½ Series 0&ndash;D
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALGENERAL
</p>
<p>5
</p>
<p>List of related manuals
</p>
<p>Manual name Specificationnumber
</p>
<p>FANUC Series 0/00/0&ndash;Mate  CONNECTION MANUAL (HARDWARE) B&ndash;61393E
</p>
<p>FANUC Series 0/00/0&ndash;Mate  CONNECTION MANUAL (FUNCTION) B&ndash;61393E&ndash;2
</p>
<p>FANUC Series 0/00/0&ndash;Mate FOR LATHE  OPERATOR&rsquo;S MANUAL B&ndash;61394E
</p>
<p>FANUC Series 0/00/0&ndash;Mate FOR MACHINING CENTER  OPERATOR&rsquo;S MANUAL B&ndash;61404E *
</p>
<p>FANUC Series 0/00/0&ndash;Mate  MAINTENANCE MANUAL B&ndash;61395E
</p>
<p>FANUC Series 0/00/0&ndash;Mate FOR LATHE  PARAMETER MANUAL B&ndash;61400E
</p>
<p>FANUC Series 0/00/0&ndash;Mate FOR MACHINING CENTER PARAMETER MANUAL B&ndash;61410E
</p>
<p>ï¿½ Series 0&ndash;D II
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>GENERAL B&ndash;61404E/081. GENERAL
</p>
<p>6
</p>
<p>When machining the part using the CNC machine tool, first prepare the
program, then operate the CNC machine by using the program.
</p>
<p>1) First, prepare the program from a part drawing to operate the CNC
machine tool.  Store the program to a media appropriate for the CNC.
How to prepare the program is described in the Chapter II.
PROGRAMMING.
</p>
<p>2) The program is to be read into the CNC system.  Then, mount the
workpieces and tools on the machine, and operate the tools according
to the programming.  Finally, execute the machining actually.
How to operate the CNC system is described in the Chapter III.
OPERATION.
</p>
<p>Part 
drawing
</p>
<p>Part 
program-
ming
</p>
<p>CHAPTER II  PROGRAMMING CHAPTER III  OPERATION
</p>
<p>CNC MACHINE TOOL
</p>
<p>Before the actual programming, make the machining plan for how to
machine the part.
Machining plan
</p>
<p>1. Determination of workpieces machining range
2. Method of mounting workpieces on the machine tool
3. Machining sequence in every cutting process
4. Cutting tools and cutting conditions
</p>
<p>Decide the cutting method in every cutting process.
</p>
<p>Cutting process 1 2 3
</p>
<p>Cutting procedure Feed cutting Side cutting
Hole 
</p>
<p>machining
</p>
<p>1. Cutting method:
Rough
Semi
Finish
</p>
<p>2. Cutting tools
</p>
<p>3. Cutting conditions: 
Feedrate
Cutting depth
</p>
<p>4. Tool path
</p>
<p>1.1
GENERAL FLOW OF
OPERATION OF CNC
MACHINE TOOL
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALGENERAL
</p>
<p>7
</p>
<p>Tool
</p>
<p>Side cutting
</p>
<p>Face cutting
</p>
<p>Hole machining
</p>
<p>Prepare the program of the tool path and machining condition according
to the workpiece figure, for each machining.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>GENERAL B&ndash;61404E/081. GENERAL
</p>
<p>8
</p>
<p>1.2
NOTES ON READING
THIS MANUAL
</p>
<p>NOTE
1 The function of an CNC machine tool system depends not
</p>
<p>only on the CNC, but on the combination of the machine tool,
its magnetic cabinet, the servo system, the CNC, the
operator&rsquo;s panels, etc.  It is too difficult to describe the function,
programming, and operation relating to all combinations.  This
manual generally describes these from the stand&ndash;point of the
CNC.  So, for details on a particular CNC machine tool, refer
to the manual issued by the machine tool builder, which
should take precedence over this manual.
</p>
<p>2 Headings are placed in the left margin so that the reader can
easily access necessary information.  When locating the
necessary information, the reader can save time by
searching though these headings.
</p>
<p>3 Machining programs, parameters, variables, etc. are stored
in the CNC unit internal non&ndash;volatile memory.  In general,
these contents are not lost by the switching ON/OFF of the
power.  However, it is possible that a state can occur where
precious data stored in the non&ndash;volatile memory has to be
deleted, because of deletions from a maloperation, or by a
failure restoration.  In order to restore rapidly when this kind
of mishap occurs, it is recommended that you create a copy
of the various kinds of data beforehand.
</p>
<p>4 This manual describes as many reasonable variations in
equipment usage as possible.  It cannot address every
combination of features, options and commands that
should not be attempted.
If a particular combination of operations is not described, it
should not be attempted.
</p>
<p>5 This manual describes the functions supported by the
software of the following series and editions of FANUC
Series 0/00/0&ndash;Mate.  These functions may not be supported
by other series or editions of the software.
</p>
<p>For the functions supported by the Series 0&ndash;D, see
&ldquo;Specifications&rdquo; in Appendix I.
</p>
<p>Product name Series Editions
</p>
<p>FANUC Series 0&ndash;MC
</p>
<p>FANUC Series 0&ndash;MF
</p>
<p>FANUC Series 0&ndash;GSC
</p>
<p>FANUC Series 00&ndash;MC
</p>
<p>FANUC Series 0&ndash;Mate MC
</p>
<p>FANUC Series 0&ndash;Mate MF
</p>
<p>FANUC Series 0&ndash;MD
</p>
<p>FANUC Series 0&ndash;GSD
</p>
<p>FANUC Series 0&ndash;MD II
</p>
<p>FANUC Series 0&ndash;GSD II
</p>
<p>0469
</p>
<p>0467
</p>
<p>0866
</p>
<p>0468
</p>
<p>0455
</p>
<p>0454
</p>
<p>0472
</p>
<p>0891
</p>
<p>0473
</p>
<p>0892
</p>
<p>01 or more
</p>
<p>14 or more
</p>
<p>09 or more
</p>
<p>05 or more
</p>
<p>06 or more
</p>
<p>03 or more
</p>
<p>01 or more
</p>
<p>01 or more
</p>
<p>02 or more
</p>
<p>02 or more
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>II.  PROGRAMMING
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALPROGRAMMING
</p>
<p>11
</p>
<p>1 GENERAL
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/081. GENERAL
</p>
<p>12
</p>
<p>The tool moves along straight lines and arcs constituting the workpiece
parts figure (See II&ndash;4).
</p>
<p>Program
G01 X_ _ Y_ _ ;
X_ _ ;
</p>
<p>Tool
</p>
<p>Workpiece
</p>
<p>Fig.1.1 (a)  Tool movement along a straight line
</p>
<p>Program
G03X_ _Y_ _R_ _;
</p>
<p>Workpiece
Tool
</p>
<p>Fig.1.1 (b)  Tool movement along an arc
</p>
<p>Symbols of the programmed commands G01, G02, ... are called the
preparatory function and specify the type of interpolation conducted in
the control unit.
</p>
<p>1.1
TOOL MOVEMENT
ALONG WORKPIECE
PARTS FIGURE&ndash;
INTERPOLATION
</p>
<p>Explanations
</p>
<p>ï¿½ Tool movement along a
straight line
</p>
<p>ï¿½ Tool movement along an
arc
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALPROGRAMMING
</p>
<p>13
</p>
<p>(a) Movement along straight line
</p>
<p>G01 Y__;
X&ndash;&ndash;Y&ndash;&ndash;&ndash;&ndash;;
</p>
<p>(b) Movement along arc
</p>
<p>G03X&ndash;&ndash;Y&ndash;&ndash;R&ndash;&ndash;;
</p>
<p>Control unit
</p>
<p>X axis
</p>
<p>Y axis
</p>
<p>Tool 
move-
ment
</p>
<p>Interpolation
</p>
<p>a) Movement 
along straight
line
</p>
<p>b) Movement 
along arc
</p>
<p>Fig.1.1 (c)   Interpolation function
</p>
<p>NOTE
Some machines move tables instead of tools but this
manual assumes that tools are moved against workpieces.
</p>
<p>Movement of the tool at a specified speed for cutting a workpiece is called
the feed.
</p>
<p>Tool
</p>
<p>Workpiece
</p>
<p>Table
</p>
<p>F
</p>
<p>mm/min
</p>
<p>Fig.1.2   Feed function
</p>
<p>Feedrates can be specified by using actual numerics.  For example, to feed
the tool at a rate of 150 mm/min, specify the following in the program:
F150.0
The function of deciding the feed rate is called the feed function (See
II&ndash;5).
</p>
<p>1.2
FEED&ndash;
FEED FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/081. GENERAL
</p>
<p>14
</p>
<p>A CNC machine tool is provided with a fixed position. Normally, tool
change and programming of absolute zero point as described later are
performed at this position. This position is called the reference position.
</p>
<p>Reference position
</p>
<p>Tool
</p>
<p>Workpiece
</p>
<p>Table
</p>
<p>Fig.1.3.1   Reference position
</p>
<p>The tool can be moved to the reference position in two ways:
</p>
<p>(1)Manual reference position return (See III&ndash;3.1)
Reference position return is performed by manual button operation.
</p>
<p>(2)Automatic reference position return (See II&ndash;6)
In general, manual reference position return is performed first after the
power is turned on. In order to move the tool to the reference position
for tool change thereafter, the function of automatic reference position
return is used.
</p>
<p>1.3
PART DRAWING AND
TOOL MOVEMENT
</p>
<p>1.3.1
Reference Position
(Machine&ndash;Specific
Position)
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALPROGRAMMING
</p>
<p>15
</p>
<p>Z
</p>
<p>Y
</p>
<p>X
</p>
<p>Part drawing
</p>
<p>Coordinate system
</p>
<p>Tool
</p>
<p>Workpiece
</p>
<p>Machine tool
</p>
<p>Program
</p>
<p>Command
</p>
<p>CNC
</p>
<p>Z
</p>
<p>Y
</p>
<p>X
</p>
<p>Z
</p>
<p>Y
</p>
<p>X
</p>
<p>Fig.1.3.2 (a)   Coordinate system
</p>
<p>The following two coordinate systems are specified at different locations:
(See II&ndash;7)
</p>
<p>(1)Coordinate system on part drawing
The coordinate system is written on the part drawing.  As the program
data, the coordinate values on this coordinate system are used.
</p>
<p>(2)Coordinate system specified by the CNC
The coordinate system is prepared on the actual machine tool table.
This can be achieved by programming the distance from the current
position of the tool to the zero point of the coordinate system to be set.
</p>
<p>230
</p>
<p>300
</p>
<p>Program
zero point
</p>
<p>Distance to the zero point of a coordinate
system to be set
</p>
<p>Present tool position
</p>
<p>Y
</p>
<p>X
</p>
<p>Fig.1.3.2 (b)   Coordinate system specified by the CNC
</p>
<p>The positional relation between these two coordinate systems is
determined when a workpiece is set on the table.
</p>
<p>1.3.2
Coordinate System on
Part Drawing and
Coordinate System
Specified by CNC &ndash;
Coordinate System
</p>
<p>Explanations
</p>
<p>ï¿½ Coordinate system
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/081. GENERAL
</p>
<p>16
</p>
<p>Table
</p>
<p>Workpiece
</p>
<p>Coordinate system specified
by the CNC established on
the table
</p>
<p>Coordinate system on
part drawing established
on the workpiece
</p>
<p>Y
</p>
<p>X
</p>
<p>Y
</p>
<p>X
</p>
<p>Fig.1.3.2 (c)  Coordinate system specified by CNC and coordinate
systemon part drawing
</p>
<p>The tool moves on the coordinate system specified by the CNC in
accordance with the command program generated with respect to the
coordinate system on the part drawing, and cuts a workpiece into a shape
on the drawing.
Therefore, in order to correctly cut the workpiece as specified on the
drawing, the two coordinate systems must be set at the same position.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALPROGRAMMING
</p>
<p>17
</p>
<p>To set the two coordinate systems at the same position, simple methods
shall be used according to workpiece shape, the number of machinings.
</p>
<p>(1)Using a standard plane and point of the workpiece.
</p>
<p>Program 
zero point
</p>
<p>Workpiece&rsquo;s 
standard pointFixed distance
</p>
<p>Bring the tool center to the workpiece standard point.  
And set the coordinate system specified by CNC at this position.
</p>
<p>Fixed distance
</p>
<p>Y
</p>
<p>X
</p>
<p>(2)Mounting a workpiece directly against the jig
</p>
<p>Jig
</p>
<p>Program zero point
</p>
<p>Meet the tool center to the reference position.  And set the coordinate
system specified by CNC at this position.  (Jig shall be mounted on the
predetermined point from the reference position.)
</p>
<p>(3)Mounting a workpiece on a pallet, then mounting the workpiece and
pallet on the jig
</p>
<p>&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;&Aring;
</p>
<p>Pallet
</p>
<p>(Jig and coordinate system shall be specified by the same as (2)).
</p>
<p>Jig
</p>
<p>Workpiece
</p>
<p>ï¿½ Methods of setting the
two coordinate systems
in the same position
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/081. GENERAL
</p>
<p>18
</p>
<p>Coordinate values of command for moving the tool can be indicated by
absolute or incremental designation (See II&ndash;8.1).
</p>
<p>The tool moves to a point at &ldquo;the distance from zero point of the
coordinate system&rdquo; that is to the position of the coordinate values.
</p>
<p>B(10,30,20)
</p>
<p>Tool
</p>
<p>Command specifying movement
from point A to point B
</p>
<p>G90 X10.0 Y30.0 Z20.0 ;
</p>
<p>Coordinates  of point B
</p>
<p>Y
</p>
<p>X
</p>
<p>Z
</p>
<p>A
</p>
<p>Specify the distance from the previous tool position to the next tool
position.
</p>
<p>X=40
</p>
<p>Z=&ndash;10
</p>
<p>G91 X40.0 Y&ndash;30.0 Z&ndash;10.0 ;
</p>
<p>Distance and direction for 
movement along each axis
</p>
<p>Tool
</p>
<p>Command specifying movement
from point A to point B
</p>
<p>Y= &ndash;30
</p>
<p>Y
</p>
<p>X
</p>
<p>Z
</p>
<p>A
</p>
<p>B
</p>
<p>1.3.3
How to Indicate
Command Dimensions
for Moving the Tool &ndash;
Absolute, Incremental
Commands
</p>
<p>Explanations
</p>
<p>ï¿½ Absolute coordinates
</p>
<p>ï¿½ Incremental coordinates
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALPROGRAMMING
</p>
<p>19
</p>
<p>The speed of the tool with respect to the workpiece when the workpiece
is cut  is called the cutting speed.
As for the CNC, the cutting speed can be specified by the spindle speed
in rpm unit.
</p>
<p>rpm &oslash; D
</p>
<p>mm/min
</p>
<p>Tool
</p>
<p>V: Cutting speed
</p>
<p>Workpiece
</p>
<p>Spindle speed
N mm
</p>
<p>&lt;When a workpiece should be machined with a tool 100 mm in
diameter at a cutting speed of 80 mm/min. &gt;
The spindle speed is approximately 250 rpm, which is obtained from 
N=1000v/ÏD. Hence the following command is required:
</p>
<p>S250 ;
Commands related to the spindle speed are called the spindle speed
function (See II&ndash;9).
</p>
<p>1.4
CUTTING SPEED &ndash;
SPINDLE SPEED
FUNCTION
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/081. GENERAL
</p>
<p>20
</p>
<p>When drilling, tapping, boring, milling or the like, is performed, it is
necessary to select a suitable tool. When a number is assigned to each tool
and the number is specified in the program, the corresponding tool is
selected.
</p>
<p>01
</p>
<p>02
</p>
<p>Tool number
</p>
<p>ATC magazine
</p>
<p>&lt;When No.01 is assigned to drilling tool&gt;
When the tool is stored at location 01 in the ATC magazine, the tool can
be selected by specifying T01. This is called the tool function (See II&ndash;10).
</p>
<p>When machining is actually started, it is necessary to rotate the spindle,
and feed coolant. For this purpose, on&ndash;off operations of spindle motor and
coolant valve should be controlled (See II&ndash;11).
</p>
<p>Workpiece
</p>
<p>Tool
</p>
<p>Coolant
</p>
<p>The function of specifying the on&ndash;off operations of the components of the
machine is called the miscellaneous function.  In general, the function is
specified by an M code.
For example, when M03 is specified, the spindle is rotated clockwise at
the specified spindle speed.
</p>
<p>1.5
SELECTION OF TOOL
USED FOR VARIOUS
MACHINING &ndash; TOOL
FUNCTION
</p>
<p>Examples
</p>
<p>1.6
COMMAND FOR
MACHINE
OPERATIONS &ndash;
MISCELLANEOUS
FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALPROGRAMMING
</p>
<p>21
</p>
<p>A group of commands given to the CNC for operating the machine is
called the program.  By specifying the commands, the tool is moved along
a straight line or an arc, or the spindle motor is turned on and off.
In the program, specify the commands in the sequence of actual tool
movements.
</p>
<p>Block
</p>
<p>&sdot;
</p>
<p>&sdot;
</p>
<p>&sdot;
</p>
<p>&sdot;
</p>
<p>Program
</p>
<p>Tool movement sequence
</p>
<p>Block
</p>
<p>Block
</p>
<p>Block
</p>
<p>Block
</p>
<p>Fig.1.7 (a)  Program configuration
</p>
<p>A group of commands at each step of the sequence is called the block.
The program consists of a group of blocks for a series of machining.  The
number for discriminating each block is called the sequence number, and
the number  for discriminating each program is called the program
number (See II&ndash;12).
</p>
<p>1.7
PROGRAM
CONFIGURATION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/081. GENERAL
</p>
<p>22
</p>
<p> The block and the program have the following configurations.
</p>
<p>N ï¿½ï¿½ï¿½ï¿½ G ï¿½ï¿½ X ï¿½ï¿½.ï¿½ Y ï¿½ï¿½ï¿½.ï¿½ M ï¿½ï¿½ S ï¿½ï¿½ T ï¿½ï¿½ ;
</p>
<p>1 block
</p>
<p>Sequence 
number
</p>
<p>Preparatory 
function
</p>
<p>Dimension word Miscel-
laneous 
function
</p>
<p>Spindle 
function
</p>
<p>Tool 
func-
tion
</p>
<p>End of 
block
</p>
<p>Fig.1.7 (b)   Block configuration
</p>
<p>A block has a sequence number at its head, which identifies the block, and
an end&ndash;of&ndash;block code at the end, indicating the end of the block.  This
manual indicates the end&ndash;of&ndash;block code by ; (LF in the ISO code and CR
in the EIA code).
</p>
<p>;
O ï¿½ï¿½ï¿½ï¿½ ;
</p>
<p>&middot;
</p>
<p>&middot;
</p>
<p>&middot;
</p>
<p>M30 ;
</p>
<p>Program number
</p>
<p>Block
</p>
<p>Block
</p>
<p>Block
</p>
<p>End of program
</p>
<p>&middot;
</p>
<p>&middot;
</p>
<p>&middot;
</p>
<p>Fig.1.7 (c)  Program configuration
</p>
<p>Normally, a program number is specified after the end&ndash;of&ndash;block (;) code
at the beginning of the program, and a program end code (M02 or M30)
is specified at the end of the program.
</p>
<p>Explanations
</p>
<p>ï¿½ Block
</p>
<p>ï¿½ Program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALPROGRAMMING
</p>
<p>23
</p>
<p>When machining of the same pattern appears at many portions of a
program, a program for the pattern is created.  This is called the
subprogram. On the other hand, the original program is called the main
program. When a subprogram execution command appears during
execution of the main program, commands of the subprogram are
executed. When execution of the subprogram is finished, the sequence
returns to the main program.
</p>
<p>Main program
</p>
<p>M98P1001
</p>
<p>&middot;
&middot;
</p>
<p>M98P1002
</p>
<p>M98P1001
</p>
<p>&middot;
</p>
<p>&middot;
</p>
<p>&middot;
</p>
<p>&middot;
</p>
<p>&middot;
</p>
<p>&middot;
</p>
<p>&middot;
</p>
<p>&middot;
</p>
<p>&middot;
</p>
<p>Subprogram #1
</p>
<p>Subprogram #2
</p>
<p>O1001
</p>
<p>M99
</p>
<p>Program for 
hole #1
</p>
<p>Program for
hole #2
</p>
<p>O1002
</p>
<p>M99
</p>
<p>Hole #1
</p>
<p>Hole #2
</p>
<p>Hole #1
</p>
<p>Hole #2
</p>
<p>ï¿½ Main program and
subprogram
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/081. GENERAL
</p>
<p>24
</p>
<p>Usually, several tools are used for machining one workpiece.  The tools
have different tool length. It is very troublesome to change the program
in accordance with the tools.
Therefore, the length of each tool used should be measured in advance.
By setting the difference between the length of the standard tool and the
length of each tool in the CNC (data display and setting : see III&ndash;11),
machining can be performed without altering the program even when the
tool is changed. This function is called tool length compensation.
</p>
<p>H1 H2 H3 H4
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>&Aring;&Aring;
&Aring;&Aring;
&Aring;&Aring;
&Aring;&Aring;
&Aring;&Aring;
</p>
<p>Standard
tool
</p>
<p>Workpiece
</p>
<p>Because a cutter has a radius, the center of the cutter path goes around the
workpiece with the cutter radius deviated.
</p>
<p>Workpiece
</p>
<p>Cutter path using cutter 
compensation
</p>
<p>Machined part
figure
</p>
<p>Cutter
</p>
<p>If radius of cutters are stored in the CNC (Data Display and Setting : see
III&ndash;11), the tool can be moved by cutter radius apart from the machining
part figure.  This function is called cutter  compensation.
</p>
<p>1.8
TOOL FIGURE AND
TOOL MOTION BY
PROGRAM
Explanations
</p>
<p>ï¿½ Machining using the end
of cutter &ndash; Tool length
compensation function
(See II&ndash;14.1)
</p>
<p>ï¿½ Machining using the side
of cutter &ndash; Cutter
compensation function
(See II&ndash;14.4 to 14.6)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALPROGRAMMING
</p>
<p>25
</p>
<p>Limit switches are installed at the ends of each axis on the machine to
prevent tools from moving beyond the ends. The range in which tools can
move is called the stroke.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Motor
</p>
<p>Limit switch
</p>
<p>Table
</p>
<p>Machine zero point
</p>
<p>Specify these distances.
</p>
<p>Tools cannot enter this area. The area is specified by data in memory or
a program.
</p>
<p>Besides strokes defined with limit switches, the operator can define an
area which the tool cannot enter using a program or data in memory  (see
Section III&ndash;11). This function is called stroke check.
</p>
<p>1.9
TOOL MOVEMENT
RANGE &ndash; STROKE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/082. CONTROLLED AXES
</p>
<p>26
</p>
<p>2 CONTROLLED AXES
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 2. CONTROLLED AXESPROGRAMMING
</p>
<p>27
</p>
<p>Series
0/00&ndash;C
</p>
<p>Series
0&ndash;Mate C
</p>
<p>Series 0&ndash;D
</p>
<p>No. of basic controlled axes 3 axes 3 axes 3 axes
</p>
<p>Controlled axes expansion
(PMC axis is not included.)
</p>
<p>Up to 4 axes Up to 4 axes Up to 4 axes
</p>
<p>Basic simultaneously con-
trolled axes
</p>
<p>2 axes 2 axes 2 axes
</p>
<p>Simultaneously controlled
axes expansion
</p>
<p>Up to 4 axes Up to 3 axes Up to 4 axes
</p>
<p>Axes controlled by PMC Up to 2 axes
(Note)
</p>
<p>&mdash; &mdash;
</p>
<p>NOTE
The number of PMC&ndash;controlled axes.  The PMC can control
up to four axes, including PMC&ndash;controlled axes and those
axes that are usually controlled by the CNC.
</p>
<p>Names of the three basic axes are fixed as X, Y, and Z.  Names of
additional axes can be optionally selected from A, B, C, U, V, and W.
They can be set by parameter No. 008 #2, #3, #4.
</p>
<p>Name of
increment
</p>
<p>system
</p>
<p>Least input
increment
</p>
<p>Least command
increment
</p>
<p>Maximum
stroke
</p>
<p>IS&ndash;B 0.001mm
0.0001inch
0.001deg
</p>
<p>0.001mm
0.0001inch
0.001deg
</p>
<p>99999.999mm
9999.9999inch
99999.999deg
</p>
<p>Name of
increment
</p>
<p>system
</p>
<p>Least input
increment
</p>
<p>Least command
increment
</p>
<p>Maximum
stroke
</p>
<p>IS&ndash;C 0.0001mm
0.00001inch
0.00001deg
</p>
<p>0.0001mm
0.00001inch
0.00001deg
</p>
<p>9999.9999mm
999.99999inch
9999.9999deg
</p>
<p>Combined use of the inch system and the metric system is not allowed.
There are functions that cannot be used between axes with different unit
systems (circular interpolation, cutter compensation, etc.).  For the
increment system, see the machine tool builder&rsquo;s manual.
</p>
<p>Maximum stroke = Least command incrementï¿½99999999
See 2.3 Incremen System.
</p>
<p>2.1
CONTROLLED AXES
</p>
<p>2.2
NAME OF AXES
</p>
<p>2.3
INCREMENT SYSTEM
</p>
<p>2.4
MAXIMUM STROKE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
3. PREPARATORY FUNCTION
</p>
<p>(G FUNCTION)
</p>
<p>28
</p>
<p>3 PREPARATORY FUNCTION (G FUNCTION)
A number following address G determines the meaning of the command
for the concerned block.
G codes are divided into the following two types.
</p>
<p>Type Meaning
</p>
<p>One&ndash;shot G code The G code is effective only in the block in which it is speci-
fied.
</p>
<p>Modal G code The G code is effective until another G code of the same
group is specified.
</p>
<p>G01 and G00 are modal G codes in group 01.
</p>
<p>G01X  ;
Z  ;
X  ;
</p>
<p>G00Z  ;
</p>
<p>G01 is effective in this range.
</p>
<p>1. Modal G codes have the following initial conditions when the power
is turned on or the system is reset to the clear state (bit 6 of parameter
No. 045).
1) Those G codes marked   in Table 3 are specified automatically.
2) G20 and G21 retain their original conditions.
3) When the power is turned on, G22 is specified automatically.  
</p>
<p>When the system is reset, G22 and G23 retain their original
conditions.
</p>
<p>4) G00 or G01 is automatically selected depending on the setting of
bit 6 of parameter No. 011.
</p>
<p>5) G90 or G91 is automatically selected depending on the setting of
bit 7 of parameter No. 030.
</p>
<p>6) G17, G18, or G19 is automatically selected depending on the
setting of parameter No. 212.
</p>
<p>2. The G codes of group 00, except G10 and G11, are one&ndash;shot G codes.
3. If a G code that does not appear in the G code list is specified, or a G
</p>
<p>code whose options are not supported is specified, alarm No. 010 is
displayed.
</p>
<p>4. Multiple G codes of different groups can be specified in a single block.
When multiple G codes of one group are specified in a block, the G
code specified last is effective.
</p>
<p>5. If any G code of group 01 is specified in a canned cycle mode, the
canned cycle is automatically cancelled and the G80 condition is
entered.  However, a G code of group 01 is not affected by any of the
canned cycle G codes.
</p>
<p>6. A G code is displayed from each group.
</p>
<p>Explanations
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
3. PREPARATORY FUNCTION
</p>
<p>(G FUNCTION)PROGRAMMING
</p>
<p>29
</p>
<p>Table 3 G code list (1/3)
</p>
<p>G code Group Function
</p>
<p>G00 Positioning
</p>
<p>G01
01
</p>
<p>Linear interpolation
</p>
<p>G02
01
</p>
<p>Circular interpolation/Helical interpolation CW
</p>
<p>G03 Circular interpolation/Helical interpolation CCW
</p>
<p>G04 Dwell, Exact stop
</p>
<p>G05 High speed cycle machining
</p>
<p>G08
00
</p>
<p>Advanced preview control
</p>
<p>G09
00
</p>
<p>Exact stop
</p>
<p>G10 Data setting
</p>
<p>G11 Data setting mode cancel
</p>
<p>G15
17
</p>
<p>Polar coordinates command cancel
</p>
<p>G16
17
</p>
<p>Polar coordinates command
</p>
<p>G17 XpYp plane selection Xp: X axis or its parallel axis
</p>
<p>G18 02 ZpXp plane selection Yp: Y axis or its parallel axis
</p>
<p>G19 YpZp plane selection Zp: Z axis or its parallel axis
</p>
<p>G20
06
</p>
<p>Input in inch
</p>
<p>G21
06
</p>
<p>Input in mm
</p>
<p>G22
04
</p>
<p>Stored stroke check function on
</p>
<p>G23
04
</p>
<p>Stored stroke check function off
</p>
<p>G27 Reference position return check
</p>
<p>G28 Return to reference position
</p>
<p>G29 00 Return from reference position
</p>
<p>G30 2nd, 3rd and 4th reference position return
</p>
<p>G31 Skip function
</p>
<p>G33 01 Thread cutting
</p>
<p>G37
00
</p>
<p>Automatic tool length measurement
</p>
<p>G39
00
</p>
<p>Corner offset circular interpolation
</p>
<p>G40 Cutter compensation cancel
</p>
<p>G41 07 Cutter compensation left
</p>
<p>G42 Cutter compensation right
</p>
<p>G43
08
</p>
<p>Tool length compensation + direction
</p>
<p>G44
08
</p>
<p>Tool length compensation &ndash; direction
</p>
<p>G45 Tool offset increase
</p>
<p>G46
00
</p>
<p>Tool offset decrease
</p>
<p>G47
00
</p>
<p>Tool offset double increase
</p>
<p>G48 Tool offset double decrease
</p>
<p>G49 08 Tool length compensation cancel
</p>
<p>G50
11
</p>
<p>Scaling cancel
</p>
<p>G51
11
</p>
<p>Scaling
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
3. PREPARATORY FUNCTION
</p>
<p>(G FUNCTION)
</p>
<p>30
</p>
<p>Table 3 G code list (2/3)
</p>
<p>G code Group Function
</p>
<p>G52
00
</p>
<p>Local coordinate system setting
</p>
<p>G53
00
</p>
<p>Machine coordinate system selection
</p>
<p>G54 Workpiece coordinate system 1 selection
</p>
<p>G55 Workpiece coordinate system 2 selection
</p>
<p>G56
14
</p>
<p>Workpiece coordinate system 3 selection
</p>
<p>G57
14
</p>
<p>Workpiece coordinate system 4 selection
</p>
<p>G58 Workpiece coordinate system 5 selection
</p>
<p>G59 Workpiece coordinate system 6 selection
</p>
<p>G60 00 Single direction positioning
</p>
<p>G61 Exact stop mode
</p>
<p>G62
15
</p>
<p>Automatic corner override
</p>
<p>G63
15
</p>
<p>Tapping mode
</p>
<p>G64 Cutting mode
</p>
<p>G65 00 Macro call
</p>
<p>G66
12
</p>
<p>Macro modal call
</p>
<p>G67
12
</p>
<p>Macro modal call cancel
</p>
<p>G68
16
</p>
<p>Coordinate rotation
</p>
<p>G69
16
</p>
<p>Coordinate rotation cancel
</p>
<p>G73
09
</p>
<p>Peck drilling cycle
</p>
<p>G74
09
</p>
<p>Counter tapping cycle
</p>
<p>G75 01 Plunge grinding cycle (0&ndash;GSC, 0&ndash;GSD/II)
</p>
<p>G76 09 Fine boring cycle
</p>
<p>G77 Direct constant&ndash;dimension plunge grinding cycle (0&ndash;GSC, 0&ndash;GSD/II)
</p>
<p>G78 01 Continuous&ndash;feed surface grinding cycle (0&ndash;GSC, 0&ndash;GSD/II)
</p>
<p>G79 Intermittent&ndash;feed surface grinding cycle (0&ndash;GSC, 0&ndash;GSD/II)
</p>
<p>G80 Canned cycle cancel/external operation function cancel
</p>
<p>G81 Drilling cycle, spot boring cycle or external operation function
</p>
<p>G82 Drilling cycle or counter boring cycle
</p>
<p>G83 Peck drilling cycle
</p>
<p>G84
09
</p>
<p>Tapping cycle
</p>
<p>G85
09
</p>
<p>Boring cycle
</p>
<p>G86 Boring cycle
</p>
<p>G87 Back boring cycle
</p>
<p>G88 Boring cycle
</p>
<p>G89 Boring cycleww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
3. PREPARATORY FUNCTION
</p>
<p>(G FUNCTION)PROGRAMMING
</p>
<p>31
</p>
<p>Table 3 G code list (3/3)
</p>
<p>G code Group Function
</p>
<p>G90
03
</p>
<p>Absolute command
</p>
<p>G91
03
</p>
<p>Increment command
</p>
<p>G92 00 Setting for work coordinate system or clamp at maximum spindle speed
</p>
<p>G94
05
</p>
<p>Feed per minute
</p>
<p>G95
05
</p>
<p>Feed per rotation
</p>
<p>G96
13
</p>
<p>Constant surface speed control
</p>
<p>G97
13
</p>
<p>Constant surface speed control cancel
</p>
<p>G98
10
</p>
<p>Return to initial point in canned cycle
</p>
<p>G99
10
</p>
<p>Return to R point in canned cycle
</p>
<p>G107 00 Cylindrical interpolation
</p>
<p>G150 Normal direction control cancel mode
</p>
<p>G151 19 Normal direction control left side on
</p>
<p>G152 Normal direction control right side on
</p>
<p>G160
20
</p>
<p>In&ndash;feed control function cancel (0&ndash;GSC, 0&ndash;GSD/II)
</p>
<p>G161
20
</p>
<p>In&ndash;feed control function (0&ndash;GSC, 0&ndash;GSD/II)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/084. INTERPOLATION FUNCTIONS
</p>
<p>32
</p>
<p>4 INTERPOLATION FUNCTIONS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. INTERPOLATION FUNCTIONSPROGRAMMING
</p>
<p>33
</p>
<p>The G00 command moves a tool to the position in the workpiece system
specified with an absolute or an incremental command at a rapid traverse
rate.
In the absolute command, coordinate value of the end point is
programmed.
In the incremental command the distance the tool moves is programmed.
</p>
<p>_: For an absolute command, the coordinates of an end posi-
tion, and for an incremental command, the distance the
tool moves.
</p>
<p>G00
</p>
<p>ï¿½ï¿½
</p>
<p>_ ;ï¿½ï¿½
</p>
<p>Tool path generally does not become a straight line.
</p>
<p>End position
Non liner  positioning.
</p>
<p>Start position
</p>
<p>The rapid traverse rate in the G00 command is set to the parameter No.
518 to 521 for each axis independently by the machine tool builder. In the
positioning mode actuated by G00, the tool is accelerated to a
predetermined speed at the start of a block and is decelerated at the end
of a block.  Execution proceeds to the next block after confirming the
in&ndash;position.
&ldquo;In&ndash;position&rdquo; means that the feed motor is within the specified range.
This range is determined by the machine tool builder by setting to
parameter No. 500 to 503.
</p>
<p>The rapid traverse rate cannot be specified in the address F.
</p>
<p>4.1
POSITIONING (G00)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>Restrictions
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/084. INTERPOLATION FUNCTIONS
</p>
<p>34
</p>
<p>For accurate positioning without play of the machine (backlash), final
positioning from one direction is available.
</p>
<p>Start position
</p>
<p>Temporary stop
End position
</p>
<p>Overrun
</p>
<p>Start position
</p>
<p>_: For an absolute command, the coordinates of an end posi-
tion, and for an incremental command, the distance the
tool moves.
</p>
<p>G60
</p>
<p>ï¿½ï¿½
</p>
<p>_ ;ï¿½ï¿½
</p>
<p>An overrun and a positioning direction are set by the parameter (No. 029
#0 to #3, No. 204 to 207).  Even when a commanded positioning direction
coincides with that set by the parameter, the tool stops once before the end
point.
</p>
<p>ï¿½ During drilling canned cycle, no single direction positioning is
effected in Z axis.
</p>
<p>ï¿½ No single direction positioning is effected in an axis for which no
overrun has been set by the parameter.
</p>
<p>ï¿½ When the move distance 0 is commanded, the single direction
positioning is not performed.
</p>
<p>ï¿½ The direction set to the parameter is not effected by mirror image.
</p>
<p>ï¿½ The single direction positioning does not apply to the shift motion in
the canned cycles of G76 and G87.
</p>
<p>4.2
SINGLE DIRECTION
POSITIONING (G60)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>Restrictions
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. INTERPOLATION FUNCTIONSPROGRAMMING
</p>
<p>35
</p>
<p>Tools can move along a line
</p>
<p>ï¿½ï¿½_: For an absolute command, the coordinates of an end
point, and for an incremental command, the distance the
tool moves.
</p>
<p>F_: Speed of tool feed (Feedrate)
</p>
<p>G01 _ F_ ;ï¿½ï¿½
</p>
<p>A tools move along a line to the specified position at  the feedrate
specified in F.
The feedrate specified in F is effective until a new value is specified. It
need not be specified for each block.
The feedrate commanded by the F code is measured along the tool path.
If the F code is not commanded, the feedrate is regarded as zero.
The feedrate of each axis direction is as follows.
</p>
<p>Fï¿½ ï¿½ ï¿½
L
ï¿½ f
</p>
<p>Fï¿½ ï¿½
ï¿½
</p>
<p>L
ï¿½ f
</p>
<p>Fï¿½ ï¿½
ï¿½
</p>
<p>L
ï¿½ f
</p>
<p>Feed rate of a axis direction :
</p>
<p>Fï¿½ ï¿½
ï¿½
</p>
<p>L
ï¿½ f
</p>
<p>L ï¿½ ï¿½2 ï¿½ ï¿½2 ï¿½ ï¿½2 ï¿½ ï¿½2ï¿½
</p>
<p>G01 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Ff ;
</p>
<p>Feed rate of g axis direction :
</p>
<p>Feed rate of b axis direction :
</p>
<p>Feed rate of z axis direction :
</p>
<p>The feed rate of the rotary axis is commanded in the unit of deg/min (the
unit is decimal point position).
</p>
<p>When the straight line axisï¿½ (such as X, Y, or Z) and the rotating axisï¿½
(such as A, B, or C) are linearly interpolated, the feed rate is that in which
the tangential feed rate in theï¿½ andï¿½ cartesian coordinate system is
commanded by F(mm/min). 
ï¿½&ndash;axis feedrate is obtained ; at first, the time required for  distribution is
calculated by using the above formula, then the Î²&ndash;axis feedrate unit is
changed to deg 1min.
</p>
<p>4.3
LINEAR
INTERPOLATION
(G01)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/084. INTERPOLATION FUNCTIONS
</p>
<p>36
</p>
<p>A calculation example is as follows.
G91 G01 X20.0B40.0 F300.0 ;
This changes the unit of the C axis from 40.0 deg to 40mm with metric
input.  The time required for distribution is calculated as follows:
</p>
<p>202 ï¿½ 402ï¿½
</p>
<p>300
</p>
<p>40
0.14907
</p>
<p>The feed rate for the C axis is
</p>
<p>0.14907 (min)
</p>
<p>268.3 degï¿½min
</p>
<p>In simultaneous 3 or 4 axes control, the feed rate is calculated the same
way as in 2 axes control.
</p>
<p>100.0
</p>
<p>200.00
</p>
<p>(G91) G01X200.0Y100.0F200.0 ;
</p>
<p>Y axis
</p>
<p>(End position)
</p>
<p>X axis
(Start position)
</p>
<p>90&deg;
ï¿½ï¿½ï¿½ï¿½
ï¿½ 	ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>(End point)
Feedrate is 300 deg/min
</p>
<p>G91G01C&ndash;90.0 G300.0 ;Feed rate of 300deg/min
</p>
<p>Examples
</p>
<p>ï¿½ Linear interpolation
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½&#13;ï¿½ ï¿½
ï¿½ &#13;ï¿½ï¿½
</p>
<p>ï¿½
&#13;ï¿½&#13;ï¿½
	 ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. INTERPOLATION FUNCTIONSPROGRAMMING
</p>
<p>37
</p>
<p>The command below will move a tool along a circular arc.
</p>
<p>G17
G03
</p>
<p>Arc in the XpYp plane
</p>
<p>Arc in the ZpXp plane
</p>
<p>G18
</p>
<p>Arc in the YpZp plane
</p>
<p>Xp_Yp_
G02
</p>
<p>G03
</p>
<p>G02
</p>
<p>G03
</p>
<p>G02G19
</p>
<p>Xp_Zp_
</p>
<p>Yp_Zp_
</p>
<p>I_J_
R_ F_ ;
</p>
<p>I_K_
R_
</p>
<p>F_ ;
</p>
<p>J_K_
</p>
<p>R_
F_ ;
</p>
<p>Table 4.4  Description of the command format
</p>
<p>Command Description
</p>
<p>G17 Specification of arc on XpYp plane
</p>
<p>G18 Specification of arc on ZpXp plane
</p>
<p>G19 Specification of arc on YpZp plane
</p>
<p>G02 Circular Interpolation   Clockwise direction (CW)
</p>
<p>G03 Circular Interpolation   Counterclockwise direction (CCW)
</p>
<p>Xp_ Command values of X axis or its parallel axis
</p>
<p>Yp_ Command values of Y axis or its parallel axis
</p>
<p>Zp_ Command values of Z axis or its parallel axis
</p>
<p>I_ Xp axis distance from the start point to the center of an arc with
sign
</p>
<p>J_ Yp axis distance from the start point to the center of an arc with
sign
</p>
<p>K_ Zp axis distance from the start point to the center of an arc with
sign
</p>
<p>R_ Arc radius with sign fixed to radius designation.
</p>
<p>F_ Feedrate along the arc
</p>
<p>4.4
CIRCULAR
INTERPOLATION
(G02, G03)
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/084. INTERPOLATION FUNCTIONS
</p>
<p>38
</p>
<p>&ldquo;Clockwise&rdquo;(G02) and &ldquo;counterclockwise&rdquo;(G03) on the XpYp plane
(ZpXp plane or YpZp plane) are defined when the XpYp plane is viewed
in the positive&ndash;to&ndash;negative direction of the Zp axis (Yp axis or Xp axis,
respectively) in the Cartesian coordinate system. See the figure below.
</p>
<p>Yp
</p>
<p>G02
</p>
<p>G03
</p>
<p>G17 G18 G19
</p>
<p>G02
</p>
<p>G03
</p>
<p>G02
</p>
<p>G03
</p>
<p>Xp Zp
</p>
<p>Xp Zp Yp
</p>
<p>The end point of an arc is specified by address Xp, Yp or Zp, and is
expressed as an absolute or incremental value according to G90 or G91.
For the incremental value, the distance of the end point which is viewed
from the start point of the arc is specified.  
</p>
<p>The arc center is specified by addresses I, J, and K for the Xp, Yp, and Zp
axes, respectively.  The numerical value following I, J, or K, however, is
a vector component in which the arc center is seen from the start point,
and is always specified as an incremental value irrespective of G90 and
G91, as shown below.
I, J, and K must be signed according to the direction.
</p>
<p>End point (x,y)
</p>
<p>Center
</p>
<p>Start
point
</p>
<p>End point (z,x) End point (y,z)
</p>
<p>Start
point
</p>
<p>Start
point
</p>
<p>Center Center
</p>
<p>i
x
</p>
<p>y x
z
</p>
<p>k
</p>
<p>z
y
</p>
<p>j
</p>
<p>j i k
</p>
<p>I0,J0, and K0 can be omitted. When Xp, Yp , and Zp  are omitted (the end
point is the same as the start point) and the center is specified with I, J,
and K, a 360&deg; arc (circle) is specified.
G02I;  Command for a circle
If the difference between the radius at the start point and that at the
end point exceeds the value in a parameter (No.876), an alarm (No.020)
occurs.  (Valid only when bit 6 of parameter No. 393 is set to 1.)
</p>
<p>Explanations
</p>
<p>ï¿½ ï¿½	ï¿½ï¿½ï¿½ï¿½	&#13;ï¿½ &#13;ï¿½ ï¿½ï¿½ï¿½ ï¿½	ï¿½ï¿½ï¿½
ï¿½ï¿½
</p>
<p>	ï¿½ï¿½ï¿½ï¿½ï¿½&#13;
ï¿½ï¿½	&#13;ï¿½
</p>
<p>ï¿½ ï¿½	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½&#13;ï¿½ï¿½ï¿½ &#13;ï¿½ ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½
</p>
<p>ï¿½ ï¿½	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½&#13;ï¿½ ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½&#13;	ï¿½ï¿½ ï¿½&#13; ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ &#13;ï¿½ ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. INTERPOLATION FUNCTIONSPROGRAMMING
</p>
<p>39
</p>
<p>The distance between an arc and the center of a circle that contains the arc
can be specified using the radius, R, of the circle instead of I, J, and K.
In this case, one arc is less than 180&deg;, and the other is more than 180&deg; are
considered.  When an arc exceeding 180&deg; is commanded, the radius must
be specified with a negative value.  If  Xp, Yp, and Zp are all omitted, if
the end point is located at the same position as the start point and when
R is used, an arc of 0&deg; is programmed 
G02R ; (The cutter does not move.)
</p>
<p>r=50mm
</p>
<p>End point
</p>
<p>Start point r=50mm
</p>
<p>For arc ï¿½ (less than 180 &deg;)
G91 G02 XP60.0 YP20.0 R50.0 F300.0 ;
</p>
<p>For arc ï¿½(greater than 180 &deg;)
G91 G02 XP60.0 YP20.0 R&ndash;50.0 F300.0 ;
</p>
<p>Y
</p>
<p>X
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>The feedrate in circular interpolation is equal to the feed rate specified by
the F code, and the feedrate along the arc (the tangential feedrate of the
arc) is controlled to be the specified feedrate.
The error between the specified feedrate and the actual tool feedrate is
&plusmn;2% or less.  However, this feed rate is measured along the arc after the
cutter compensation is applied.
</p>
<p>If I, J, K, and R addresses are specified simultaneously, the arc specified
by address R takes precedence and the other are ignored.
If an axis not comprising the specified plane is commanded, an alarm is
displayed.
For example, if axis U is specified as a parallel axis to X axis when plane
XY is specified, an alarm (No.028)is displayed.
When an arc having a center angle close to 180&oslash; is specified using its
radius R, the system may fail to calculate the center of the arc correctly.
Therefore, specify the arc with I, J, and K.
</p>
<p>ï¿½ ï¿½	ï¿½ 	ï¿½ï¿½ï¿½ï¿½

</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½
</p>
<p>Restrictionsww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/084. INTERPOLATION FUNCTIONS
</p>
<p>40
</p>
<p>100
</p>
<p>60
</p>
<p>40
</p>
<p>0 90 120 140 200
</p>
<p>60R
</p>
<p>50R
</p>
<p>Y axis
</p>
<p>X axis
</p>
<p>The above tool path can be programmed as follows ;
</p>
<p>(1) In absolute programming
</p>
<p>G92X200.0 Y40.0 Z0 ; 
G90 G03 X140.0 Y100.0R60.0 F300.; 
G02 X120.0 Y60.0R50.0 ; 
or
G92X200.0 Y40.0Z0 ; 
G90 G03 X140.0 Y100.0I&ndash;60.0 F300.;
G02 X120.0 Y60.0I&ndash;50.0 ;
</p>
<p>(2) In incremental programming
</p>
<p>G91 G03 X&ndash;60.0 Y60.0  R60.0 F300.;
G02 X&ndash;20.0 Y&ndash;40.0 R50.0 ;
or
G91 G03 X&ndash;60.0 Y60.0  I&ndash;60.0 F300. ;
G02 X&ndash;20.0 Y&ndash;40.0 I&ndash;50.0 ; 
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. INTERPOLATION FUNCTIONSPROGRAMMING
</p>
<p>41
</p>
<p>Helical interpolation is possible, by which the tool is moved along a helix,
by specifying circular interpolation together with movement along an
axis in a plane other than that specified for circular interpolation.
</p>
<p>G03
</p>
<p>Synchronously with arc of XpYp plane
</p>
<p>Synchronously with arc of ZpXp plane
</p>
<p>G18
</p>
<p>Synchronously with arc of YpZp plane
</p>
<p>Xp_Yp_
G02
</p>
<p>G03
</p>
<p>G02
</p>
<p>G03
</p>
<p>G02G19
</p>
<p>Xp_Zp_
</p>
<p>Yp_Zp_
</p>
<p>I_J_
</p>
<p>R_
ï¿½_ F_ ;
</p>
<p>I_K_
R_
</p>
<p>J_K_
</p>
<p>R_
</p>
<p>G17
</p>
<p>ï¿½_ F_ ;
</p>
<p>ï¿½_ F_ ;
</p>
<p>ï¿½ : Any one axis where circular interpolation is not applied .
</p>
<p>The command method is to simply or secondary add one or two move
command axes which is not circular interpolation axes. An F command
specifies a feed rate along a circular arc.  Therefore, the feed rate of the
linear axis is as follows:
</p>
<p>Fï¿½
Length of linear axis
</p>
<p>Length of circular arc
</p>
<p>Determine the feed rate so the linear axis feed rate does not exceed any
of the various limit values.
Setting bit 4 of parameter No. 0393 clamps the linear axis speed for helical
cutting to the setting in parameter No. 527.
</p>
<p>Z
</p>
<p>X Y
</p>
<p>Tool path
</p>
<p>The feedrate along the circumference of two circular
interpolated axes is the specified feedrate.
</p>
<p>Cutter compensation is applied only for a circular arc.
Tool offset and tool length compensation cannot be used in a block in
which a helical cutting is commanded.
</p>
<p>4.5
HELICAL CUTTING
(G02, G03)
Format
</p>
<p>Explanations
</p>
<p>Restrictions
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/084. INTERPOLATION FUNCTIONS
</p>
<p>42
</p>
<p>The amount of travel of a rotary axis specified by an angle is once
internally converted to a distance of a linear axis along the outer surface
so that linear interpolation or circular interpolation can be performed with
another axis.  After interpolation, such a distance is converted back to the
amount of travel of the rotary axis.
The cylindrical interpolation function allows the side of a cylinder to be
developed for programming.  So programs such as a program for
cylindrical cam grooving can be created very easily.
</p>
<p>ï¿½ï¿½
</p>
<p>_: An address for the rotation axis
</p>
<p>r: The radius of the cylinder
</p>
<p>G107
</p>
<p>ï¿½ï¿½
</p>
<p>r ; Starts the cylindrical interpolation mode 
(enables cylindrical interpolation).:
</p>
<p>:
:
ï¿½ï¿½G107 0 ; The cylindrical interpolation mode is cancelled.
</p>
<p>ï¿½ï¿½Specify G107 r ; and G107      0; in separate blocks.ï¿½ï¿½
</p>
<p>Use parameter No. 279 to specify whether the rotation axis is the X&ndash;, Y&ndash;,
or Z&ndash;axis, or an axis parallel to one of these axes.  Specify the G code to
select a plane for which the rotation axis is the specified linear axis.
For example, when the rotation axis is an axis parallel to the X&ndash;axis, G17
must specify an Xp&ndash;Yp plane, which is a plane defined by the rotation axis
and the Y&ndash;axis or an axis parallel to the Y&ndash;axis.
</p>
<p>A feedrate specified in the cylindrical interpolation mode is a speed on the
developed cylindrical surface.
</p>
<p>In the cylindrical interpolation mode, circular interpolation is possible
with the rotation axis and another linear axis.  Radius R is used in
commands in the same way as described in Section 4.4.  
The unit for a radius is not degrees but millimeters (for metric input) or
inches (for inch input).
 &lt;Example  Circular interpolation between the Z axis and C axis&gt;
</p>
<p>For the parameter No. 279, 5 (axis parallel with the X axis) is to be set.
In this case, the command for circular interpolation is
</p>
<p>G18 Z__C__;
G02 (G03) Z__C__R__;
</p>
<p>For the parameter No. 279, 6 (axis parallel with the Y axis) may be
specified instead.  In this case, however, the command for circular
interpolation is 
</p>
<p>G19 C__Z__;
G02 (G03) Z__C__R__;
</p>
<p>To perform cutter compensation in the cylindrical interpolation mode,
cancel any ongoing cutter compensation mode before entering the
cylindrical interpolation mode.  Then, start and terminate cutter
compensation within the cylindrical interpolation mode.
</p>
<p>4.6
CYLINDRICAL
INTERPOLATION
(G107)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ï¿½ Plane selection
(G17, G18, G19)
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Circular interpolation
(G02,G03)
</p>
<p>ï¿½ Cutter compensation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. INTERPOLATION FUNCTIONSPROGRAMMING
</p>
<p>43
</p>
<p>In the cylindrical interpolation mode, the amount of travel of a rotary axis
specified by an angle is once internally converted to a distance of a linear
axis on the outer surface so that linear interpolation or circular
interpolation can be performed with another axis.  After interpolation,
such a distance is converted back to an angle.  For this conversion, the
amount of travel is rounded to a least input increment.
So when the radius of a cylinder is small, the actual amount of travel can
differ from a specified amount of travel.  Note, however, that such an error
is not accumulative.
If manual operation is performed in the cylindrical interpolation mode
with manual absolute on, an error can occur for the reason described
above.
</p>
<p>Specified valueï¿½The actual amount
of travel 2ï¿½2ÏR
</p>
<p>MOTION REV
</p>
<p>MOTION REV
</p>
<p>MOTION REV : The amount of travel per rotation of the rotation axis 
(Setting value of parameter No. 1260)
</p>
<p>ï¿½ : Workpiece radius
</p>
<p>: Rounded to the least input increment
</p>
<p>ï¿½ ï¿½
2ï¿½2ÏR
</p>
<p>In the cylindrical interpolation mode, an arc radius cannot be commanded
with word address I, J, or K.
</p>
<p>If the cylindrical interpolation mode is started when cutter compensation
is already applied, circular interpolation is not correctly performed in the
cylindrical interpolation mode.
</p>
<p>In the cylindrical interpolation mode, positioning operations (including
those that produce rapid traverse cycles such as G28, G53, G73, G74,
G76, G80 through G89) cannot be specified.  Before positioning can be
specified, the cylindrical interpolation mode must be cancelled.
Cylindrical interpolation cannot be performed in the positioning mode
(G00).
</p>
<p>In the cylindrical interpolation mode, a workpiece coordinate system
(G92, G54 through G59) or local coordinate system (G52) cannot be
specified.
</p>
<p>In the cylindrical interpolation mode, the cylindrical interpolation mode
cannot be reset.  The cylindrical interpolation mode must be cancelled
before the cylindrical interpolation mode can be reset.
</p>
<p>A tool offset must be specified before the cylindrical interpolation mode
is set.  No offset can be changed in the cylindrical interpolation mode.
</p>
<p>Cylindrical interpolation cannot be specified when the index table index
function is being used.
</p>
<p>ï¿½ Cylindrical interpolation
accuracy
</p>
<p>Restrictions
</p>
<p>ï¿½ Arc radius command in
the cylindrical
interpolation mode
</p>
<p>ï¿½ Circular interpolation
and cutter compensation
</p>
<p>ï¿½ Positioning
</p>
<p>ï¿½ Coordinate system
setting
</p>
<p>ï¿½ ï¿½ï¿½ï¿½
&#13;ï¿½ï¿½
ï¿½ï¿½ï¿½ 
&#13;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
ï¿½&#13;
</p>
<p>ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
&#13;	
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Index table indexing
function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/084. INTERPOLATION FUNCTIONS
</p>
<p>44
</p>
<p>2301901500
</p>
<p>mm
</p>
<p>deg
</p>
<p>110
</p>
<p>90
</p>
<p>70
</p>
<p>120
</p>
<p>30 60 70 270
</p>
<p>N05
</p>
<p>N06
</p>
<p>N07
</p>
<p>N08 N09 N10
</p>
<p>N11
</p>
<p>N12 N13
</p>
<p>360
</p>
<p>60
</p>
<p>Z
</p>
<p>C
</p>
<p>Example of a Cylindrical Interpolation Program
</p>
<p>O0001 (CYLINDRICAL INTERPOLATION ); 
N01 G00 G90 Z100.0 C0 ; 
N02 G01 G91 G18 Z0 C0 ; 
N03 G107 C57299 ;
N04 G90 G01 G42 Z120.0 D01 F250 ; 
N05 C30.0 ; 
N06 G02 Z90.0 C60.0 R30.0 ; 
N07 G01 Z70.0 ; 
N08 G03 Z60.0 C70.0 R10.0 ; 
N09 G01 C150.0 ;
N10 G03 Z70.0 C190.0 R75.0 ;
N11 G01 Z110.0 C230.0 ; 
N12 G02 Z120.0 C270.0 R75.0 ; 
N13 G01 C360.0 ;
N14 G40 Z100.0 ;
N15 G107 C0 ;
N16 M30 ;
</p>
<p>C
</p>
<p>RZ
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. INTERPOLATION FUNCTIONSPROGRAMMING
</p>
<p>45
</p>
<p>Straight threads with a constant lead can be cut.  The position coder
mounted on the spindle reads the spindle speed in real&ndash;time.  The read
spindle speed is converted to the feedrate per minute to feed the tool.
</p>
<p>F : Long axis direction lead
</p>
<p>G33 _ F_ ;ï¿½ï¿½
</p>
<p>Workpiece
</p>
<p>Z
</p>
<p>X
</p>
<p>In general, thread cutting is repeated along the same tool path in rough
cutting through finish cutting for a screw.  Since thread cutting starts when
the position coder mounted on the spindle outputs a 1&ndash;turn signal,
threading is started at a fixed point and the tool path on the workpiece is
unchanged for repeated thread cutting.  Note that the spindle speed must
remain constant from rough cutting through finish cutting.  If not,
incorrect thread lead will occur.
In general, the lag of the servo system, etc. will produce somewhat
incorrect leads at the starting and ending points of a thread cut.  To
compensate for this, a threading length somewhat longer than required
should be specified.
Table 4.7 lists the ranges for specifying the thread lead.
</p>
<p>Table 4.7  Ranges of lead sizes that can be specified
</p>
<p>Increment system
</p>
<p>IS&ndash;B IS&ndash;C
</p>
<p>mm input 0.01 to 500.00 mm 0.01 to 500.00 mm
</p>
<p>Inch input 0.0001 to 9.9999 inch 0.0001 to 9.9999 inch
</p>
<p>4.7
CONSTANT LEAD
THREADING (G33)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/084. INTERPOLATION FUNCTIONS
</p>
<p>46
</p>
<p>NOTE
1 The spindle speed is limited as follows :
</p>
<p>1 ï¿½ spindle speed ï¿½ 
</p>
<p>Spindle speed : rpm
Thread lead : mm or inch
Maximum feedrate : mm/min or inch/min ; maximum
command&ndash;specified feedrate for feed&ndash;per&ndash;minute mode or
maximum feedrate that is determined based on mechanical
restrictions including those related to motors, whichever is
smaller
</p>
<p>2 Cutting feedrate override is not applied to the converted
feedrate in all machining process from rough cutting to finish
cutting. The feedrate is fixed at 100%
</p>
<p>3 The converted feedrate is limited by the upper feedrate
specified.
</p>
<p>4 Feed hold is disabled during threading. Pressing the feed
hold key during threading causes the machine to stop at the
end point of the next block after threading (that is, after the
G33 mode is terminated)
</p>
<p>Thread lead
Maximum feedrate
</p>
<p>Threading at a lead of 1.5mm
G33 Z10. F1.5;
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. INTERPOLATION FUNCTIONSPROGRAMMING
</p>
<p>47
</p>
<p>Linear interpolation can be commanded by specifying axial move
following the G31 command, like G01.  If an external skip signal is input
during the execution of this command, execution of the command is
interrupted and the next block is executed.
The skip function is used when the end of machining is not programmed
but specified with a signal from the machine, for example, in grinding. It
is used also for measuring the dimensions of a workpiece.
</p>
<p>G31_: One&ndash;shot G code (If is effective only in the block in
which it is specified)
</p>
<p>G31 _ ;ï¿½ï¿½
</p>
<p>The coordinate values when the skip signal is turned on can be used in a
custom macro because they are stored in the custom macro system
variable #5061 to #5064, as follows:
</p>
<p>#5061X axis coordinate value
#5062Y axis coordinate value
#5063Z axis coordinate value
#50644th axis coordinate value
</p>
<p>WARNING
Disable feedrate override, dry run, and automatic
acceleration/deceleration (These operations can be validated by
setting bit 3 of parameter No. 015 to 1.) when the feedrate per
minute is specified, allowing for an error in the position of the tool
when a skip signal is input. These functions are enabled when the
feedrate per rotation is specified.
</p>
<p>NOTE
If G31 command is issued while cutter compensation C is applied,
</p>
<p>an P/S alarm of No.035 is displayed. Cancel the cutter
</p>
<p>compensation with the G40 command before the G31 command
</p>
<p>is specified.
</p>
<p>4.8
SKIP FUNCTION
(G31)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/084. INTERPOLATION FUNCTIONS
</p>
<p>48
</p>
<p>G31 G91X100.0 F100;
Y50.0;
</p>
<p>Y50.0
</p>
<p>50.0
</p>
<p>100.0
</p>
<p>Skip signal is input here
</p>
<p>Actual motion
</p>
<p>Motion without skip signal
</p>
<p>Fig.4.8 (a)  The next block is an incremental command
</p>
<p>G31 G90X200.00 F100;
Y100.0; Y100.0
</p>
<p>X200.0
</p>
<p>Skip signal is input here
</p>
<p>Actual motion
</p>
<p>Motion without skip signal
</p>
<p>Fig.4.8 (b)  The next block is an absolute command for 1 axis
</p>
<p>(300,100)
</p>
<p>Y
</p>
<p>X
100 200 300
</p>
<p>100
</p>
<p>G31 G90X200.0 F100;
X300.0 Y100.0;
</p>
<p>Actual motion
</p>
<p>Motion without skip signal
</p>
<p>Skip signal is input here
</p>
<p>Fig.4.8 (c)  The next block is an absolute command for 2 axes
</p>
<p>Examples
</p>
<p>ï¿½ The next block to G31 is
an incremental
command
</p>
<p>ï¿½ The next block to G31 is
an absolute command
for 1 axis
</p>
<p>ï¿½ The next block to G31 is
an absolute command
for 2 axes
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>49
</p>
<p>5 FEED FUNCTIONS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>50
</p>
<p>The feed functions control the feedrate of the tool.  The following two feed
functions are available:
</p>
<p>1. Rapid traverse
When the positioning command (G00) is specified, the tool moves at
a rapid traverse feedrate set in the CNC (parameter No. 518 to 521).
</p>
<p>2. Cutting feed
The tool moves at a programmed cutting feedrate.
</p>
<p>Override can be applied to a rapid traverse rate or cutting feedrate using
the switch on the machine operator&rsquo;s panel.
</p>
<p>5.1
GENERAL
</p>
<p>ï¿½ Feed functions
</p>
<p>ï¿½ Override
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>51
</p>
<p>To prevent a mechanical shock, acceleration/deceleration is automatically
applied when the tool starts and ends its movement (Fig. 5.1 (a)).
</p>
<p>TC
</p>
<p>FL
</p>
<p>TJ
</p>
<p>TR TR
</p>
<p>TC
</p>
<p>TJ
</p>
<p>FRMAX
</p>
<p>FJ
</p>
<p>FC
</p>
<p>TC
</p>
<p>FC
</p>
<p>TC
</p>
<p>Rapid traverse rate :
</p>
<p>Time
</p>
<p>FR MAX : Rapid traverse rate
</p>
<p>: Acceleration/deceleration
time constant for rapid
traverse rateFeed rate
</p>
<p>TR
</p>
<p>Time
</p>
<p>Time
</p>
<p>Time
</p>
<p>FJ : Jog feed rate
</p>
<p>TJ : Acceleration/deceleration time constant
</p>
<p>FL : Deceleration stop feed for jog feed rate
</p>
<p>FC : Cuting feedrate, dry run rate
TC : Acceleration/deceleration time constant for feedrate
</p>
<p>FC : Cutting feedrate, dry run rate
</p>
<p>Linear acceleration/deceleration (constant acceleration)
</p>
<p>Jog feed : Exponential acceleration/deceleration (constant time constant)
</p>
<p>Cutting feed, dry run : Linear acceleration/deceleration after interpolation (constant time constant)
</p>
<p>Cutting feed, dry run : Exponential acceleration/deceleration (constant time constant)
</p>
<p>(&ndash;&ndash;&ndash;:  Acceleration/deceleration for half the speed)
</p>
<p>TC : Acceleration/deceleration time constant for feedrate
</p>
<p>Fig. 5.1 (a)  Automatic acceleration/deceleration (example)
</p>
<p>ï¿½ Automatic acceleration/
deceleration
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>52
</p>
<p>If the direction of movement changes between specified blocks during
cutting feed, a rounded&ndash;corner path may result (Fig. 5.1 (b)).
</p>
<p>Programmed path
</p>
<p>Actual tool path
</p>
<p>Y
</p>
<p>0 X
</p>
<p>Fig. 5.1 (b)   Example of tool path between two blocks
</p>
<p> In circular interpolation, a radial error occurs (Fig. 5.1(c)).
</p>
<p>r
</p>
<p>â r : Error
Programmed path
</p>
<p>Y
</p>
<p>X0
</p>
<p>Actual tool path
</p>
<p>Fig. 5.1 (c)   Example of radial error in circular interpolation
</p>
<p>The rounded&ndash;corner path shown in Fig. 5.1(b) and the error shown in Fig.
5.1(c) depend on the feedrate.  So, the feedrate needs to be controlled for
the tool to move as programmed.
</p>
<p>ï¿½ Tool path in a cutting
feed
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>53
</p>
<p>ï¿½ï¿½
</p>
<p>G00 _ ;ï¿½ï¿½
</p>
<p>G00 : G code (group 01) for positioning (rapid traverse)
_ ; Dimension word for the end point
</p>
<p>The positioning command (G00) positions the tool by rapid traverse.  In
rapid traverse, the next block is executed after the specified feedrate
becomes 0 and the servo motor reaches a certain range set by the machine
tool builder (in&ndash;position check).  (In&ndash;position check can be disabled for
each block by setting bit 5 of parameter No. 020 to 1.)
A rapid traverse rate is set for each axis by parameter No. 518 to 521, so
no rapid traverse feedrate need be programmed.
The following overrides can be applied to a rapid traverse rate with the
switch on the machine operator&rsquo;s panel:F0, 25, 50, 100%
F0:  Allows a fixed feedrate to be set for each axis by parameter No. 533.
For detailed information, refer to the appropriate manual of the machine
tool builder.
</p>
<p>Increment system
</p>
<p>IS&ndash;B IS&ndash;C
</p>
<p>Metric output 30 to 100,000 mm/min
30 to 100,000 deg/min
</p>
<p>30 to 24,000 mm/min
30 to 24,000 deg/min
</p>
<p>Inch output 3.0 to 4,000.0 inch/min
3.0 to 100,000 deg/min
</p>
<p>3.0 to 960.0 inch/min
3.0 to 24,000 deg/min
</p>
<p>5.2
RAPID TRAVERSE
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ï¿½ Command value range of
rapid traverse rate
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>54
</p>
<p>Feedrate of linear interpolation (G01), circular interpolation (G02, G03),
etc. are commanded with numbers after the F code.  
In cutting feed, the next block is executed so that the feedrate change from
the previous block is minimized.
Three modes of specification are available:
</p>
<p>1. Feed per minute (G94)
After F, specify the amount of feed of the tool per minute.
</p>
<p>2. Feed per revolution (G95)
After F, specify the amount of feed of the tool per spindle revolution.
</p>
<p>3. F1&ndash;digit feed
Specify a desired one&ndash;digit number after F.  Then, the feedrate set with
the CNC for that number is set.
</p>
<p>Feed per minute
G94 ; G code (group 05) for feed per minute
F_ ; Feedrate command (mm/min or inch/min)
</p>
<p>Feed per revolution
G95 ; G code (group 05) for feed per revolution
F_ ; Feedrate command (mm/rev or inch/rev)
</p>
<p>F1&ndash;digit feed
Fn ;
  n : Number from 1 to 9
</p>
<p>Cutting feed is controlled so that the tangential feedrate is always set at
a specified feedrate.
</p>
<p>X
</p>
<p>End point
Starting 
point
</p>
<p>X
</p>
<p>FF
</p>
<p>Center End point
Start
point
</p>
<p>Linear interpolation Circular interpolation
</p>
<p>Y Y
</p>
<p>Fig. 5.3 (a)  Tangential feedrate (F)
</p>
<p>5.3
CUTTING FEED
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ï¿½ Tangential speed
constant control
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>55
</p>
<p>After specifying G94 (in the feed per minute mode), the amount of feed
of the tool per minute is to be directly specified by setting a number after
F.  G94 is a modal code.  Once a G94 is specified, it is valid until G95 (feed
per revolution) is specified.  At power&ndash;on, the feed per minute mode is
set.
An override from 0% to 150% (in 10% steps) can be applied to feed per
minute with the switch on the machine operator&rsquo;s panel.  For detailed
information, see the appropriate manual of the machine tool builder.
</p>
<p>Workpiece
</p>
<p>Table
</p>
<p>Tool
</p>
<p>Feed amount per minute
(mm/min or inch/min)
</p>
<p>Fig. 5.3 (b)   Feed per minute
</p>
<p>NOTE
No override can be used for some commands such as for
threading.
</p>
<p>&lt;Command value range of feed per minute&gt;
</p>
<p>Increment system
</p>
<p>IS&ndash;B IS&ndash;C
</p>
<p>Metric input 1 to 100,000 mm/min
1 to 100,000 deg/min
</p>
<p>1 to 12,000 mm/min
1 to 12,000 deg/min
</p>
<p>Inch input 0.01 to 4,000.0 inch/min
0.01 to 6,000.0 deg/min
</p>
<p>0.01 to 480.0 inch/min
0.01 to 600.0 deg/min
</p>
<p>&lt;Feedrate command value with a decimal fraction for feed per minute&gt;
When a value with a decimal fraction is specified in a feedrate command
for feed per minute, the value is valid within the following range.  To
specify a value that falls outside this range, specify an integer.
</p>
<p>Increment system
</p>
<p>IS&ndash;B IS&ndash;C
</p>
<p>Metric input 0.001 to 99,999.999 mm/min
0.001 to 99,999.999 deg/min
</p>
<p>0.001 to 12,000.000 mm/min
0.001 to 12,000.000 deg/min
</p>
<p>Inch input 0.00001 to 999.99999 
inch/min
</p>
<p>0.00001 to 999.99999 
deg/min
</p>
<p>0.00001 to 480.00000 
inch/min
</p>
<p>0.00001 to 600.00000 
deg/min
</p>
<p>ï¿½ Feed per minute (G94)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>56
</p>
<p>After specifying G95 (in the feed per revolution mode), the amount of
feed of the tool per spindle revolution is to be directly specified by setting
a number after F.  G95 is a modal code.  Once a G95 is specified, it is valid
until G94 (feed per minute) is specified. 
An override from 0% to 150% (in 10% steps) can be applied to feed per
revolution with the switch on the machine operator&rsquo;s panel.  For detailed
information, see the appropriate manual of the machine tool builder.
</p>
<p>Feed amount per spindle revolution
(mm/rev or inch/rev)
</p>
<p>F
</p>
<p>Fig. 5.3 (c)   Feed per revolution
</p>
<p>&lt;Command value range of feed per revolution&gt;
</p>
<p>Increment system
</p>
<p>IS&ndash;B IS&ndash;C
</p>
<p>Metric input 0.01 to 500.00 mm/rev 0.01 to 500.00 mm/rev
</p>
<p>Inch input 0.0001 to 9.9999 inch/rev 0.0001 to 9.9999 inch/rev
</p>
<p>Although a value in the above range can be specified in a feedrate
command for feed per rotation, the feedrate is actually clamped at the
maximum cutting feedrate.
</p>
<p>NOTE
When the speed of the spindle is low, feedrate fluctuation
may occur. The slower the spindle rotates, the more
frequently feedrate fluctuation occurs.
</p>
<p>ï¿½ Feed per revolution
(G95)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>57
</p>
<p>When a one&ndash;digit number from 1 to 9 is specified after F, the feedrate set
for that number in a parameter (Nos. 788 to 796) is used.  When F0 is
specified, the rapid traverse rate is applied.
The feedrate corresponding to the number currently selected can be
increased or decreased by turning on the switch for changing F1&ndash;digit
feedrate on the machine operator&rsquo;s panel, then by rotating the manual
pulse generator.
The increment/decrement, âF, in feedrate per scale of the manual pulse
generator is as follows:
</p>
<p>F ï¿½ Fmax
100X
</p>
<p>â
</p>
<p>Fmax : feedrate upper limit for F1&ndash;F4 set by parameter 583, or
feedrate upper limit for F5&ndash;F9 set by parameter 584
</p>
<p>X : any value of 1&ndash;127 set by parameter 216
The feedrate set or altered is kept even while the power is off.  The current
feed rate is displayed on the CRT screen.
</p>
<p>A common upper limit can be set on the cutting feedrate along each axis
with parameter No. 527.  If an actual cutting feedrate (with an override
applied) exceeds a specified upper limit, it is clamped to the upper limit.
</p>
<p>NOTE
An upper limit is set in mm/min or inch/min. CNC calculation
may involve a feedrate error of ï¿½2% with respect to a
specified value. However, this is not true for
acceleration/deceleration. To be more specific, this error is
calculated with respect to a measurement on the time the
tool takes to move 500 mm or more during the steady state:
</p>
<p>ï¿½ One&ndash;digit F code feed
</p>
<p>ï¿½ Cutting feedrate clamp
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>58
</p>
<p>Cutting feedrate can be controlled, as indicated in Table 5.4.
</p>
<p>Table 5.4  Cutting feedrate control
</p>
<p>Function name G code Validity of G code Description
</p>
<p>Exact stop G09
This function is valid for specified
blocks only.
</p>
<p>The tool is decelerated at the end point of
a block, then an in&ndash;position check is made.
Then the next block is executed.
</p>
<p>Exact stop G61
Once specified, this function is valid
until G62, G63, or G64 is specified.
</p>
<p>The tool is decelerated at the end point of
a block, then an in&ndash;position check is made.
Then the next block is executed.
</p>
<p>Cutting mode G64
Once specified, this function is valid
until G61, G62, or G63 is specified.
</p>
<p>The tool is not decelerated at the end point
of a block, but the next block is executed.
</p>
<p>Tapping mode G63
</p>
<p>Once specified, this function is valid
until G61, G62, or G64 is specified.
</p>
<p>The tool is not decelerated at the end point
of a block, but the next block is executed.
When G63 is specified, feedrate override
and feed hold are invalid.
</p>
<p>Automatic
corner 
override
</p>
<p>Automatic override
for inner corners
</p>
<p>G62
</p>
<p>Once specified, this function is valid
until G61, G63, or G64 is specified.
</p>
<p>When the tool moves along an inner 
corner during cutter compensation, over-
ride is applied to the cutting feedrate to
suppress the amount of cutting per unit of
time so that a good surface finish can be
produced.
</p>
<p>Internal circular
cutting feedrate
change
</p>
<p>&ndash;
This function is valid in the cutter
compensation mode, regardless of
the G code.
</p>
<p>The internal circular cutting feedrate is
changed.
</p>
<p>NOTE
1 The purpose of in&ndash;position check is to check that the servo
</p>
<p>motor has reached within a specified range (specified with
a parameter by the machine tool builder).  In&ndash;position check
can be disabled by setting bit 5 of parameter No. 020 to 1.
</p>
<p>2 Inner corner angle ï¿½: 2&deg;&lt; ï¿½ ï¿½ ï¿½ ï¿½ 178&deg;
(ï¿½ is a set value)
</p>
<p>ï¿½
</p>
<p>Workpiece
</p>
<p>Tool
</p>
<p>5.4
CUTTING FEEDRATE
CONTROL
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>59
</p>
<p>Exact stop
G61 ;
</p>
<p>Cutting mode G64 ;
</p>
<p>Tapping mode G63 ;
</p>
<p>Automatic corner override G62 ;
</p>
<p>G09 _ ;ï¿½ï¿½
</p>
<p>The inter&ndash;block paths followed by the tool in the exact stop mode, cutting
mode, and tapping mode are different (Fig. 5.4.1).
</p>
<p>0
</p>
<p>Y
</p>
<p>ï¿½
</p>
<p>ï¿½ Position check
</p>
<p>Tool path in the exact stop mode
</p>
<p>Tool path in the cutting mode or
tapping mode
</p>
<p>X
</p>
<p>Fig. 5.4.1  Example of tool paths from block ï¿½ to block ï¿½
</p>
<p>CAUTION
The cutting mode (G64 mode) is set at power&ndash;on or system
clear.
</p>
<p>Format
</p>
<p>5.4.1
Exact Stop (G09, G61) 
Cutting Mode (G64) 
Tapping Mode (G63)
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>60
</p>
<p>When G62 is specified, and the tool path with cutter compensation
applied forms an inner corner, the feedrate is automatically overridden at
both ends of the corner. 
There are four types of inner corners (Fig. 5.4.2 (a)).
2&deg; ï¿½ ï¿½ ï¿½ ï¿½p ï¿½ 178&deg; in Fig. 5.4.2 (a)
Î¸p is a value set with parameter No. 215. When Î¸ is approximately equal
to Î¸p, the inner corner is determined with an error of 0.001&deg; or less.
</p>
<p>: Cutter center path
</p>
<p>: Tool
</p>
<p>: Programmed path
</p>
<p>ï¿½
</p>
<p>1. Straight line&ndash;straight line 2. Straight line&ndash;arc
</p>
<p>3. Arc&ndash;straight line 4. Arc&ndash;arc
</p>
<p>ï¿½
</p>
<p>ï¿½ï¿½
</p>
<p>Fig. 5.4.2 (a)   Inner corner
</p>
<p>WARNING
When the block before a corner is a start&ndash;up block, or the
block after a corner includes G41 or G42, the inner corner
is not overridden. The inner corner override function is
disabled when the offset value is 0.
</p>
<p>5.4.2
Automatic Override for
Inner Corners (G62)
</p>
<p>Explanations
</p>
<p>ï¿½ Override condition
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>61
</p>
<p>When a corner is determined to be an inner corner, the feedrate is
overridden before and after the inner corner. The distances Ls and Le,
where the inner corner is overridden, are distances from points on the
cutter center path to the corner (Fig. 5.4.2 (b), Fig. 5.4.2 (c), Fig. 5.4.2
(d)). Ls and Le are set with parameter Nos. 580 and 581.
</p>
<p>Programmed path
</p>
<p>Le
a b
</p>
<p>Ls
</p>
<p>Cutter center path
</p>
<p>The feedrate is overridden from point a to point b.
</p>
<p>Fig. 5.4.2 (b)   Override range (Straight line to straight line)
</p>
<p>When a programmed path consists of two arcs, the feedrate is overridden
if the start and end points are in the same quadrant or in adjacent quadrants
(Fig. 5.4.2 (c)).
</p>
<p>a
</p>
<p>Le
</p>
<p>Ls
</p>
<p>b
</p>
<p>Programmed path
</p>
<p>The feedrate is overridden from point a to b.
</p>
<p>Cutter center path
</p>
<p>Fig. 5.4.2 (c)   Override range (Arc to arc)
</p>
<p>Regarding program ï¿½ of an arc, the feedrate is overridden from point a
to point b and from point c to point d (Fig. 5.4.2 (d)).
</p>
<p>c
</p>
<p>d ï¿½
</p>
<p>LsLe
</p>
<p>b
</p>
<p>Ls Le
</p>
<p>ï¿½
</p>
<p>Programmed path
</p>
<p>Cutter center path
Tool
</p>
<p>Fig. 5.4.2 (d)   Override range (Straight line to arc, arc to straight line)
</p>
<p>Override range
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>62
</p>
<p>An override value is set with parameter No. 214.  An override value is
valid even for dry run and F1&ndash;digit specification.
In the feed per minute mode, the actual feedrate is as follows:
</p>
<p>F &times; (automatic override for inner corners) &times; (feedrate override)
</p>
<p>For internally offset circular cutting, the feedrate on a programmed path
is set to a specified feedrate (F) by specifying the circular cutting feedrate
with respect to F, as indicated below (Fig. 5.4.3).  This  function is valid
in the cutter compensation mode, regardless of the G62 code.
</p>
<p>F ï¿½ Rc
Rp
</p>
<p>Rc : Cutter center path radius
Rp : Programmed radius
</p>
<p>It is also valid for the dry run and the one&ndash;digit F command.
</p>
<p>Rc
</p>
<p>Rp
</p>
<p>Programmed path
</p>
<p>Cutter center
path
</p>
<p>Fig. 5.4.3   Internal circular cutting feedrate change
</p>
<p>If Rc is much smaller than Rp, Rc/Rp  0; the  tool stops. A minimum
deceleration ratio (MDR) is to be specified with parameter No. 213. When
Rc/Rpï¿½MDR, the  feedrate of the tool is (Fï¿½MDR).
</p>
<p>NOTE
When internal circular cutting must be performed together
with automatic override for inner corners, the feedrate of the
tool is as follows:
</p>
<p>   (automatic override for the inner corners)
ï¿½ (feedrate override)
</p>
<p>F ï¿½ Rc
Rp
</p>
<p>ï¿½
</p>
<p>Override value
</p>
<p>5.4.3
Internal Circular
Cutting Feedrate
Change
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>63
</p>
<p>Dwell G04 X_ ;  or G04 P_ ;
 X_ : Specify a time (decimal point permitted)
 P_ : Specify a time (decimal point not permitted)
</p>
<p>By specifying a dwell, the execution of the next block is delayed by the
specified time. In addition, a dwell can be specified to make an exact
check in the cutting mode (G62 mode).
When neither P nor X is specified, exact stop is performed.
</p>
<p>Table 5.5 (a)  Command value range of the dwell time
(Command by X)
</p>
<p>Increment system Command value range Dwell time unit
</p>
<p>IS&ndash;B 0.001 to 99999.999
s
</p>
<p>IS&ndash;C 0.0001 to 9999.9999
s
</p>
<p>Table 5.5 (b)  Command value range of the dwell time
(Command by P)
</p>
<p>Increment system Command value range Dwell time unit
</p>
<p>IS&ndash;B 1 to 99999999 0.001 s
</p>
<p>IS&ndash;C 1 to 99999999 0.0001 s
</p>
<p>5.5
DWELL (G04)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>64
</p>
<p>By using linear acceleration/deceleration before interpolation, linear
acceleration/deceleration can be applied to a specified cutting feedrate
before interpolation.  With this function, the machining figure error
resulting from delay in the acceleration/deceleration can be reduced.
</p>
<p>This function is optional.  It should be used in combination with two other
functions: the block overlap function that suppresses feedrate variations
between adjacent blocks, and the corner deceleration function that
suppresses abrupt feedrate variations at a corner.
</p>
<p>NC 
command
</p>
<p>Movement data
</p>
<p>Linear interpolation 
Circular interpolation
</p>
<p>Servo control
</p>
<p>Servo control
</p>
<p>Servo motor
</p>
<p>Servo motor
Feedrate
</p>
<p>Linear acceleration/
deceleration before
</p>
<p>interpolation
</p>
<p>F
</p>
<p>Feedrate
command
</p>
<p>Feedrate
</p>
<p>F
</p>
<p>Time
</p>
<p>F : Specified feedrate
</p>
<p>Fig. 5.6 (a)
</p>
<p>5.6
CUTTING FEED
LINEAR
ACCELERATION/
DECELERATION
BEFORE
INTERPOLATION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>65
</p>
<p>With linear acceleration/deceleration before interpolation, a specified
feedrate that takes a feed&ndash;per&ndash;minute command (G94) override for linear
or circular interpolation (G01, G02, G03) into consideration can be
controlled such that the feedrate changes linearly.  This means that
acceleration/deceleration control may not be applied normally if the
feedrate is changed during machining by other than programmed
commands.
</p>
<p>To control variations in the programmed feedrate, the user can select
either of two control methods by setting parameters.
</p>
<p>ï¿½ Type A
</p>
<p>This type of control starts acceleration/deceleration at that block
where the specified feedrate is changed.
</p>
<p>ï¿½ Type B
</p>
<p>For deceleration: Deceleration starts at the previous block, such that
the deceleration ends at the start point of the block
where a feedrate command change is made.
</p>
<p>For acceleration: Acceleration starts at the start point of the block
where a feedrate command change is made.
</p>
<p>Feedrate
</p>
<p>F1
</p>
<p>F2
Type B
</p>
<p>N1 N2 Time
</p>
<p>Type A
</p>
<p>(For deceleration)
</p>
<p>Specified feedrate
</p>
<p>Feedrate after linear accel-
eration/deceleration before
interpolation
</p>
<p>Feedrate
</p>
<p>F2
</p>
<p>F1
</p>
<p>N1 N2 Time
</p>
<p>(For acceleration) Specified feedrate
</p>
<p>Feedrate after linear accel-
eration/deceleration before
interpolation
</p>
<p>Fig. 5.6 (b)
</p>
<p>WARNING
1 If an overtravel alarm is issued during linear acceleration/deceleration before interpolation, the
</p>
<p>tool decelerates and stops after the issue of the alarm, thus resulting in an overrun by an
amount equal to the deceleration distance.
</p>
<p>2 In inch input mode, simultaneous movement on two or more axes, including a rotation axis,
cannot be specified during linear acceleration/deceleration before interpolation.
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>66
</p>
<p>NOTE
1 The following cannot be specified during linear acceleration/deceleration before interpolation:
</p>
<p>ï¿½  Control along the C&ndash;axis normal
ï¿½  Cylindrical interpolation 
ï¿½  Polar coordinate specification
ï¿½  F 1&ndash;digit feed/threading/synchronous feed 
ï¿½  Index table indexing
ï¿½  Rigid tapping
ï¿½  High&ndash;speed cycle machining/high&ndash;speed remote buffer
ï¿½  Handle interrupt
ï¿½  Program restart 
ï¿½  Simple synchronous control
ï¿½  Interrupt&ndash;type custom macro
ï¿½  Automatic tool length measurement
ï¿½  Small&ndash;diameter peck drilling cycle
</p>
<p>2 If any of the operations listed below is performed during operation, acceleration/deceleration
will not be performed correctly.  This means that the operation of a block may end before the
completion of deceleration, or that the movement of a block may not have been completed
when deceleration is completed.
ï¿½ Override change
ï¿½ Turning the dry run function on or off
ï¿½ Enabling external deceleration
ï¿½ Operation in a feed mode in which no feedrate is specified by the CNC program
</p>
<p>3 Linear acceleration/deceleration before interpolation is valid for the X&ndash;axis, Y&ndash;axis, Z&ndash;axis, and
4th axis.  If there is a block containing no move command along the X&ndash;axis, Y&ndash;axis, Z&ndash;axis,
and 4th axis during linear acceleration/deceleration before interpolation, the tool decelerates
and temporarily stops in the previous block.
</p>
<p>4 If a one&ndash;shot G code is specified during linear acceleration/deceleration before interpolation,
the tool decelerates and temporarily stops in the previous block.
</p>
<p>5 If a block containing a move command also specifies an M/S/T code during linear
acceleration/deceleration before interpolation, the tool decelerates and temporarily stops in the
block.
</p>
<p>6 Even during linear acceleration/deceleration before interpolation, acceleration/deceleration is
not applied to a G31 (skip function) block.
</p>
<p>7 Even if the Z&ndash;axis command cancel signal (ZNG) is turned on or off during linear
acceleration/deceleration before interpolation, Z&ndash;axis acceleration/deceleration control is not
applied.
</p>
<p>8 During linear acceleration/deceleration before interpolation, the automatic corner override
function can be used only to make an inner circular cutting feedrate change.
</p>
<p>9 Even during linear acceleration/deceleration before interpolation, acceleration/deceleration
after interpolation is enabled.  So, to use acceleration/deceleration before interpolation only,
set the time constant for acceleration/deceleration after interpolation to 0.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>67
</p>
<p>With this function, the remaining pulses output upon the completion of
interpolation of a block are output together with the interpolation pulses
of the next block to suppress the feedrate variations that can occur
between the two blocks.  This function is optional.
</p>
<p>Interpolation
pulses
</p>
<p>Block 1 Block 2
</p>
<p>Time
</p>
<p>When the block overlap function is disabled
</p>
<p>Interpolation
pulses
</p>
<p>Block 1 Block 2
</p>
<p>Time t
</p>
<p>When the block overlap function is enabled
</p>
<p>Fig. 5.7
</p>
<p>This function is enabled when G01, G02, and G03 blocks occur
successively in G64 mode.
</p>
<p>NOTE
1 If blocks specifying small amounts of movement occur in
</p>
<p>succession, the overlap function may not be enabled.
2 If the radius of the start point of a circular cutting command
</p>
<p>does not match the radius of the end point of the command,
the overlap function will not be applied normally.
</p>
<p>5.7
CUTTING FEED
BLOCK OVERLAP
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>68
</p>
<p>In corner machining, this function controls the feedrate by decelerating
the tool at a corner according to the corner angle between the blocks or
according to the feedrate difference along each axis to improve the
machining precision (acceleration/deceleration after interpolation) or to
reduce the mechanical stress and strain (acceleration/deceleration before
interpolation) at the corner.  This function is optional.
</p>
<p>This function is enabled when G64 mode (machining mode) specifying
a cutting feed time constant is set, a cutting&ndash;feed block (block A) is
followed by another cutting&ndash;feed block (block B), and deceleration is
performed in block A.  Two corner deceleration control methods are
supported.  One method is based on the corner angle between two blocks,
while the other is based on the feedrate difference along each axis.  The
user can select either of the two methods by specifying bit 3 of parameter
No. 395.
</p>
<p>(1)Specification
</p>
<p>When the angle between block A and block B (XY plane) is smaller
than that specified in parameter No. 865, this function reduces the
feedrate at the corner.  This means that the execution of block B is
suspended until the feedrates after acceleration/deceleration along the
X&ndash;axis and Y&ndash;axis become smaller than the value specified in
parameter No. 482.
</p>
<p>The flowchart for this control mode is shown below.
</p>
<p>START
</p>
<p>Is the corner angle smaller
than that specified in
parameter No. 865?
</p>
<p>Are the feedrates after
acceleration/deceleration
along the X&ndash;axis and Y&ndash;
axis smaller than the val-
ue specified in parameter
</p>
<p>No. 482?
</p>
<p>Yes
</p>
<p>Block B is executed to-
gether with block A decel-
</p>
<p>eration.
</p>
<p>Yes
</p>
<p>END
</p>
<p>No
</p>
<p>No
</p>
<p>Further reduces the
feedrate in block A.
</p>
<p>5.8
AUTOMATIC
CORNER
DECELERATION
</p>
<p>Explanations
</p>
<p>ï¿½ Corner deceleration
based on the corner
angle (with bit 3 of
parameter No. 
395 set to 0)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>69
</p>
<p>When the corner angle is smaller than that specified in the parameter, the
relationship between the feedrate and time will be as shown below.  The
movement of block A equivalent to the hatched area remains at time t.
The execution of block B is started, however, because the feedrate after
acceleration/deceleration is now smaller than the parameter&ndash;set value.
</p>
<p>&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;
</p>
<p>Feedrate after acceleration/deceleration
</p>
<p>Block A Block B
</p>
<p>Parameter&ndash;set 
value
</p>
<p>Timet
</p>
<p>Fig. 5.8 (a)
</p>
<p>(2)When linear acceleration/deceleration before interpolation is enabled
</p>
<p>When the angle between block A and block B (XY plane) is smaller
than that specified in parameter No. 865, and the feedrates specified
for block A and block B are larger than the value specified in parameter
No. 482, this function reduces the feedrate at the corner to the
parameter&ndash;set feedrate at the end point of block A, then increases the
feedrate to the specified feedrate when block B starts.  In this case,
acceleration/deceleration is performed according to the parameter
setting for linear acceleration/deceleration before interpolation.
</p>
<p>Feedrate
</p>
<p>Block A Block B
</p>
<p>Time
</p>
<p>Parameter&ndash;set 
feedrate 
(parameter 
No. 482)
</p>
<p>Fig. 5.8 (b)ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>70
</p>
<p>NOTE
1 Comparison between a machining angle and parameter&ndash;set angle (parameter No. 865) is
</p>
<p>made only for the XY plane.  Comparison between a machining feedrate and parameter&ndash;set
feedrate (parameter No. 482) is made only for the X&ndash;axis and Y&ndash;axis.  So, when movement
is made along three or more axes at the same time, only the X&ndash;axis and Y&ndash;axis are considered.
</p>
<p>2 Corner roundness is determined by the angle and feedrate set in parameter Nos. 865 and 482.
To ensure that a sharp corner is obtained at all times, set a feedrate of 0 and an angle of 180
degrees in the respective parameters.
</p>
<p>3 When G09 (exact stop) is specified, exact stop operation is performed, regardless of the angle
and feedrate set in the parameters.
</p>
<p>4 This function cannot be used with the single step and dry run functions.
5 The angle (Î¸) between block A and block B is defined as shown below.
</p>
<p>ï¿½ Between two straight lines
</p>
<p>ï¿½ Between a straight line and an arc:  Angle subtended by a straight line and the tangent to
an arc
</p>
<p>ï¿½ Between two arcs;  Angle subtended by the tangent to one arc and the tangent to the other
arc
</p>
<p>A(G01)
</p>
<p>B(G01)
Î¸
</p>
<p>A(G02)
</p>
<p>B(G01)
Î¸
</p>
<p>Î¸
</p>
<p>A(G01)
B(G03)
</p>
<p>A(G02)
</p>
<p>B(G02)
</p>
<p>Î¸
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>71
</p>
<p>(1)Specification
</p>
<p>When the difference between the specified feedrate at the end point of
block A and the specified feedrate at the start point of block B along
each axis is larger than the value specified in parameter No. 483, this
function reduces the feedrate at the corner.  This means that the
execution of block B is suspended until the feedrates after
acceleration/deceleration along the X&ndash;axis, Y&ndash;axis, Z&ndash;axis, and 4th
axis become smaller than the value specified in parameter No. 482.
</p>
<p>The flowchart for this control mode is shown below.
</p>
<p>START
</p>
<p>Is the feedrate difference be-
tween blocks along each axis
larger than the value specified
</p>
<p>in parameter No. 483?
</p>
<p>Are the feedrates after accel-
eration/deceleration along the
X&ndash;axis, Y&ndash;axis, Z&ndash;axis, and
</p>
<p>4th axis smaller than the value
specified in parameter No.
</p>
<p>482?
</p>
<p>Yes
</p>
<p>Block B is executed together
with block A deceleration.
</p>
<p>Yes
</p>
<p>END
</p>
<p>No
</p>
<p>No
</p>
<p>Further reduces the
feedrate in block A.
</p>
<p>When the feedrate difference between blocks along each axis is larger than
the value specified in parameter No. 483, the relationship between the
feedrate and time will be as shown below.  The movement of block A
indicated by the hatched area remains at time t.  However, the execution
of block B is started because the feedrate after acceleration/deceleration
has become smaller than the value set in parameter No. 482.
</p>
<p>Parameter&ndash;set 
value
</p>
<p>&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;
</p>
<p>Feedrate after acceleration/deceleration
</p>
<p>Block A Block B
</p>
<p>Timet
</p>
<p>Fig. 5.8 (c)
</p>
<p>ï¿½ Corner deceleration
based on feedrate
difference between
blocks along each axis
(with bit 3 of parameter
No. 395 set to 1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>72
</p>
<p>(2)When linear acceleration/deceleration before interpolation is enabled
</p>
<p>When the feedrate difference between block A and block B along each
axis is larger than the value set in parameter No. 483, the feedrate is
reduced in block A to the corner feedrate calculated from the feedrate
difference along each axis.
</p>
<p>Let the feedrate be F.  Compare the feedrate change along each axis
(Vc[X], Vc[Y], ...) with the value, Vmax, specified in parameter No.
483.  When the change in the feedrate along at least one axis exceeds
Vmax, calculate R as follows: 
</p>
<p>R =
Vc
</p>
<p>Vmax
</p>
<p>Find the maximum value for R among the calculated values for the
axes.  Let this value be Rmax.  Then, the corner feedrate can be
obtained as described below, and the feedrate reduced to the obtained
corner feedrate. 
</p>
<p>Fc = Fï¿½
1
</p>
<p>Rmax
</p>
<p>Example)
</p>
<p>N1 G01 G91 X80. Y20. F3000 ;
N2 X20. Y80. ;
</p>
<p>N2
</p>
<p>N1
</p>
<p>When this movement is specified, the feedrate along each axis will be
as shown in the next figure.  From the figure, it can be seen that the
changes in the feedrate along the X&ndash;axis and Y&ndash;axis (Vc[X] and
Vc[Y]) exceed Vmax.  So, the feedrate change along each axis can be
reduced to Vmax or less by using the following values:
</p>
<p>Rmax = Vc [X(Y)]
Vmax
</p>
<p>Corner feedrate = Fï¿½ 1
Rmaxww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>73
</p>
<p>Vmax
</p>
<p>Vc [X] Vmax
</p>
<p>Vc [Y] Vmax
</p>
<p>1
Rmax
</p>
<p>F*
</p>
<p>F
</p>
<p>N1 N2 t
</p>
<p>When the feedrate is not
reduced at the corner
</p>
<p>When the feedrate is 
reduced at the corner
</p>
<p>Feedrate along X&ndash;axis
</p>
<p>Feedrate along Y&ndash;axis
</p>
<p>Feedrate along tangent
</p>
<p>NOTE
1 A feedrate difference comparison between machining
</p>
<p>blocks is made for each of the X&ndash;axis, Y&ndash;axis, Z&ndash;axis, and
4th axis.  Even during dry run operation or external
deceleration, a feedrate difference check is made by coding
an F command in the program.
</p>
<p>2 When G09 (exact stop) is specified, exact stop operation is
performed, regardless of the parameter settings.
</p>
<p>3 This function cannot be used with a command based on
feed per rotation, the F 1&ndash;digit command, rigid tapping
command, or single block operation.
</p>
<p>4 If an override change is applied during operation, the
feedrate difference cannot be checked correctly.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>74
</p>
<p>Particularly when high&ndash;speed circular cutting is performed using circular
interpolation, the actual tool path incurs a radial error with respect to the
specified arc.  When a feedrate specified for an arc with a programmed
radius can cause a radial error that exceeds the allowable error, this
function automatically clamps the circular cutting feedrate.
</p>
<p>This function is optional.
</p>
<p>An approximate arc radius error can be obtained using the following
expression:
</p>
<p>Y
</p>
<p>X
</p>
<p>r
</p>
<p>ï¿½r : Error
Specified
path
Actual path
</p>
<p>ï¿½r : Maximum radius error (mm)
</p>
<p>v : Feedrate (mm/sec)
</p>
<p>r : Arc radius (mm)
</p>
<p>T1 : Time constant for exponential 
acceleration/deceleration in 
cutting feed (sec)
</p>
<p>T2 : Time constant for the servo 
motor (sec)
</p>
<p>ï¿½r =      (T12+T22) (Expression 1). . . . . . . . . . . 
1
</p>
<p>2
</p>
<p>v2
</p>
<p>r
</p>
<p>Let V be a maximum allowable feedrate for the arc radius R.  Then, the
arc radius error ï¿½R is given by:
</p>
<p>ï¿½R =       (T12+T22) (Expression 2). . . . . . . . . . . 
1
</p>
<p>2
</p>
<p>V2
</p>
<p>R
</p>
<p>On the other hand, from Expressions 1 and 2, the maximum allowable
feedrate v for maintaining the allowable error ï¿½R for the arc radius r is
found as follows:
</p>
<p>V2          =   (T12+T22)    = (T12+T22)
1
</p>
<p>2
</p>
<p>v2
</p>
<p>r R2
</p>
<p>1
</p>
<p>Accordingly,
</p>
<p>v = V (Expression 3). . . . . . . . . . . r
</p>
<p>R
</p>
<p>By setting an arc radius (R) and the corresponding maximum allowable
feedrate (V) in the parameters, the maximum allowable feedrate (v) for
a programmed radius (r) can be found from Expression 3.  If the specified
feedrate exceeds the feedrate v, this function automatically clamps the
feedrate to v.  The maximum allowable feedrate (v), found from
Expression 3, decreases as a specified arc radius decreases.  When an
excessively low feedrate is undesirable, parameter No. 496 can be used
to set a lower limit on the circular cutting feedrate clamping.
</p>
<p>If a specified feedrate is within the maximum allowable feedrate (v) found
using Expression 3, circular cutting is performed at the specified feedrate.
</p>
<p>5.9
FEEDRATE CLAMP
BASED ON ARC
RADIUS
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. FEED FUNCTIONSPROGRAMMING
</p>
<p>75
</p>
<p>NOTE
1 This function is also usable with linear acceleration/deceleration before interpolation.  In this
</p>
<p>case, no arc radius error is caused by acceleration/deceleration before interpolation.  When the
time constant for acceleration/deceleration after interpolation is set to 0, an approximate arc
radius error can be obtained using Expression 4:
</p>
<p>2 This function is also usable with linear acceleration/deceleration after interpolation for cutting
feed.  In this case, an approximate circular cutting error can be obtained from Expression 5:
</p>
<p>where
â r : Maximum radius error (mm)
</p>
<p>v : Feedrate (mm/sec)
r : Arc radius (mm)
T1 : Time constant for linear acceleration/deceleration in cutting feed (sec)
T2 : Time constant for the servo motor (sec)
</p>
<p>3 Expressions 1, 4, and 5 can be used only to find approximate values based on the NC theory.
They do not determine actual machining errors.  Let ârall be the actual machining error.  Then,
the following can be written:
</p>
<p>This function controls or suppresses only those errors caused by the first term on the right&ndash;hand
side of Expression 6, that is, errors caused by the time constant for acceleration/deceleration
(T1) and that for the servo motor (T2).  This function has no effect on errors caused by the
machine.  Note also that Expressions 1, 4, and 5 can determine only approximate values.  As
the arc radius decreases, the approximation precision degrades; in this case, even if the
feedrate is clamped to the maximum allowable feedrate (v) obtained using Expression 3, the
error may not be suppressed to within the allowable range.
</p>
<p>ï¿½ r =           T22&times; (Expression 4). . . . . . . . . . . . . . . . . . . . . . . . . . . 
1
</p>
<p>2
</p>
<p>V2
</p>
<p>r
</p>
<p>ï¿½ r = (          T12+ T22)      (Expression 5). . . . . . . . . . . . . . . . . . . . . . . . . . 
1
</p>
<p>24
</p>
<p>1
</p>
<p>2
</p>
<p>V2
</p>
<p>r
</p>
<p>ï¿½ rall = ï¿½ r NC + ï¿½ r machine (Expression 6). . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>Error caused by the machine
Error caused by the acceleration/deceleration time
constant (T1) and servo motor time constant (T2).
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/085. FEED FUNCTIONS
</p>
<p>76
</p>
<p>This function can apply smooth acceleration/deceleration to a rapid
traverse rate to reduce the mechanical stress and strain caused by
acceleration/deceleration variations when the feedrate changes.  Thus, a
smaller time constant can be set, compared with linear
acceleration/deceleration, to reduce the time required for
acceleration/deceleration.  Feed&ndash;forward control can be enabled for a
rapid traverse command.
This function is optional.
</p>
<p>&lt;Rapid traverse linear acceleration/deceleration&gt;
</p>
<p>Feedrate
</p>
<p>0
</p>
<p>Acceleration
</p>
<p>0
Time
</p>
<p>Time
</p>
<p>Feedrate
</p>
<p>0
</p>
<p>Acceleration
</p>
<p>0
Time
</p>
<p>Time
</p>
<p>&lt;Rapid traverse bell&ndash;shaped acceleration/deceleration&gt;
</p>
<p>Fig. 5.10 (a)
</p>
<p>Rapid traverse bell&ndash;shaped acceleration/deceleration is enabled by
setting two time constants (T1, T2) (parameter No. 522 to No. 525, and
parameter No. 952 to No. 955).  In this case, the acceleration/deceleration
time will be as shown below.
</p>
<p>Total time = T1+T2 (1). . . . . . . . . . . . . . . . . . . 
</p>
<p>Time for straight section = | T1&ndash;T2  | (2). . . . . . . . . . . . 
</p>
<p>Time for curved section = MIN(T1, T2) (3). . . . . . . . . . 
</p>
<p>(3) (2) (3)
</p>
<p>(1)
</p>
<p>Time
</p>
<p>Feedrate
</p>
<p>Rapid traverse
</p>
<p> 
</p>
<p>Fig. 5.10 (b)
</p>
<p>NOTE
Rapid traverse bell&ndash;shaped acceleration/deceleration
cannot be used with the 5th/6th axis and 7th/8th axis.
</p>
<p>5.10
RAPID TRAVERSE
BELL&ndash;SHAPED
ACCELERATION/
DECELERATION
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 6. REFERENCE POSITIONPROGRAMMING
</p>
<p>77
</p>
<p>6 REFERENCE POSITION
</p>
<p>The reference position is a fixed position on a machine tool to which the
tool can easily be moved by the reference position return function.
For example, the reference position is used as a position at which tools
are automatically changed.  Up to four reference positions can be
specified by setting coordinates in the machine coordinate system in
parameters.  The first reference position must be the machine zero point.
</p>
<p>Machine zero point (1st reference position)
</p>
<p>3rd reference position
</p>
<p>2nd reference position
</p>
<p>4th reference 
position
</p>
<p>Y
</p>
<p>X
</p>
<p>Fig. 6 (a)  Machine zero point and reference positions
</p>
<p>General
</p>
<p>ï¿½ Reference position
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/086. REFERENCE POSITION
</p>
<p>78
</p>
<p>Tools are automatically moved to the reference position via an
intermediate position along a specified axis.  Or, tools are automatically
moved from the reference position to a specified position via an
intermediate position along a specified axis.  When reference position
return is completed, the lamp for indicating the completion of return goes
on.
</p>
<p>A (Start position for 
reference position return)
</p>
<p>B (Intermediate 
position)
</p>
<p>C (Destination of return from the
reference position)
</p>
<p>R (Reference position)
Reference position return A&rarr;B&rarr;R
Return from the reference position R&rarr;B&rarr;C
</p>
<p>Fig. 6 (b)  Reference position return and return form the reference position
</p>
<p>The reference position return check (G27) is the function which checks
whether the tool has correctly returned to the reference position as
specified in the program.  If the tool has correctly returned to the reference
position along a specified axis, the lamp for the axis goes on.
</p>
<p>ï¿½ï¿½
</p>
<p>_: Command specifying the intermediate position 
(Absolute/incremental command)
</p>
<p>G28
</p>
<p>ï¿½ï¿½
</p>
<p>_ ; Reference position return
</p>
<p>G30 P2 _ ; 2nd reference position returnï¿½ï¿½
</p>
<p>G30 P3 _ ; 3rd reference position returnï¿½ï¿½
</p>
<p>G30 P4 _ ; 4th reference position returnï¿½ï¿½
</p>
<p>(P2 can 
be omitted.)
</p>
<p>_: Command specifying the destination of return from reference
position  (Absolute/incremental command)
</p>
<p>G29
</p>
<p>ï¿½ï¿½
</p>
<p>_ ;ï¿½ï¿½
</p>
<p>_: Command specifying the reference position 
(Absolute/incremental command)
</p>
<p>G27
</p>
<p>ï¿½ï¿½
</p>
<p>_ ;ï¿½ï¿½
</p>
<p>ï¿½ Reference position
return and movement
from the reference
position
</p>
<p>ï¿½ Reference position
return check
</p>
<p>Format
</p>
<p>ï¿½ Reference position
return
</p>
<p>ï¿½ Return from reference
position
</p>
<p>ï¿½ Reference  position
return check
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 6. REFERENCE POSITIONPROGRAMMING
</p>
<p>79
</p>
<p>Positioning to the intermediate or reference positions are performed at the
rapid traverse rate of each axis.
Therefore, for safety, the cutter compensation, and tool length
compensation should be cancelled before executing this command.
The coordinates for the intermediate position are stored in the CNC only
for the axes for which a value is specified in a G28 block.  For the other
axes, the previously specified coordinates are used. 
Example N1  G28  X40.0  ; Intermediate position (X40.0) 
</p>
<p>N2  G28  Y60.0  ; Intermediate position (X40.0,  Y60.0)
</p>
<p>In a system without an absolute&ndash;position detector, the first, third, and
fourth reference position return functions can be used only after the
reference position return (G28) or manual reference position return (see
III&ndash;3.1) is made.  The G30 command is generally used when the automatic
tool changer (ATC) position differs from the reference position.
</p>
<p>In general, it is commanded immediately following the G28 command or
G30.  For incremental programming, the command value specifies the
incremental value from the intermediate point.
Positioning to the intermediate or reference points are performed at the
rapid traverse rate of each axis.
When the workpiece coordinate system is changed after the tool reaches
the  reference position through the intermediate point by the G28
command, the intermediate point also shifts to a new coordinate system.
If G29 is then commanded, the tool moves to to the commanded position
through the intermediate point which has been shifted to the new
coordinate system.
The same operations are performed also for G30 commands.
</p>
<p>G27 command positions the tool at rapid traverse rate.  If the tool reaches
the reference position, the reference position return lamp lights up. 
However, if the position reached by the tool is not the reference position,
an alarm (No. 092) is displayed.
</p>
<p>The lamp for indicating the completion of return does not go on when the
machine lock is turned on, even when the tool has automatically returned
to the reference position.  In this case, it is not checked whether the tool
has returned to the reference position even when a G27 command is
specified.
</p>
<p>When the G28 command is specified when manual return to the reference
position has not been performed after the power has been turned on, the
movement from the intermediate point is the same as in manual return to
the reference position.
In this case, the tool moves in the direction for reference position return
specified in parameter ( No. 003 #0 to #3).  Therefore the specified
intermediate position must be a position to which reference position
return is possible.
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Reference position
return (G28)
</p>
<p>ï¿½ 2nd, 3rd, and 4th
reference position return
(G30)
</p>
<p>ï¿½ Return from the
reference position (G29)
</p>
<p>ï¿½ Reference position
return check (G27)
</p>
<p>Restrictions
</p>
<p>ï¿½ Status the machine lock
being turned on
</p>
<p>ï¿½ First return to the
reference position after
the power has been
turned on (without an
absolute position
detector)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/086. REFERENCE POSITION
</p>
<p>80
</p>
<p>In an offset mode, the position to be reached by the tool with the G27
command is the position obtained by adding the offset value.  Therefore,
if the position with the offset value added is not the reference position, the
lamp does not light up, but an alarm is displayed instead.  Usually, cancel
offsets before G27 is commanded.
</p>
<p>When the machine tool system is an inch system with metric input, the
reference position return lamp may also light up even if the programmed
position is shifted from the reference position by 1&micro;.  This occurs because
the least input increment of the machine tool system is smaller than its
least command increment.
</p>
<p>See III&ndash;3.1.
</p>
<p>G28G90X1000.0Y500.0 ; (Programs movement  from A to B)
 T1111 ; (Changing the tool at the reference position)
G29X1300.0Y200.0 ; (Programs movement from B to C)
</p>
<p>A
</p>
<p>B
</p>
<p>C
</p>
<p>R
Reference 
position
</p>
<p>200
</p>
<p>300
</p>
<p>500
</p>
<p>200 1000 1300
</p>
<p>Y
</p>
<p>X
</p>
<p>The tool is changed at the reference position
</p>
<p>Fig. 6 (c)  Reference position return and return from the reference position
</p>
<p>ï¿½ Reference position
return check in an offset
mode
</p>
<p>ï¿½ Lighting the lamp when
the programmed position
does not coincide with
the reference position
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Manual reference
position return
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 7. COORDINATE SYSTEMPROGRAMMING
</p>
<p>81
</p>
<p>7 COORDINATE SYSTEM
By teaching the CNC a desired tool position, the tool can be moved to the
position.  Such a tool position is represented by coordinates in a
coordinate system.  Coordinates are specified using program axes.
When three program axes, the X&ndash;axis, Y&ndash;axis, and Z&ndash;axis, are used,
coordinates are specified as follows:
</p>
<p>X_Y_Z_
This command is referred to as a dimension word.
</p>
<p>Z
</p>
<p>Y
</p>
<p>X
</p>
<p>40.0
</p>
<p>50.0
</p>
<p>25.0
</p>
<p>Fig. 7  Tool position specified by X40.0Y50.0Z25.0
</p>
<p>Coordinates are specified in one of following three coordinate systems:
(1)Machine coordinate system
(2)Workpiece coordinate system
(3)Local coordinate system
</p>
<p>The number of the axes of a coordinate system varies from one machine
to another.  So, in this manual, a dimension word is represented as IP_.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/087. COORDINATE SYSTEM
</p>
<p>82
</p>
<p>The point that is specific to a machine and serves as the reference of the
machine is referred to as the machine zero point.  A machine tool builder
sets a machine zero point for each machine.  The machine zero point
matches the first reference position.
A coordinate system with a machine zero point set as its origin is referred
to as a machine coordinate system.
A machine coordinate system is set by performing manual reference
position return after power&ndash;on (see III&ndash;3.1).  A machine coordinate
system, once set, remains unchanged until the power is turned off.
</p>
<p>G53 _ ;ï¿½ï¿½
</p>
<p>ï¿½ï¿½ _ ; Absolute dimension word
</p>
<p>When a command is specified based on a machine coordinate system, the
tool moves by rapid traverse.  G53, which is used to select a machine
coordinate system, is a one&ndash;shot G code; that is, it is valid only in the
block in which it is specified.  The absolute command G90 is valid, but
the incremental command G91 is ignored.  When the tool is to be moved
to a machine&ndash;specific position such as a tool change position, program the
movement in a machine coordinate system based on G53.
</p>
<p>When the G53 command is specified, cancel the cutter compensation, tool
length offset, and tool offset.
</p>
<p>Since the machine coordinate system must be set before the G53
command is specified, at least one manual reference position return or
automatic reference position return by the G28 command must be
performed after the power is turned on.  This is not necessary when an
absolute&ndash;position detector is attached.
The option for the workpiece coordinate system (G54 to G59) is required.
</p>
<p>7.1
MACHINE
COORDINATE
SYSTEM
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ï¿½ Selecting a machine
coordinate system (G53)
</p>
<p>Restrictions
</p>
<p>ï¿½ Cancel of the
compensation function
</p>
<p>ï¿½ G53 specification
immediately after
power&ndash;on
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 7. COORDINATE SYSTEMPROGRAMMING
</p>
<p>83
</p>
<p>A coordinate system used for machining a workpiece is referred to as a
workpiece coordinate system.  A workpiece coordinate system is to be set
with the NC beforehand (setting a workpiece coordinate system).
A machining program sets a workpiece coordinate system (selecting a
workpiece coordinate system).
A set workpiece coordinate system can be changed by shifting its origin
(changing a workpiece coordinate system).
</p>
<p>A workpiece coordinate system can be set using one of three methods:
</p>
<p>(1)Method using G92
A workpiece coordinate system is set by specifying a value after G92
in the program.
</p>
<p>(2)Automatic setting
If bit 0 of parameter No. 010 #7 is set beforehand, a workpiece
coordinate system is automatically set when manual reference
position return is performed (see Part III.).
</p>
<p>(3) Input using the CRT/MDI panel
Six workpiece coordinate systems can be set beforehand using the
CRT/MDI panel (see Part III&ndash;3.1.).
</p>
<p>To use absolute programming, establish a workpiece coordinate system
by applying one of the methods described above.
</p>
<p>G92 _ ;ï¿½ï¿½
</p>
<p>A workpiece coordinate system is set so that a point on the tool, such as
the tool tip, is at specified coordinates.  If a coordinate system is set using
G92 during tool length offset, a coordinate system in which the position
before offset matches the position specified in G92 is set.
Cutter compensation is cancelled temporarily with G92.
</p>
<p>25.2 X
</p>
<p>Z
</p>
<p>23.0
</p>
<p>0 X
</p>
<p>Z
</p>
<p>600.0
</p>
<p>1200.0
If an absolute command is is-
sued, the base point moves to
the commanded position.  In or-
der to move the tool tip to the
commanded position, the  dif-
ference from the tool tip to the
base point is compensated by
tool length offset.
</p>
<p>Setting the coordinate system by the
G92X25.2Z23.0; command
(The tool tip is the start point for the program.)
</p>
<p>Setting the coordinate system by the G92X600.0Z1200.0; command 
(The base point on the tool holder is the start point for the program.)
</p>
<p>Base point
</p>
<p>Example 1 Example 2
</p>
<p>0
</p>
<p>7.2
WORKPIECE
COORDINATE
SYSTEM
</p>
<p>7.2.1
Setting a Workpiece
Coordinate System
</p>
<p>Format
Setting a workpiece
coordinate system by G92
</p>
<p>Explanations
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/087. COORDINATE SYSTEM
</p>
<p>84
</p>
<p>The user can choose from set workpiece coordinate systems as described
below.  (For information about the methods of setting, see Section 7.2.1.)
</p>
<p>(1)Selecting a workpiece coordinate system set by G92 or automatic
workpiece coordinate system setting
Once a workpiece coordinate system is selected, absolute commands
work with the workpiece coordinate system.
</p>
<p>(2)Choosing from six workpiece coordinate systems set using the
CRT/MDI panel
By specifying a G code from G54 to G59, one of the workpiece
coordinate systems 1 to 6 can be selected.
</p>
<p>G54 Workpiece coordinate system 1. . . . . 
G55 Workpiece coordinate system 2. . . . . 
G56 Workpiece coordinate system 3. . . . . 
G57 Workpiece coordinate system 4. . . . . 
G58 Workpiece coordinate system 5. . . . . 
G59 Workpiece coordinate system 6. . . . . 
</p>
<p>Workpiece coordinate system 1 to 6 are established after reference
position return after the power is turned on. When the power is turned
on, G54 coordinate system is selected.
</p>
<p>X
</p>
<p>Y
</p>
<p>100.0
</p>
<p>40.0
</p>
<p>In this example, positioning is made to
positions (X=40.0, Y=100.0) in workpiece
coordinate system 2.
</p>
<p>G90 G55 G00 X40.0 Y100.0 ;
</p>
<p>Workpiece coordinate system 2 (G55)
</p>
<p>Fig. 7.2.2
</p>
<p>7.2.2
Selecting a Workpiece
Coordinate System
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 7. COORDINATE SYSTEMPROGRAMMING
</p>
<p>85
</p>
<p>The six workpiece coordinate systems specified with G54 to G59 can be
changed by changing an external workpiece zero point offset value or
workpiece zero point offset value.  
Four  methods are available to change an external workpiece zero point
offset value or workpiece zero point offset value.
</p>
<p>(1) Inputting from the CRT/MDI panel (see III&ndash;11.4.3)
</p>
<p>(2)Programming by G10 or G92
</p>
<p>(3)Changing an external workpiece zero point offset value (refer to
machine tool builder&rsquo;s manual)
</p>
<p>(4)System variables by Custom Macro B
</p>
<p>ZOFS2 ZOFS3
ZOFS4
</p>
<p>ZOFS5
</p>
<p>ZOFS1
</p>
<p>ZOFS6
</p>
<p>EXOFS : External workpiece zero point offset value
ZOFS1 to ZOFS6 : Workpiece zero point offset value
</p>
<p>EXOFS
</p>
<p>Workpiece 
coordinate 
system 1  (G54)
</p>
<p>Workpiece 
coordinate 
system 2  (G55)
</p>
<p>Workpiece 
coordinate 
system 3  (G56)
</p>
<p>Workpiece 
coordinate 
system 4  (G57)
</p>
<p>Workpiece 
coordinate 
system 5  (G58)
</p>
<p>Workpiece 
coordinate 
system 6  (G59)
</p>
<p>Machine zero
</p>
<p>Fig. 7.2.3   Changing an external workpiece zero point offset value or workpiece zero point offset value
</p>
<p>p=0 : External workpiece zero point offset value
</p>
<p>p=1 to 6 : Workpiece zero point offset value correspond to 
workpiece coordinate system 1 to 6
</p>
<p>  : Workpiece zero point offset value of each axis
</p>
<p>G10 L2 Pp
</p>
<p>ï¿½ï¿½
</p>
<p>_ ;ï¿½ï¿½
</p>
<p>G92 _ ;ï¿½ï¿½
</p>
<p>7.2.3
Changing Workpiece
Coordinate System
</p>
<p>Format
</p>
<p>ï¿½ Changing by G10
</p>
<p>ï¿½ Changing by G92
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/087. COORDINATE SYSTEM
</p>
<p>86
</p>
<p>With the G10 command, each workpiece coordinate system can be
changed separately.
When an absolute workpiece zero point offset value is specified, the
specified value becomes a new offset value.  When an incremental
workpiece zero point offset value is specified, the specified value is added
to the current offset value to produce a new offset value.
</p>
<p>By specifying G92IP_;, a workpiece coordinate system (selected with a
code from G54 to G59) is shifted to set a new workpiece coordinate
system so that the current tool position matches the specified coordinates
(IP_).
Then, the amount of coordinate system shift is added to all the workpiece
zero point offset values.  This means that all the workpiece coordinate
systems are shifted by the same amount.
</p>
<p>WARNING
When a coordinate system is set with G92 after an external
workpiece zero point offset value is set, the coordinate
system is not affected by the external workpiece zero point
offset value.  When G92X100.0Z80.0; is specified, for
example, the coordinate system having its current tool
reference position at X = 100.0 and Z = 80.0 is set.
</p>
<p>Explanations
</p>
<p>ï¿½ Changing by G10
</p>
<p>ï¿½ Changing by G92
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 7. COORDINATE SYSTEMPROGRAMMING
</p>
<p>87
</p>
<p>X
</p>
<p>Xï¿½
</p>
<p>Yï¿½Y
</p>
<p>A
</p>
<p>160 100
</p>
<p>100
</p>
<p>100
</p>
<p>200
</p>
<p>If G92X100Y100; is commanded when the tool
is positioned at (200, 160) in G54 mode, work-
piece coordinate system 1 (X&rsquo; &ndash; Y&rsquo;) shifted by
vector A is created.
</p>
<p>60
</p>
<p>G54 workpiece coordinate system
</p>
<p>Tool position
</p>
<p>New workpiece coordinate system
</p>
<p>Original workpiece coordinate system
</p>
<p>1200.0
</p>
<p>Z
</p>
<p>Z
</p>
<p>Xï¿½
</p>
<p>X
600.0
</p>
<p>600.0
</p>
<p>1200.0
</p>
<p>Z&rsquo;
</p>
<p>Zï¿½
</p>
<p>X
</p>
<p>X
</p>
<p>X&rsquo; &ndash; Z&rsquo; New workpiece coordinate system
X  &ndash; Z Original workpiece coordinate system
A : Offset value created by G92
B : G54 workpiece zero point offset value
C : G55 workpiece zero point offset value
</p>
<p>A
</p>
<p>B
</p>
<p>C
</p>
<p>A
</p>
<p>G54 Workpiece 
coordinate system
</p>
<p>G55 Workpiece 
coordinate system
</p>
<p>Suppose that a G54 workpiece coordi-
nate system is specified.  Then, a G55
workpiece coordinate system where
the black circle on the tool (figure at
the left) is at (600.0,12000.0) can be
set with the following command if the
relative relationship between the G54
workpiece coordinate system and
G55 workpiece coordinate system is
set correctly:G92X600.0Z1200.0;Also,
suppose that pallets are loaded at two
different positions.  If the relative rela-
tionship of the coordinate systems of
the pallets at the two positions is cor-
rectly set by handling the coordinate
systems as the G54 workpiece coordi-
nate system and G55 workpiece coor-
dinate system, a coordinate system
shift with G92 in one pallet causes the
same coordinate system shift in the
other pallet.  This means that work-
pieces on two pallets can be ma-
chined with the same program just by
specifying G54 or G55.
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/087. COORDINATE SYSTEM
</p>
<p>88
</p>
<p>Besides the six workpiece coordinate systems (standard workpiece
coordinate systems) selectable with G54 to G59, 48 additional workpiece
coordinate systems (additional workpiece coordinate systems) can be
used.
</p>
<p>G54Pn ;
Pn : Codes specifying the additional workpiece coordinate
</p>
<p>systems
</p>
<p>n : 1 to 48
</p>
<p>Pn : Codes specifying the workpiece coordinate system for set-
ting the workpiece zero point offset value
</p>
<p>n : 1 to 48
</p>
<p>_: Axis addresses and a value set as the workpiece zero
point offset
</p>
<p>G10L20 Pn
</p>
<p>ï¿½ï¿½
</p>
<p>_ ;ï¿½ï¿½
</p>
<p>When a P code is specified together with G54, the corresponding
coordinate system is selected from the additional workpiece coordinate
systems (1 to 48).
A workpiece coordinate system, once selected, is valid until another
workpiece coordinate system is selected.  Standard workpiece coordinate
system 1 (selectable with G54) is selected at power&ndash;on.
</p>
<p>G54 P1 Additional workpiece coordinate system 1ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
G54 P2 Additional workpiece coordinate system 2ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>G54 P48 Additional workpiece coordinate system 48ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>As with the standard workpiece coordinate systems, the following
operations can be performed for a workpiece zero point offset in an
additional workpiece coordinate system:
</p>
<p>(1)The   MENUOFFSET  function key can be used to display and set a workpiece zero
</p>
<p>point offset value.
</p>
<p>(2)The G10 function enables a workpiece zero point offset value to be set
by programming.
</p>
<p>(3)A custom macro allows a workpiece zero point offset value to be
handled as a system variable.
</p>
<p>(4)Workpiece zero point offset data can be entered or output as external
data.
</p>
<p>7.2.4
Adding Workpiece
Coordinate Systems
</p>
<p>Format
</p>
<p>ï¿½ Selecting the additional
workpiece coordinate
systems
</p>
<p>ï¿½ Setting the workpiece
zero point offset value in
the additional workpiece
coordinate systems
</p>
<p>Explanations
</p>
<p>ï¿½ Selecting the additional
workpiece coordinate
systems
</p>
<p>ï¿½ Setting the workpiece
zero point offset value in
the additional workpiece
coordinate systemsww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 7. COORDINATE SYSTEMPROGRAMMING
</p>
<p>89
</p>
<p>A P code must be specified after G54.
If a value not within the specifiable range is specified in a P code, an alarm
(No. 030) is issued.
</p>
<p>Restrictions
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½	
ï¿½ ï¿½ ï¿½ï¿½ï¿½ï¿½&#13;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/087. COORDINATE SYSTEM
</p>
<p>90
</p>
<p>When a program is created in a workpiece coordinate system, a child
workpiece coordinate system may be set for easier programming.  Such
a child coordinate system is referred to as a local coordinate system.
</p>
<p>_: Origin of the local coordinate system
</p>
<p>G52
</p>
<p>ï¿½ï¿½
</p>
<p>_ ; Setting the local coordinate systemï¿½ï¿½
</p>
<p>ï¿½ï¿½G52  0 ; Canceling of the local coordinate system
</p>
<p>......
</p>
<p>By specifying G52IP_;, a local coordinate system can be set in all the
workpiece coordinate systems (G54 to G59).  The origin of each local
coordinate system is set at the position specified by IP_  in the workpiece
coordinate system.
When a local coordinate system is set, the move commands in absolute
mode (G90), which is subsequently commanded, are the coordinate
values in the local coordinate system.  The local coordinate system can
be changed by specifying the G52 command with the zero point of a new
local coordinate system in the workpiece coordinate system. 
To cancel the local coordinate system and specify the coordinate value in
the workpiece coordinate system, match the zero point of the local
coordinate system with that of the workpiece coordinate system.
</p>
<p>_
</p>
<p>(G59 : Workpiece coordinate system 6)
</p>
<p>(G54 : Workpiece coordinate system 1)
</p>
<p>G55
G56 G57
</p>
<p>G58
</p>
<p>Machine coordinate system origin
</p>
<p>(Machine coordinate system)
</p>
<p>(Local coordinate system)
</p>
<p>(Local coordinate system)
</p>
<p>ï¿½ï¿½
</p>
<p>_ï¿½ï¿½
</p>
<p>Fig. 7.3  Setting the local coordinate system
</p>
<p>7.3
LOCAL COORDINATE
SYSTEM
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 7. COORDINATE SYSTEMPROGRAMMING
</p>
<p>91
</p>
<p>WARNING
1 When an axis returns to the reference point by the manual reference point return function, the
</p>
<p>zero point of the local coordinate system of the axis matches that of the work coordi&ndash;nate
system.  The same is true when the following command is issued: 
</p>
<p>G52Î±0;
G52Î±:Axis which returns to the reference point
</p>
<p>2 The local coordinate system setting does not change the workpiece and machine coordi&ndash;nate
systems.
</p>
<p>3 The local coordinate system is cancelled when the reset operation is performed.
4 When setting a workpiece coordinate system with the G92 command, the local coordinate
</p>
<p>systems are cancelled.
5 G52 cancels the offset temporarily in cutter compensation.
6 Command a move command immediately after the G52 block in the absolute mode.
7 The option for the workpiece coordinate system (G54 to G59) is required.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/087. COORDINATE SYSTEM
</p>
<p>92
</p>
<p>Select the planes for circular interpolation, cutter compensation, and
drilling by G&ndash;code.  
The following table lists G&ndash;codes and the planes selected by them.
</p>
<p>Table 7.4   Plane selected by G code
</p>
<p>G code Selectedplane Xp Yp Zp
</p>
<p>G17 Xp Yp plane
X&ndash;axis or an Y&ndash;axis or an Z&ndash;axis or an
</p>
<p>G18 Zp Xp plane
X&ndash;axis or an
axis parallel 
</p>
<p>to it
</p>
<p>Y&ndash;axis or an 
axis parallel
</p>
<p>to it
</p>
<p>Z&ndash;axis or an 
axis parallel 
</p>
<p>to it
G19 Yp Zp plane
</p>
<p>to it to it to it
</p>
<p>Xp, Yp, Zp are determined by the axis address appeared in the block in
which G17, G18 or G19 is commanded.
When an axis address is omitted in G17, G18 or G19 block, it is assumed
that the addresses of basic three axes are omitted.
Parameter No. 279 is used to specify that an optional axis be parallel to
the each axis of the X, Y&ndash;, and Z&ndash;axes as the basic three axes.
The plane is unchanged in the block in which G17, G18 or G19 is not
commanded.
</p>
<p>Plane selection when the X&ndash;axis is parallel with the U&ndash;axis. 
G17X_Y_ XY plane, 
G17U_Y_ UY plane
G18X_Z_ ZX plane
       X_Y_ Plane is unchanged (ZX plane)
G17 XY plane
G18 ZX plane
G17 U_ UY plane
G18Y_ ; ZX plane, Y axis moves regardless without any
</p>
<p>relation to the plane.
</p>
<p>NOTE
When the system is turned on or placed in the clear state by
a reset (bit 6 of parameter No. 045), G17, G18, or G19 is
selected according to the setting of parameter No. 212.
</p>
<p>7.4
PLANE SELECTION
</p>
<p>Explanations
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
8. COORDINATE VALUE
</p>
<p>AND DIMENSIONPROGRAMMING
</p>
<p>93
</p>
<p>8 COORDINATE VALUE AND DIMENSION
This chapter contains the following topics.
</p>
<p>8.1   ABSOLUTE AND INCREMENTAL PROGRAMMING (G90, G91)
8.2   POLAR COORDINATE COMMAND (G15, G16)
8.3   INCH/METRIC CONVERSION (G20, G21)
8.4   DECIMAL POINT PROGRAMMING
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
8. COORDINATE VALUE
</p>
<p>AND DIMENSION
</p>
<p>94
</p>
<p>There are two ways to command travels of the tool; the absolute
command, and the incremental command. In the absolute command,
coordinate value of the end position is programmed; in the incremental
command, move distance of the position itself  is programmed.  G90 and
G91 are used to command absolute or incremental command,
respectively.
</p>
<p>G90 _ ;ï¿½ï¿½Absolute command
</p>
<p>Incremental command G91 _ ;ï¿½ï¿½
</p>
<p>Absolute command
</p>
<p>Incremental command
</p>
<p>G90 X40.0 Y70.0 ;
</p>
<p>G91 X&ndash;60.0 Y40.0 ;
</p>
<p>Y
</p>
<p>X
</p>
<p>70.0
</p>
<p>30.0
</p>
<p>40.0 100.0
</p>
<p>End position
</p>
<p>Start position
</p>
<p>8.1
ABSOLUTE AND
INCREMENTAL
PROGRAMMING
(G90, G91)
</p>
<p>Format
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
8. COORDINATE VALUE
</p>
<p>AND DIMENSIONPROGRAMMING
</p>
<p>95
</p>
<p>The end point coordinate value can be input in polar coordinates (radius
and angle). 
The plus direction of the angle is counterclockwise of the selected plane
first axis + direction, and the minus direction is clockwise.
Both radius and angle can be commanded in either absolute or
incremental command (G90, G91).
</p>
<p>Specifying the addresses of axes constituting the plane se-
lected for the polar coordinate system, and their values 
First axis : radius of polar coordinate
Second axis : radius of polar coordinate
</p>
<p>G90 specifies the zero point of the lworkpiece coordinate
system as the origin of the polar coordinate  system, from
which a radius is measured.
G91 specifies the current position as the origin of the polar
coordinate system, from which a radius is measured.
</p>
<p>Gï¿½ï¿½ Gï¿½ï¿½ G16 ;
</p>
<p>G15 ;
</p>
<p>G16 : Polar coordinate command
</p>
<p>G15 :
</p>
<p>Gï¿½ï¿½ :
</p>
<p>Gï¿½ï¿½ :
</p>
<p>PI
</p>
<p>Starting the polar coordinate command 
(polar coordinate mode)
</p>
<p>Polar coordinate command
</p>
<p>Canceling the polar coordinate command  
(polar coordinate mode)
</p>
<p>Polar coordinate command cancel
</p>
<p>Plane selection of the polar coordinate command 
(G17, G18 or G19)
</p>
<p>Gââ
</p>
<p>Gï¿½ï¿½ : Angle selection of the polar coordinate command
</p>
<p>G90 : Angle is specified with absolute command
</p>
<p>G91 : Angle is specified with incremental command
</p>
<p>_ ;ï¿½ï¿½
</p>
<p>_ ;ï¿½ï¿½
</p>
<p>Specify the radius (the distance between the zero point and the point) to
be programmed with an absolute command.  The zero point of the
workpiece coordinate system is set as the origin of the polar coordinate
system.
</p>
<p>RadiusCommand position
</p>
<p>Actual positionAngle
</p>
<p>Radius
</p>
<p>Angle
</p>
<p>Command position
</p>
<p>Actual position
</p>
<p>When the angle is specified 
with an absolute command
</p>
<p>When the angle is specified 
with an incremental command
</p>
<p>8.2
POLAR COORDINATE
COMMAND 
(G15, G16)
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Setting the zero point of
the workpiece
coordinate system as the
origin of the polar
coordinate system
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
8. COORDINATE VALUE
</p>
<p>AND DIMENSION
</p>
<p>96
</p>
<p>Specify the radius (the distance between the current position and the
point) to be programmed with an incremental command.  The current
position is set as the origin of the polar coordinate system.
</p>
<p>Radius
</p>
<p>Command position
</p>
<p>Actual position
</p>
<p>Angle
</p>
<p>When the angle is specified 
with an absolute command
</p>
<p>When the angle is specified 
with an incremental command
</p>
<p>Command position
</p>
<p>Actual position
</p>
<p>Angle
Radius
</p>
<p>Bolt hole circle
</p>
<p>Y
</p>
<p>150&deg;
</p>
<p>30&deg;
</p>
<p>100mm
</p>
<p>270&deg; X
</p>
<p>&ndash; The zero point of the workpiece coordinate
system is set as the origin of the polar
coordinate system.
</p>
<p>&ndash; The XY plane is selected.
</p>
<p>N1 G17 G90 G16 ;
Specifying the polar coordinate command and selecting the XY plane
Setting the zero point of the workpiece coordinate system as the origin
of the polar coordinate system
</p>
<p>N2 G81 X100.0 Y30.0 Z&ndash;20.0 R&ndash;5.0 F200.0 ;
Specifying a distance of 100 mm and an angle of 30 degrees
</p>
<p>N3 Y150.0 ;
Specifying a distance of 100 mm and an angle of 150 degrees
</p>
<p>N4 Y270.0 ;
Specifying a distance of 100 mm and an angle of 270 degrees
</p>
<p>N5 G15 G80 ;
Canceling the polar coordinate command
</p>
<p>ï¿½ Setting the current
position as the origin of
the polar coordinate
system
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Specifying angles and a
radius with absolute
commands
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
8. COORDINATE VALUE
</p>
<p>AND DIMENSIONPROGRAMMING
</p>
<p>97
</p>
<p>N1 G17 G90 G16;
Specifying the polar coordinate command and selecting the XY plane
Setting the zero point of the workpiece coordinate system as the origin
of the polar coordinate system
</p>
<p>N2 G81 X100.0 Y30.0 Z&ndash;20.0 R&ndash;5.0 F200.0 ; 
Specifying a distance of 100 mm and an angle of 30 degrees
</p>
<p>N3 G91 Y120.0 ;
Specifying a distance of 100 mm and an angle of +120 degrees
</p>
<p>N4 Y120.0 ;
Specifying a distance of 100 mm and an angle of +120 degrees
</p>
<p>N5 G15 G80 ;
Canceling the polar coordinate command
</p>
<p>In the polar coordinate mode, specify a radius for circular interpolation
or helical cutting (G02, G03) with R.
</p>
<p>Axes specified for the following commands are not considered part of the
polar coordinate command:
</p>
<p>&ndash; Dwell (G04)
&ndash; Changing an offset value with a program (G10)
&ndash; Setting the local coordinate system (G52)
&ndash; Converting the workpiece coordinate system (G92) 
&ndash; Selecting the machine coordinate system (G53) 
&ndash; Stored stroke check (G22)
&ndash; Coordinate system rotation (G68)
&ndash; Scaling (G51)
</p>
<p>ï¿½ Specifying angles with
incremental commands
and a radius with
absolute commands
</p>
<p>Limitations
</p>
<p>ï¿½ Specifying a radius in
the polar coordinate
mode
</p>
<p>ï¿½ Axes that are not
considered part of a
polar coordinate
command in the polar
coordinate mode
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
8. COORDINATE VALUE
</p>
<p>AND DIMENSION
</p>
<p>98
</p>
<p>Either inch or metric input can be selected  by G code.
</p>
<p>G20 ;
</p>
<p>G21 ;
</p>
<p>Inch input
</p>
<p>mm input
</p>
<p>This G code must be specified in an independent block before setting the
coordinate system at the beginning of the program. After the G code for
inch/metric conversion is specified, the unit of input data is switched to
the least inch or metric input increment of increment system IS&ndash;B or IS&ndash;C
(Section 2.3).  The unit of data input for degrees remains unchanged.The
unit systems for the following values are changed after inch/metric
conversion:
</p>
<p>&ndash; Feedrate commanded by F code
&ndash; Positional command 
&ndash; Work zero point offset value 
&ndash; Tool compensation value
&ndash; Unit of scale for manual pulse generator
&ndash; Movement distance in incremental feed
&ndash; Some parameters
When the power is turned on, the G code is the same as that held before
the power was turned off.
</p>
<p>WARNING
1 G20 and G21 must not be switched during a program.
2 When switching inch input (G20) to metric input (G21) and
</p>
<p>vice versa, the tool compensation value must be re&ndash;set
according to the least input increment.
</p>
<p>CAUTION
Reference position return is performed at a low speed for
the first G28 command after the inch input is switched to the
metric input or vice versa.
</p>
<p>NOTE
1 When the least input increment and the least command
</p>
<p>increment systems are different, the maximum error is half
of the least command increment.  This error is not
accumulated.
</p>
<p>2 The inch and metric input can also be switched using
settings.
</p>
<p>8.3
INCH/METRIC
CONVERSION 
(G20, G21)
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
8. COORDINATE VALUE
</p>
<p>AND DIMENSIONPROGRAMMING
</p>
<p>99
</p>
<p>Numerical values can be entered with a decimal point.  A decimal point
can be used when entering a distance, time, or speed.  Decimal points can
be specified with the following addresses:
X, Y, Z, U, V, W, A, B, C, I, J, K, Q, R, and F.
</p>
<p>There are two types of decimal point notation:  calculator&ndash;type notation
and standard notation.
When calculator&ndash;type decimal notation is used, a value without decimal
point is considered to be specified in mm, inch, or deg.  When standard
decimal notation is used, such a value is considered to be specified in least
input increments.Select either calculator&ndash;type or standard decimal
notation by using the parameter No. 051#7.  Values can be specified both
with and without decimal point in a single program.
</p>
<p>Program command
Pocket calculator
type decimal point
</p>
<p>programming
</p>
<p>Standard type decimal
point programming
</p>
<p>X1000
Command value with-
out decimal point
</p>
<p>1000mm
Unit : mm
</p>
<p>1mm
Unit : Least input increment
(0.001 mm)
</p>
<p>X1000.0
Command value with
decimal point
</p>
<p>1000mm
Unit : mm
</p>
<p>1000mm
Unit : mm
</p>
<p>WARNING
In a single block, specify a G code before entering a value.  The position of decimal point may
depend on the command.
Examples:
G20; Input in inches
X1.0 G04; X1.0 is considered to be a distance and processed as X10000.  This command
</p>
<p>is equivalent to G04 X10000.  The tool dwells for 10 seconds.
G04 X1.0; Equivalent to G04 X1000.  The tool dwells for one second.
</p>
<p>NOTE
1 Fractions less than the least input increment are truncated.
</p>
<p>Examples:
X1.2345; Truncated to X1.234 when the least input increment is 0.001 mm.
</p>
<p>Processed as X1.2345 when the least input increment is 0.0001 inch.
2 When more than eight digits are specified, an alarm occurs.  If a value is entered with a decimal
</p>
<p>point, the number of digits is also checked after the value is converted to an integer according
to the least input increment.
Examples:
X1.23456789; Alarm 003 occurs because more than eight digits are specified.
X123456.7; If the least input increment is 0.001 mm, the value is converted to integer
</p>
<p>123456700.  Because the integer has more than eight digits, an alarm occurs.
</p>
<p>8.4
DECIMAL POINT
PROGRAMMING
</p>
<p>ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½

</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
9. SPINDLE SPEED FUNCTION 
</p>
<p>(S FUNCTION)
</p>
<p>100
</p>
<p>9 SPINDLE SPEED FUNCTION (S FUNCTION)
The spindle speed can be controlled by specifying a value following
address S.
This chapter contains the following topics.
</p>
<p>9.1 SPECIFYING THE SPINDLE SPEED WITH A BINARY CODE
9.2 SPECIFYING THE SPINDLE SPEED VALUE DIRECTLY 
</p>
<p>(S5&ndash;DIGIT COMMAND)
9.3 CONSTANT SURFACE SPEED CONTROL (G96, G97)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
9. SPINDLE SPEED FUNCTION
</p>
<p> (S FUNCTION)PROGRAMMING
</p>
<p>101
</p>
<p>A 2&ndash;digit S code can be specified in a block.  For a description of the use
of S codes, such as their execution sequence in a block in which a spindle
speed, move command, and S code are specified, see the manual provided
by the machine tool builder.
</p>
<p>The spindle speed can be specified directly by address S followed by a
five&ndash;digit value (rpm).  The unit for specifying the spindle speed may vary
depending on the machine tool builder.  Refer to the appropriate manual
provided by the machine tool builder for details.
</p>
<p>9.1
SPECIFYING THE
SPINDLE SPEED
WITH A BINARY
CODE
</p>
<p>9.2
SPECIFYING THE
SPINDLE SPEED
VALUE DIRECTLY
(S5&ndash;DIGIT
COMMAND)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
9. SPINDLE SPEED FUNCTION 
</p>
<p>(S FUNCTION)
</p>
<p>102
</p>
<p>Specify the surface speed (relative speed between the tool and workpiece)
following S.  The spindle is rotated so that the surface speed is constant
regardless of the position of the tool.
</p>
<p>G96 PÎ± Sï¿½ï¿½ï¿½ï¿½ï¿½ ;
&uarr;Surface speed (m/min or feet/min)
</p>
<p>Note : This surface speed unit may change according to
machine tool builder&rsquo;s specification.
If a surface speed is omitted, the S value specified
in the previous G96 is used.
</p>
<p>P0 : Axis set in the parameter (No. 041#4, #5)
P1 : X axis, P2 : Y axis, P3 : Z axis, P4 : 4th axis
</p>
<p>G97 Sï¿½ï¿½ï¿½ï¿½ï¿½ ;
&uarr;ï¿½	ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½	ï¿½ï¿½ï¿½ (
	ï¿½)
</p>
<p>Note : This surface speed unit may change according to 
machine tool builder&rsquo;s specification.
If a spindle speed is omitted, the last speed specified in
G96 remains valid.
</p>
<p>G92 Sï¿½ï¿½ï¿½ï¿½ï¿½ ;
&uarr;Maximum spindle speed (rpm) used during constant
 surface speed control
</p>
<p>Note : The measurement unit of this maximum spindle speed
may vary from one machine builder to another.
</p>
<p>9.3
CONSTANT
SURFACE SPEED
CONTROL (G96, G97)
</p>
<p>Format
</p>
<p>ï¿½ Constant surface speed
control command
</p>
<p>ï¿½ Constant surface speed
control cancel command
</p>
<p>ï¿½ Clamp of maximum
spindle speed
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
9. SPINDLE SPEED FUNCTION
</p>
<p> (S FUNCTION)PROGRAMMING
</p>
<p>103
</p>
<p>G96 (constant surface speed control command) is a modal G code.  After
a G96 command is specified, the program enters the constant surface
speed control mode (G96 mode) and specified S values are assumed as a
surface speed.  A G96 command must specify the axis along which
constant surface speed control is applied.  If address P is omitted, P0 is
assumed.  A G97 command cancels the G96 mode.  If an S value is
omitted in a G97 block, the last speed specified in the G96 mode remains
valid.  When constant surface speed control is applied, a spindle speed
higher than the value specified in G92S_; (maximum spindle speed) is
clamped at the maximum spindle speed.  When the power is turned on,
the maximum spindle speed is not yet set and the speed is not clamped.S
(surface speed) commands in the G96 mode are assumed as S = 0 (the
surface speed is 0) until M03 (rotating the spindle in the positive
direction) or M04 (rotating the spindle in the negative direction) appears
in the program.
</p>
<p>The spindle speed (rpm) almost coin-
cides with the surface speed (m/min)
at approx. 160 mm (radius).
</p>
<p>Radius of work
</p>
<p>0   20   40   60  80  100  120 140 160 180 200 220 240 260  280  300
</p>
<p>(n)
</p>
<p>3000
</p>
<p>2800
</p>
<p>2600
</p>
<p>2400
</p>
<p>2200
</p>
<p>2000
</p>
<p>1800
</p>
<p>1600
</p>
<p>1400
</p>
<p>1200
</p>
<p>1000
</p>
<p>800
</p>
<p>600
</p>
<p>400
</p>
<p>200
</p>
<p>0 
</p>
<p>Spindle speed (rpm)
</p>
<p>ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½
ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½
</p>
<p>	 ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
ï¿½
</p>
<p>Fig. 9.3 (a)  Relation between workpiece radius, spindle speed 
and surface speed
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Constant surface speed
control command (G96)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
9. SPINDLE SPEED FUNCTION 
</p>
<p>(S FUNCTION)
</p>
<p>104
</p>
<p>To execute the constant surface speed control, it is necessary to set the
work coordinate system , and so the coordinate value at the center of the
rotary axis, for example, Z axis, (axis to which the constant surface speed
control applies) becomes zero.
</p>
<p>X
</p>
<p>Z
</p>
<p>0
</p>
<p>Fig. 9.3 (b)  Example of the workpiece coordinate system for
constant surface speed control
</p>
<p>G96 mode G97 mode
</p>
<p>Specify the surface speed in m/min 
(or feet/min)
</p>
<p>G97 command
</p>
<p>Store the surface speed in m/min 
(or feet/min)
</p>
<p>Command for
the spindle
speed
</p>
<p>Specified
</p>
<p>The specified
spindle speed
(rpm) is used
</p>
<p>Not specified
</p>
<p>The surface speed (m/min or
feet/min) is converted to the
spindle speed (rpm)
</p>
<p>G96 command
</p>
<p>The specified
surface
speed is used
</p>
<p>Command
for the surface
</p>
<p>speed
</p>
<p>The stored surface speed (m/min or
feet/min) is used.  If no surface speed is
stored, 0 is assumed.
</p>
<p>Specified
</p>
<p>Not specified
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½ ï¿½	ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½&#13; ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Surface speed specified
in the G96 mode
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
9. SPINDLE SPEED FUNCTION
</p>
<p> (S FUNCTION)PROGRAMMING
</p>
<p>105
</p>
<p>The constant surface speed control is also effective during threading.
Accordingly, it is recommended that the constant surface speed control
be invalidated with G97 command before starting the scroll threading and
taper threading, because the response problem in the servo system may
not be considered when the spindle speed changes.
</p>
<p>In a rapid traverse block specified by G00, the constant surface speed
control is not made by calculating the surface speed to a transient change
of the tool position, but is made by calculating the surface speed based on
the position at the end point of the rapid traverse block, on the condition
that cutting is not executed at rapid traverse.
</p>
<p>ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Constant surface speed
control for threading
</p>
<p>ï¿½ Constant surface speed
control for rapid traverse
(G00)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0810. TOOL FUNCTION (T FUNCTION)
</p>
<p>106
</p>
<p>10 TOOL FUNCTION (T FUNCTION)
Two tool functions are available. One is the tool selection function, and
the other is the tool life management function.
</p>
<p>General
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 10. TOOL FUNCTION (T FUNCTION)PROGRAMMING
</p>
<p>107
</p>
<p>By specifying two or four&ndash;digit numerical value following address T,
tools can be selected on the machine.
One T code can be commanded in a block.  Refer to the machine tool
builder&rsquo;s manual for the number of digits commandable with address T
and the correspondence between the T codes and machine operations.
When a move command and a T code are specified in the same block, the
commands  are executed in one of the following two ways:  
</p>
<p>(i) Simultaneous execution of the move command and T function
commands.
</p>
<p>(ii)Executing T function commands upon completion of move command
execution.
The selection of either (i) or (ii) depends on the machine tool builder&rsquo;s
specifications.  Refer to the manual issued by the machine tool builder
for details.
</p>
<p>10.1
TOOL SELECTION
FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0810. TOOL FUNCTION (T FUNCTION)
</p>
<p>108
</p>
<p>Tools are classified into various groups, with the tool life (time or
frequency of use) for each group being specified.  The function of
accumulating the tool  life of each group in use and selecting and using
the next tool previously  sequenced in the same group, is called the tool
life management function.
</p>
<p>Tool group number m
</p>
<p>Tool life
value
</p>
<p>Tool 
number
</p>
<p>Code specifying
tool compensa-
tion value
</p>
<p>1
</p>
<p>n
</p>
<p>The first tool life 
management data
</p>
<p>The nth tool life 
management data
</p>
<p>Fig. 10.2(a)  Tool life management data (number of n tools)
</p>
<p>By choosing a tool from a tool group specified by a machining program,
the tool life can be managed.
</p>
<p>Tool life management data
</p>
<p>Tool group number 1
</p>
<p>Command for selecting
tool group m
</p>
<p>Tool change command
(M06)
</p>
<p>Machining program
</p>
<p>Machine CNC
</p>
<p>Tool 
selection
</p>
<p>Machine and CNC operations
</p>
<p>Tool group number m
</p>
<p>Tool group number p
</p>
<p>Places a se-
lected tool in
the wait state
</p>
<p>Attaches the
tool in the wait
state to 
the spindle
(tool change).
</p>
<p>Automatically selects, from
tool group m, a tool whose
life has not expired.
</p>
<p>Starts counting the life of
the tool attached to the
spindle.l
</p>
<p>Fig. 10.2(b)  Tool Selection by machining program
</p>
<p>10.2
TOOL LIFE
MANAGEMENT
FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 10. TOOL FUNCTION (T FUNCTION)PROGRAMMING
</p>
<p>109
</p>
<p>Tool life management data consists of tool group numbers, tool numbers,
codes specifying tool compensation values, and tool life value.
</p>
<p>The Max. number of groups and the number of tools per group that can
be registered are set by parameter (No. 039#0, #1) (Table 10.2.1).
</p>
<p>Table 10.2.1  The max. number of groups and tools
that can be registered
</p>
<p>The Max. number of groups and 
tools without optional function
</p>
<p> of 512 tool pairs
</p>
<p>The Max. number of groups 
and tools with optional function 
</p>
<p>of 512 tool pairs
</p>
<p>Number of
group
</p>
<p>Number of tool Number of
group
</p>
<p>Number of tool
</p>
<p>16 16 64 32
</p>
<p>32 8 128 16
</p>
<p>64 4 256 8
</p>
<p>128 2 512 4
</p>
<p>NOTE
When bits 0 or 1 of parameter 039 is changed, re&ndash;register
tool life management data with the G10L3 command (for
registering and deleting data for all groups). Otherwise, new
data pairs cannot be set.
</p>
<p>Specify a two or four&ndash;digit number after T.
</p>
<p>Codes specifying tool offset values are classified into H codes (for tool
length offset) and D codes (cutter compensation).  The maximum code
numbers that can be registered to specify a tool offset value are 200.  Code
number 99, however, cannot be used.
</p>
<p>NOTE
When codes specifying tool offset values are not used,
registration can be omitted.
</p>
<p>Refer to subsections 10.2.2 and 10.2.4.
</p>
<p>10.2.1
Tool Life Management
Data
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Tool group number
</p>
<p>ï¿½ Tool number
</p>
<p>ï¿½ Code specifying tool
compensation value
</p>
<p>ï¿½ Tool life value
ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0810. TOOL FUNCTION (T FUNCTION)
</p>
<p>110
</p>
<p>In a program, tool life management data can be registered in the CNC unit,
and registered tool life management data can be changed or deleted.
</p>
<p>After all registered tool life management data is deleted, programmed tool
life management data is registered.
</p>
<p>Programmed tool life management data for a group can be deleted.
(MDI operation)
</p>
<p>Tool life counters can be preset for each group.  (MDI operation)
</p>
<p>Whether tool life is to be indicated by time (minutes) or by frequency, it
is set by a parameter (No. 039 #2) .
Maximum value of tool life is as follows.
</p>
<p>In case of minute :4300(minutes)
In case of frequency :9999(times)
</p>
<p>G10L3 ;
P_L_ ;
T_H_D_ ;
T_H_D_ ;
</p>
<p>P_L_ ;
T_H_D_ ;
T_H_D_ ;
</p>
<p>G11 ;
M02  (M30) ;
</p>
<p>G10L3 : Register with deleting all groups
P_ : Group number
L_ : Life value
T_ : Tool number
H_ : Code specifying tool offset value 
</p>
<p> (H code)
D_ : Code specifying tool offset value 
</p>
<p> (D code)
G11 : End of registration
</p>
<p>Meaning of commandFormat
ï¿½ Register with deleting all
</p>
<p>groups
</p>
<p>10.2.2
Register, Change and
Delete of Tool Life
Management Data
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Register with deleting 
all groups
</p>
<p>ï¿½ Deletion of tool life
management data
</p>
<p>ï¿½ Register of tool life count
type
</p>
<p>ï¿½ Life value
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 10. TOOL FUNCTION (T FUNCTION)PROGRAMMING
</p>
<p>111
</p>
<p>The following command is used for tool life management:
</p>
<p>T&nabla;&nabla;&nabla;&nabla;  ; Specifies a tool group number.
The tool life management function selects, from a
specified group, a tool whose life has not expired, and
outputs its T code.  In&nabla;&nabla;&nabla;&nabla; , specify a number
calculated by adding the tool life management cancel
number specified in parameter 599 to a group number.
For example, to set tool group 1 when the tool life
management cancel number is 100, specify T101;.
</p>
<p>NOTE
When &nabla;&nabla;&nabla;&nabla;  is less than a tool life management cancel
number, the T code is treated as an ordinary T code.
</p>
<p>M06; Terminates life management for the previously
usedtools, and begins counting the life of the new
tools selected with the T code.
</p>
<p>WARNING
When an option for speciofying multiple M codes is
selected, specify this code by itself or as the first M code.
</p>
<p>H99; Selects the H code of tool life management data for
the tool currently being used.
</p>
<p>H00; Cancels tool length offset
</p>
<p>D99; Selects the D code of tool life management data for
the tool currently being used.
</p>
<p>D00; Cancels cutter compensation
</p>
<p>WARNING
H99 or D99 must be specified after the M06 command.
When a code other than H99 or D99 is specified after the
M06 command, the H code and D code of tool life
management data are not selected.
</p>
<p>10.2.3
Tool Life Management
Command in a
Machining Program
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Command
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0810. TOOL FUNCTION (T FUNCTION)
</p>
<p>112
</p>
<p>For tool life management, the four tool change types indicated below are
available. The type used varies from one machine to another.  For details,
refer to the appropriate manual of each machinde tool builder.
</p>
<p>Table 10.2.3 Tool change type
</p>
<p>Tool change
type A B C D
</p>
<p>Tool group
number spe-
cified in the
same block
as the tool
change com-
mand (M06)
</p>
<p>Previously
used tools
</p>
<p>Tools to be used next
</p>
<p>Tool life count
timing
</p>
<p>Life counting is performed for a tool in the speci-
fied tool group when M06 is specified next.
</p>
<p>Life counting
is performed
when a tool in
the tool group
specified in
the same
block as M06
is specified.
</p>
<p>Remarks
</p>
<p>Normally, when a tool group
number is specified by itself,
type B is used. However, no
alarm is raised even if the tool
group number is specified by
itself as type C.
</p>
<p>Parameter
039#7=0
041#7=0
</p>
<p>039#7=1
041#7=0
</p>
<p>041#7=1
</p>
<p>NOTE
When a tool group number is specified and a new tool is
selected, the new tool selection signal is output.
</p>
<p>Suppose that the tool life management cancel number is 100.
</p>
<p>T101; A tool whose life has not expired is selected from group 1.
(Suppose that tool number 010 is selected.)
</p>
<p>M06; Tool life counting is performed for the tool in group 1.
(The life of tool number 010 is counted.)
</p>
<p>T102; A tool whose life has not expired is selected from group 2.
(Suppose that tool number 100 is selected.)
</p>
<p>M06T101;Tool life counting is performed for the tool in group 2.
(The life of tool number 100 is counted.)
The number of the tool currently used (in group 1) is
</p>
<p> output with a T code signal. (Tool number 010 is output.)
</p>
<p>ï¿½ Types
</p>
<p>Examples
</p>
<p>ï¿½ Tool change type A
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 10. TOOL FUNCTION (T FUNCTION)PROGRAMMING
</p>
<p>113
</p>
<p>Suppose that the tool life management ignore number is 100.
</p>
<p>T101; A tool whose life has not expired is selected from group 1.
(Suppose that tool number 010 is selected.)  Note)
</p>
<p>M06T102;Tool life counting is performed for the tool in group 1.
(The life of tool number 010 is counted.)
A tool whose life has not expired is selected from group 2.
(Suppose that toolnumber 100 is selected.
</p>
<p>M06T103;Tool life counting is lperformed for the tool in group 2.
(The life of tool number 100 is counted.)
A tool whose life has not expired is selected from group 3.
(Suppose that tool number 200 is selected.)
</p>
<p>NOTE
Specify M06T101; for tool change method C.
</p>
<p>Suppose that the tool life management ignore number is 100.
T101M06;A tool whose life has not expired is selected from group 1. 
</p>
<p>(Suppose that tool number 010 is selected.)
Tool life counting is performed for the tool in group 1.
</p>
<p>T102M06;A tool whose life has not expired is selected from group 2.
(Suppose that tool number 100 is selected.)
Tool life counting is performed for the tool in group 2.
(The life of tool number 100 is counted.) 
</p>
<p>ï¿½ Tool change type B 
and C
</p>
<p>ï¿½ Tool change type D
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0810. TOOL FUNCTION (T FUNCTION)
</p>
<p>114
</p>
<p>The life of a tool is specified by a usage frequency (count) or usage time
(in minutes).
</p>
<p>The usage count is incremented by 1 for each tool used in a program. In
other words, the usage count is incremented by 1 only when the first tool
group number and tool change command are specified after the CNC unit
enters the automatic operation state from the reset state.
</p>
<p>CAUTION
Even if the same tool group number is specified more than
once in a program, the usage count is only incremented by
1 and no new tools are selected.
</p>
<p>When a tool change is specified (M06), tool life management is started
for the tools specified by the tool group number. In tool life management,
the time during which a tool is used in the cutting mode is counted in four
second increments., If the tool group is changed before the incremental
time of four seconds elapses, the time is not counted. The time a tool is
used for single block stop, feed hold, rapid traverse, dwell, machine lock,
and interlock is not counted.
</p>
<p>NOTE
1 When a tool is selected from available tools, tools are
</p>
<p>searched starting from the current tool towards the lasttool
to find a tool whose life has not expired.
</p>
<p>2 When tool life counting indicates that the life of the last tool
in a group has expired, the tool change signal is output.
When tool life is managed by time, the signal is output when
the life of the last tool in the group has expired. When tool
life is managed by usage frequency (count), the signal is
output when the CNC unit is reset or the tool life count
restart M code is specified.
</p>
<p>10.2.4
Tool Life
</p>
<p>Explanations
</p>
<p>ï¿½ Usage count
</p>
<p>ï¿½ Usage time
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. AUXILIARY FUNCTIONPROGRAMMING
</p>
<p>115
</p>
<p>11 ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½	&#13; ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½ï¿½
There are two types of auxiliary functions ; miscellaneous function (M
code) for specifying spindle start, spindle stop program end, and so on,
and secondary auxiliary function (B code) for specifying index table
positioning.
When a move command and miscellaneous  function are specified in the
same block, the commands are executed in one of the following two ways:
</p>
<p>i) Simultaneous execution of the move command and miscellaneous
function commands.
</p>
<p>ii) Executing miscellaneous function commands upon completion of
move command execution.
</p>
<p>The selection of either sequence depends on the machine tool builder&rsquo;s
specification.  Refer to the manual issued by the machine tool builder for
details.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0811. AUXILIARY FUNCTION
</p>
<p>116
</p>
<p>When a three&ndash;digid numeral is specified following address M, code
signal and a strobe signal are sent to the machine. The machine uses these
signals to turn on or off its functions.
Usually, only one M code can be specified in one block. In some cases,
however, up to three M codes can be specified for some types of machine
tools.
Which M code corresponds to which machine function is determined by
the machine tool builder.
The machine processes all operations specified by M codes except those
specified by M98 or M99. Refer to the machine tool builder&rsquo;s instruction
manual for details.
</p>
<p>The following M codes have special meanings.
</p>
<p>This indicates the end of the main program
Automatic operation is stopped and the CNC unit is reset. 
This differs with the machine tool builder.
After a block specifying the end of the program  is executed,
control returns to the start of the program.
Bit 5 of parameter 019 (M02) can be used to disable M02 from returning
control to the start of the program.
</p>
<p>Automatic  operation is stopped after a block containing M00 is executed.
When the program is stopped, all existing modal information remains
unchanged.  The automatic operation can be restarted by actuating the
cycle operation.  This differs with the machine tool builder.
</p>
<p>Similarly to M00, automatic operation is stopped after a block containing
M01 is executed.  This code is only effective when the Optional Stop
switch on the machine operator&rsquo;s panel has been pressed.
</p>
<p>This code is used to call a subprogram. The code and strobe signals are
 not sent.  See the subprogram section 13.3 for details . 
</p>
<p>This code indicates the end of a subprogram.  
M99 execution returns control to the main program.  See the subprogram
section 12.3 for details. 
</p>
<p>This code is used to call a file on the floppy cassette as a subprogram.
</p>
<p>NOTE
The block following M00, M01, M02 and M30, is not read
into the input buffer register, if present.  Similarly, two M
codes which do not buffer can be set by parameters (Nos.
111 to 112).  Refer to the machine tool builder&rsquo;s instruction
manual for these M codes.
</p>
<p>11.1
AUXILIARY
FUNCTION 
(M FUNCTION)
</p>
<p>Explanations
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½	
</p>
<p>ï¿½&#13;ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ ï¿½ï¿½

</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½)
</p>
<p>ï¿½ ï¿½ï¿½ï¿½
</p>
<p>ï¿½&#13;ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ M198 
(subprogram calling)ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. AUXILIARY FUNCTIONPROGRAMMING
</p>
<p>117
</p>
<p>So far, one block has been able to contain only one M code.  However, this
function allows up to three M codes to be contained in one block.
Up to three M codes specified in a block are simultaneously output to the
machine.  This means that compared with the conventional method of a
single M command in a single block, a shorter cycle time can be realized
in machining.  To use this function, set bit 7 of parameter No. 065 to 1.
</p>
<p>CNC allows up to three M codes to be specified in one block.  However,
some M codes cannot be specified at the same time due to mechanical
operation restrictions.  
M00, M01, M02, M30, M98, M99, or M198 must not be specified
together with another M code.
Some M codes other than M00, M01, M02, M30, M98, M99, and M198
cannot be specified together with other M codes; each of those M codes
must be specified in a single block.  
Such M codes include these which direct the CNC to perform internal
operations in addition to sending the M codes themselves to the machine.
To be specified, such M codes are M codes for calling program numbers
9001 to 9009 and M codes for disabling advance reading (buffering) of
subsequent blocks. Meanwhile, multiple of M codes that direct the CNC
only to send the M codes themselves (without performing internal
operations ) can be specified in a single block.
</p>
<p>One M command
in a single  block
</p>
<p>Multiple M commands
in a single block
</p>
<p>M40 ;
M50 ;
M60 ;
</p>
<p>G28G91X0Y0Z0 ;
:
:
:
</p>
<p>M40M50M60 ;
G28G91X0Y0Z0 ;
</p>
<p>:
:
:
:
:
</p>
<p>Indexing of the table is performed by address B and a following 3 or
6&ndash;digit number.  The relationship between B codes and the corresponding
indexing differs between machine tool builders.
Refer to the manual issued by the machine tool builder for details.
</p>
<p>When this functions is used, the B address specifying an axis movement
disabled.
</p>
<p>11.2
MULTIPLE 
M COMMANDS IN A
SINGLE BLOCK
</p>
<p>Explanations
</p>
<p>Examples
</p>
<p>11.3
THE SECOND
AUXILIARY
FUNCTIONS 
(B CODES)
</p>
<p>Restrictionsww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0812. PROGRAM CONFIGURATION
</p>
<p>118
</p>
<p>12 
ï¿½	ï¿½ï¿½ï¿½ï¿½ ï¿½	ï¿½ï¿½ï¿½ï¿½&#13;ï¿½ï¿½ï¿½ï¿½	ï¿½
</p>
<p>There are two program types, main program and subprogram.  Normally,
the CNC operates according to the main program.  However, when a
command calling a subprogram is encountered in the main program,
control is passed to the subprogram.  When a command specifying a
return to the main program is encountered in a subprogram, control is
returned to the main program.
</p>
<p>Follow the direction of the
subprogram
</p>
<p>Main program Subprogram
</p>
<p>Instruction 1
</p>
<p>Instruction 2
</p>
<p>Instruction n
</p>
<p>Instruction 1&prime;
</p>
<p>Instruction 2&prime;
</p>
<p>Instruction n+1
</p>
<p>Return to the main program
</p>
<p>Fig. 12 (a)  Main program and subprogram
</p>
<p>The CNC memory can hold up to 200 main programs and subprograms
(63 as standard).  A main program can be selected from the stored main
programs to operate the machine. See Chapter 10 in OPERATION for the
methods of registering and selecting programs.
</p>
<p>General
</p>
<p>ï¿½ Main program and
subprogram
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. PROGRAM CONFIGURATIONPROGRAMMING
</p>
<p>119
</p>
<p>A program consists of the following components:
</p>
<p>Table 12  Program components
</p>
<p>Components Descriptions
</p>
<p>Tape start Symbol indicating the start of a program file
</p>
<p>Leader section Used for the title of a program file, etc.
</p>
<p>Program start Symbol indicating the start of a program
</p>
<p>Program section Commands for machining
</p>
<p>Comment section Comments or directions for the operator
</p>
<p>Tape end Symbol indicating the end of a program file
</p>
<p>Tape start % TITLE ;
</p>
<p>O0001 ;
</p>
<p>M30 ;
</p>
<p>%
</p>
<p>(COMMENT)Program section
</p>
<p>Leader section
</p>
<p>Program start
</p>
<p>Comment section
</p>
<p>Tape end
</p>
<p>Fig. 12 (b)  Program configuration
</p>
<p>A program section consists of several blocks.  A program section starts
with a program number and ends with a program end code.
</p>
<p>Program section Program section 
configuration
Program number O0001 ;
Block 1 N1 G91 G00 X120.0 Y80.0 ;
Block 2 N2 G43 Z&ndash;32.0 H01 ;
</p>
<p>: :
Block n Nn M20 ;
Program end M30 ;
</p>
<p>A block contains information necessary for machining, such as a move
command or coolant on/off command.Specifying a value following a
slash (/) at the start of a block disables the execution of some blocks (see
&ldquo;optional block skip&rdquo; in Section 12.2).
</p>
<p>ï¿½ Program components
</p>
<p>ï¿½ Program section
configuration
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0812. PROGRAM CONFIGURATION
</p>
<p>120
</p>
<p>This section describes program components other than program sections.
See Section 12.2 for a program section.
</p>
<p>% TITLE ;
</p>
<p>O0001 ;
</p>
<p>M30 ;
</p>
<p>%
</p>
<p>(COMMENT)
</p>
<p>Tape start
</p>
<p>Program section
</p>
<p>Leader section
</p>
<p>Program start
</p>
<p>Comment section
</p>
<p>Tape end
</p>
<p>Fig. 12.1   Program configuration
</p>
<p>The tape start indicates the start of a file that contains NC programs.
The mark is not required when programs are entered using SYSTEM P
or ordinary personal computers. The mark is not displayed on the CRT
display screen.  However, if the file is output,the mark is automatically
output at the start of the file.
</p>
<p>Table 12.1(a)  Code of a tape start
</p>
<p>Name ISOcode
EIA
</p>
<p>code Notation in this manual
</p>
<p>Tape start % ER %
</p>
<p>Data entered before the programs in a file constitutes a leader section. 
When machining is started, the label skip state is usually set by turning
on the power or resetting the system.  In the label skip state, all
information is ignored until the first end&ndash;of&ndash;block code is read.  When a
file is read into the CNC unit from an I/O device, leader sections are
skipped by the label skip function.
A leader section generally contains information such as a file header.
When a leader section is skipped, even a TV check is not made. So a leader
section can contain any codes except the EOB code.
</p>
<p>The program start code is to be entered immediately after a leader section,
that is, immediately before a program section. This code indicates the start
of a program, and is always required to disable the label skip function.
</p>
<p>Table 12.1(b) Code of a program start
</p>
<p>Name ISOcode
EIA
</p>
<p>code Notation in this manual
</p>
<p>Program start LF CR ;
</p>
<p>12.1
PROGRAM
COMPONENTS
OTHER THAN
PROGRAM
SECTIONS
</p>
<p>Explanations
</p>
<p>ï¿½ Tape start
</p>
<p>ï¿½ Leader section
</p>
<p>ï¿½ Program startww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. PROGRAM CONFIGURATIONPROGRAMMING
</p>
<p>121
</p>
<p>NOTE
If one file contains multiple programs, the EOB code for
label skip operation must not appear before a second or
subsequent program number.  However, an program start
is required at the start of a program if the preceding program
ends with %.
</p>
<p>Any information enclosed by the control&ndash;out and control&ndash;in codes is
regarded as a comment.The user can enter a header, comments, directions
to the operator, etc.  There is no limit on the length of a comment section.
</p>
<p>Table 12.1 (c)  Codes of a control&ndash;in and a control&ndash;out
</p>
<p>Name ISOcode
EIA
</p>
<p>code
Notation in this
</p>
<p>manual Meaning
</p>
<p>Control&ndash;out ( 2&ndash;4&ndash;5 ( Start of comment section
</p>
<p>Control&ndash;in ) 2&ndash;4&ndash;7 ) End of comment section
</p>
<p>When a command tape is read into memory for memory operation,
comment sections, if any, are not ignored but are also read into memory.
Note, however, that codes other than those listed in the code table in
Appendix 9 are ignored, and thus are not read into memory.  When data
in memory is punched out on paper tape with the punch function, the
comment sections are also punched out.
When a program is displayed on the screen, its comment sections are also
displayed.  However, those codes that were ignored when read into
memory are not punched out or displayed.
During memory operation, all comment sections are ignored.
The TV check function can be used for a comment section by setting
parameter (No. 018 #6).
</p>
<p>CAUTION
If a long comment section appears in the middle of a
program section, a move along an axis may be suspended
for a long time because of such a comment section. So a
comment section should be placed where movement
suspension may occur or no movement is involved.
</p>
<p>NOTE
If only a control&ndash;in code is read with no matching
control&ndash;out code, the read control&ndash;in code is ignored.
</p>
<p>ï¿½ Comment section
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0812. PROGRAM CONFIGURATION
</p>
<p>122
</p>
<p>A tape end is to be placed at the end of a file containing NC programs.
If programs are entered using the automatic programming system, the
mark need not be entered.  When a file is output, the mark is automatically
output at the end of the file.
If an attempt is made to execute % when M02 or M03 is not placed at the
end of the program, the alarm (No. 008) is occurred.
</p>
<p>Table 12.1 (d)  Code of a tape end
</p>
<p>Name ISOcode
EIA
</p>
<p>code Notation in this manual
</p>
<p>Tape end % ER %
</p>
<p>ï¿½ Tape end
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. PROGRAM CONFIGURATIONPROGRAMMING
</p>
<p>123
</p>
<p>This section describes elements of a program section.  See Section 12.1
for program components other than program sections.
</p>
<p>%
</p>
<p>(COMMENT)
</p>
<p>% TITLE ;
</p>
<p>O0001 ;
N1 &hellip; ;
</p>
<p>M30 ;
</p>
<p>Program section Comment section
</p>
<p>Program number
</p>
<p>Sequence number
</p>
<p>Program end
</p>
<p>Fig. 12.2 (a)  Program configuration
</p>
<p>A program number consisting of address O followed by a four&ndash;digit
number is assigned to each program at the beginning registered in
memory to identify the program.
In ISO code, the colon ( : ) can be used instead of O.
When no program number is specified at the start of a program, the
sequence number (N....) at the start of the program is regarded as its
program number.  Note, however, that N0 cannot be used for a program
number. 
If there is no program number or sequence number at the start of a
program, a program number must be specified using the CRT/MDI panel
when the program is stored in memory (See Section 9.3 in Part III.). 
</p>
<p>NOTE
Program numbers 8000 to 9999 may be used by machine
tool builders, and the user may not be able to use these
numbers.
</p>
<p>12.2
PROGRAM SECTION
CONFIGURATION
</p>
<p>ï¿½ Program number
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0812. PROGRAM CONFIGURATION
</p>
<p>124
</p>
<p>A program consists of several commands. One command unit is called a
block. One block is separated from another with an EOB of end of block
code.
</p>
<p>Table 12.2 (a)  EOB code
</p>
<p>Name ISOcode
EIA
</p>
<p>code Notation in this manual
</p>
<p>End of block (EOB) LF CR ;
</p>
<p>At the head of a block, a sequence number consisting of address N
followed by a number not longer than four digits (1 to 9999) can be placed.
Sequence numbers can be specified in a random order, and any numbers
can be skipped.  Sequence numbers may be specified for all blocks or only
for desired blocks of the program.  In general, however, it is convenient
to assign sequence numbers in ascending order in phase with the
machining steps (for example, when a new tool is used by tool
replacement, and machining proceeds to a new surface with table
indexing.)
</p>
<p>N300 X200.0 Z300.0 ; A sequence number is underlined.
</p>
<p>Fig. 12.2 (b)  Sequence number and block (example)
</p>
<p>NOTE
N0 must not be used for the reason of file compatibility with
other CNC systems.
Program number 0 cannot be used.  So 0 must not be used
for a sequence number regarded as a program number.
</p>
<p>A parity check is made for a block on input tape horizontally. If the
number of characters in one block (starting with the code immediately
after an EOB and ending with the next EOB) is odd, an alarm (No.002)
is output.  No TV check is made only for those parts that are skipped by
the label skip function.  A comment section enclosed in parentheses is also
subject to TV check to count the number of characters.  The TV check
function can be enabled or disabled by setting on the MDI unit (See
Subsec. 11.5.3 in Part III.).
</p>
<p>ï¿½ Sequence number and
block
</p>
<p>ï¿½ TV check (Vertical parity
check along tape)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. PROGRAM CONFIGURATIONPROGRAMMING
</p>
<p>125
</p>
<p>A block consists of one or more words.  A word consists of an address
followed by a number some digits long. (The plus sign (+) or minus sign
(&ndash;) may be prefixed to a number.)
Word = Address + number (Example : X&ndash;1000)
For an address, one of the letters (A to Z) is used ; an address defines the
meaning of a number that follows the address.  Table 12.2 (b) indicates
the usable addresses and their meanings.
The same address may have different meanings, depending on the
preparatory function specification.
</p>
<p>Table 12.2(b)  Major functions and addresses
</p>
<p>Function Address Meaning
</p>
<p>Program number O (1) Program number
</p>
<p>Sequence number N Sequence number
</p>
<p>Preparatory function G Specifies a motion mode (linear, arc,
etc.)
</p>
<p>Dimension word X, Y, Z, U, V,
W, A, B, C
</p>
<p>Coordinate axis move command
</p>
<p>I, J, K Coordinate of the arc center
</p>
<p>R Arc radius
</p>
<p>Feed function F Rate of feed per minute, 
Rate of feed per revolution
</p>
<p>Spindle speed function S Spindle speed
</p>
<p>Tool function T Tool number
</p>
<p>Auxiliary function M On/off control on the machine tool
</p>
<p>B Table indexing, etc.
</p>
<p>Offset number D, H Offset number
</p>
<p>Dwell P, X Dwell time
</p>
<p>Program number 
designation
</p>
<p>P Subprogram number
</p>
<p>Number of 
repetitions
</p>
<p>P Number of subprogram repetitions
</p>
<p>Parameter P, Q Canned cycle parameter
</p>
<p>NOTE
In ISO code, the colon ( : ) can also be used as the address
of a program number.
</p>
<p>N_ G_ X_    Y_ F_ S_ T_ M_ ;
</p>
<p>Sequence
number
</p>
<p>Preparatory
function
</p>
<p>Dimension
word
</p>
<p>Feed&ndash;
function
</p>
<p>Spindle
speed
function
</p>
<p>Tool
function
</p>
<p>Miscellaneous
function
</p>
<p>Fig. 12.2 (c)  1 block (example)
</p>
<p>ï¿½ Block configuration
(word and address)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0812. PROGRAM CONFIGURATION
</p>
<p>126
</p>
<p>Major addresses and the ranges of values specified for the addresses are
shown below. Note that these figures represent limits on the CNC side,
which are totally different from limits on the machine tool side. For
example, the CNC allows a tool to traverse up to about 100 m (in
millimeter input) along the X axis.
However, an actual stroke along the X axis may be limited to 2 m for a
specific machine tool. 
Similarly, the CNC may be able to control a cutting federate of up to 100
m/min, but the machine tool may not allow more than 3 m/min. When
developing a program, the user should carefully read the manuals of the
machine tool as well as this manual to be familiar with the restrictions on
programming.
</p>
<p>Table 12.2(c)  Major addresses and ranges of command values
</p>
<p>Function Address Input in mm Input in inch
</p>
<p>Program number O (1) 1&ndash;9999 1&ndash;9999
</p>
<p>Sequence number N 1&ndash;9999 1&ndash;9999
</p>
<p>Preparatory function G 0&ndash;255 0&ndash;255
</p>
<p>Dimen-
sion 
word
</p>
<p>Increment
system IS&ndash;B
</p>
<p>X, Y, Z, U,
V, W, A,
B C I J
</p>
<p>ï¿½99999.999mm ï¿½9999.9999inch
</p>
<p>word
Increment
system IS&ndash;C
</p>
<p>B, C, I, J,
K, R, ï¿½9999.9999mm ï¿½999.99999inch
</p>
<p>Feed 
per 
minute
</p>
<p>Increment
system IS&ndash;B
</p>
<p>F 1&ndash;100000mm/min 0.01&ndash;4000
inch/min
</p>
<p>minute
Increment
system IS&ndash;C
</p>
<p>1&ndash;24000mm/min 0.01&ndash;480.00
inch/min
</p>
<p>Feed per revolution F 0.01&ndash;500.00
mm/rev
</p>
<p>0.0001&ndash;9.9999
inch/rev
</p>
<p>Spindle speed function S 0&ndash;20000 0&ndash;20000
</p>
<p>Tool function T 0&ndash;9999 0&ndash;9999
</p>
<p>Auxiliary function M 0&ndash;999 0&ndash;9999
</p>
<p>B 0&ndash;999999 0&ndash;999999
</p>
<p>Offset number H, D 0&ndash;200 0&ndash;200
</p>
<p>Dwell Increment
system IS&ndash;B
</p>
<p>X, P 0&ndash;99999.999s 0&ndash;99999.999s
</p>
<p>Increment
system IS&ndash;C
</p>
<p>0&ndash;9999.9999s 0&ndash;9999.9999s
</p>
<p>Designation of a
program number
</p>
<p>P 1&ndash;9999 1&ndash;9999
</p>
<p>Number of repetitions P 1&ndash;999 1&ndash;999
</p>
<p>ï¿½ Major addresses and
ranges of command
values
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. PROGRAM CONFIGURATIONPROGRAMMING
</p>
<p>127
</p>
<p>When a slash followed by a number (/n (n=1 to 9)) is specified at the head
of a block, and optional block skip switch n on the machine operator panel
is set to on, the information contained in the block for which /n
corresponding to switch number n is specified is ignored in tape operation
or memory operation.
When optional block skip switch n is set to off, the information contained
in the block for which /n is specified is valid. This means that the operator
can determine whether to skip the block containing /n.
Number 1 for /1 can be omitted.  However, when two or more optional
block skip switches are used for one block, number 1 for /1 cannot be
omitted.
Example)
</p>
<p>(Incorrect) (Correct)
//3 G00X10.0; /1/3 G00X10.0;
</p>
<p>This function is ignored when programs are loaded into memory. Blocks
containing /n are also stored in memory, regardless of how the optional
block skip switch is set.
Programs held in memory can be output, regardless of how the optional
block skip switches are set.
Optional block skip is effective even during sequence number search
operation.
Depending on the machine tool, all optional block skip switches (1 to 9)
may not be usable. Refer to manuals of the machine tool builder to find
which switches are usable.
</p>
<p>WARNING
1 Position of a slash
</p>
<p>A slash (/) must be specified at the head of a block. If a slash
is placed elsewhere, the information from the slash to
immediately before the EOB code is ignored.
</p>
<p>2 Disabling an optional block skip switch
Optional block skip operation is processed when blocks are
read from memory or tape into a buffer. Even if a switch is
set to on after blocks are read into a buffer, the blocks
already read are not ignored.
</p>
<p>NOTE
TV and TH check
When an optional block skip switch is on. TH and TV checks
are made for the skipped portions in the same way as when
the optional block skip switch is off.
</p>
<p>ï¿½ Optional block skip
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0812. PROGRAM CONFIGURATION
</p>
<p>128
</p>
<p>The end of a program is indicated by commanding one of the following
codes at the end of the program:
</p>
<p>Table 12.2 (d)  Code of a program end
</p>
<p>Code Meaning usage
</p>
<p>M02
For main program
</p>
<p>M30
For main rogram
</p>
<p>M99 For subprogram
</p>
<p>If one of the program end codes is executed in program execution, the
CNC terminates the execution of the program, and the reset state is set.
When the subprogram end code is executed, control returns to the
program that called the subprogram.
</p>
<p>NOTE
A block containing an optional block skip code such as /M02
; , /M30 ; , or /M99 ; is not regarded as the end of a program,
if the optional block skip switch on the machine operator&rsquo;s
panel is set to on.
(See item &ldquo;ï¿½ Optional block skip&rdquo;.)
</p>
<p>ï¿½ Program end
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. PROGRAM CONFIGURATIONPROGRAMMING
</p>
<p>129
</p>
<p>If a program contains a fixed sequence or frequently repeated pattern, such
a sequence or pattern can be stored as a subprogram in memory to simplify
the program.
A subprogram can be called from the main program. 
A called subprogram can also call another subprogram.
</p>
<p>O ï¿½ï¿½ï¿½ï¿½ ;
</p>
<p>M99 ;
</p>
<p>Subprogram number
(or the colon (:) optionally in the case of ISO)
</p>
<p>Program end
</p>
<p>One subprogram
</p>
<p>M99 need not constitute a separate block as indicated below.
</p>
<p>Example) X100.0 Y100.0 M99 ;
</p>
<p>M98 P ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ ;
&uarr;
</p>
<p>Subprogram number
&uarr;
</p>
<p>Number of times the
subprogram is called
repeatedly
</p>
<p>When no repetition data is specified, the subprogram is called just once.
</p>
<p>When the main program calls a subprogram, it is regarded as a one&ndash;level
subprogram call. Thus, subprogram calls can be nested up to two levels
as shown below.
</p>
<p>O0001 ;
</p>
<p>M98P1000 ;
</p>
<p>M30 ;
</p>
<p>Main program
</p>
<p>O1000 ;
</p>
<p>M98P2000 ;
</p>
<p>M99 ;
</p>
<p>O2000 ;
</p>
<p>M99 ;
</p>
<p>Subprogram
</p>
<p>(One&ndash;level nesting) (Two&ndash;level nesting)
</p>
<p>Subprogram
</p>
<p>A single call command can repeatedly call a subprogram up to 999 times.
For compatibility with automatic programming systems, in the first
block, Nxxxx can be used instead of a subprogram number that follows
O (or :).  A sequence number after N is registered as a subprogram number.
</p>
<p>12.3
SUBPROGRAM
</p>
<p>Format
</p>
<p>ï¿½ Subprogram
configuration
</p>
<p>ï¿½ Subprogram call
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0812. PROGRAM CONFIGURATION
</p>
<p>130
</p>
<p>See Chapter 10 in Part III for the method of registering a subprogram.
</p>
<p>NOTE
1 The M98 and M99 signals are not output to the machine
</p>
<p>tool.
2 If the subprogram number specified by address P cannot be
</p>
<p>found, an alarm (No. 078) is output.
</p>
<p>ï¿½M98 P51002 ;
</p>
<p>ï¿½X1000.0 M98 P1200 ;
</p>
<p>ï¿½Execution sequence of subprograms called from a main pro-
gram
</p>
<p>A subprogram can call another subprogram in the same way
as a main program calls a subprogram.
</p>
<p>This command specifies &ldquo;Call the subprogram (number
1002) five times in succession.&rdquo; A subprogram call com-
mand (M98P_) can be specified in the same block as a
move command.
</p>
<p>This example calls the subprogram (number 1200) after an X
movement.
</p>
<p>1 2 3
Main program
</p>
<p>N0010 0 ;
N0020 0 ;
N0030 M98 P21010 ;
</p>
<p>N0040 0 ;
N0050 M98 P1010 ;
</p>
<p>N0060 0 ;
</p>
<p>Subprogram
</p>
<p>O1010 0 ;
N1020 0 ;
N1030 0 ;
N1040 0 ;
N1050 0 ;
N1060 0 M99 ;
</p>
<p>If P is used to specify a sequence number when a subprogram is
terminated, control does not return to the block after the calling block, but
returns to the block with the sequence number specified by P.  Note,
however, that P is ignored if the main program is operating in a mode other
than memory operation mode.
This method consumes a longer time than the normal return method to
return to the main program.
</p>
<p>Subprogram
</p>
<p>O0010 &hellip; ;
N1020 &hellip; ;
N1030 &hellip; ;
N1040 &hellip; ;
N1050 &hellip; ;
N1060 M99 P0060 ;
</p>
<p>Main program
</p>
<p>N0010 &hellip; ;
N0020 &hellip; ;
N0030 M98 P1010 ;
</p>
<p>N0040 &hellip; ;
N0050 &hellip; ;
N0060 &hellip; ;
</p>
<p>Reference
</p>
<p>Examples
</p>
<p>Special Usage
</p>
<p>ï¿½ Specifying the sequence
number for the return
destination in the main
program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. PROGRAM CONFIGURATIONPROGRAMMING
</p>
<p>131
</p>
<p>If M99 is executed in a main program, control returns to the start of the
main program. For example, M99 can be executed by placing /M99 ; at
an appropriate location of the main program and setting the optional block
skip function to off when executing the main program.  When M99 is
executed, control returns to the start of the main program, then execution
is repeated starting at the head of the main program.
Execution is repeated while the optional block skip function is set to off.
If the optional block skip function is set to on, the /M99 ; block is skipped
; control is passed to the next block for continued execution.
If/M99Pn ; is specified, control returns not to the start of the main
program, but to sequence number n. In this case, a longer time is required
to return to sequence number n.
</p>
<p>N0010 &hellip; ;
N0020 &hellip; ;
N0030 &hellip; ;
N0040 &hellip; ;
N0050 &hellip; ;
N0060 M99 P0030 ;
</p>
<p>N0070 &hellip; ;
N0080 M02 ;
</p>
<p>/ Optional block skip
ON
</p>
<p>Optional block skip
OFF
</p>
<p>A subprogram can be executed just like a main program by searching for
the start of the subprogram with the MDI.
(See Section 9.4 in Part III for information about search operation.)
In this case, if a block containing M99 is executed, control returns to the
start of the subprogram for repeated execution. If a block containing
M99Pn is executed, control returns to the block with sequence number n
in the subprogram for repeated execution.  To terminate this program, a
block containing /M02 ; or /M30 ; must be placed at an appropriate
location, and the optional block skip must be set to off ; this switch is to
be set to on first.
</p>
<p>N1010 &hellip; ;
N1020 &hellip; ;
N1030 &hellip; ;
N1040 M02 ;
</p>
<p>N1050 M99 P1020 ;
</p>
<p>/ Optional block skip
ON
</p>
<p>ï¿½ Using M99 in the main
program
</p>
<p>ï¿½ Using a subprogram only
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>132
</p>
<p>13 FUNCTIONS TO SIMPLIFY PROGRAMMING
This chapter explains the following items:
</p>
<p>13.1 CANNED CYCLE
13.2 RIGID TAPPING
13.3 CANNED GRINDING CYCLE (0&ndash;GSC, 0&ndash;GSD/II)
13.4 GRINDING&ndash;WHEEL WEAR COMPENSATION BY 
</p>
<p>CONTINUOUS DRESSING (0&ndash;GSC, 0&ndash;GSD/II)
13.5 AUTOMATIC GRINDING WHEEL DIAMETER 
</p>
<p>COMPENSATION AFTER DRESSING
13.6 IN&ndash;FEED GRINDING ALONG THE Y AND Z AXES AT THE 
</p>
<p>END OF TABLE SWING (0&ndash;GSC, 0&ndash;GSD/II)
13.7 OPTIONAL ANGLE CHAMFERING AND CORNER 
</p>
<p>ROUNDING
13.8 EXTERNAL MOTION FUNCTION (G81)
13.9 SMALL&ndash;DIAMETER PECK DRILLING CYCLE
</p>
<p>General
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>133
</p>
<p>Canned cycles make it easier for the programmer to create programs.
With a canned cycle, a frequently&ndash;used machining operation can be
specified in a single block with a G function; without canned cycles,
normally more than one block is required.  In addition, the use of canned
cycles can shorten the program to save memory.
Table 13.1 (a) lists canned cycles.
</p>
<p>Table 13.1 (a)  Canned cycles
</p>
<p>G code Drilling(&ndash;Z direction) Operation at thebottom of a hole Retraction(+Z direction) Application
</p>
<p>G73 Intermittent feed &ndash; Rapid traverse High&ndash;speed peck drilling
cycle
</p>
<p>G74 Feed Dwell&rarr;Spindle CW Feed Left&ndash;hand tapping cycle
</p>
<p>G76 Feed Spindle orientation Rapid traverse Fine boring cycle
</p>
<p>G80 &ndash; &ndash; &ndash; Cancel
</p>
<p>G81 Feed &ndash; Rapid traverse Drilling cycle, spot drilling
cycle
</p>
<p>G82 Feed Dwell Rapid traverse Drilling cycle, counter boring
cycle
</p>
<p>G83 Intermittent feed &ndash; Rapid traverse Peck drilling cycle
</p>
<p>G84 Feed Dwell&rarr;Spindle
CCW
</p>
<p>Feed Tapping cycle
</p>
<p>G85 Feed &ndash; Feed Boring cycle
</p>
<p>G86 Feed Spindle stop Rapid traverse Boring cycle
</p>
<p>G87 Feed Spindle CW Rapid traverse Back boring cycle
</p>
<p>G88 Feed Dwell&rarr;spindle stop Manual Boring cycle
</p>
<p>G89 Feed Dwell Feed Boring cycle
</p>
<p>A canned cycle consists of a sequence of six operations (Fig. 13.1 (a))
</p>
<p>Operation 1 Positioning of axes X and Y
(including also another axis)
</p>
<p>Operation 2 Rapid traverse up to point R level
Operation 3 Hole machining
Operation 4 Operation at the bottom of a hole
Operation 5 Retraction to point R level
Operation 6 Rapid traverse up to the initial point
</p>
<p>13.1
CANNED CYCLE
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>134
</p>
<p>Operation 1
</p>
<p>Operation 2
</p>
<p>Operation 3
</p>
<p>Operation 4
</p>
<p>Operation 5
</p>
<p>Operation 6
</p>
<p>Rapid traverse
</p>
<p>Feed
</p>
<p>Initial level
</p>
<p>Point R level
</p>
<p>Fig. 13.1  Canned cycle operation sequence
</p>
<p>The positioning plane is determined by plane selection code G17, G18,
or G19.  
The positioning axis is an axis other than the drilling axis.
</p>
<p>Although canned cycles include tapping and boring cycles as well as
drilling cycles, in this chapter, only the term drilling will be used to refer
to operations implemented with canned cycles.
The drilling axis is a basic axis (X, Y, or Z) not used to define the
positioning plane, or any axis parallel to that basic axis.
</p>
<p>Table 13.1 (b)  Positioning plane and drilling axis
</p>
<p>G code Positioning  plane Drilling axis
</p>
<p>G17 Xp&ndash;Yp plane Z axis
</p>
<p>G18 Zp&ndash;Xp plane Y axis
</p>
<p>G19 Yp&ndash;Zp plane X axis
</p>
<p>G17 to G19 may be specified in a block in which any of G73 to G89 is
not specified.
</p>
<p>CAUTION
Switch the drilling axis after canceling a canned cycle.
</p>
<p>NOTE
A parameter (No. 057 #6) can be set to the Z axis always
used as the drilling axis.  When FXY=0, the Z axis is always
the drilling axis.
</p>
<p>ï¿½ Positioning plane
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½
ï¿½	
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>135
</p>
<p>The travel distance along the drilling axis varies for G90 and G91 as
follows:
</p>
<p>R
</p>
<p>Z
</p>
<p>G90 (Absolute Command)
</p>
<p>R
</p>
<p>Z
</p>
<p>G91 (Incremental Command)
</p>
<p>Point R
</p>
<p>Point Z
</p>
<p>Point R
</p>
<p>Point Z
</p>
<p>G73, G74, G76, and G81 to G89 are modal G codes and remain in effect
until canceled.  When in effect, the current state is the drilling mode.
Once drilling data is specified in the drilling mode, the data is retained
until modified or canceled.
Specify all necessary drilling data at the beginning of canned cycles; when
canned cycles are being performed, specify data modifications only.
</p>
<p>When the tool reaches the bottom of a hole, the tool may be returned to
point R or to the initial level.  These operations are specified with G98 and
G99.  The following illustrates how the tool moves when G98 or G99 is
specified.  Generally, G99 is used for the first drilling operation and G98
is used for the last drilling operation.
The initial level does not change even when drilling is performed in the
G99 mode.
</p>
<p>G98(Return  to initial level ) G99(Return to point R level)
</p>
<p>Initial level
</p>
<p>Point R level
</p>
<p>ï¿½ Travel distance along the
drilling axis G90/G91
</p>
<p>ï¿½ Drilling mode
</p>
<p>ï¿½ Return point level
G98/G99
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>136
</p>
<p>To repeat drilling for equally&ndash;spaced holes, specify the number of repeats
in K_. 
 K is effective only within the block where it is specified.
Specify the first hole position in incremental mode (G91).  
If it is specified in absolute mode (G90), drilling is repeated at the same
position.
</p>
<p>Number of repeats K      The maximum command value = 9999
</p>
<p>If K0 is specified, drilling data is stored, but drilling is not performed.
</p>
<p>To cancel a canned cycle, use G80 or a group 01 G code.
</p>
<p>ï¿½
ï¿½ï¿½	 ï¿½ï¿½ G ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>G00 : Positioning (rapid traverse)
G01 : Linear interpolation
G02 : Circular interpolation or helical interpolation (CW)
G03 : Circular interpolation or helical interpolation (CCW)
</p>
<p>Subsequent sections explain the individual canned cycles.  Figures in
these explanations use the following symbols:
</p>
<p>DwellP
</p>
<p>OSS
</p>
<p>Positioning (rapid traverse G00)
</p>
<p>Cutting feed (linear interpolation G01)
</p>
<p>Manual feed
</p>
<p>Shift (rapid traverse G00)
</p>
<p>Spindle orientation
(The spindle stops at a fixed rotation position)
</p>
<p>ï¿½ Repeat
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Symbols in figures
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>137
</p>
<p>This cycle performs high&ndash;speed peck drilling.  It performs intermittent
cutting feed to the bottom of a hole while removing chips from the hole.
</p>
<p>G73 (G98) G73 (G99)
</p>
<p>G73 X_ Y_ Z_ R_ Q_ F_ K_ ;
</p>
<p>X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from point R to the bottom of the hole
</p>
<p>R_ : The distance from the initial level to point R level
</p>
<p>Q_ : Depth of cut for each cutting feed
</p>
<p>F_ : Cutting feedrate
</p>
<p>K_ : Number of repeats
</p>
<p>Initial level
</p>
<p>q
</p>
<p>q
</p>
<p>q
</p>
<p>d
</p>
<p>d
</p>
<p>d
</p>
<p>d
</p>
<p>Point R Point R levelPoint R
</p>
<p>Point Z Point Z
</p>
<p>q
</p>
<p>q
</p>
<p>q
</p>
<p>13.1.1
High&ndash;speed Peck
Drilling Cycle (G73)
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>138
</p>
<p>The high&ndash;speed peck drilling cycle performs intermittent feeding along
the Z&ndash;axis.  When this cycle is used, chips can be removed from the hole
easily, and a smaller value can be set for retraction.  This allows, drilling
to be performed efficiently.  Set the clearance, d, in parameter 531.  
The tool is retracted in rapid traverse.
Before specifying G73, rotate the spindle using a miscellaneous function
(M code).
When the G73 code and an M code are specified in the same block, the
M code is executed at the time of the first positioning operation.  The
system then proceeds to the next drilling operation.
When K is used to specify the number of repeats, the M code is executed
for the first hole only; for the second and subsequent holes, the M code
is not executed.
When a tool length offset (G43, G44, or G49) is specified in the canned
cycle, the offset is applied at the time of positioning to point R.
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.
</p>
<p>In a block that does not contain X, Y, Z, R, or any other axes, drilling is
not performed.
</p>
<p>Specify Q and R in blocks that perform drilling.  If they are specified in
a block that does not perform drilling, they cannot be stored as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G73 in the same block.
If they are specified together, G73 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>M3 S2000 ; Cause the spindle to start rotating.
G90 G99 G73 X300. Y&ndash;250. Z&ndash;150. R&ndash;100. Q15. F120. ; 
</p>
<p>Position, drill hole 1, then return to point R.
Y&ndash;550. ; Position, drill hole 2, then return to point R.
Y&ndash;750. ; Position, drill hole 3, then return to point R.
X1000. ; Position, drill hole 4, then return to point R.
Y&ndash;550. ; Position, drill hole 5, then return to point R.
G98 Y&ndash;750. ; Position, drill hole 6, then return to the ini&ndash;tial level.
G80 G28 G91 X0 Y0 Z0 ; Return to the reference position return
M5 ; Cause the spindle to stop rotating.
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ Drilling
</p>
<p>ï¿½ Q/R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>139
</p>
<p>This cycle performs left&ndash;handed tapping.  In the left&ndash;handed tapping
cycle, when the bottom of the hole has been reached, the spindle rotates
clockwise.
</p>
<p>G74 (G98) G74 (G99)
</p>
<p>G74 X_ Y_ Z_ R_ P_ F_ K_ ;
</p>
<p>X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from point R to the bottom of the hole
</p>
<p>R_ : The distance from the initial level to point R level
</p>
<p>P_ : Dwell time
</p>
<p>F_ : Cutting feedrate
</p>
<p>K_ : Number of repeats
</p>
<p>P
</p>
<p>P
</p>
<p>P
</p>
<p>P
</p>
<p>Initial level
</p>
<p>Point R
</p>
<p>Point Z
</p>
<p>Spindle
CCW
</p>
<p>Spindle
CCW
</p>
<p>Point R level
</p>
<p>Spindle CW
Spindle CW
</p>
<p>Point Z
</p>
<p>Point R
</p>
<p>Tapping is performed by turning the spindle counterclockwise.  When the
bottom of the hole has been reached, the spindle is rotated clockwise for
retraction.  This creates a reverse thread.
Feedrate overrides are ignored during left&ndash;handed tapping.  A feed hold
does not stop the machine until the return operation is completed.
Before specifying G74, use a miscellaneous function (M code) to rotate
the spindle counterclockwise.
When the G74 command and an M code are specified in the same block,
the M code is executed at the time of the first positioning operation.  The
system then proceeds to the next drilling operation.
When K is used to specify the number of repeats, the M code is executed
for the first hole only; for the second and subsequent holes, the M code
is not executed.
When a tool length offset (G43, G44, or G49) is specified in the canned
cycle, the offset is applied at the time of positioning to point R.
</p>
<p>13.1.2
Left&ndash;handed Tapping
Cycle (G74)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>140
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.
</p>
<p>In a block that does not contain X, Y, Z, R, or any other axes, drilling is
not performed.
</p>
<p>Specify  R in blocks that perform drilling.  If it is specified in a block that
does not perform drilling, it cannot be stored as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G74 in the same block.
If they are specified together, G74 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>M4 S100 ; Cause the spindle to start rotating.  
G90 G99 G74 X300. Y&ndash;250. Z&ndash;150. R&ndash;120. F120. ;
</p>
<p>Position, tapping hole 1, then return to point R.
Y&ndash;550. ; Position, tapping hole 2, then return to point R.
Y&ndash;750. ; Position, tapping hole 3, then return to point R.
X1000. ; Position, tapping hole 4, then return to point R.
Y&ndash;550. ; Position, tapping hole 5, then return to point R.
G98 Y&ndash;750. ; Position, tapping hole 6, then return to the
</p>
<p>initial level.
G80 G28 G91 X0 Y0 Z0  ; Return to the reference position return
M5 ; Cause the spindle to stop rotating.
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ Drilling
</p>
<p>ï¿½ R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>141
</p>
<p>The fine boring cycle bores a hole precisely.  When the bottom of the hole
has been reached, the spindle stops, and the tool is moved away from the
machined surface of the workpiece and retracted.
</p>
<p>G76 (G98) G76 (G99)
</p>
<p>G76 X_ Y_ Z_ R_ Q_ P_ F_ K_ ;
</p>
<p>X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from point R to the bottom of the hole
</p>
<p>R_ : The distance from the initial level to point R level
</p>
<p>Q_ : Shift amount at the bottom of a hole
</p>
<p>P_ : Dwell time at the bottom of a hole
</p>
<p>F_ : Cutting feedrate
</p>
<p>K_ : Number of repeats
</p>
<p>q
q
</p>
<p>Shift amount q
</p>
<p>Spindle orientation
</p>
<p>Tool
</p>
<p>OSS OSS
</p>
<p>Point R level
</p>
<p>Point R
</p>
<p>Point Z
</p>
<p>Spindle CW
</p>
<p>Initial level
</p>
<p>Point Z
</p>
<p>Point R
</p>
<p>Spindle CW
</p>
<p>PP
</p>
<p>WARNING
Q (shift at the bottom of a hole) is a modal value retained
within canned cycles.  It must be specified carefully because
it is also used as the depth of cut for G73 and G83.
</p>
<p>13.1.3
Fine Boring Cycle
(G76)
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>142
</p>
<p>When the bottom of the hole has been reached, the spindle is stopped at
the fixed rotation position, and the tool is moved in the direction opposite
to the tool tip and retracted.  This ensures that the machined surface is not
damaged and enables precise and efficient boring to be performed.
Before specifying G76, use a miscellaneous function (M code) to rotate
the spindle.
When the G76 command and an M code are specified in the same block,
the M code is executed at the time of the first positioning operation.  The
system then proceeds to the next operation.
When K is used to specify the number of repeats, the M code is executed
for the first hole only; for the second and subsequent holes, the M code
is not executed.
When a tool length offset (G43, G44, or G49) is specified in the canned
cycle, the offset is applied at the time of positioning to point R.
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.
</p>
<p>In a block that does not contain X, Y, Z, R, or any additional axes, boring
is not performed.
</p>
<p>Be sure to specify a positive value in Q.  If Q is specified with a negative
value, the sign is ignored.  Set the direction of shift in bits 4 and 5 of
parameter 002.  Specify Q and R in a block that performs boring.  If they
are specified in a block that does not perform boring, they are not stored
as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G76 in the same block.
If they are specified together, G76 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>M3 S500 ; Cause the spindle to start rotating.
G90 G99 G76 X300. Y&ndash;250. Position, bore hole 1, then return to point R.
</p>
<p>Z&ndash;150. R&ndash;120. Q5. Orient at the bottom of the hole, then shift
by 5 mm. 
</p>
<p>P1000 F120. ; Stop at the bottom of the hole for 1 s.
Y&ndash;550. ; Position, drill hole 2, then return to point R.
Y&ndash;750. ; Position, drill hole 3, then return to point R.
X1000. ; Position, drill hole 4, then return to point R.
Y&ndash;550. ; Position, drill hole 5, then return to point R.
G98 Y&ndash;750. ; Position, drill hole 6, then return to the initial
</p>
<p>level.
G80 G28 G91 X0 Y0 Z0 ; Return to the reference position return
M5 ; Cause the spindle to stop rotating.
</p>
<p>Explanations
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ Boring
</p>
<p>ï¿½ Q/R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>143
</p>
<p>This cycle is used for normal drilling.  Cutting feed is performed to the
bottom of the hole.  The tool is then retracted from the bottom of the hole
in rapid traverse.
</p>
<p>G81 (G98) G81 (G99)
</p>
<p>G81 X_ Y_ Z_ R_ F_ K_ ;
</p>
<p>X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from point R to the bottom of the hole
</p>
<p>R_ : The distance from the initial level to point R level
</p>
<p>F_ : Cutting feedrate
</p>
<p>K_ : Number of repeats
</p>
<p>Point R
</p>
<p>Initial level
</p>
<p>Point Z
</p>
<p>Point R
</p>
<p>Point Z
</p>
<p>Point R level
</p>
<p>After positioning along the X&ndash; and Y&ndash;axes, rapid traverse is performed
to point R. 
Drilling is performed from point R to point Z.  
The tool is then retracted in rapid traverse.
Before specifying G81, use a miscellaneous function (M code) to rotate
the spindle.
When the G81 command and an M code are specified in the same block,
the M code is executed at the time of the first positioning operation.  The
system then proceeds to the next drilling operation.
When K is used to specify the number of repeats, the M code is performed
for the first hole only; for the second and subsequent holes, the M code
is not executed.
When a tool length offset (G43, G44, or G49) is specified in the canned
cycle, the offset is applied at the time of positioning to point R.
</p>
<p>13.1.4
Drilling Cycle, Spot
Drilling (G81)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>144
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.
</p>
<p>In a block that does not contain X, Y, Z, R, or any other axes, drilling is
not performed.
</p>
<p>Specify R in blocks that perform drilling.  If it is specified in a block that
does not perform drilling, it cannot be stored as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G81 in the same block.
If they are specified together, G81 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>M3 S2000 ; Cause the spindle to start rotating.
G90 G99 G81 X300. Y&ndash;250. Z&ndash;150. R&ndash;100. F120. ;
</p>
<p>Position, drill hole 1, then return to point R.
Y&ndash;550. ; Position, drill hole 2, then return to point R.
Y&ndash;750. ; Position, drill hole 3, then return to point R.
X1000. ; Position, drill hole 4, then return to point R.
Y&ndash;550. ; Position, drill hole 5, then return to point R.
G98 Y&ndash;750. ; Position, drill hole 6, then return to the initial
</p>
<p>level.
G80 G28 G91 X0 Y0 Z0  ; Return to the reference position return
M5 ;  Cause the spindle to stop rotating.
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ Drilling
</p>
<p>ï¿½ R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>145
</p>
<p>This cycle is used for normal drilling.  
Cutting feed is performed to the bottom of the hole.  At the bottom, a dwell
is performed, then the tool is retracted in rapid traverse.  
This cycle is used to drill holes more accurately with respect to depth.
</p>
<p>G82 (G98) G82 (G99)
</p>
<p>G82 X_ Y_ Z_ R_ P_ F_ K_ ;
</p>
<p>X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from point R to the bottom of the hole
</p>
<p>R_ : The distance from the initial level to point R level
</p>
<p>P_ : Dwell time at the bottom of a hole
</p>
<p>F_ : Cutting feed rate
</p>
<p>K_ : Number of repeats
</p>
<p>P
P
</p>
<p>Point R
</p>
<p>Initial level
</p>
<p>Point Z
</p>
<p>Point R
</p>
<p>Point Z
</p>
<p>Point R level
</p>
<p>After positioning along the X&ndash; and Y&ndash;axes, rapid traverse is performed
to point R. 
Drilling is then performed from point R to point Z.  
When the bottom of the hole has been reached, a dwell is performed.  The
tool is then retracted in rapid traverse. 
Before specifying G82, use a miscellaneous function (M code) to rotate
the spindle.
When the G82 command and an M code are specified in the same block,
the M code is executed at the time of the first positioning operation.  The
system then proceeds to the next drilling operation.
When K is used to specify the number of repeats, the M code is executed
for the first hole only; for the second and subsequent holes, the M code
is not executed.
When a tool length offset (G43, G44, or G49) is specified in the canned
cycle, the offset is applied at the time of positioning to point R.
</p>
<p>13.1.5
Drilling Cycle Counter
Boring Cycle (G82)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>146
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.
</p>
<p>In a block that does not contain X, Y, Z, R, or any other axes, drilling is
not performed.
</p>
<p>Specify R in blocks that perform drilling.  If it is specified in a block that
does not perform drilling, it cannot be stored as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G82 in the same block.
If they are specified together, G82 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>M3 S2000 ; Cause the spindle to start rotating.
G90 G99 G82 X300. Y&ndash;250. Z&ndash;150. R&ndash;100. P1000 F120. ;
</p>
<p>Position, drill hole 2, and dwell for 1 s at the
bottom of the hole, then return to point R.
</p>
<p>Y&ndash;550. ; Position, drill hole 2, then return to point R.
Y&ndash;750. ; Position, drill hole 3, then return to point R.
X1000. ; Position, drill hole 4, then return to point R.
Y&ndash;550. ; Position, drill hole 5, then return to point R.
G98 Y&ndash;750. ; Position, drill hole 6, then return to the initial
</p>
<p>level.
G80 G28 G91 X0 Y0 Z0  ; Return to the reference position return
M5 ; Cause the spindle to stop rotating.
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ Drilling
</p>
<p>ï¿½ R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>147
</p>
<p>This cycle performs peck drilling. 
It performs intermittent cutting feed to the bottom of a hole while
removing shavings from the hole.
</p>
<p>G83 (G98) G83 (G99)
</p>
<p>G83 X_ Y_ Z_ R_ Q_ F_ K_ ;
</p>
<p>X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from point R to the bottom of the hole
</p>
<p>R_ : The distance from the initial level to point R level
</p>
<p>Q_ : Depth of cut for each cutting feed
</p>
<p>F_ : Cutting feedrate
</p>
<p>K_ : Number of repeats
</p>
<p>dq
</p>
<p>dq
</p>
<p>q
</p>
<p>Initial level
</p>
<p>Point R
</p>
<p>Point Z
</p>
<p>Point R level
</p>
<p>Point Z
</p>
<p>dq
</p>
<p>dq
</p>
<p>q
</p>
<p>Point R
</p>
<p>Q represents the depth of cut for each cutting feed.  It must always be
specified as an incremental value.  
In the second and subsequent cutting feeds, rapid traverse is performed
up to a point just before where the last drilling ended, and cutting feed is
performed again.  Specify the amount of retraction in parameter No. 532.
Be sure to specify a positive value in Q.  Negative values are ignored.
Before specifying G83, use a miscellaneous function (M code) to rotate
the spindle.
When the G83 command and an M code are specified in the same block,
the M code is executed at the time of the first positioning operation.  The
system then proceeds to the next drilling operation.
When K is used to specify the number of repeats, the M code is executed
for the first hole only; for the second and subsequent holes, the M code
is not executed.
When a tool length offset (G43, G44, or G49) is specified in the canned
cycle, the offset is applied at the time of positioning to point R.
</p>
<p>13.1.6
Peck Drilling Cycle
(G83)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>148
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.
</p>
<p>In a block that does not contain X, Y, Z, R, or any other axes, drilling is
not performed.
</p>
<p>Specify Q and R in blocks that perform drilling.  If they are specified in
a block that does not perform drilling, they cannot be stored as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G83 in the same block.
If they are specified together, G83 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>M3 S2000 ;  Cause the spindle to start rotating.
G90 G99 G83 X300. Y&ndash;250. Z&ndash;150. R&ndash;100. Q15. F120. ; 
</p>
<p>Position, drill hole 1, then return to point R.
Y&ndash;550. ; Position, drill hole 2, then return to point R.
Y&ndash;750. ; Position, drill hole 3, then return to point R.
X1000. ; Position, drill hole 4, then return to point R.
Y&ndash;550. ; Position, drill hole 5, then return to point R.
G98 Y&ndash;750. ; Position, drill hole 6, then return to the initial
</p>
<p>level.
G80 G28 G91 X0 Y0 Z0 ; Return to the reference position return
M5 ; Cause the spindle to stop rotating.
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ Drilling
</p>
<p>ï¿½ Q/R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>149
</p>
<p>This cycle performs tapping. 
In this tapping cycle, when the bottom of the hole has been reached, the
spindle is rotated in the reverse direction.
</p>
<p>G84 (G98) G84 (G99)
</p>
<p>G84 X_ Y_ Z_ R_ P_ F_ K_ ;
</p>
<p>X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from point R to the bottom of the hole
</p>
<p>R_ : The distance from the initial level to point R level
</p>
<p>P_ : Dwell time
</p>
<p>F_ : Cutting feedrate
</p>
<p>K_ : Number of repents
</p>
<p>P
</p>
<p>P
</p>
<p>Point R
</p>
<p>Initial level
</p>
<p>Point R level
</p>
<p>Point Z
</p>
<p>Spindle CCW
</p>
<p>Spindle CW
P
</p>
<p>P
</p>
<p>Point R
</p>
<p>Initial level
</p>
<p>Point Z
</p>
<p>Spindle CCW
</p>
<p>Spindle CW
</p>
<p>Tapping is performed by rotating the spindle clockwise.  When the bottom
of the hole has been reached, the spindle is rotated in the reverse direction
for retraction.  This operation creates threads.
Feedrate overrides are ignored during tapping.  A feed hold does not stop
the machine until the return operation is completed.
Before specifying G84, use a miscellaneous function (M code) to rotate
the spindle.
When the G84 command and an M code are specified in the same block,
the M code is executed at the time of the first positioning operation.  The
system then proceeds to the next drilling operation.
When the K is used to specify number of repeats, the M code is executed
for the first hole only; for the second and subsequent holes, the M code
is not executed.
When a tool length offset (G43, G44, or G49) is specified in the canned
cycle, the offset is applied at the time of positioning to point R.
</p>
<p>13.1.7
Tapping Cycle (G84)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>150
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.
</p>
<p>In a block that does not contain X, Y, Z, R, or any other axes, drilling is
not performed.
</p>
<p>Specify R in blocks that perform drilling.  If it is specified in a block that
does not perform drilling, it cannot be stored as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G84 in the same block.
If they are specified together, G84 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>M3 S100 ; Cause the spindle to start rotating.
G90 G99 G84 X300. Y&ndash;250. Z&ndash;150. R&ndash;120. P300 F120. ;
</p>
<p>Position, drill hole 1, then return to point R.
Y&ndash;550. ; Position, drill hole 2, then return to point R.
Y&ndash;750. ; Position, drill hole 3, then return to point R.
X1000. ; Position, drill hole 4, then return to point R.
Y&ndash;550. ; Position, drill hole 5, then return to point R.
G98 Y&ndash;750. ; Position, drill hole 6, then return to the initial
</p>
<p>level.
G80 G28 G91 X0 Y0 Z0  ; Return to the reference position return
M5 ; Cause the spindle to stop rotating.
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ Drilling
</p>
<p>ï¿½ R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>151
</p>
<p>This cycle is used to bore a hole.
</p>
<p>G85 (G98) G85 (G99)
</p>
<p>G85 X_ Y_ Z_ R_ F_ K_ ;
</p>
<p>X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from point R to the bottom of the hole
</p>
<p>R_ : The distance from the initial level to point R level
</p>
<p>F_ : Cutting feed rate
</p>
<p>K_ : Number of repeats
</p>
<p>Point R
</p>
<p>Initial level
</p>
<p>Point R level
</p>
<p>Point Z Point Z
</p>
<p>Point R
</p>
<p>After positioning along the X&ndash; and Y&ndash; axes, rapid traverse is performed
to point R. 
Drilling is performed from point R to point Z.  
When point Z has been reached, cutting feed is performed to return to
point R.
Before specifying G85, use a miscellaneous function (M code) to rotate
the spindle.
When the G85 command and an M code are specified in the same block,
the M code is executed at the time of the first positioning operation.  The
system then proceeds to the next drilling operation.
When K is used to specify the number of repeats, the M code is executed
for the first hole only; for the second and subsequent holes, the M code
is not executed.
When a tool length offset (G43, G44, or G49) is specified in the canned
cycle, the offset is applied at the time of positioning to point R.
</p>
<p>13.1.8
Boring Cycle (G85)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>152
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.
</p>
<p>In a block that does not contain X, Y, Z, R, or any other axes, drilling is
not performed.
</p>
<p>Specify R in blocks that perform drilling.  If it is specified in a block that
does not perform drilling, it cannot be stored as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G85 in the same block.
If they are specified together, G85 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>M3 S100 ; Cause the spindle to start rotating.
G90 G99 G85 X300. Y&ndash;250. Z&ndash;150. R&ndash;120. F120. ;
</p>
<p>Position, drill hole 1, then return to point R.
Y&ndash;550. ; Position, drill hole 2, then return to point R.
Y&ndash;750. ; Position, drill hole 3, then return to point R.
X1000. ; Position, drill hole 4, then return to point R.
Y&ndash;550. ; Position, drill hole 5, then return to point R.
G98 Y&ndash;750. ; Position, drill hole 6, then return to the initial
</p>
<p>level.
G80 G28 G91 X0 Y0 Z0  ; Return to the reference position return
M5 ; Cause the spindle to stop rotating.
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ Drilling
</p>
<p>ï¿½ R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>153
</p>
<p>This cycle is used to bore a hole.
</p>
<p>G86 (G98) G86 (G99)
</p>
<p>G86 X_ Y_ Z_ R_ F_ K_ ;
</p>
<p>X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from point R to the bottom of the hole
</p>
<p>R_ : The distance from the initial level to point R level
</p>
<p>F_ : Cutting feed rate
</p>
<p>K_ : Number of repeats
</p>
<p>Point R
</p>
<p>Initial level
</p>
<p>Point R level
</p>
<p>Point Z
</p>
<p>Spindle stop
</p>
<p>Spindle CW
</p>
<p>Spindle CW
</p>
<p>Point R
</p>
<p>Point Z
</p>
<p>Spindle stop
</p>
<p>After positioning along the X&ndash; and Y&ndash;axes, rapid traverse is performed
to point R.  
Drilling is performed from point R to point Z.  
When the spindle is stopped at the bottom of the hole, the tool is retracted
in rapid traverse.
Before specifying G86, use a miscellaneous function (M code) to rotate
the spindle.
When the G86 command and an M code are specified in the same block,
the M code is executed at the time of the first positioning operation.  
The system then proceeds to the next drilling operation.
When K is used to specify the number of repeats, the M code is executed
for the first hole only; for the second and subsequent holes, the M code
is not executed.
When a tool length offset (G43, G44, or G49) is specified in the canned
cycle, the offset is applied at the time of positioning to point R.
</p>
<p>13.1.9
Boring Cycle (G86)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>154
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.
</p>
<p>In a block that does not contain X, Y, Z, R, or any other axes, drilling is
not performed.
</p>
<p>Specify R in blocks that perform drilling.  If it is specified in a block that
does not perform drilling, it cannot be stored as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G86 in the same block.
If they are specified together, G86 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>M3 S2000 ; Cause the spindle to start rotating.
G90 G99 G86 X300. Y&ndash;250. Z&ndash;150. R&ndash;100. F120. ;
</p>
<p>Position, drill hole 1, then return to point R.
Y&ndash;550. ; Position, drill hole 2, then return to point R.
Y&ndash;750. ; Position, drill hole 3, then return to point R.
X1000. ; Position, drill hole 4, then return to point R.
Y&ndash;550. ; Position, drill hole 5, then return to point R.
G98 Y&ndash;750. ; Position, drill hole 6, then return to the initial
</p>
<p>level.
G80 G28 G91 X0 Y0 Z0  ; Return to the reference position return
M5 ; Cause the spindle to stop rotating.
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ Drilling
</p>
<p>ï¿½ R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>155
</p>
<p>This cycle performs accurate boring.
</p>
<p>G87 (G98) G87 (G99)
</p>
<p>G87 X_ Y_ Z_ R_ Q_ P_ F_ K_ ;
X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from the bottom of the hole to point Z
</p>
<p>R_ : The distance from the initial level to point R 
</p>
<p>(the bottom of the hole) level
</p>
<p>Q_ : Tool shift amount
</p>
<p>P_ : Dwell time
</p>
<p>F_ : Cutting feed rate
</p>
<p>K_ : Number of repeats
</p>
<p>q
OSS
</p>
<p>OSS
</p>
<p>P
</p>
<p>Point R
</p>
<p>Not used
</p>
<p>Point Z
</p>
<p>Spindle CW
</p>
<p>Spindle CW
</p>
<p>Spindle orientation
</p>
<p>Tool
</p>
<p>Shift amount q
</p>
<p>WARNING
Q (shift at the bottom of a hole) is a modal value retained in
canned cycles.  It must be specified carefully because it is
also used as the depth of cut for G73 and G83.
</p>
<p>13.1.10
Boring Cycle Back
Boring Cycle (G87)
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>156
</p>
<p>After positioning along the X&ndash; and Y&ndash;axes, the spindle is stopped at the
fixed rotation position.  The tool is moved in the direction opposite to the
tool tip, positioning (rapid traverse) is performed to the bottom of the hole
(point R). 
The tool is then shifted in the direction of the tool tip and the spindle is
rotated clockwise.  Boring is performed in the positive direction along the
Z&ndash;axis until point Z is reached. 
At point Z, the spindle is stopped at the fixed rotation position again, the
tool is shifted in the direction opposite to the tool tip, then the tool is
returned to the initial level.  The tool is then shifted in the direction of the
tool tip and the spindle is rotated clockwise to proceed to the next block
operation.
Before specifying G87, use a miscellaneous function (M code) to rotate
the spindle.
When the G87 command and an M code are specified in the same block,
the M code is executed at the time of the first positioning operation.  
The system then proceeds to the next drilling operation.  When K is used
to specify the number of repeats, the M code is executed for the first hole
only; for the second and subsequent holes, the M code is not executed.
When a tool length offset (G43, G44, or G49) is specified in the canned
cycle, the offset is applied at the time of positioning to point R.
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.
</p>
<p>In a block that does not contain X, Y, Z, R, or any additional axes, boring
is not performed.
</p>
<p>Be sure to specify a positive value in Q.  If Q is specified with a negative
value, the sign is ignored.  Set the direction of shift in bits 4 and 5 of
parameter 002.  Specify Q and R in a block that performs boring.  If they
are specified in a block that does not perform boring, they are not stored
as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G76 in the same block.
If they are specified together, G76 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>M3 S500 ; Cause the spindle to start rotating.
G90 G87 X300. Y&ndash;250. Position, bore hole 1.
</p>
<p>Z120. R&ndash;150. Q5. Orient at the initial level, then shift by 5 mm.
P1000 F120. ; Stop at point Z for 1 s.
Y&ndash;550. ; Position, drill hole 2.
Y&ndash;750. ; Position, drill hole 3.
X1000. ; Position, drill hole 4.
Y&ndash;550. ; Position, drill hole 5.
Y&ndash;750. ; Position, drill hole 6
G80 G28 G91 X0 Y0 Z0 ; Return to the reference position return
M5 ; Cause the spindle to stop rotating.
</p>
<p>Explanations
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ Boring
</p>
<p>ï¿½ Q/R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>Examplesww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>157
</p>
<p>This cycle is used to bore a hole.
</p>
<p>G88 (G98) G88 (G99)
</p>
<p>G88 X_ Y_ Z_ R_ P_ F_ K_ ;
</p>
<p>X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from point R to the bottom of the hole
</p>
<p>R_ : The distance from the initial level to point R level
</p>
<p>P_ : Dwell time at the bottom of a hole
</p>
<p>F_ : Cutting feed rate
</p>
<p>K_ : Number of repeats
</p>
<p>P P
</p>
<p>Point R
</p>
<p>Initial level
</p>
<p>Point R level
</p>
<p>Point Z
</p>
<p>Spindle stop
after dwell
</p>
<p>Spindle CW
</p>
<p>Spindle CW
</p>
<p>Point Z
</p>
<p>Point R
</p>
<p>Spindle stop
after dwell
</p>
<p>After positioning along the X&ndash; and Y&ndash;axes, rapid traverse is performed
to point R.  Boring is performed from point R to point Z.  When boring
is completed, a dwell is performed, then the spindle is stopped.    The tool
is manually retracted from the bottom of the hole (point Z) to point R.
At point R, the spindle is rotated clockwise, and rapid traverse is
performed to the initial level.
Before specifying G88, use a miscellaneous function (M code) to rotate
the spindle.
When the G88 command and an M code are specified in the same block,
the M code is executed at the time of the first positioning operation.  The
system then proceeds to the next drilling operation.
When K is used to specify the number of repeats, the M code is executed
for the first hole only; for the second and subsequent holes, the M code
is not executed.
When a tool length offset (G43, G44, or G49) is specified in the canned
cycle, the offset is applied at the time of positioning to point R.
</p>
<p>13.1.11
Boring Cycle (G88)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>158
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.
</p>
<p>In a block that does not contain X, Y, Z, R, or any other axes, drilling is
not performed.
</p>
<p>Specify R in blocks that perform drilling.  If it is specified in a block that
does not perform drilling, it cannot be stored as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G88 in the same block.
If they are specified together, G88 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>M3 S2000 ; Cause the spindle to start rotating.
G90 G99 G88 X300. Y&ndash;250. Z&ndash;150. R&ndash;100. P1000 F120. ;
</p>
<p>Position, drill hole 1, return to point R 
then stop at the bottom of the hole for 1 s.
</p>
<p>Y&ndash;550. ; Position, drill hole 2, then return to point R.
Y&ndash;750. ; Position, drill hole 3, then return to point R.
X1000. ; Position, drill hole 4, then return to point R.
Y&ndash;550. ; Position, drill hole 5, then return to point R.
G98 Y&ndash;750. ; Position, drill hole 6, then return to the initial
</p>
<p>level.
G80 G28 G91 X0 Y0 Z0  ; Return to the reference position return
M5 ; Cause the spindle to stop rotating.
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ Drilling
</p>
<p>ï¿½ R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>159
</p>
<p>This cycle is used to bore a hole.
</p>
<p>G89 (G98) G89 (G99)
</p>
<p>G89 X_ Y_ Z_ R_ P_ F_ K_ ;
</p>
<p>X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from point R to the bottom of the hole
</p>
<p>R_ : The distance from the initial level to point R level
</p>
<p>P_ : Dwell time at the bottom of a hole
</p>
<p>F_ : Cutting feed rate
</p>
<p>K_ : Number of repeats
</p>
<p>P P
</p>
<p>Point R
</p>
<p>Initial level
</p>
<p>Point R level
</p>
<p>Point Z
</p>
<p>Point R
</p>
<p>Point Z
</p>
<p>This cycle is almost the same as G85.  The difference is that this cycle
performs a dwell at the bottom of the hole.
Before specifying G89, use a miscellaneous function (M code) to rotate
the spindle.
When the G89 command and an M code are specified in the same block,
the M code is executed at the time of the first positioning operation.  The
system then proceeds to the next drilling operation.
When K is used to specify the number of repeats, the M code is executed
for the first hole only; for the second and subsequent holes, the M code
is not executed.
When a tool length offset (G43, G44, or G49) is specified in the canned
cycle, the offset is applied at the time of positioning to point R.
</p>
<p>13.1.12
Boring Cycle (G89)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>160
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.
</p>
<p>In a block that does not contain X, Y, Z, R, or any other axes, drilling is
not performed.
</p>
<p>Specify R in blocks that perform drilling.  If it is specified in a block that
does not perform drilling, it cannot be stored as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G73 in the same block.
If they are specified together, G73 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>M3 S100 ; Cause the spindle to start rotating.
G90 G99 G89 X300. Y&ndash;250. Z&ndash;150. R&ndash;120. P1000 F120. ;
</p>
<p>Position, drill hole 1, return to point R
then stop at the bottom of the hole for 1 s.
</p>
<p>Y&ndash;550. ; Position, drill hole 2, then return to point R.
Y&ndash;750. ; Position, drill hole 3, then return to point R.
X1000. ; Position, drill hole 4, then return to point R.
Y&ndash;550. ; Position, drill hole 5, then return to point R.
G98 Y&ndash;750. ; Position, drill hole 6, then return to the initial
</p>
<p>level.
G80 G28 G91 X0 Y0 Z0  ; Return to the reference position return
M5 ; Cause the spindle to stop rotating.
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ Drilling
</p>
<p>ï¿½ R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>161
</p>
<p>G80 cancels canned cycles.
</p>
<p>G80 ;
</p>
<p>All canned cycles are canceled to perform normal operation.  Point R and
point Z are cleared.  This means that R = 0 and Z = 0 in incremental mode.
Other drilling data is also canceled (cleared).
</p>
<p>M3 S100 ; Cause the spindle to start rotating.
G90 G99 G88 X300. Y&ndash;250. Z&ndash;150. R&ndash;120. F120. ;
</p>
<p>Position, drill hole 1, then return to point R.
Y&ndash;550. ; Position, drill hole 2, then return to point R.
Y&ndash;750. ; Position, drill hole 3, then return to point R.
X1000. ; Position, drill hole 4, then return to point R.
Y&ndash;550. ; Position, drill hole 5, then return to point R.
G98 Y&ndash;750. ; Position, drill hole 6, then return to the initial
</p>
<p>level.
G80 G28 G91 X0 Y0 Z0  ; Return to the reference position return, 
</p>
<p>canned cycle cancel
M5 ; Cause the spindle to stop rotating.
</p>
<p>13.1.13
Canned Cycle Cancel
(G80)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>162
</p>
<p>400 150 250 250 150
</p>
<p>Y
</p>
<p>X
</p>
<p>X
</p>
<p>Z
</p>
<p>T 11 T 15 T 31
</p>
<p>#1 #11
</p>
<p>#7
</p>
<p>#3
</p>
<p>#2
</p>
<p>#8
</p>
<p>#13
</p>
<p>#12
</p>
<p>#10
</p>
<p>#9
</p>
<p>#6
</p>
<p>#5
</p>
<p>#4
</p>
<p># 11 to 16 Drilling of a 10mm diameter hole
# 17 to 10 Drilling of a 20mm diameter hole
# 11 to 13 Boring of a 95mm diameter hole(depth 50 mm)
</p>
<p>190200 150
</p>
<p>250
</p>
<p>100
</p>
<p>100
</p>
<p>100
</p>
<p>100
</p>
<p>350
</p>
<p>200
</p>
<p>Reference position
</p>
<p>Retract position
</p>
<p>Initial level
</p>
<p>50
50
30
20
</p>
<p>Program example using tool length offset and canned cycles
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>163
</p>
<p>Offset value +200.0 is set in offset No.11, +190.0 is set in offset No.15, and +150.0 is set in offset No.31
</p>
<p>Program example
;
N001 G92X0Y0Z500.0; Coordinate setting at reference position
N002 G90  G00  Z250.0  T11  M6; Tool change
N003 G43  Z0  H11; Initial level, tool length offset
N004 S30  M3 Spindle start
N005 G99  G81X400.0  R  Y&ndash;350.0
</p>
<p>Z&ndash;153.0R&ndash;97.0  F120; Positioning, then #1 drilling
N006 Y&ndash;550.0; Positioning, then #2 drilling and point R level return
N007 G98Y&ndash;750.0; Positioning, then #3 drilling and initial level return
N008 G99X1200.0; Positioning, then #4 drilling and point R level return
N009 Y&ndash;550.0; Positioning, then #5 drilling and point R level return
N010 G98Y&ndash;350.0; Positioning, then #6 drilling and initial level return
N011 G00X0Y0M5; Reference position return, spindle stop
N012 G49Z250.0T15M6; Tool length offset cancel, tool change
N013 G43Z0H15; Initial level, tool length offset
N014 S20M3; Spindle start
N015 G99G82X550.0Y&ndash;450.0 Positioning, then #7 drilling, point R level return
</p>
<p>Z&ndash;130.0R&ndash;97.0P300F70;
N016 G98Y&ndash;650.0; Positioning, then #8 drilling, initial level return
N017 G99X1050.0; Positioning, then #9 drilling, point R level return
N018 G98Y&ndash;450.0; Positioning, then #10 drilling, initial level return
N019 G00X0Y0M5; Reference position return, spindle stop
N020 G49Z250.0T31M6; Tool length offset cancel, tool change
N021 G43Z0H31; Initial level, tool length offset
N022 S10M3; Spindle start
N023 G85G99X800.0Y&ndash;350.0 Positioning, then #11 drilling, point R level return
</p>
<p>Z&ndash;153.0R47.0F50;
N024 G91Y&ndash;200.0K2; Positioning, then #12, 13 drilling. point R level return
N025 G28X0Y0M5; Reference position return, spindle stop
N026 G49Z500.0; Tool length offset cancel
N027 M0; Program stop
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>164
</p>
<p>The tapping cycle (G84) and left&ndash;handed tapping cycle (G74) may be
performed in standard mode or rigid tapping mode.  
In standard mode, the spindle is rotated and stopped along with a
movement along the tapping axis using miscellaneous functions M03
(rotating the spindle clockwise), M04 (rotating the spindle
counterclockwise), and M05 (stopping the spindle) to perform tapping.In
rigid mode, tapping is performed by controlling the spindle motor as if
it were a servo motor and by interpolating between the tapping axis and
spindle.
When tapping is performed in rigid mode, the spindle rotates one turn
every time a certain feed (thread lead) which takes place along the tapping
axis.  This operation does not vary even during acceleration or
deceleration.
Rigid mode eliminates the need to use a floating tap required in the
standard tapping mode, thus allowing faster and more precise tapping.
</p>
<p>13.2
RIGID TAPPING
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>165
</p>
<p>When the spindle motor is controlled in rigid mode as if it were a servo
motor, a tapping cycle can be sped up.
</p>
<p>G84(G98) G84(G99)
</p>
<p>G84 X_ Y_ Z_ R_ P_ F_ K_ ;
X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from point R to the bottom of the hole or the
</p>
<p>position of the bottom of the hole
</p>
<p>R_ : The distance from the initial level to point R level
</p>
<p>P_ : Dwell time at the bottom of the hole and at point R when a
</p>
<p>return is made
</p>
<p>F_ : Cutting feedrate
</p>
<p>K_ : Number of repeats
</p>
<p>P P
</p>
<p>Point R level
</p>
<p>Point Z
</p>
<p>Spindle CW
</p>
<p>Point R Point R
</p>
<p>Spindle stop
</p>
<p>Spindle CCW Spindle CCWSpindle stopSpindle stop
</p>
<p>Point Z
</p>
<p>Spindle stop
</p>
<p>Spindle stop
</p>
<p>Initial level
</p>
<p>Operation5
</p>
<p>Operation4
</p>
<p>Operation3
</p>
<p>Operation1
</p>
<p>Operation2
Operation6
</p>
<p>Spindle
stop
</p>
<p>Spindle CW
P P
</p>
<p>After positioning along the X&ndash; and Y&ndash;axes, rapid traverse is performed
to point R.  
Tapping is performed from point R to point Z.  When tapping is
completed, a dwell is performed and the spindle is stopped.  The spindle
is then rotated in the reverse direction, the tool is retracted to point R, then
the spindle is stopped.  Rapid traverse to initial level is then performed.
While tapping is being performed, the feedrate override and spindle
override are assumed to be 100%.
However, the speed for extraction (operation 5) can be overridden by up
to 200% depending on the setting at bit 4 of parameter and parameter 063
and parameter 258.
</p>
<p>Rigid mode can be specified using any of the following methods:
</p>
<p>&middot; Specify M29 S ***** before a tapping command.
</p>
<p>&middot; Specify M29 S ***** in a block which contains a tapping
command.
</p>
<p>&middot; Specify G84 for rigid tapping (parameter No. 076 #3 = 1).
</p>
<p>13.2.1
Rigid Tapping (G84)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ï¿½ Rigid mode
ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>166
</p>
<p>In feed&ndash;per&ndash;minute mode, the thread lead is obtained from the
expression, feedrate &times; spindle speed.  In feed&ndash;per&ndash;revolution mode, the
thread lead equals the feedrate speed.
If a tool length offset (G43, G44, or G49) is specified in the canned cycle,
the offset is applied at the time of positioning to point R.
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.  If the drilling axis is changed in rigid mode, alarm (No. 206)
is issued.
</p>
<p>If a speed higher than the maximum speed for the gear being used is
specified, alarm (No. 200) is issued.
</p>
<p>If a value exceeding the upper limit of cutting feedrate is specified,  alarm
(No. 011) is issued.
</p>
<p>If an S command and axis movement are specified between M29 and G84,
alarm (No. 203) is issued.  If M29 is specified in a tapping cycle, alarm
(No. 204) is issued.
</p>
<p>Specify R in a block that performs drilling.  If R is specified in a
non&ndash;drilling block, it is not stored as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G73 in the same block.
If they are specified together, G73 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>Metric input Inch input Remarks
</p>
<p>G94 1 mm/min 0.01 inch/min Decimal point programming allowed
</p>
<p>G95 0.01 mm/rev 0.0001 inch/rev Decimal point programming allowed
</p>
<p>Z&ndash;axis feedrate  1000 mm/min
Spindle speed  1000 rpm
Thread lead    1.0 mm 
&lt;Programming of feed per minute&gt;
G94 ; Specify a feed&ndash;per&ndash;minute command.
G00 X120.0 Y100.0 ; Positioning
M29 S1000 ; Rigid mode specification
G84 Z&ndash;100.0 R&ndash;20.0 F1000 ; Rigid tapping
&lt;Programming of feed per revolution&gt;
G95 ; Specify a feed&ndash;per&ndash;revolution command.
G00 X120.0 Y100.0 ; Positioning
M29 S1000 ; Rigid mode specification
G84 Z&ndash;100.0 R&ndash;20.0 F1.0 ; Rigid tapping
</p>
<p>ï¿½ Thread lead
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ S command
</p>
<p>ï¿½ F command
</p>
<p>ï¿½ M29
</p>
<p>ï¿½ R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>ï¿½ Unit of F
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>167
</p>
<p>When the spindle motor is controlled in rigid mode as if it were a servo
motor, tapping cycles can be sped up.
</p>
<p>G74 (G98) G74 (G99)
</p>
<p>G74 X_ Y_ Z_ R_ P_ F_ K_ ;
X_ Y_ : Hole position data
</p>
<p>Z_ : The distance from point R to the bottom of the hole or 
</p>
<p>the position of the bottom of the hole
</p>
<p>R_ : The distance from the initial level to point R level
</p>
<p>P_ : Dwell time at the bottom of the hole and at point R when
</p>
<p>return is made.
</p>
<p>F_ : Cutting feedrate
</p>
<p>K_ : Number of repeats
</p>
<p>P P
Point Z
</p>
<p>Point R level
</p>
<p>Spindle
CCW
</p>
<p>Spindle stop
</p>
<p>Spindle stop
</p>
<p>Initial level
</p>
<p>Operation5
</p>
<p>Operation4
</p>
<p>Operation3
</p>
<p>Operation1
Operation2 Operation6
</p>
<p>Spindle
stop
</p>
<p>Spindle CW Spindle CW Spindle CW
</p>
<p>Point R level
</p>
<p>Point Z
</p>
<p>Spindle
CCW
</p>
<p>Point R Point R
</p>
<p>Spindle stop
</p>
<p>P P
Spindle
stop
</p>
<p>After positioning along the X&ndash; and Y&ndash;axes, rapid traverse is performed
to point R.  
Tapping is performed from point R to point Z.  When tapping is
completed, a dwell is performed and the spindle is stopped.  The spindle
is then rotated in the normal direction, the tool is retracted to point R, then
the spindle is stopped.  Rapid traverse to initial level is then performed.
While tapping is being performed, the feedrate override and spindle
override are assumed to be 100%.
However, the speed for extraction (operation 5) can be overridden by up
to 200% depending on the setting at bit 4 of parameter 063 and parameter
258.
</p>
<p>Rigid mode can be specified using any of the following methods:
</p>
<p>&middot; Specify M29 S ***** before a tapping command.
</p>
<p>&middot; Specify M29 S ***** in a block which contains a tapping
command.
</p>
<p>&middot; Specify G84 for rigid tapping. (parameter No. 076#3 = 1) .
</p>
<p>13.2.2
Left&ndash;handed Rigid
Tapping Cycle (G74)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ï¿½ Rigid mode
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>168
</p>
<p>In feed&ndash;per&ndash;minute mode, the thread lead is obtained from the
expression, feedrate &times; spindle speed.  In feed&ndash;per&ndash;revolution mode, the
thread lead equals the feedrate.
If a tool length offset (G43, G44, or G49) is specified in the canned cycle,
the offset is applied at the time of positioning to point R.
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.  If the drilling axis is changed in rigid mode, alarm (No. 206)
is issued.
</p>
<p>Specifying a rotation speed exceeding the maximum speed for the gear
used causes alarm (No. 200).
</p>
<p>Specifying a value that exceeds the upper limit of cutting feedrate  causes
alarm (No. 011).
</p>
<p>Specifying an S command or axis movement between M29 and G84
causes alarm (No. 203).
Then, specifying M29 in the tapping cycle causes alarm (No. 204).
</p>
<p>Specify R in a block that performs drilling.  If R is specified in a
non&ndash;drilling block, it ss not stored as modal data.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G73 in the same block.
If they are specified together, G73 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>Metric input Inch input Remarks
</p>
<p>G94 1 mm/min 0.01 inch/min Decimal point programming allowed
</p>
<p>G95 0.01 mm/rev 0.0001 inch/rev Decimal point programming allowed
</p>
<p>Z&ndash;axis feedrate  1000 mm/min
Spindle speed  1000 rpm
Thread lead    1.0 mm 
&lt;Programming for feed per minute&gt;
G94 ; Specify a feed&ndash;per&ndash;minute command.
G00 X120.0 Y100.0 ; Positioning
M29 S1000 ; Rigid mode specification
G84 Z&ndash;100.0 R&ndash;20.0 F1000 ; Rigid tapping
&lt;Programming for feed per revolution&gt;
G95 ; Specify a feed&ndash;per&ndash;revolution command.
G00 X120.0 Y100.0 ; Positioning
M29 S1000 ; Rigid mode specification
G74 Z&ndash;100.0 R&ndash;20.0 F1.0 ; Rigid tapping
</p>
<p>ï¿½ Thread lead
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ S command
</p>
<p>ï¿½ F command
</p>
<p>ï¿½ M29
</p>
<p>ï¿½ R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>ï¿½ Unit of F
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>169
</p>
<p>Tapping a deep hole in rigid tapping mode may be difficult due to chips
sticking to the tool or increased cutting resistance.  In such cases, the peck
rigid tapping cycle is useful.  
In this cycle, cutting is performed several times until the bottom of the
hole is reached.  Two peck tapping cycles are available:  High&ndash;speed peck
tapping cycle and standard peck tapping cycle.  These cycles are selected
using the bit (bit 0) of parameter 388.
</p>
<p>G84, G74 (G98) G84, G74 (G99)
</p>
<p>G84 (or G74) X_ Y_ Z_ R_ P_ Q_ F_ K_ ;
X_ Y_ : Hole position data
Z_ : The distance from point R to the bottom of the hole or the
</p>
<p>position of the bottom of the hole
R_ : The distance from the initial level to point R level
P_ : Dwell time at the bottom of the hole and at point R when a
</p>
<p>return is made
Q_ : Depth of cut for each cutting feed 
F_ : The cutting feedrate
K_ : Number of repeats
</p>
<p>ï¿½ High&ndash;speed peck tapping cycle
    (Parameter No.388#0=0)
</p>
<p>d
q
</p>
<p>q
</p>
<p>q
</p>
<p>d
</p>
<p>ï¿½
ï¿½
</p>
<p>ï¿½ Peck tapping cycle 
(Parameter No.388#0=1)
</p>
<p>ï¿½
</p>
<p>ï¿½ The tool operates at a normal cutting
feedrate.  The normal time constant
is used.
</p>
<p>ï¿½ Retraction can be overridden. 
The retraction time constant is used.
</p>
<p>ï¿½ The tool operates at a normal cutting
feedrate.  The normal time constant
is used.
</p>
<p>ï¿½ Retraction can be overridden. 
 The retraction time constant is used.
</p>
<p>ï¿½ Retraction can be overridden.
The normal time constant is used.
</p>
<p>Point Z
</p>
<p>Initial level
</p>
<p>Point R
</p>
<p>d=retraction distance
</p>
<p>Point R level
</p>
<p>d=cutting start distance
</p>
<p>Initial level
</p>
<p>During a rigid tapping cycle, CNC checks
whether the pulse distribution is per-
formed or not and start the next operation
at the end of each operation of ï¿½ and
ï¿½ in the peck tapping cycle.
</p>
<p>d
q
</p>
<p>q
</p>
<p>q
</p>
<p>d
</p>
<p>Point Z
</p>
<p>Point R Point R level
</p>
<p>ï¿½
ï¿½
</p>
<p>d
q
</p>
<p>q
</p>
<p>q
</p>
<p>d
</p>
<p>ï¿½
ï¿½
</p>
<p>Point Z
</p>
<p>Point R Point R level
ï¿½
</p>
<p>d
q
</p>
<p>q
</p>
<p>q
</p>
<p>d
</p>
<p>ï¿½
ï¿½
</p>
<p>Point Z
</p>
<p>Point R Point R level
</p>
<p>13.2.3
Peck Rigid Tapping
Cycle (G84 or G74)
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>170
</p>
<p>After positioning along the X&ndash; and Y&ndash;axes, rapid traverse is performed
to point R.  From point R, cutting is performed with depth Q (depth of cut
for each cutting feed), then the tool is retracted by distance d.  The bit (bit
4) of parameter 063 specifies whether retraction can be overridden or not.
When point Z has been reached, the spindle is stopped, then rotated in the
reverse direction for retraction.
Set the retraction distance, d, in parameter 403.
</p>
<p>After positioning along the X&ndash; and Y&ndash;axes, rapid traverse is performed
to point R level.  From point R, cutting is performed with depth Q (depth
of cut for each cutting feed), then a return is performed to point R.  The
bit (bit 4) of parameter 063 specifies whether the retraction can be
overridden or not. Traverse is performed from point R to a position
distance d from the end point of the last cutting, which is where cutting
is restarted.  For this traverse, the specification of the bit (bit 4) of
parameter 063 is also valid.  When point Z has been reached, the spindle
is stopped, then rotated in the reverse direction for retraction.
Set d (distance to the point at which cutting is started) in parameter 403.
</p>
<p>Before the drilling axis can be changed, the canned cycle must be
canceled.  If the drilling axis is changed in rigid mode, alarm (No. 206)
is issued.
</p>
<p>Specifying a rotation speed exceeding the maximum speed for the gear
used causes alarm (No. 200).
</p>
<p>Specifying a value that exceeds the upper limit of cutting feedrate  causes
alarm (No. 011).
</p>
<p>Specifying an S command or axis movement between M29 and G84
causes alarm (No. 203).
Then, specifying M29 in the tapping cycle causes alarm (No. 204).
</p>
<p>Specify Q and R in a block that performs drilling.  If they are specified
in a block that does not perform drilling, they are not stored as modal data.
When Q0 is specified, the peck rigid tapping cycle is not performed.
</p>
<p>Do not specify a group 01 G code (G00 to G03) and G73 in the same block.
If they are specified together, G73 is canceled.
</p>
<p>In the canned cycle mode, tool offsets are ignored.
</p>
<p>Metric input Inch input Remarks
</p>
<p>G94 1 mm/min 0.01 inch/min Decimal point programming allowed
</p>
<p>G95 0.01 mm/rev 0.0001 inch/rev Decimal point programming allowed
</p>
<p>Explanations
</p>
<p>ï¿½ High&ndash;speed peck
tapping cycle
</p>
<p>ï¿½ Peck tapping cycle
</p>
<p>Restrictions
</p>
<p>ï¿½ Axis switching
</p>
<p>ï¿½ S command
</p>
<p>ï¿½ F command
</p>
<p>ï¿½ M29
</p>
<p>ï¿½ Q/R
</p>
<p>ï¿½ Cancel
</p>
<p>ï¿½ Tool offset
</p>
<p>ï¿½ Unit of Fww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>171
</p>
<p>The rigid tapping canned cycle is canceled.  For how to cancel this cycle,
see Section 13.1.13.
</p>
<p>13.2.4
Canned Cycle Cancel
(G80)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>172
</p>
<p>Canned grinding cycles make it easier for the programmer to create
programs that include grinding.  With a canned grinding cycle, repetitive
operation peculiar to grinding can be specified in a single block with a G
function; without canned grinding cycles, normally more than one block
is required.  In addition, the use of canned grinding cycles shortens the
program to save memory.  The following four canned grinding cycles are
available:
&sdot;Plunge grinding cycle (G75)
&sdot;Direct constant&ndash;dimension plunge grinding cycle (G77)
&sdot;Continuous&ndash;feed surface grinding cycle (G78)
&sdot;Intermittent&ndash;feed surface grinding cycle (G79)
</p>
<p>13.3
CANNED GRINDING
CYCLE 
(0&ndash;GSC, 0&ndash;GSD/II)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>173
</p>
<p>A plunge grinding cycle is performed.
</p>
<p>G75
</p>
<p>G75 I_ J_ K_ X(Z)_ R_ F_ P_ L_ ;
</p>
<p>I_ : Depth&ndash;of&ndash;cut 1 (A sign in the command specifies the direction
 of cutting.)
</p>
<p>J_ : Depth&ndash;of&ndash;cut 2 (A sign in the command specifies the direction
of cutting.)
</p>
<p>K_ : Total depth of cut
X(Z)_ : Range of grinding (A sign in the command specifies the 
</p>
<p>direction of grinding.)
R_ : Feedrate for I and J
F_ : Feedrate for X (Z)
P_ : Dwell time
L_ : Grinding&ndash;wheel wear compensation (Only for continuous 
</p>
<p>dressing)
</p>
<p>I
</p>
<p>J
</p>
<p>X(Z)
</p>
<p>ï¿½(R)
</p>
<p>ï¿½ P
</p>
<p>ï¿½ (F)
</p>
<p>ï¿½ P
</p>
<p>X(Z)
</p>
<p>Y
</p>
<p>ï¿½ (F)
</p>
<p>ï¿½ (R)
</p>
<p>The plunge grinding cycle consists of six operation sequences.
Operations ï¿½ to ï¿½ are repeated until the depth reaches the total depth
of cut specified at address K.  In the single block stop mode, operations
ï¿½ to ï¿½ are performed every cycle start.
</p>
<p>ï¿½ Cutting is performed along the Y&ndash;axis in cutting feed mode for the
amount specified by I (depth of cut 1).  The feedrate is specified by R.
</p>
<p>ï¿½ Dwell is performed for the time specified by P.
</p>
<p>ï¿½ Cutting feed is performed for the amount specified by X (or Z).  
The feedrate is specified by F.
</p>
<p>ï¿½ Cutting is performed along the Y&ndash;axis in cutting feed mode for the
amount specified by J (depth of cut 2).  The feedrate is specified by R.
</p>
<p>ï¿½ Dwell is performed for the time specified by P.
</p>
<p>ï¿½ Feeding is performed in the reverse direction for the amount specified
by X (or Z) at a feedrate specified by F.
</p>
<p>13.3.1
Plunge Grinding Cycle
(G75)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ï¿½ Grinding wheel cutting
</p>
<p>ï¿½ Dwell
</p>
<p>ï¿½ Grinding
</p>
<p>ï¿½ Grinding wheel cutting
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Grinding 
(return direction)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>174
</p>
<p>X, (Z), I, J, and K must all be specified in incremental mode.
</p>
<p>I, J, X, and Z in canned cycles are modal data common to G75, G77, G78,
and G79.  They remain valid until new data is specified.  They are cleared
when a group 00 G code other than G04 or a group 01 G code other than
G75, G77, G78, and G79 is specified.
</p>
<p>When the total depth of cut is reached during cutting using I or J, the
subsequent operation sequences (up to 6) are executed, then the cycle
terminates.  In this case, no further cutting is performed after the total
depth of cut is reached.
</p>
<p>ï¿½ Chart of operation in which the total depth of cut is reached by cutting
specified by I and J:
</p>
<p>I
</p>
<p>J
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½ï¿½
</p>
<p>K
</p>
<p>I
K
</p>
<p>ï¿½
</p>
<p>ï¿½ ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½ Chart of operation in which the total depth of cut is reached during 
cutting specified by I and J:
</p>
<p>I
</p>
<p>J
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
ï¿½
</p>
<p>K
</p>
<p>I
</p>
<p>K
</p>
<p>ï¿½ï¿½ ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>Restrictions
</p>
<p>ï¿½ X(Z), I, J, K
</p>
<p>ï¿½ Clear
</p>
<p>ï¿½ Operation performed
when the total depth of
cut is reached
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>175
</p>
<p>A direct constant&ndash;dimension plunge grinding cycle is performed.
</p>
<p>G77
</p>
<p>G77 I_ J_ K_ X(Z)_ R_ F_ P_ L_ ;
</p>
<p>I_ : Depth&ndash;of&ndash;cut 1 (A sign in the command specifies the direction
of cutting.)
</p>
<p>J_ : Depth&ndash;of&ndash;cut 2 (A sign in the command specifies the direction
of cutting.)
</p>
<p>K_ : Total depth of cut
X(Z)_ : Range of grinding (A sign in the command specifies the 
</p>
<p>direction of grinding.)
R_ : Feedrate for I and J
F_ : Feedrate for X (Z)
P_ : Dwell time
L_ : Grinding&ndash;wheel wear compensation (Only for continuous 
</p>
<p>dressing)
</p>
<p>I
</p>
<p>J
</p>
<p>X(Z)
</p>
<p>ï¿½(R)
</p>
<p>ï¿½ P
</p>
<p>ï¿½ (F)
</p>
<p>ï¿½ P
</p>
<p>X(Z)
</p>
<p>Y
</p>
<p>ï¿½ (F)
</p>
<p>ï¿½ (R)
</p>
<p>The constant&ndash;dimension plunge grinding cycle consists of six operation
sequences.  Operations ï¿½ to ï¿½ are repeated until the depth reaches the
total depth of cut specified at address K.
</p>
<p>ï¿½ Cutting is performed along the Y&ndash;axis in cutting feed mode for the
amount specified by I (depth of cut 1).  The feedrate is specified by R.
</p>
<p>ï¿½ Dwell is performed for the time specified by P.
</p>
<p>ï¿½ Cutting feed is performed for the amount specified by X (or Z).  
The feedrate is specified by F.
</p>
<p>ï¿½ Cutting is performed along the Y&ndash;axis in cutting feed mode for the
amount specified by J (depth of cut 2).  The feedrate is specified by R.
</p>
<p>ï¿½ Dwell is performed for the time specified by P.
</p>
<p>ï¿½ Feeding is performed in the reverse direction for the amount specified
by X (or Z) at a feedrate specified by F.
</p>
<p>13.3.2
Direct
Constant&ndash;dimension
Plunge Grinding Cycle
(G77)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ï¿½ Grinding wheel cutting
</p>
<p>ï¿½ Dwell
</p>
<p>ï¿½ Grinding
</p>
<p>ï¿½ Grinding wheel cutting
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Grinding 
(return direction)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>176
</p>
<p>When the cycle is performed using G77, a skip signal can be input to
terminate the cycle.  When a skip signal is input, the current operation
sequence is interrupted or completed, then the cycle is terminated.
The following shows how the system operates when the skip signal is
input during each operation sequence.
</p>
<p>ï¿½ When the skip signal is input during operation sequence 1 or 4 (cutting
feed specified by I or J), cutting is stopped immediately and the tool
returns to the X (Z) coordinate at which the cycle started.
</p>
<p>Skip Signal
</p>
<p>Skip Signal(End)
</p>
<p>(End)
</p>
<p>ï¿½ When the skip signal is input during operation sequence 2 or 5 (dwell),
dwell is stopped immediately and the tool returns to the X (Z)
coordinate at which the cycle started.
</p>
<p>ï¿½ When the skip signal is input during operation sequence 3 or 6
(movement), the tool returns to the X (Z) coordinate at which the cycle
started after the movement specified by X (Z) is completed.
</p>
<p>Skip Signal
(End)
</p>
<p>(End)
</p>
<p>Skip Signal
</p>
<p>X, (Z), I, J, and K must all be specified in incremental mode.
</p>
<p>I, J, X, and Z in canned cycles are modal data common to G75, G77, G78,
and G79.  They remain valid until new data is specified.  They are cleared
when a group 00 G code other than G04 or a group 01 G code other than
G75, G77, G78, and G79 is specified.
</p>
<p>ï¿½ ï¿½ï¿½ï¿½	 
ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Restrictions
</p>
<p>ï¿½ X(Z), I, J, K
</p>
<p>ï¿½ Clear
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>177
</p>
<p>A continuous&ndash;feed surface grinding cycle is performed.
</p>
<p>G78
</p>
<p>G78 I_ (J_) K_ X_ F_ P_ L_ ;
</p>
<p>I
</p>
<p>J
</p>
<p>X
</p>
<p>ï¿½ P(Dwell)
ï¿½ (F)
</p>
<p>ï¿½ P(Dwell)ï¿½ (F)
</p>
<p>X
</p>
<p>Z
</p>
<p>I_ : Depth&ndash;of&ndash;cut 1 (A sign in the command specifies the direction
of cutting.)
</p>
<p>J_ : Depth&ndash;of&ndash;cut 2 (A sign in the command specifies the direction
of cutting.)
</p>
<p>K_ : Total depth of cut
X(Z)_ : Range of grinding (A sign in the command specifies the 
</p>
<p>direction of grinding.)
R_ : Feedrate for I and J
F_ : Feed rate
P_ : Dwell time
L_ : Grinding&ndash;wheel wear compensation (Only for continuous 
</p>
<p>dressing)
</p>
<p>The continuous&ndash;feed surface grinding cycle consists of four operation
sequences.  Operations ï¿½ to ï¿½ are repeated until the depth reaches the
total depth of cut specified in address K.  In the single block stop mode,
operations ï¿½ to ï¿½ are performed every cycle start.
</p>
<p>ï¿½ Dwell
ï¿½ Grinding
ï¿½ Dwell
ï¿½ Grinding (in reverse direction)
</p>
<p>13.3.3
Continuous&ndash;feed
Surface Grinding Cycle
(G78)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>178
</p>
<p>When J is omitted, it is assumed to be 1.  J is valid only in the block where
it is specified.
</p>
<p>X, (Z), I, J, and K must all be specified in incremental mode.
</p>
<p>I, J, X, and Z in canned cycles are modal data common to G75, G77, G78,
and G79.  They remain valid until new data is specified.  They are cleared
when a group 00 G code other than G04 or a group 01 G code other than
G75, G77, G78, and G79 is specified.
</p>
<p>When the total depth of cut is reached during cutting using I or J, the
subsequent operation sequences (up to 6) are executed, then the cycle
terminates.  In this case, no further cutting is performed after the total
depth of cut is reached.
</p>
<p>&sdot; Chart of operation in which the total depth of cut is reached by cutting
specified by I and J:
</p>
<p>I
</p>
<p>J
</p>
<p>ï¿½
ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>K
</p>
<p>I
</p>
<p>J
</p>
<p>K
ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>&sdot; Chart of operation in which the total depth of cut is reached during
cutting specified by I and J:
</p>
<p>I
</p>
<p>J
</p>
<p>ï¿½
ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>K
</p>
<p>I
</p>
<p>J
</p>
<p>K
ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>Restrictions
</p>
<p>ï¿½ ï¿½
</p>
<p>ï¿½ I, J, K, X
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Operation performed
when the total depth of
cut is reached
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>179
</p>
<p>An intermittent&ndash;feed surface grinding cycle is performed.
</p>
<p>G79
</p>
<p>G79 I_ J_ K_ X_ R_ F_ P_ L_ ;
</p>
<p>I_ : Depth&ndash;of&ndash;cut 1 (A sign in the command specifies the direction
of cutting.)
</p>
<p>J_ : Depth&ndash;of&ndash;cut 2 (A sign in the command specifies the direction
of cutting.)
</p>
<p>K_ : Total depth of cut
X(Z)_ : Range of grinding (A sign in the command specifies the 
</p>
<p>direction of grinding.)
R_ : Feedrate for I and J
F_ : Feedrate for X (Z)
P_ : Dwell time
L_ : Grinding&ndash;wheel wear compensation (Only for continuous 
</p>
<p>dressing)
</p>
<p>I
</p>
<p>J
</p>
<p>X
</p>
<p>ï¿½ (R)
</p>
<p>ï¿½ P
</p>
<p>ï¿½ (F)
</p>
<p>ï¿½ P
</p>
<p>X
</p>
<p>Z
</p>
<p>ï¿½ (F)
</p>
<p>ï¿½ (R)
</p>
<p>The intermittent&ndash;feed surface grinding cycle consists of six operation
sequences.  Operations ï¿½ to ï¿½ are repeated until the depth reaches the
total depth of cut specified at address K.  In the single block stop mode,
operations ï¿½ to ï¿½ are performed every cycle start.
</p>
<p>ï¿½ Cutting is performed along the Z&ndash;axis in cutting feed mode for the
amount specified by I (depth of cut 1).  The feedrate is specified by R.
</p>
<p>ï¿½ Dwell is performed for the time specified by P.
</p>
<p>ï¿½ Cutting feed is performed for the amount specified by X (or Z).  The
feedrate is specified by F.
</p>
<p>ï¿½ Cutting is performed along the Z&ndash;axis in cutting feed mode for the
amount specified by J (depth of cut 2).  The feedrate is specified by R.
</p>
<p>ï¿½ Dwell is performed for the time specified by P.
</p>
<p>ï¿½ Feeding is performed in the reverse direction for the amount specified
by X at a feedrate specified by F.
</p>
<p>13.3.4
Intermittent&ndash;feed
Surface Grinding Cycle
(G79)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ï¿½ Grinding wheel cutting
</p>
<p>ï¿½ Dwell
ï¿½ Grinding
</p>
<p>ï¿½ Grinding wheel cutting
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Grinding 
(return direction)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>180
</p>
<p>X, (Z), I, J, and K must all be specified in incremental mode.
</p>
<p>I, J, X, and Z in canned cycles are modal data common to G75, G77, G78,
and G79.  They remain valid until new data is specified.  They are cleared
when a group 00 G code other than G04 or a group 01 G code other than
G75, G77, G78, and G79 is specified.
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ ï¿½
</p>
<p>ï¿½ ï¿½&#13;ï¿½	ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>181
</p>
<p>This function enables continuous dressing.  
When G75, G77, G78, or G79 is specified, grinding wheel cutting and
dresser cutting are compensated continuously according to the amount of
continuous dressing during grinding.
</p>
<p>Specify an offset number (grinding&ndash;wheel wear compensation number)
at address L in the block containing G75, G77, G78, or G79.  The
compensation amount set in the offset memory area corresponding to the
specified number is used as the amount of dressing.
Up to 200 offset numbers (L1 to L200) can be specified.  Compensation
amounts must be set beforehand in offset memory corresponding to offset
numbers from the CRT/MDI panel.
When L is omitted or L0 is specified in a surface grinding canned cycle
block, compensation is not performed.
</p>
<p>Compensation is performed for every grinding operation (every
movement along the X&ndash;axis) in the operation sequences of a canned
grinding cycle.  While the tool moves along the X&ndash;axis, compensation is
performed along the Y&ndash;axis (grinding wheel cutting) and the V&ndash;axis
(dresser cutting) for simultaneous three&ndash;axis interpolation.
The travel distance (compensation amount) along the Y&ndash;axis is the same
as specified dressing amount, and the travel distance along the V&ndash;axis is
twice as long (diameter).
</p>
<p>X
</p>
<p>Workpiece
</p>
<p>2a
</p>
<p>a
X
</p>
<p>YV
</p>
<p>Dresser
</p>
<p>Grinding
wheel
</p>
<p>a : Amount of dressing
</p>
<p>13.4
GRINDING&ndash;WHEEL
WEAR
COMPENSATION BY
CONTINUOUS
DRESSING 
(0&ndash;GSC, 0&ndash;GSD/II)
</p>
<p>Explanations
</p>
<p>ï¿½ Specification
</p>
<p>ï¿½ Compensation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>182
</p>
<p>Compensation amounts set in offset memory can be modified by using the
external tool compensation function or programming (by changing
offsets using custom macro variables).
With these functions, the compensation amount for the diameter of the
dressed grinding wheel can be changed.
If the compensation amount associated with the offset number specified
in the H code is smaller than the minimum grinding wheel diameter
specified in parameter 838 when programmed compensation (using G43
or G44) is performed, a signal is output to the PMC.
</p>
<p>X
</p>
<p>Workpiece
</p>
<p>2a
</p>
<p>a
X
</p>
<p>YV
</p>
<p>Dresser
</p>
<p>Grinding
wheel
</p>
<p>a : Amount of dressing
</p>
<p>13.5
AUTOMATIC
GRINDING WHEEL
DIAMETER
COMPENSATION
AFTER DRESSING
</p>
<p>13.5.1
Checking the Minimum
Grinding Wheel
Diameter 
(0&ndash;GSC, 0&ndash;GSD/II)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>183
</p>
<p>Every time an external signal is input, cutting is performed by a fixed
amount according to the programmed profile in the specified Y&ndash;Z plane.
</p>
<p>G161 R_ ;
</p>
<p>G160 ;
</p>
<p>profile  program
</p>
<p>Specify the start of an operation mode and profile program.  Also specify
the depth of cut in R.
</p>
<p>Program a workpiece figure in the Y&ndash;Z plane using linear interpolation
(G01) and/or circular interpolation (G02 or G03).  One or more blocks can
be specified.
</p>
<p>Cancel the operation mode (end of the profile program).
</p>
<p>Do not specify codes other than G01, G02, and G03 within the profile
program.
</p>
<p>70.0 70.080.0
</p>
<p>N1
</p>
<p>N2
</p>
<p>N3
</p>
<p>R=67.000
</p>
<p>Î±
</p>
<p>Z
</p>
<p>Y
</p>
<p>O0001 ;
    :
N0 G161 R10.0 ;
N1 G91 G01 Z&ndash;70.0 F100 ;
N2 G19 G02 Z&ndash;80.0 R67.0 ;
N3 G01 Z&ndash;70.0 ;
N4 G160 ;
    :
</p>
<p>In the above program, every time the in&ndash;feed cutting start signal is input,
the tool is moved by 10.000 along the machining profile shown above.
  Î±= Travel distance for each in&ndash;feed control cutting start signal input
The feedrate is programmed with an F code.
</p>
<p>13.6
IN&ndash;FEED GRINDING
ALONG THE Y AND Z
AXES AT THE END
OF TABLE SWING
(0&ndash;GSC, 0&ndash;GSD/II)
Format
</p>
<p>Explanations
</p>
<p>ï¿½ G161 R_
</p>
<p>ï¿½ Profile program
</p>
<p>ï¿½ G160
</p>
<p>Restrictions
</p>
<p>ï¿½ Profile program
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>184
</p>
<p>Chamfering and corner rounding blocks can be inserted automatically
between linear interpolation and linear interpolation blocks
</p>
<p>, C_
</p>
<p>, R_
</p>
<p>Chamfering
</p>
<p>Corner R
</p>
<p>When the above specification is added to the end of a block that specifies
linear interpolation (G01), a chamfering or corner rounding block is
inserted.
Blocks specifying chamfering and corner rounding can be specified
consecutively.
</p>
<p>After C, specify the distance from the virtual corner point to the start and
end points.  The virtual corner point is the corner point that would exist
if chamfering were not performed.
</p>
<p>Hypothetical corner intersection
</p>
<p>Inserted chamfering block
</p>
<p>ï¿½ G91 G01 X100.0 ,C10.0 ;
ï¿½ X100.0 Y100.0 ;
</p>
<p>C
</p>
<p>C
</p>
<p>After R, specify the radius for corner rounding.
</p>
<p>ï¿½ G91 G01 X100.0 ,R10.0 ;
ï¿½ X100.0 Y100.0 ;
</p>
<p>Center of a circle with radius R
</p>
<p>R
</p>
<p>Hypothetical corner
intersection
</p>
<p>13.7
OPTIONAL ANGLE
CHAMFERING AND
CORNER ROUNDING
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ï¿½ Chamfering
</p>
<p>ï¿½ Corner R
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>185
</p>
<p>Chamfering and corner rounding can be performed only in the plane
specified by plane selection (G17, G18, or G19).  These functions cannot
be performed for parallel axes.
</p>
<p>A block specifying chamfering or corner rounding must be followed by
a block that specifies a move command using linear interpolation (G01).
If the next block does not contain these specifications, alarm 052 is issued.
</p>
<p>A chamfering or corner rounding block can be inserted only for move
commands which are performed in the same plane.  In a block that comes
immediately after plane switching (G17, G18, or G19 is specified),
neither chamfering nor corner rounding can be specified.
</p>
<p>If the inserted chamfering or corner rounding block causes the tool to go
beyond the original interpolation move range, alarm 055 is issued.
</p>
<p>In a block that comes immediately after the coordinate system is changed
(G92, or G52 to G59) or a return to the reference position (G28 to G30)
is specified, neither chamfering nor corner rounding can be specified.
</p>
<p>The chamfering or corner rounding block is regarded as having a travel
distance of zero if the angle between the two straight lines is within +1&deg;.
</p>
<p>The following G codes cannot be used in a block that specifies chamfering
or corner rounding.  They also cannot be used between chamfering and
corner rounding blocks that define a continuous figure.
&sdot;G codes of group 00 (except G04)
&sdot;G68 of group 16
</p>
<p>Corner rounding cannot be specified in a threading block.
</p>
<p>Restrictions
</p>
<p>ï¿½ Plane selection
</p>
<p>ï¿½ Next block
</p>
<p>ï¿½ Plane switching
</p>
<p>ï¿½ Exceeding the move
range
</p>
<p>ï¿½ Coordinate system
</p>
<p>ï¿½ Travel distance 0
</p>
<p>ï¿½ Unavailable G codes
</p>
<p>ï¿½ ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>186
</p>
<p>Upon completion of positioning in each block in the program, an external
operation function signal can be output to allow the machine to perform
specific operation.
Concerning this operation, refer to the manual supplied by the machine
tool builder.
</p>
<p>G81 _ ; ( ï¿½ï¿½_ Axis move command )ï¿½ï¿½
</p>
<p>Every time positioning for the IP_ move command is completed, the CNC
sends a external operation function signal to the machine.  An external
operation signal is output for each positioning operation until canceled by
G80 or a group 01 G code.
</p>
<p>No external operation signals are output during execution of a block that
contains neither X nor Y.
</p>
<p>13.8
EXTERNAL MOTION
FUNCTION (G81)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>Restrictions
</p>
<p>ï¿½ A block without X or Y
axis
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>187
</p>
<p>When drilling is performed using a tool with an overload torque detection
function, this function allows the small&ndash;diameter peck drilling cycle to
be performed by entering an overload torque detection signal as a skip
signal to change the spindle speed and cutting feedrate.  The machining
sequence for small&ndash;diameter peck drilling is shown below.
</p>
<p>Tool ï¿½
</p>
<p>ï¿½
</p>
<p>Overload torque
</p>
<p>Overload torque ï¿½Dwell
</p>
<p>Point R
</p>
<p>Point Z
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>Q
</p>
<p>â
</p>
<p>â : Initial minimal clearance for retraction to point R, and clearance for the start point 
(previous end point) in second and subsequent cuttings
</p>
<p>Q : Depth of each cut
</p>
<p>: Movement at the rapid traverse rate
</p>
<p>: Movement at a parameter&ndash;set or programmed feedrate
</p>
<p>: Movement at a programmed cutting feedrate
</p>
<p>Fig. 13.9
</p>
<p>The machining sequence of the small&ndash;diameter peck drilling cycle is as
follows:
</p>
<p>ï¿½ Positioning along the X&ndash;axis and Y&ndash;axis
</p>
<p>ï¿½ Positioning at point R along the Z&ndash;axis
</p>
<p>ï¿½ Drilling along the Z&ndash;axis (maximum depth of cut Q)
</p>
<p>ï¿½ Repetition of the following operations along the Z&ndash;axis until the
bottom is reached
</p>
<p>ï¿½ Retract (&rarr; Minimal clearance â)
ï¿½ Retract (&rarr; Point R)
ï¿½ Advance (Point R&rarr; Start point + Clearance â)
ï¿½ Cut (Depth of cut Q + â)
</p>
<p>ï¿½ Dwell at the hole bottom
</p>
<p>ï¿½ Return to point R along the Z&ndash;axis (or to the initial point)
</p>
<p>13.9
SMALL&ndash;DIAMETER
PECK DRILLING
CYCLE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>188
</p>
<p>Mï¿½ï¿½ ;
G83 X_ Y_ Z_ R_ Q_ F_ I_ K_ P_ ;
X_ Y_ ;
X_ Y_ ;
</p>
<p>G80 ;
</p>
<p>Specification Code Description
</p>
<p>Specification of 
small&ndash;diameter
peck drilling cycle
</p>
<p>Mï¿½ï¿½ Specify an M code for the small&ndash;diameter
peck drilling cycle set in parameter No. 304.
G83, specified below, is regarded as being
the small&ndash;diameter peck drilling cycle.
</p>
<p>Specification of the
peck drilling cycle
</p>
<p>G83 G83 is modal.  Once this code is specified,
the code remains valid until another canned
cycle is specified or a G code for canceling
the canned cycle is specified.
</p>
<p>Specification of a
hole position
</p>
<p>X_
Y_
</p>
<p>Specify a hole position by using either an in-
cremental or absolute value.  The path and
feedrate specification is the same as for
positioning using G00.
</p>
<p>Hole machining 
data
</p>
<p>Z_ Specify the distance from point R to the hole
bottom by using an incremental value, or
specify the position of the hole bottom by us-
ing an absolute value.
</p>
<p>Q_ Depth of each cut
</p>
<p>R_ Specify the distance from the initial level to
point R by using an incremental value, or
specify the position of point R by using an
absolute value.
</p>
<p>F_ Cutting feedrate
</p>
<p>I_ Advance or retract feedrate (The default is
the parameter&ndash;set value.)
</p>
<p>K_ Number of repeats (The default is 1.)
</p>
<p>P_ Dwell time at the hole bottom (The default is
0 seconds.)
</p>
<p>Cancellation of 
small&ndash;diameter
peck drilling cycle
</p>
<p>G80 This code cancels the small&ndash;diameter peck
drilling cycle.  This code also cancels the M
code for small&ndash;diameter peck drilling cycle
specification.
</p>
<p>NOTE
The hole machining data is modal.  When identical hole
machining is repeated, the hole machining data need not be
specified in each of the subsequent blocks.
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY
</p>
<p>PROGRAMMINGPROGRAMMING
</p>
<p>189
</p>
<p>(1)The small&ndash;diameter peck drilling cycle is executed by specifying G83
after specifying an M code for the small&ndash;diameter peck drilling cycle.
During the execution of this cycle, the small&ndash;diameter peck drilling
cycle in&ndash;progress signal is output during the period between point R
positioning of the drilling axis and the return to point R/initial level.
</p>
<p>(2)As an overload torque detection signal, the skip signal (X008#7) is
used.  The skip signal is enabled only while the drilling axis is placed
between point R and point Z, and an advance or cutting operation is
being performed.  When the skip signal is entered while an advance
or cutting operation is being performed, a retract operation is started
immediately.
</p>
<p>(3) In one G83 cycle, the cutting condition is changed for each peck
drilling operation (advance&rarr; cut&rarr; retract).
ï¿½ Cutting feedrate change
</p>
<p>The cutting feedrate programmed using an F code is changed for
each of the second and subsequent cutting operations.  In parameter
Nos. 307 and 308, specify the change ratios applicable when the
skip signal is received and when the skip signal is not received,
respectively, in the previous cutting operation.
</p>
<p>Cutting feedrate = Fï¿½ Î±
</p>
<p>(First operation) Î± = 1.0
(Second and subsequent operations) Î± = Î±ï¿½Î²ï¿½100
Î² represents the change ratio for one operation.  If the skip signal
was entered during the previous cutting:
</p>
<p>Î²  = Parameter No. 307
When the skip signal was not entered during the previous cutting:
</p>
<p>Î²  = Parameter No. 308
If the cutting feedrate change ratio Î± becomes smaller than the
value set in parameter No. 309, no further cutting feedrate changes
are made.
</p>
<p>ï¿½ Spindle speed change
The spindle speed programmed using an S code is changed for each
of second and subsequent advance operations.  In parameter Nos.
305 and 306, specify the change ratios applicable when the skip
signal is received and when the skip signal is not received,
respectively, in the previous cutting operation.
</p>
<p>Spindle speed = ï¿½ï¿½ Î³
</p>
<p>(First operation) Î³ = 1.0
(Second and subsequent operations) Î³ = Î³ï¿½Î´ï¿½100
Î´ represents the change ratio of one operation.  If the skip signal was
entered during the previous cutting:
</p>
<p>Î´ = Parameter No. 305
When the skip signal was not entered during the previous cutting:
</p>
<p>Î´ = Parameter No. 306
If the spindle speed is clamped to the lower limit, no spindle speed
change is made.
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
13. FUNCTIONS TO SIMPLIFY 
</p>
<p>PROGRAMMING
</p>
<p>190
</p>
<p>(4)Advance and retract operations during peck drilling are performed not
as positioning by rapid traverse but as cutting feed.
</p>
<p>(5)When an advance/retract feedrate during peck drilling is to be
specified using an I code, the same format as that for an F code is used.
An I code specified in G83 remains valid until the specification of G80
or the input of a reset signal.
</p>
<p>NOTE
1 An M code for the small&ndash;diameter peck drilling cycle must
</p>
<p>be specified before the specification of G83.  Furthermore,
the block containing the M code must not include any other
codes.  The M code is subjected to internal processing, but
is not output.
</p>
<p>2 Retract and advance operations are controlled by the
cutting feedrate acceleration/deceleration function.  An
in&ndash;position check is made at point R during a retract
operation.
</p>
<p>3 When the skip signal is received during advance operation,
a retract operation is started.
</p>
<p>4 To change the spindle speed during peck drilling in the
small&ndash;diameter peck drilling cycle, a 4&ndash; or 5&ndash;digit S
command is required.
</p>
<p>5 Point R must be positioned away from the workpiece
surface by an amount equal to clearance ï¿½ or more.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>191
</p>
<p>14 COMPENSATION FUNCTION
This chapter describes the following compensation functions:
</p>
<p>TOOL LENGTH OFFSET (G43, G44, G49) Sec.14.1. . . . . . . . . . . . . . . . . 
AUTOMATIC TOOL LENGTH MEASUREMENT (G37) Sec.14.2. . . . . 
TOOL OFFSET (G45 TO G48) Sec.14.3. . . . . . . . . . . . . . . . . . . . . . . . . . . . 
CUTTER COMPENSATION B (G39 TO G42) Sec.14.4. . . . . . . . . . . . . . . 
OVERVIEW OF CUTTER COMPENSATION C 
(G40 TO G42) Sec.14.5. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
DETAILS OF CUTTER COMPENSATION C Sec.14.6. . . . . . . . . . . . . . . 
TOOL COMPENSATION VALUES, NUMBER OF COMPENSATION
VALUES, AND ENTERING VALUES FROM THE PROGRAM (G10)
</p>
<p>Sec.14.7. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
SCALING (G50, G51) Sec.14.8. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
COORDINATE SYSTEM ROTATION (G68, G69) Sec.14.9. . . . . . . . . . . 
INDEX TABLE INDEXING FUNCTION Sec.14.10. . . . . . . . . . . . . . . . . . 
NORMAL DIRECTION CONTROL (G150, G151, G152) Sec.14.11. . . . 
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>192
</p>
<p>This function can be used by setting the difference between the tool length
assumed during programming and the actual tool length of the tool used
into the offset memory.  It is possible to compensate the difference without
changing the program.
Specify the direction of offset with G43 or G44.  Select a tool length offset
value from the offset memory by entering the corresponding address and
number (H code).
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>Tool assumed dur-
ing programming
</p>
<p>Actual tool
</p>
<p>Specify this distance
as the value of tool
length offset.
</p>
<p>Fig14.1   Tool length offset
</p>
<p>The following three methods of tool length offset can be used, depending
on the axis along which tool length offset can be made.
&sdot;Tool length offset A
</p>
<p>Compensates for the difference in tool length along the Z&ndash;axis.
&sdot;Tool length offset B
</p>
<p>Compensates for the difference in tool length along the X&ndash;,Y&ndash;,or 
Z&ndash;axis.
</p>
<p>&sdot;Tool length offset C
Compensates for the difference in tool length along a specified axis.
</p>
<p>G43 Z_ H_ ;
</p>
<p>G44 Z_ H_ ;
</p>
<p>Tool length offset A
</p>
<p>G17 G43 Z_ H_ ;
</p>
<p>G17 G44 Z_ H_ ;
</p>
<p>G18 G43 Y_ H_ ;
</p>
<p>G18 G44 Y_ H_ ;
</p>
<p>G19 G43 X_ H_ ;
</p>
<p>Tool length offset B
</p>
<p>G43 Î±_ H_ ;
G44 Î±_ H_ ;
</p>
<p>Tool length offset C
</p>
<p>G49 ; or  H0 ;Tool length offset
cancel
</p>
<p>G43 : Positive offset
G44 : Negative offset
G17 : XY plane selection
G18 : ZX plane selection
G19 : YZ plane selection
Î± : Address of a specified 
</p>
<p>axis
H : Code for specifying the 
</p>
<p>tool length offset value
</p>
<p>Explanation of each address
</p>
<p>G19 G44 X_ H_ ;
</p>
<p>14.1
TOOL LENGTH
OFFSET 
(G43, G44, G49)
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>193
</p>
<p>Select tool length offset A, B, or C, by setting bit 6 of parameter 003 and
bit 3 of parameter No. 019.
</p>
<p>When G43 is specified, the tool length offset value (stored in offset
memory) specified with the H code is added to the coordinates of the end
position specified by a command in the program.  When G44 is specified,
the same value is subtracted from the coordinates of the end position.  The
resulting coordinates indicate the end position after compensation,
regardless of whether the absolute or incremental mode is selected.
If movement along an axis is not specified, the system assumes that a
move command that causes no movement is specified.  When a positive
value is specified for tool length offset with G43, the tool is moved
accordingly in the positive direction.  When a positive value is specified
with G44, the tool is moved accordingly in the negative direction.  When
a negative value is specified, the tool is moved in the opposite direction.
G43 and G44 are modal G codes.  They are valid until another G code
belonging to the same group is used.
</p>
<p>The tool length offset value assigned to the number (offset number)
specified in the H code is selected from offset memory and added to or
subtracted from the commands specified by a command in the program.
The tool length offset value may be set in the offset memory through the
CRT/MDI panel.
The range of values that can be set as the tool length offset value is as
follows.
</p>
<p>Increment system Metric input Inch input
</p>
<p>IS&ndash;B 0 to &plusmn;999.999mm 0 to &plusmn;99.9999inch
</p>
<p>IS&ndash;C 0 to &plusmn;999.9999mm 0 to &plusmn;99.99999inch
</p>
<p>WARNING
When the tool length offset value is changed due to a
change of the offset number, the offset value changes to
the new tool length offset value, the new tool length offset
value is not added to the old tool length offset value. 
</p>
<p>H1 : tool length offset value 20.0
H2 : tool length offset value 30.0 
G90 G43 Z100.0 H1 ; Z will move to 120.0
G90 G43 Z100.0 H2 ; Z will move to 130.0
</p>
<p>NOTE
The tool length offset value corresponding to offset No. 0 ,
that is, H0 always means 0.  It is impossible to set any other
tool length offset value to H0.
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Selection of tool length
offse 	
</p>
<p>ï¿½ Direction of the offset
</p>
<p>ï¿½ Specification of the tool
length offset value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>194
</p>
<p>Tool length offset B can be executed along two or more axes when the axes
are specified in two or more blocks.
</p>
<p>Offset in X and Y axes.
G19 G43 H _ ; Offset in X axis 
G18 G43 H _ ; Offset in Y axis
</p>
<p>(Offsets in X and Y axes are performed)
</p>
<p>If the bit (bit 5 of parameter No. 036) is set to 1, an alarm will not occur
even when tool length offset C is executed along two or more axes at the
same time.
</p>
<p>To cancel tool length offset, specify G49 or H0.  After G49 or H0 is
specified, the system immediately cancels the offset mode.
</p>
<p>CAUTION
After tool length offset B is executed along two or more
axes, offset along all the axes is canceled by specifying
G49.  If H0 is specified, only offset along an axis
perpendicular to the specified plane is canceled.
</p>
<p>NOTE
In the case of the offset in three axes or more, if the offset
is canceled by G49 code, the P/S alarm 015 is generated.
Cancel the offset by using G49 and H00.
</p>
<p>ï¿½ Performing tool length
offset along two or more
axes
</p>
<p>ï¿½ Tool length offset cancel
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>195
</p>
<p>12
</p>
<p>Actual position
</p>
<p>Programmed 
position
</p>
<p>offset
value
Îµ=4mm
</p>
<p>#1
</p>
<p>20
</p>
<p>30
</p>
<p>30
</p>
<p>120
</p>
<p>#3
</p>
<p>#2
</p>
<p>+Y
</p>
<p>+X
</p>
<p>30 50 +Z
</p>
<p>335
</p>
<p>30
18 22
</p>
<p>8
</p>
<p>ï¿½
</p>
<p>	
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½ ï¿½
</p>
<p>ï¿½
</p>
<p>

</p>
<p>ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ &#13;ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ 	ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ï¿½ ï¿½ï¿½
</p>
<p>11
</p>
<p>13
</p>
<p>&middot; 
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
H1=&ndash;4.0 ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
N1 G91 G00 X120.0 Y80.0 ; ï¿½. . . . . . . . . . . . . . . . . . . . . . . . . . 
N2 G43 Z&ndash;32.0 H1 ; 	. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
N3 G01 Z&ndash;21.0 F1000 ; ï¿½. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
N4 G04 P2000 ; ï¿½. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
N5 G00 Z21.0 ; ï¿½. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
N6 X30.0 Y&ndash;50.0 ; ï¿½. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
N7 G01 Z&ndash;41.0 ; ï¿½. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
N8 G00 Z41.0 ; ï¿½. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
N9 X50.0 Y30.0 ; ï¿½. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
N10 G01 Z&ndash;25.0 ; 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
N11 G04 P2000 ; 11. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
N12 G00 Z57.0 H0 ; 12. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
N13 X&ndash;200.0 Y&ndash;60.0 ; 13. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
N14 M2 ;
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>196
</p>
<p>By issuing G37 the tool starts moving to the measurement position and
keeps on moving till the approach end signal from the measurement
device is output.  Movement of the tool is stopped when the tool tip
reaches the measurement position.
Difference between coordinate value when tool reaches the measurement
position and coordinate value commanded by G37 is added to the tool
length offset amount currently used.
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>Z
</p>
<p>X0
</p>
<p>Rapid
traverse
</p>
<p>Measurement
feedrate
</p>
<p>A (Start position)
Measurement position is commanded
with G37
</p>
<p>B (Deceleration position)
</p>
<p>C (Measurement position)
The tool stops when the approach end
signal goes on.
</p>
<p>Compensation value = [(Coordinates of the point at which the tool is stopped) &ndash;
(Coordinates of the programmed measurement position)]
</p>
<p>Fig. 14.2 (a)  Automatic tool length measurement
</p>
<p>G92 ï¿½ï¿½_ ; Sets the workpiece coordinate system.  (It can be set with 
G54 to G59.  See Chapter 7, &ldquo;Coordinate System.&rdquo;)
</p>
<p>Hï¿½ï¿½ Specifies an offset number for tool length offset.
</p>
<p>G90 G37 ï¿½ï¿½_ ; Absolute command
ï¿½ G37 is valid only in the block in which it is specified.
ï¿½ï¿½_ indicates the X&ndash;, Y&ndash;, Z&ndash;, or fourth axis.
</p>
<p>Set the workpiece coordinate system so that a measurement can be made
after moving the tool to the measurement position.  The coordinate system
must be the same as the workpiece coordinate system for programming.
</p>
<p>Specify the absolute coordinates of the correct measurement position.
Execution of this command moves the tool at the rapid traverse rate
toward the measurement position, reduces the federate halfway, then
continuous to move it until the approach end signal from the measuring
instrument is issued.  When the tool tip reaches the measurement position,
the measuring instrument sends an approach end signal to the CNC which
stops the tool.
</p>
<p>14.2
AUTOMATIC TOOL
LENGTH
MEASUREMENT
(G37)
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ï¿½ Setting the workpiece
coordinate system
</p>
<p>ï¿½ Specifying G37
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>197
</p>
<p>The difference between the coordinates of the position at which the tool
reaches for measurement and the coordinates specified by G37 is added
to the current tool length offset value.
Offset value = 
[(Coordinates of the position at which the tool reaches for measurement) &ndash;
(Coordinates specified by G37)]
These offset values can be manually changed from MDI.
</p>
<p>When automatic tool length measurement is executed, the tool moves as
shown in Fig. 15.2 (b).  If the approach end signal goes on while the tool
is traveling from point B to point C, an alarm occurs.  Unless the approach
end signal goes on before the tool reaches point F, the same alarm occurs.
The alarm number is 080.
</p>
<p>Start 
position
</p>
<p>Rapid
traverse Approach end signal ON
</p>
<p>Position commanded
by G37
</p>
<p>Permitted range of approach end signal
</p>
<p>A B D E F
</p>
<p>Deceleration
feedrate
(measurement
feedrate)
</p>
<p>C
</p>
<p>Fig. 14.2 (b)  Tool movement to the measurement position
</p>
<p>ï¿½ Changing the offset
value
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>198
</p>
<p>WARNING
When a manual movement is inserted into a movement at
a measurement federate, return the tool to the position
before the inserted manual movement for restart.
</p>
<p>NOTE
1 When an H code is specified in the same block as G37, an
</p>
<p>alarm is generated.  Specify H code before the block of G37.
2 The measurement speed (parameter No. 558),
</p>
<p>deceleration position (parameter No. 813), and permitted
range of the approach end signal (parameter No. 814) are
specified by the machine tool builder.
</p>
<p>3 When offset memory A is used, the offset value is changed.
When offset memory B is used, the tool wear compensation
value is changed.
</p>
<p>4 The approach end signal is monitored usually every 2 ms.
The following measuring error is generated:
</p>
<p>ERRmax = Fmï¿½1/60ï¿½4/1000  where
ERRmax : maximum measuring error (mm)
Fm : measurement federate (mm/min.)
</p>
<p>For example, when Fm = 100 mm/min., ERRmax. = 0.007m
5 The tool stops a maximum of 16 ms after the approach end
</p>
<p>signal is detected.  But the value of the position at which the
approach end signal was detected (note the value when the
tool stopped) is used to determine the offset amount.  The
overrun for 16 ms is:
</p>
<p>Qmax  = Fm ï¿½ 1/60ï¿½20+Ts/1000
TS : Servo time constant
Qmax : maximum overrun (mm)
Fm : measurement federate (mm/min.)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>199
</p>
<p>G92 Z760.0 X1100.0 ; Sets a workpiece coordinate system with 
respect to the programmed absolute zero point.
</p>
<p>G00 G90 X850.0 ; Moves the tool to X850.0.
That is the tool is moved to a position that is a
specified distance from the measurement
position along the Z&ndash;axis.
</p>
<p>G43 H01 ; Specifies offset number 1.  
G37 Z200.0 ; Moves the tool to the measurement position.
G00 Z204.0 ; Retracts the tool a small distance along the
</p>
<p>Z&ndash;axis.
</p>
<p>For example, if the tool reaches the measurement position with Z198.0;,
the compensation value must be corrected.  Because the correct
measurement position is at a distance of 200 mm, the compensation value
is lessened by 2.0 mm (198.0 &ndash; 200.0 = &ndash;2.0).
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>200
</p>
<p>760
</p>
<p>850 1100 X
</p>
<p>Z
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>Measurement
position along Z axis
</p>
<p>0
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>200
</p>
<p>The programmed travel distance of the tool can be increased or decreased
by a specified tool offset value or by twice the offset value.
The tool offset function can also be applied to an additional axis.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil; Programmed pathTool center pathTool
</p>
<p>Workpiece
</p>
<p>: Command for moving the tool
</p>
<p>G45 ï¿½ï¿½_D_ ; Increase the travel distance by the tool offset value
</p>
<p>ï¿½ï¿½
</p>
<p>Decrease the travel distance by the tool offset value
</p>
<p>Increase the travel distance by twice the tool offset value
</p>
<p>Decrease the travel distance by twice the tool offset value
</p>
<p>D  : Code for specifying the tool offset value
</p>
<p>G45 to G48 : One&ndash;shot G code for increasing or decreasing the travel
distance
</p>
<p>G46 ï¿½ï¿½_D_ ;
</p>
<p>G47 ï¿½ï¿½_D_ ;
</p>
<p>G48 ï¿½ï¿½_D_ ;
</p>
<p>14.3
TOOL OFFSET 
(G45 TO G48)
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>201
</p>
<p>As shown in Table 14.3 (a), the travel distance of the tool is increased or
decreased by the specified tool offset value.
In the absolute mode, the travel distance is increased or decreased as the
tool is moved from the end position of the previous block to the position
specified by the block containing G45 to G48.
</p>
<p>Table14.3 (a) Increase and decrease of the tool travel distance
</p>
<p>G code When a positive tool offsetvalue is specified
When a negative tool offset
</p>
<p>value is specified
</p>
<p>G45
</p>
<p>Start position End position Start position End position
</p>
<p>G46
</p>
<p>Start position End position Start position End position
</p>
<p>G47
</p>
<p>Start position End position Start position End position
</p>
<p>G48
</p>
<p>Start position End position Start position End position
</p>
<p>Programmed movement distance
Tool offset value
</p>
<p>Actual movement position
</p>
<p>If a move command with a travel distance of zero is specified in the
incremental command (G91) mode, the tool is moved by the distance
corresponding to the specified tool offset value.
If a move command with a travel distance of zero is specified in the
absolute command (G90) mode, the tool is not moved.
</p>
<p>Once selected by D code, the tool offset value remains unchanged until
another tool offset value is selected.
Tool offset values can be set within the following range:
</p>
<p>Table14.3 (b)  Range of tool offset values
</p>
<p>Increment system Metric input inch input
</p>
<p>IS&ndash;B 0 to ï¿½999.999mm 0 to ï¿½99.9999inch
</p>
<p>IS&ndash;C 0 to ï¿½999.9999mm 0 to ï¿½99.99999inch
</p>
<p>D0 always indicates a tool offset value of zero.
</p>
<p>Explanations
</p>
<p>ï¿½ Increase and decrease
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½	 ï¿½ï¿½ï¿½
ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>202
</p>
<p>WARNING
When G45 to G48 is specified to n axes (n=1&ndash;4) simultaneously in a motion block, offset is
applied to all n axes.
When the cutter is offset only for cutter radius or diameter in taper cutting, overcutting or
undercutting occurs.  
Therefore, use cutter compensation (G40 or G42) shown in section 14.4 or 14.5.
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Shape actually cut
</p>
<p>Desired
shape
</p>
<p>Overcutting
</p>
<p>Y axis
</p>
<p>Undercutting
</p>
<p>G01 X_ F_ ;
G47 X_ Y_ D_ ;
        Y_ ;
</p>
<p>G01 G45 X_ F_ D_;
                X_ Y_ ;
G45 Y_ ;
</p>
<p>X axis
</p>
<p>Desired shape
</p>
<p>Shape actually cut
</p>
<p>Y axis
</p>
<p>X axis
</p>
<p>CAUTION
G45 to G48 (tool offset) must not be used in the G41 or G42 (cutter compensation) mode.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>203
</p>
<p>NOTE
1 When the specified direction is reversed by decrease as shown in the figure below, the tool
</p>
<p>moves in the opposite direction.
</p>
<p>2 Tool offset can be applied to circular interpolation (G02, G03) with the G45 to G48 commands
only for 1/4 and 3/4 circles using addresses I, J and K, providing that the coordinate rotation
be not specified at the same time.  This function is provided for compatibility with the
conventional CNC tape without any cutter compensation. The function should not be used
when a new CNC program is prepared.
</p>
<p>3 D code should be used in tool offset mode (G45 to G48).  However, H code can be used
because of compatibility with conventional CNC tape format.  The H code must be used under
tool length offset cancel (G49).
</p>
<p>4 G45 to G48 are ignored in canned cycle mode.  Perform tool offset by specifying G45 to G48
before entering canned cycle mode and cancel the offset after releasing the canned cycle
mode.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>G46 X2.50 ;
Tool offset value
+3.70
</p>
<p>Equivalent command
X&ndash;1.20 ;
</p>
<p>N1
</p>
<p>N2
</p>
<p>N3
N4
</p>
<p>Program
</p>
<p>N1 G46 G00 X_ Y_ D_ ;
N2 G45 G01 Y_ F_ ;
N3 G45 G03 X_ Y_ I_ ;
N4 G01 X_ ;
</p>
<p>Movement of the tool Program command
Start
position End  
</p>
<p>position
</p>
<p>Tool offset value
</p>
<p>Example
</p>
<p>Tool offset for circular interpolation
</p>
<p>Programmed tool path
</p>
<p>Actual tool path
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>204
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Tool diameter : 20Ï
Offset No. : 01
Tool offset value : +10.0
</p>
<p>80 50
</p>
<p>40
</p>
<p>30R
</p>
<p>50
</p>
<p>40
</p>
<p>30R
</p>
<p>N1 N2
</p>
<p>N3
</p>
<p>N4
</p>
<p>N5
</p>
<p>N6 N7
</p>
<p>N8
</p>
<p>N9
N10
</p>
<p>N11
</p>
<p>N12
</p>
<p>N13
</p>
<p>N14
30 3040
</p>
<p>X axis
</p>
<p>Y axis
</p>
<p>Program using tool offset
</p>
<p>Origin
</p>
<p>Program
</p>
<p>N1 G91 G46 G00 X80.0 Y50.0 D01 ;
N2 G47 G01 X50.0 F120.0 ;
N3 Y40.0 ;
N4 G48 X40.0 ;
N5 Y&ndash;40.0 ;
N6 G45 X30.0 ;
N7 G45 G03 X30.0 Y30.0 J30.0 ;
N8 G45 G01 Y20.0 ;
N9 G46 X0 ; Decreases toward the positive direction for. . . . . . . . . 
</p>
<p>movement amount &ldquo;0&rdquo;.  The tool moves in the
 &ndash;X direction by the offset value.
N10 G46 G02 X&ndash;30.0 Y30.0 J30.0 ;
N11 G45 G01 Y0 ; Increase toward the positive direction for. . . 
</p>
<p>movement amount &ldquo;0&rdquo;.  The tool moves in the
+Y direction by the offset value.
</p>
<p>N12 G47 X&ndash;120.0 ;
N13 G47 Y&ndash;80.0 ;
N14 G46 G00 X&ndash;80.0 Y&ndash;50.0 ;
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>205
</p>
<p>When the tool is moved, the tool path can be shifted by the radius of the
tool (Fig. 14.4).
To make an offset as large as the radius of the tool, first create an offset
vector with a length equal to the radius of the tool (start&ndash;up).  The offset
vector is perpendicular to the tool path.  The tail of the vector is on the
workpiece side and the head points to the center of the tool. 
If a linear interpolation, corner offset, or circular interpolation command
is specified after start&ndash;up, the tool path can be shifted by the length of the
offset vector during machining. 
To return the tool to the start point at the end of machining, cancel the
cutter compensation mode.
</p>
<p>Corner offset
</p>
<p>Circular 
interpolation
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Start up
</p>
<p>Linear
interpolation
</p>
<p>Linear  interpolation
</p>
<p>Corner offset
Circular interpolation
</p>
<p>Circular
interpolation
</p>
<p>R2
</p>
<p>R1
</p>
<p>Y axis
</p>
<p>X axis
</p>
<p>Start position
</p>
<p>Offset vector
</p>
<p>Cutter
compensation
cancel
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>Linear
interpolation
</p>
<p>Circular
interpolation
</p>
<p>Fig.14.4  Outline of cutter compensation
</p>
<p>To obtain the tool path appropriately offset by cutter compensation B,
create the program as follows:
In an outer corner, corner offset circular interpolation is specified to direct
the offset vector in the direction perpendicular to that of the tool
movement.  In an inner corner, an arc with a radius smaller than the offset
radius is specified to prevent the tool from biting the outline of the
workpiece.
</p>
<p>14.4
CUTTER
COMPENSATION B
(G39 TO G42)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>206
</p>
<p>ï¿½ï¿½_
</p>
<p>G00 (or G01) G41 (or G42)
</p>
<p>G39 (or IR_)  ;
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½&#13;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
IR_ H_ ;
</p>
<p>G41
</p>
<p>G42
</p>
<p>H_
</p>
<p>: Command for axis movement
</p>
<p>: Cutter compensation left (Group 07)
: Cutter compensation right (Group 07)
</p>
<p>: Incremental value from the end position.  Perpendicular to the 
offset   vector at the end position.
</p>
<p>: Code for specifying the cutter compensation value (1 to 3 digits)
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½		ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>G39 : Corner offset circular interposition (Group 00)
</p>
<p>: Incremental value from the end position.  
Perpendicular to   the offset vector at the end position.
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½&#13;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
G40 ;
</p>
<p>G40 : Cutter compensation cancel (Group 07)
: Command for axis movement
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½	 ï¿½
ï¿½ ï¿½		ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½
Offset plane
</p>
<p>XpYp
</p>
<p>ZpXp
</p>
<p>YpZp
</p>
<p>Command of the plane selection
</p>
<p>G17 ;
</p>
<p>G18 ;
</p>
<p>G19 ;
</p>
<p>Xp_Yp_
</p>
<p>Xp_Zp_
</p>
<p>Yp_Zp_
</p>
<p>I_J_
</p>
<p>I_K_
</p>
<p>J_K_
</p>
<p>(or) IR_
</p>
<p>ï¿½ï¿½_
</p>
<p>ï¿½ï¿½_
</p>
<p>IR_
</p>
<p>ï¿½ï¿½_
</p>
<p>ï¿½ï¿½_
</p>
<p>ï¿½ï¿½_
</p>
<p>ï¿½ï¿½_ IR_
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>207
</p>
<p>Specify the number assigned to a cutter compensation value with a 1&ndash; to
3&ndash;digit number after address H (H code) in the program.  The H code can
be specified in any position before the offset cancel mode is first switched
to the cutter compensation mode.  The H code need not be specified again
unless the cutter compensation value needs to be changed.
Assign cutter compensation values to the H codes on the CRT/MDI panel.
For the specification of the cutter compensation value, see Subsection
9.1.1 in the section on operation.
The table below shows the range in which the cutter compensation values
can be specified.
</p>
<p>Table14.4 Valid range of cutter compensation values
</p>
<p>Increment system Metric input inch input
</p>
<p>IS&ndash;B 0 to ï¿½999.999mm 0 to ï¿½99.9999inch
</p>
<p>IS&ndash;C 0 to ï¿½999.9999mm 0 to ï¿½99.99999inch
</p>
<p>NOTE
The cutter compensation value corresponding to offset
No.0, that is, H0 always gets 0. It is impossible to set H00
to any other cutter compensation value.
</p>
<p>Cutter compensation is carried out in the plane determined by G17, G18
and G19 (G codes for plane selection.).  This plane is called the offset
plane.  If the offset plane is not specified, G17 is assumed to be
programmed.
Compensation is not executed for the coordinates of a position which is
not in the specified plane.  The programmed values are used as they are.
In the sequel, what vector is created, what offset calculation is made, by
an offset command, will be discussed on assumption that an XY plane is
selected. This discussion applies also when another plane is selected.
The offset vector is cleared by reset.
After the power is turned on, the length of the offset vector is set to zero
and the cutter compensation cancel mode is selected.
</p>
<p>NOTE
A move command mode at the time of change from the
offset cancel mode to the cutter compensation mode, is
positioning (G00) or linear interpolation (G01).  The circular
interpolation (G02, G03) cannot be used.
</p>
<p>Explanations
</p>
<p>ï¿½ H code
</p>
<p>ï¿½ Offset plane selection
and offset vector
</p>
<p>ï¿½ Transition from the offset
cancel mode to the
cutter compensation
mode (Start up)ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>208
</p>
<p>G41 offsets the tool towards the left of the workpiece as you see when you
face in the same direction as the movement of the cutting tool.
</p>
<p>G41 X_ Y_ I_ J_ H_ ;
Specifies a new vector to be created at right angles with the direction of
(I, J) on the end point, and the tool center moves toward the point of the
new vector from that of the old vector on the start point.(I, J) is expressed
in an incremental value from the end point, and is significant only as a
direction, and its amount is arbitrary.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>New vectorOld vector
</p>
<p>(X, Y) (I, J)Start position
</p>
<p>In case the old vector is 0, this command specifies the equipment to enter
from the cancel mode into the cutter compensation mode.  At this time,
the offset number is specified by the H code.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;(X, Y) (I, J)
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>New vector
</p>
<p>Old vector=0
</p>
<p>Start position
</p>
<p>Unless otherwise specified, (I, J) are assumed to be equal to (X, Y).  When
the following command is specified, a vector perpendicular to a line
connecting the start position and position (X, Y) is created. 
G41 X_ Y_ ;
If, however, G00 is specified, each axis moves independently at the rapid
traverse rate.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>(X, Y)
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>New vectorOld vector
</p>
<p>Start position
</p>
<p>14.4.1
Cutter Compensation
Left (G41)
</p>
<p>Explanations
</p>
<p>ï¿½ G00 (positioning) or
G01 (linear interpolation)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>209
</p>
<p>G41&hellip; ;
     :
G02 (or G03) X_ Y_ R_ ;
Above command specifies a new vector to be created to the left looking
toward the direction in which an arc advances on a line connecting the arc
center and the arc end point, and the tool center to move along the arc
advancing from the point of the old vector on the arc start point toward
that of the new vector.  This is, however, established on assumption the
old vector is created correctly. 
The offset vector is created toward the arc center or opposite direction
against the arc center.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Tool center path
</p>
<p>New vector
</p>
<p>Old vector
</p>
<p>Programmed path
R
</p>
<p>Start position
</p>
<p>New vector
</p>
<p>Old vector
</p>
<p>(X, Y)
</p>
<p>R
</p>
<p>Start
position
</p>
<p>(X, Y)
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>ï¿½ G02, G03
(Circular interpolation)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>210
</p>
<p>G42, contrary to G41, specifies a tool to be offset to the right of work piece
looking toward the direction in which the tool advances.
G42 has the same function as G41, except that the directions of the vectors
created by the commands are the opposite.
</p>
<p>G42 X_ Y_ I_ J_ H_ ;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>New vectorOld vector
</p>
<p>(X, Y)
</p>
<p>(I, J)
</p>
<p>Start position
</p>
<p>G42 X_ Y_ ;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>(X, Y)
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>New vectorOld vector
</p>
<p>Start position
</p>
<p>In the case of G00, however, each axis moves independently at the rapid
traverse rate.
</p>
<p>14.4.2
Cutter Compensation
Right (G42)
</p>
<p>Explanations
</p>
<p>ï¿½ G00 (positioning) or
G01 (linear interpolation)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>211
</p>
<p>G42&hellip; ;
     :
G02 (or G03) X_ Y_ R_;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>R
</p>
<p>(X, Y)
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>New vector
</p>
<p>Old vector
</p>
<p>Start position
</p>
<p>Programmed path
</p>
<p>New vector
</p>
<p>Tool center path
</p>
<p>Old vector
</p>
<p>Start position
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>R
</p>
<p>(X, Y)
</p>
<p>ï¿½ G02 or G03
(Circular interpolation)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>212
</p>
<p>When the following command is specified in the G01, G02, or G03 mode,
corner offset circular interpolation can be executed with respect to the
radius of the tool.
G39 X_ Y_ ; or G39 I_ J_ ;
A new vector is created to the left (G41) or to the right (G42) looking
toward (X, Y) from the end point at right angles therewith, and the tool
moves along the arc from the point of the old vector toward that of the new
vector.  (X, Y) is expressed in a value according to the G90/G91
respectively.  (I, J) is expressed in an incremental value from the end point.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>(X, Y)or(I, J)
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>(X, Y)or(I, J)
</p>
<p>Case of G41
</p>
<p>Case of G42
</p>
<p>Tool center path
</p>
<p>New vector
Old vector
</p>
<p>Programmed path
</p>
<p>Old vector
New vector
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>This command can be given in offset mode, that is, only when G41 or G42
has already been specified.  Whether the arc is to turn clockwise or
counterclockwise, is defined by G41 or G42, respectively.  This command
is not modal, and executes circular interpolation, whatever the G function
of group 01 may be.  The G function of group 01 remains even though this
command is specified.
</p>
<p>14.4.3
Corner Offset Circular
Interpolation (G39)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>213
</p>
<p>When the following command is specified in the G00 or G01 mode, the
tool moves from the head of the old vector at the start position to the end
position (X, Y).  In the G01 mode, the tool moves linearly.  In the G00
mode, rapid traverse is carried out along each axis.  
G40 X_ Y_ ;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>(X, Y)
</p>
<p>Tool center path
</p>
<p>Start position
</p>
<p>Old vector
</p>
<p>Programmed path
</p>
<p>This command changes the mode of the equipment from the cutter
compensation mode to the cancel mode.
When only G40; is specified, and X _ Y _ is not specified, the tool moves
by the old vector amount in the opposite direction.
</p>
<p>NOTE
Cutter compensation cannot be canceled in the circular
interpolation (G02, G03) mode.
</p>
<p>14.4.4
Cutter Compensation
Cancel (G40)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>214
</p>
<p>The offset direction is switched from left to right, or from right to left
generally through the offset cancel mode, but can be switched not through
it only in positioning (G00) or linear interpolation (G01). In this case, the
tool path is as shown in Fig 14.4.5.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil; &Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>G41&hellip;&hellip;&hellip; ;
G00 G42 X_ Y_ ;
</p>
<p>G42&hellip;&hellip;&hellip; ;
G00 G41 X_ Y_ ( or I_ J_) F_ ;
</p>
<p>Tool center path
(normally, it is not straight.)
</p>
<p>(X, Y) or (I, J)
</p>
<p>(X, Y)
Old
vector
</p>
<p>Programmed path
</p>
<p>New
vector
</p>
<p>Old
vector
</p>
<p>Programmed path
</p>
<p>New
vector
</p>
<p>Tool center path
</p>
<p>Fig.14.4.5  Switching the direction of cutter compensation
</p>
<p>14.4.5
Switch between Cutter
Compensation Left and
Cutter Compensation
Right
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>215
</p>
<p>The offset amount is changed generally when the tool is changed in the
offset cancel mode, but can be changed in the offset mode only in
positioning (G00) or linear interpolation (G01).
Program as described below:
G00 (or G01) X_ Y_ H_ ; (H_ indicates the number of a new cutter
compensation value.)
Fig. 14.4.6 shows how the tool is moved when the change in
compensation is specified.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil; (X, Y)
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>(X, Y)
</p>
<p>New vector
Old vector
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Start position
</p>
<p>Start position Programmed path
</p>
<p>Old vector
New vector
</p>
<p>Fig.14.4.6 Change of the cutter compensation value in offset mode
</p>
<p>14.4.6
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ &#13;ï¿½ ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½&#13;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½	&#13;ï¿½ ï¿½ï¿½
ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>216
</p>
<p>If the tool compensation value is made negative (&ndash;), it is equal that G41
and G42 are replaced with each other in the process sheet.  Consequently,
if the tool center is passing around the outside of the workbench it will
pass around the inside thereof, and vice versa. 
Fig. 14.4.7 shows one example. Generally speaking, the cutter
compensation value shall be programmed to be positive (+).  When a tool
path is programmed as shown in ï¿½, if the cutter compensation value is
made negative (&ndash;), the tool center moves as shown in ï¿½.
If the cutter compensation value is changed to a negative value when tool
path ï¿½ shown in Fig. 14.4.7 is programmed, the tool follows tool path
ï¿½ shown in the same figure.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>ï¿½ ï¿½
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Fig.14.4.7  Tool center paths when positive and negative
cutter compensation values are specified
</p>
<p>For a cornered figure (involved in corner circular interpolation) in
general, the cutter compensation value naturally cannot be made negative
(&ndash;) to cut the inside. In order to cut the inside corner of a cornered figure,
an arc with an appropriate radius must be inserted there to provide smooth
cutting.
</p>
<p>WARNING
If the tool length offset is commanded during cutter
compensation, the offset amount of cutter compensation is
also regarded to have been changed.
</p>
<p>14.4.7
ï¿½ï¿½ï¿½&#13;ï¿½&#13;ï¿½
ï¿½ï¿½
ï¿½ï¿½ï¿½&#13;ï¿½

</p>
<p>ï¿½ï¿½ï¿½ï¿½
ï¿½ ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½&#13;ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½
 ï¿½ï¿½	 ï¿½ï¿½ï¿½ï¿½ ï¿½
ï¿½ï¿½
ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>217
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>N1
</p>
<p>N2
</p>
<p>N3
</p>
<p>N4
</p>
<p>N5
</p>
<p>N6
</p>
<p>N7
</p>
<p>N8
</p>
<p>N9N10
</p>
<p>N11
</p>
<p>R2=20.0
</p>
<p>R1=40.0
</p>
<p>Y axis
</p>
<p>X axis20.0
</p>
<p>20.0
</p>
<p>40.0
</p>
<p>40.0
</p>
<p>20.0
</p>
<p>20.0
</p>
<p>Unit : mm
</p>
<p>N1G91 G17 G00 G41 X20.0 Y20.0 J40.0 H08 ; 
N2G01 Z&ndash;25.0 F100 ;
N3Y40.0 F250 ;
N4G39 I40.0 J20.0 ;
N5X40.0 Y20.0 ;
N6G39 I40.0 ;
N7G02 X40.0 Y&ndash;40.0 R40.0 ;
N8X&ndash;20.0 Y&ndash;20.0 R20.0 ;
N9G01 X&ndash;60.0 ;
N10 G00 Z25.0 ;
N11 G40 X&ndash;20.0 Y&ndash;20.0 M02 ;
(H08 is a tool offset number, and the cutter radius value should be stored
in the memory corresponding to this number).
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>218
</p>
<p>When the tool is moved, the tool path can be shifted by the radius of the
tool (Fig. 14.5 (a)).  
To make an offset as large as the radius of the tool, CNC first creates an
offset vector with a length equal to the radius of the tool (start&ndash;up).  The
offset vector is perpendicular to the tool path.  The tail of the vector is on
the workpiece side and the head positions to the center of the tool.  
If a linear interpolation or circular interpolation command is specified
after start&ndash;up, the tool path can be shifted by the length of the offset vector
during machining.  
To return the tool to the start position at the end of machining, cancel the
cutter compensation mode.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Start&ndash;up
</p>
<p>Cutter 
compensation 
cancel
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>Fig.14.5 (a)  Outline of cutter compensation C
</p>
<p>In cutter compensation C, an appropriately offset tool path can be
obtained for both the inner and outer corners simply by specifying the
offset direction.  Unlike cutter compensation B, programs can easily be
created without having to consider the difference between the outer and
inner corners.
</p>
<p>14.5
OVERVIEW OF
CUTTER
COMPENSATION C
(G40 TO G42)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>219
</p>
<p>G40
</p>
<p>ï¿½ Start up
(Tool compensation start)
</p>
<p>G00 (or G01) G41 (or G42) H_ ;
</p>
<p>G41
</p>
<p>G42
</p>
<p>H_
</p>
<p>: Cutter compensation left (Group07)
</p>
<p>: Cutter compensation right (Group07)
</p>
<p>: Command for axis movement
: Code for specifying as the cutter compensation value(1&ndash;3digits)
</p>
<p>(H code)
</p>
<p>ï¿½ Cutter compensation
cancel
(offset mode cancel)
</p>
<p>;
</p>
<p>G40 : Cutter compensation cancel(Group 07)
(Offset mode cancel)
</p>
<p>: Command for axis movement
</p>
<p>ï¿½ Selection of the offset plane Offset plane
</p>
<p>XpYp
</p>
<p>ZpXp
</p>
<p>YpZp
</p>
<p>Command for plane selection
</p>
<p>G17 ;
</p>
<p>G18 ;
</p>
<p>G19 ;
</p>
<p>Xp_Yp_
</p>
<p>Xp_Zp_
</p>
<p>Yp_Zp_
</p>
<p>ï¿½ï¿½_
</p>
<p>ï¿½ï¿½_
</p>
<p>ï¿½ï¿½_
</p>
<p>ï¿½ï¿½_
</p>
<p>ï¿½ï¿½_
</p>
<p>At the beginning when power is applied the control is in the cancel mode.
In the cancel mode, the vector is always 0, and the tool center path
coincides with the programmed path.
</p>
<p>When a cutter compensation command (G41 or G42, nonzero dimension
words in the offset plane, and H code other than H0) is specified in the
offset cancel mode, the CNC enters the offset mode.
Moving the tool with this command is called start&ndash;up.
Specify positioning (G00) or linear interpolation (G01) for start&ndash;up.  If
circular interpolation (G02, G03) is specified, alarm 34 occurs.
When processing the start&ndash;up block and subsequent blocks, the CNC
prereads two blocks.  The second preread block is not indicated.
</p>
<p>In the offset mode, compensation is accomplished by positioning (G00),
linear interpolation (G01), or circular interpolation (G02, G03).  If two or
more blocks that do not move the tool (miscellaneous function, dwell,
etc.) are processed in the offset mode, the tool will make either an
excessive or insufficient cut.  If the offset plane is switched in the offset
mode, alarm 37 occurs and the tool is stopped.
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ï¿½ Offset cancel mode
</p>
<p>ï¿½ Start Up
</p>
<p>ï¿½ Offset mode
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>220
</p>
<p>In the offset mode, when a block which satisfies any one of the following
conditions is executed, the equipment enters the offset cancel mode, and
the action of this block is called the offset cancel.
</p>
<p>1. G40 has been commanded.
2. 0 has been commanded as the offset number for cutter
</p>
<p>compensation.
</p>
<p>When performing offset cancel, circular arc commands (G02 and G03) are
not available.  If a circular arc is commanded, an alarm (No. 034) is
generated and the tool stops.
In the offset cancel, the control executes the instructions in that block and
the block in the cutter compensation buffer.  In the meantime, in the case
of a single block mode, after reading one block, the control executes it and
stops.  By pushing the cycle start button once more, one block is executed
without reading the next block.
Then the control is in the cancel mode, and normally, the block to be
executed next will be stored in the buffer register and the next block is not
read into the buffer for cutter compensation.
</p>
<p>Offset cancel mode Offset mode
</p>
<p>Start up
</p>
<p>Offset modecancel
</p>
<p>(G41/G42)
</p>
<p>(G40/D0)
</p>
<p>Fig.14.5 (b)  Changing the offset mode
</p>
<p>In general, the cutter compensation value shall be changed in the cancel
mode, when changing tools.  If the cutter compensation value is changed
in offset mode, the vector at the end point of the block is calculated for
the new cutter compensation value.
</p>
<p>Calculated from the cutter
compensation value in the block N6
</p>
<p>Calculated from the cutter
compensation value in the block N7
</p>
<p>N7
</p>
<p>N6
N8
</p>
<p>Programmed path
</p>
<p>Fig.14.5 (c)  Changing the cutter compensation value
</p>
<p>ï¿½ Offset mode cancel
</p>
<p>ï¿½ Change of the 
Cutter compensation
value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>221
</p>
<p>If the offset amount is negative (&ndash;), distribution is made for a figure in
which G41&rsquo;s and G42&rsquo;s are all replaced with each other on the program.
Consequently, if the tool center is passing around the outside of the
workpiece, it will pass around the inside, and vice versa.
The figure below shows one example.  Generally, the offset amount is
programmed to be positive (+).
When a tool path is programmed as in (ï¿½), if the offset amount is made
negative (&ndash;), the tool center moves as in (ï¿½), and vice versa.
Consequently, the same tape permits cutting both male and female
shapes, and any gap between them can be adjusted by the selection of the
offset amount. Applicable if start&ndash;up and cancel is A type.  (See subsec.
14.6.2 and 14.6.4)
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>ï¿½ ï¿½
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Fig.14.5 (d)  Tool center paths when positive and negative cutter
compensation values are specified
</p>
<p>Assign a cutter compensation values to the H codes on the CRT/MDI
panel.  The table below shows the range in which cutter compensation
values can be specified.
</p>
<p>Increment system Metric input inch input
</p>
<p>IS&ndash;B 0 to ï¿½999.999mm 0 to ï¿½99.9999inch
</p>
<p>IS&ndash;C 0 to ï¿½999.9999mm 0 to ï¿½99.99999inch
</p>
<p>NOTE
1 The cutter compensation value corresponding to offset No.
</p>
<p>0, that is, H0 always means 0.  It is impossible to set H0 to
any other offset amount.
</p>
<p>2 Cutter compensation C can be specified by D code with
parameter (No. 036 #6) set to 1.
</p>
<p>The offset vector is the two dimensional vector that is equal to the cutter
compensation value assigned by H code.  It is calculated inside the control
unit, and its direction is up&ndash;dated in accordance with the progress of the
tool in each block.
The offset vector is deleted by reset.
</p>
<p>ï¿½ Positive/negative cutter
compensation value and
tool center path
</p>
<p>ï¿½ Cutter compensation
value setting
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½	 
ï¿½ï¿½	ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>222
</p>
<p>Specify a cutter compensation value with a number assigned to it.  The
number consists of 1 to 3 digits after address H (H code).  The H code is
valid until another H code is specified.  The H code is used to specify the
tool offset value as well as the cutter compensation value.  
When an H code for cutter compensation is specified during tool length
compensation, the amount of tool length compensation remains as is.
When an H code for tool length compensation is specified during cutter
compensation, however, the cutter compensation, as well as tool length
compensation, is changed.  Do not modify the tool length compensation
in cutter compensation mode.
The amount of tool length compensation and that of cutter compensation
can be separately specified with the H and D codes by setting bit 6 of
parameter No. 036 appropriately.  Only the tool length compensation can
be changed in cutter compensation.  Even in this case, the tool length
compensation is equal to the cutter compensation.  That is, the setting of
H10 is equal to that of D10.
</p>
<p>Offset calculation is carried out in the plane determined by G17, G18 and
G19, (G codes for plane selection).  This plane is called the offset plane.
Compensation is not executed for the coordinate of a position which is not
in the specified plane.  The programmed values are used as they are.
In simultaneous 3 axes control, the tool path projected on the offset plane
is compensated. 
The offset plane is changed during the offset cancel mode.  If it is
performed during the offset mode, an alarm (No. 37) is displayed and the
machine is stopped.
</p>
<p>ï¿½ Specifying a cutter
compensation value
</p>
<p>ï¿½ Plane selection and
vector
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>223
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Y axis
</p>
<p>X axis Unit : mm
</p>
<p>N1
</p>
<p>Start position
</p>
<p>650R
</p>
<p>C2(1550,1550)
</p>
<p>650R
</p>
<p>C3 (&ndash;150,1150)
</p>
<p>250R
</p>
<p>C1(700,1300)
</p>
<p>P4(500,1150) P5(900,1150)
</p>
<p>P6(950,900)
</p>
<p>P9(700,650)
P8
</p>
<p>(1150,550)P1(250,550)
</p>
<p>P3(450,900)
P2
(250,900)
</p>
<p>N2
</p>
<p>N3
</p>
<p>N4
</p>
<p>N5
</p>
<p>N6
</p>
<p>N7
</p>
<p>N8
</p>
<p>N9N10
</p>
<p>N11
</p>
<p>P7
(1150,900)
</p>
<p>G92 X0 Y0 Z0 ; Specifies absolute coordinates.. . . . . . . . . . . . . . . . . . . . . . . . 
The tool is positioned at the start position (X0, Y0, Z0).
</p>
<p>N1 G90 G17 G00 G41 H07 X250.0 Y550.0 ;Starts cutter compensation (start&ndash;up).  The tool is shifted to the
left of the programmed path by the distance specified in D07.
In other words the tool path is shifted by the radius of the tool
(offset mode) because D07 is set to 15 beforehand (the radius of
the tool is 15 mm). 
</p>
<p>N2 G01 Y900.0 F150 ; Specifies machining from P1 to P2.. . . . . . . . . . . . . . . . . . 
N3 X450.0 ; Specifies machining from P2 to P3.. . . . . . . . . . . . . . . . . . . . . . . . . . . 
N4 G03 X500.0 Y1150.0 R650.0 : Specifies machining from P3 to P4.. . . . . . . . . 
N5 G02 X900.0 R&ndash;250.0 ; Specifies machining from P4 to P5.. . . . . . . . . . . . . . . 
N6 G03 X950.0 Y900.0 R650.0 ; Specifies machining from P5 to P6.. . . . . . . . . . 
N7 G01 X1150.0 ; Specifies machining from P6 to P7.. . . . . . . . . . . . . . . . . . . . . . 
N8 Y550.0 ; Specifies machining from P7 to P8.. . . . . . . . . . . . . . . . . . . . . . . . . . . 
N9 X700.0 Y650.0 ; Specifies machining from P8 to P9.. . . . . . . . . . . . . . . . . . . . 
N10 X250.0 Y550.0 ; Specifies machining from P9 to P1.. . . . . . . . . . . . . . . . . . . 
N11 G00 G40 X0 Y0 ; Cancels the offset mode.. . . . . . . . . . . . . . . . . . 
</p>
<p>The tool is returned to the start position (X0, Y0, Z0).
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>224
</p>
<p>This section provides a detailed explanation of the movement of the tool
for cutter compensation C outlined in Section 14.5.
This section consists of the following subsections:
</p>
<p>14.6.1  General
14.6.2  Tool Movement in Start&ndash;up
14.6.3  Tool Movement in Offset Mode
14.6.4  Tool Movement in Offset Mode Cancel
14.6.5  Interference Check
14.6.6  Over cutting by Cutter Compensation
14.6.7  Input command from MDI
</p>
<p>When an angle of intersection created by tool paths specified with move
commands for two blocks is over 180&deg;, it is referred to as &ldquo;inner side.&rdquo;
When the angle is between 0&deg; and 180&deg;, it is referred to as &ldquo;outer side.&rdquo;
</p>
<p>Î±Workpiece
Programmed path
</p>
<p>Inner side
</p>
<p>180&deg;ï¿½Î± 0&deg;ï¿½Î±ï¿½180&deg;
</p>
<p>Outer side
</p>
<p>Workpiece
</p>
<p>Programmed path
</p>
<p>Î±
</p>
<p>The following symbols are used in subsequent figures:
</p>
<p>&ndash; S indicates a position at which a single block is executed once.
</p>
<p>&ndash; SS indicates a position at which a single block is executed twice.
</p>
<p>&ndash; SSS indicates a position at which a single block is executed three
times.
</p>
<p>&ndash; L indicates that the tool moves along a straight line.
</p>
<p>&ndash; C indicates that the tool moves along an arc.
</p>
<p>&ndash; r indicates the cutter compensation value.
</p>
<p>&ndash; An intersection is a position at which the programmed paths of two
blocks intersect with each other after they are shifted by r.
</p>
<p>&ndash; indicates  the center of the tool.
</p>
<p>14.6
DETAILS OF CUTTER
COMPENSATION C
</p>
<p>14.6.1
General
ï¿½ Inner side and outer side
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ &#13;ï¿½
ï¿½ï¿½	&#13;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>225
</p>
<p>When the offset cancel mode is changed to offset mode, the tool moves
as illustrated below (start&ndash;up):
</p>
<p>Linear&rarr;Linear
</p>
<p>Programmed path
</p>
<p>LS
</p>
<p>G42
r
</p>
<p>L
</p>
<p>Linear&rarr;Circular
</p>
<p>Workpiece
</p>
<p>Start position
</p>
<p>Tool center path
</p>
<p>Work-
piece
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>G42
</p>
<p>Start position Tool center path Programmed path
</p>
<p>L C
S
</p>
<p>r
</p>
<p>14.6.2
Tool Movement in
Start&ndash;up
</p>
<p>Explanations
</p>
<p>ï¿½ Tool movement around
an inner side of a corner 
(180&deg;ï¿½Î±ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>226
</p>
<p>Tool path in start&ndash;up has two types A and B, and they are selected by
parameter (No. 016#2).
</p>
<p>Linear&rarr;Linear
</p>
<p>Programmed path
</p>
<p>Tool center pathLS
</p>
<p>G42
</p>
<p>r
</p>
<p>L
</p>
<p>Linear&rarr;Circular
Type
    A
</p>
<p>Type
   B
</p>
<p>Workpiece
</p>
<p>Start position
</p>
<p>Linear&rarr;Linear
</p>
<p>Linear&rarr;Circular
</p>
<p>Work-
piece
</p>
<p>Intersection
</p>
<p>Î±
</p>
<p>Start position
</p>
<p>S
</p>
<p>G42
</p>
<p>r
</p>
<p>L
</p>
<p>Î±
</p>
<p>C
Tool center path Programmed path
</p>
<p>Start position
</p>
<p>G42
</p>
<p>L
</p>
<p>r r
S L
</p>
<p>Workpiece
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Î±
</p>
<p>Start position
</p>
<p>G42
Î±
</p>
<p>L
</p>
<p>r r
</p>
<p>S
</p>
<p>L
L
</p>
<p>C
</p>
<p>Work-
piece
</p>
<p>Intersection Tool center path Programmed path
</p>
<p>ï¿½ Tool movement around
the outside of a corner at
an obtuse angle
ï¿½ï¿½ï¿½&deg;ï¿½Î±ï¿½ï¿½ï¿½ï¿½&deg;ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>227
</p>
<p>Tool path in start&ndash;up has two types A and B, and they are selected by
parameter (No.016#2).
</p>
<p>Î±
</p>
<p>LS
</p>
<p>G42
</p>
<p>r
</p>
<p>L
</p>
<p>S C
</p>
<p>Type
   A
</p>
<p>Type
   B
</p>
<p>r
</p>
<p>G42
L
</p>
<p>G42
</p>
<p>L
</p>
<p>L L
</p>
<p>L
</p>
<p>S
</p>
<p>r
</p>
<p>r
</p>
<p>G42
</p>
<p>L
</p>
<p>L
</p>
<p>L
</p>
<p>S
</p>
<p>r
</p>
<p>r
</p>
<p>C
</p>
<p>L
</p>
<p>L
</p>
<p>Linear&rarr;Linear
</p>
<p>Linear&rarr;Circular
</p>
<p>Linear&rarr;Linear
</p>
<p>Linear&rarr;Circular
</p>
<p>Workpiece
</p>
<p>Work-
piece
</p>
<p>Workpiece
</p>
<p>Work-
piece
</p>
<p>Start position
</p>
<p>Start position
</p>
<p>Start position
</p>
<p>Start position
</p>
<p>Programmed path
</p>
<p>Programmed path
</p>
<p>Programmed path
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Tool center path
</p>
<p>Tool center path
</p>
<p>Tool center path
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>r
</p>
<p>G41
</p>
<p>G41
</p>
<p>L
</p>
<p>L
</p>
<p>S
</p>
<p>Start position
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>Less than 1 deg
</p>
<p>ï¿½ Tool movement around
the outside of an acute
angle ( Î±ï¿½ï¿½ï¿½&deg;)
</p>
<p>ï¿½ Tool movement around
the outside linear &rarr;linear
at an acute angle less
than 1 degree
ï¿½Î±ï¿½ï¿½&deg;ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>228
</p>
<p>If the command is specified at start&ndash;up, the offset vector is not created.
</p>
<p>S
</p>
<p>N9
</p>
<p>N6
</p>
<p>N7
</p>
<p>N8
</p>
<p>SS
</p>
<p>G91 G40 &hellip; ;
        :
N6 X100.0 Y100.0 ;
N7 G41 X0 ;
N8 Y&ndash;100.0 ;
N9 Y&ndash;100.0 X100.0 ;
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>r
</p>
<p>NOTE
For the definition of blocks that do not move the tool, see
Subsection 14.6.3.
</p>
<p>ï¿½ A block without tool
movement specified at
start&ndash;up
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>229
</p>
<p>In the offset mode, the tool moves as illustrated below:
</p>
<p>L
</p>
<p>L
</p>
<p>C
</p>
<p>S
</p>
<p>L
</p>
<p>S
</p>
<p>C
</p>
<p>L
</p>
<p>S
</p>
<p>SC
</p>
<p>Linear&rarr;Circular
</p>
<p>Linear&rarr;Linear
</p>
<p>Programmed path
</p>
<p>Intersection
Tool center path
</p>
<p>Workpiece
</p>
<p>Work-
piece
</p>
<p>Tool center path
</p>
<p>Intersection
</p>
<p>Programmed path
</p>
<p>Workpiece
</p>
<p>Programmed path
</p>
<p>Tool center pathIntersection
</p>
<p>Circular&rarr;Linear
</p>
<p>Circular&rarr;Circular
</p>
<p>Work-
piece
</p>
<p>Tool center path
Programmed path
</p>
<p>Intersection
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>C
</p>
<p>14.6.3
Tool Movement in
Offset Mode
</p>
<p>Explanations
</p>
<p>ï¿½ Tool movement around
the inside of a corner
(ï¿½ï¿½ï¿½&deg;ï¿½Î±)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>230
</p>
<p>r
</p>
<p>r
S
</p>
<p>r
</p>
<p>Intersection
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Intersection
</p>
<p>Also in case of arc to straight line, straight line to arc and arc to arc, the
reader should infer in the same procedure.
</p>
<p>ï¿½ Tool movement around
the inside ï¿½Î±ï¿½ï¿½&deg;ï¿½ with an
abnormally long vector,
linear &rarr; linear
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>231
</p>
<p>L
</p>
<p>r
</p>
<p>C
</p>
<p>S
</p>
<p>L
</p>
<p>S
</p>
<p>C
</p>
<p>L
</p>
<p>S
</p>
<p>L
</p>
<p>L
</p>
<p>r
</p>
<p>L
</p>
<p>L
L
</p>
<p>S
</p>
<p>r
r
</p>
<p> 
</p>
<p>Linear&rarr;Linear
</p>
<p>Linear&rarr;Circular
</p>
<p>Programmed path
</p>
<p>Tool center pathIntersection
</p>
<p>Workpiece
</p>
<p>Circular&rarr;Linear
</p>
<p>Circular&rarr;Circular
</p>
<p>Intersection
</p>
<p>Tool center path Programmed path
</p>
<p>Work-
piece
</p>
<p>Intersection
Tool center path
</p>
<p>Programmed path
</p>
<p>Workpiece
</p>
<p>Work-
piece
</p>
<p>Programmed path
</p>
<p>Intersection
</p>
<p>Tool center path
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>ï¿½ Tool movement around
the outside corner at an
obtuse angle 
(90&deg;ï¿½Î±ï¿½180&deg;)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>232
</p>
<p>L
</p>
<p>L L
</p>
<p>L
</p>
<p>S r
</p>
<p>r
</p>
<p>L
</p>
<p>Linear&rarr;Linear
</p>
<p>Programmed path
</p>
<p>Workpiece
</p>
<p>Linear&rarr;Circular
</p>
<p>Circular&rarr;Linear
</p>
<p>Circular&rarr;Circular
</p>
<p>Work-
piece
</p>
<p>Tool center path
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>Tool center path
</p>
<p>L
</p>
<p>L
</p>
<p>L
</p>
<p>S
</p>
<p>L
</p>
<p>r
</p>
<p>r
</p>
<p>Programmed path
</p>
<p>Workpiece
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>L L
</p>
<p>L
</p>
<p>L
</p>
<p>S
</p>
<p>C
</p>
<p>Work-
piece
</p>
<p>Tool center path Programmed path
</p>
<p>L
</p>
<p>L
</p>
<p>L
</p>
<p>r
</p>
<p>r
</p>
<p>r
</p>
<p>r
</p>
<p>S
</p>
<p>C
</p>
<p>ï¿½ Tool movement around
the outside corner at an
acute angle
(Î±ï¿½90&deg;)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>233
</p>
<p>If the end of a line leading to an arc is programmed as the end of the arc
by mistake as illustrated below, the system assumes that cutter
compensation has been executed with respect to an imaginary circle that
has the same center as the arc and passes the specified end position.  Based
on this assumption, the system creates a vector and carries out
compensation.  The resulting tool center path is different from that created
by applying cutter compensation to the programmed path in which the
line leading to the arc is considered straight.
</p>
<p>rr
</p>
<p>Center of the arc
</p>
<p>Imaginary circle
</p>
<p>Leading of the arc End the arc
</p>
<p>L
</p>
<p>L
L
</p>
<p>r
C
</p>
<p>S
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Work-
piece
</p>
<p>The same description applies to tool movement between two circular
paths.
</p>
<p>If the cutter compensation value is sufficiently small, the two circular tool
center paths made after compensation intersect at a position (P).
Intersection P may not occur if an excessively large value is specified for
cutter compensation.  When this is predicted, alarm 33 occurs at the end
of the previous block and the tool is stopped.  In the example shown
below, tool center paths along arcs A and B intersect at P when a
sufficiently small value is specified for cutter compensation.  If an
excessively large value is specified, this intersection does not occur.
</p>
<p>When the cutter compensation value
is large
</p>
<p>Arc B
P
</p>
<p>When the cutter compensa-
tion value is small
</p>
<p>Alarm(No.033)occurs and the tod stops
</p>
<p>Programmed path
</p>
<p>Center of the arc B Center of the arc A
</p>
<p>Arc A
</p>
<p>r r
</p>
<p>ï¿½ When it is exceptional
</p>
<p>End position for the arc is
not on the arc
</p>
<p>There is no inner
intersection
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>234
</p>
<p>If the center of the arc is identical with the start position or end point,
alarm (No. 038) is displayed, and the tool will stop at the end position of
the preceding block.
</p>
<p>N5 N6
</p>
<p>N7
</p>
<p>r
</p>
<p>Alarm(No.038)is displayed and the tool
stops
</p>
<p>(G41)
N5 G01 X100.0 ;
N6 G02 X100.0 I0 J0 ;
N7 G03 Y&ndash;100.0 J&ndash;100.0 ;Tool center path
</p>
<p>Programmed path
</p>
<p>The offset direction is decided by G codes (G41 and G42) for cutter radius
and the sign of cutter compensation value as follows.
</p>
<p>Sign of offset amount
</p>
<p>Gcode
+ &ndash;
</p>
<p>G41 Left side offset Right side offset
</p>
<p>G42 Right side offset Left side offset
</p>
<p>The offset direction can be changed in the offset mode. If the offset
direction is changed in a block, a vector is generated at the intersection
of the tool center path of that block and the tool center path of a preceding
block.  However, the change is not available in the start&ndash;up block and the
block following it.
</p>
<p>ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ 	ï¿½
</p>
<p>	ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½
 ï¿½	ï¿½ï¿½ ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>&#13;ï¿½ï¿½	ï¿½	ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ &#13;ï¿½ï¿½	ï¿½	ï¿½ï¿½
</p>
<p>ï¿½ Change in the offset
direction in the offset
mode
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>235
</p>
<p>L
</p>
<p>L
</p>
<p>L
</p>
<p>S
</p>
<p>r r
</p>
<p>G42
</p>
<p>G41
</p>
<p>G41
G42
</p>
<p>r
</p>
<p>r
</p>
<p>S
</p>
<p>C
</p>
<p>r
</p>
<p>r
</p>
<p>LC
</p>
<p>S
</p>
<p>S
</p>
<p>G41
</p>
<p>G41
</p>
<p>G42
</p>
<p>G42
</p>
<p>C
</p>
<p>C
</p>
<p>r
</p>
<p>r
</p>
<p>Linear&rarr;Linear
</p>
<p>Linear&rarr;Circular
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Workpiece
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Workpiece
</p>
<p>Workpiece
</p>
<p>Workpiece
</p>
<p>Workpiece
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Circular&rarr;Linear
</p>
<p>Circular&rarr;Circular
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>Workpiece
</p>
<p>Workpiece
</p>
<p>Workpiece
</p>
<p>Tool center path with an
intersection
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>236
</p>
<p>When changing the offset direction in block A to block B using G41 and
G42, if intersection with the offset path is not required, the vector normal
to block B is created at the start point of block B.
</p>
<p>G41G42 (G42)
</p>
<p>L
</p>
<p>L
</p>
<p>L
</p>
<p>A B
</p>
<p>r
</p>
<p>r
</p>
<p>S
</p>
<p>G42
</p>
<p>G41
</p>
<p>L S
</p>
<p>L
</p>
<p>S
</p>
<p>G41 G42
</p>
<p>A
</p>
<p>B
</p>
<p>L
</p>
<p>S
</p>
<p>r
</p>
<p>L
L
</p>
<p>G41
</p>
<p>C
</p>
<p>C
</p>
<p>r
</p>
<p>r r
</p>
<p>(G42)
</p>
<p>S
</p>
<p>S
</p>
<p>Center
</p>
<p>G42
</p>
<p>Linear&rarr;Linear
</p>
<p>Linear&rarr;Circular
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Workpiece
</p>
<p>Workpiece
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>Circular&rarr;Circular
</p>
<p>An arc whose end position
is not on the arc
</p>
<p>Programmed path
</p>
<p>Tool center path
Center
</p>
<p>Tool center path without an
intersection
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>237
</p>
<p>Normally there is almost no possibility of generating this situation.
However, when G41 and G42 are changed, or when a G40 was
commanded with address I, J, and K this situation can occur.
In this case of the figure, the cutter compensation is not performed with
more than one circle circumference: an arc is formed from P1 to P2 as
shown.  Depending on the circumstances, an alarm may be displayed due
to the &rdquo;Interference Check&rdquo; described later.   To execute a circle with more
than one circumference, the circle must be specified in segments.
</p>
<p>N5
</p>
<p>N6
</p>
<p>N7
</p>
<p>P1 P2
</p>
<p>(G42)
N5 G01 G91 X50.0 Y&ndash;70.0 ;
N6 G41 G02 J&ndash;50.0 ;
N7 G42 G01 X50.0 Y70.0 ;
</p>
<p>Programmed pathTool center path
</p>
<p>The length of tool center
path larger than the
circumference of a circle
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>238
</p>
<p>If the following command is specified in the offset mode, the offset mode
is temporarily canceled then automatically restored.   The offset mode can
be canceled and started as described in Subsections 15.6.2 and 15.6.4.
</p>
<p>If G28 is specified in the offset mode, the offset mode is canceled at an
intermediate position.  If the vector still remains after the tool is returned
to the reference position, the components of the vector are reset to zero
with respect to each axis along which reference position return has been
made.
</p>
<p>(G42 G00)
S
</p>
<p>S
</p>
<p>S
</p>
<p>S
</p>
<p>G28
</p>
<p>G00 r
r
</p>
<p>Intermediate position
</p>
<p>Reference  position
</p>
<p>If G29 is commanded in the offset mode, the offset will be cancelled at
the intermediate point, and the offset mode will be restored automatically
from the subsequent block.
</p>
<p>G29 specified immediately after G28
</p>
<p>(G42 G00)
S
</p>
<p>S
</p>
<p>S
</p>
<p>G28 G00
</p>
<p>r
r
</p>
<p>(G42 G00)
</p>
<p>S
</p>
<p>S
</p>
<p>G00
</p>
<p>r
r
</p>
<p>S
</p>
<p>S
</p>
<p>G29
</p>
<p>G29
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>Reference  position
</p>
<p>Intermediate
   position
</p>
<p>Intermediate position
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>G29 specified not immediately after G28
</p>
<p>ï¿½ Temporary cutter
compensation cancel
</p>
<p>ï¿½ Specifying G28
(automatic return to the
reference position) in the
offset mode
</p>
<p>ï¿½ Specifying G29
(automatic return from
the reference position)
in the offset mode
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>239
</p>
<p>The offset vector can be set to form a right angle to the moving direction
in the previous block, irrespective of machining inner or outer side, by
commanding the cutter compensation G code (G41, G42) in the offset
mode, independently.  If this code is specified in a circular command,
correct circular motion will not be obtained.
When the direction of offset is expected to be changed by the command
of cutter compensation G code (G41, G42), refer to Subsec.15.6.3.
</p>
<p>Linear&rarr;Linear
</p>
<p>r
</p>
<p>A block specified by G42G42 mode
</p>
<p>r
</p>
<p>C
Intersection
</p>
<p>S
L
</p>
<p>L
</p>
<p>S
</p>
<p>L
</p>
<p>Circular&rarr;Linear
</p>
<p>A block specified by G42
</p>
<p>Intersection
</p>
<p>Programmed path
</p>
<p>G42 mode
</p>
<p>Tool center path
</p>
<p>During offset mode, if G92 (absolute zero point programming) is
commanded,the offset vector is temporarily cancelled and thereafter
offset mode is automatically restored.
In this case, without movement of offset cancel, the tool moves directly
from the intersecting point to the commanded point where offset vector
is canceled.  Also when restored to offset mode, the tool moves directly
to the intersecting point.
</p>
<p>S
</p>
<p>L
L L
</p>
<p>L
</p>
<p>S
</p>
<p>SN5 N6
</p>
<p>N7
</p>
<p>N8
</p>
<p>G92 block(G41)
N5 G91 G01 X70.0 Y30.0 ;
N6 X60.0 Y&ndash;30.0 ;
N7 G92 X20.0 Y10.0 ;
N8 G90 G01 X80.0 Y40.0 ;
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>ï¿½ Cutter compensation G
code in the offset mode
</p>
<p>ï¿½ G92 command in the
offset mode
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>240
</p>
<p>The following blocks have no tool movement.  In these blocks, the tool
will not move even if cutter compensation is effected.
</p>
<p>M05 ; M code output. . . . . . . . . 
S21 ; S code output. . . . . . . . . 
G04 X10.0 ; Dwell. . . 
G10 L11 P01 R10.0 ; Cutter compensation value setting
(G17) Z200.0 ; Move command not included in the . 
</p>
<p>offset plane.
G90 ; G code only. . . . . . . . . 
G91 X0 ;Move distance is zero.
</p>
<p>These com-
mands are of
no movement.
</p>
<p>When a single block without tool movement is commanded in the offset
mode, the vector and tool center path are the same as those when the block
is not commanded.  This block is executed at the single block stop point.
</p>
<p>L
</p>
<p>N6
</p>
<p>N7 N8
</p>
<p>L
</p>
<p>SS
</p>
<p>N6 G91 X100.0 Y100.0 ;
N7 G04 X10.0 ;
N8 X100.0 ;
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>Block N7 is executed here.
</p>
<p>However, when the move distance is zero, even if the block is commanded
singly, tool motion becomes the same as that when more than one block
of without tool movement are commanded, which will be described
subsequently.
</p>
<p>L
</p>
<p>N6
</p>
<p>N7 N8
</p>
<p>L
SS
</p>
<p>N6 G91 X100.0 Y100.0 ;
N7 X0 ;
N8 X100.0 ;
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Two blocks without tool movement should not be commanded
consecutively.  If commanded, a vector whose length is equal to the offset
value is produced in a normal direction to tool motion in earlier block, so
overcutting may result.
</p>
<p>L
</p>
<p>N6
</p>
<p>N7 N8
</p>
<p>L
SSS
</p>
<p>N6 G91 X100.0 Y100.0 ;
N7 S21 ;
N8 G04 X10.0 ;
N9 X100.0 ;
</p>
<p>Blocks N7 and N8 are executed here.
</p>
<p>N9
Programmed path
</p>
<p>Tool center path
</p>
<p>ï¿½ A block without tool
movement
</p>
<p>A block without tool
movement specified in
offset mode
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>241
</p>
<p>When two or more vectors are produced at the end of a block, the tool
moves linearly from one vector to another.  This movement is called the
corner movement. 
If these vectors almost coincide with each other, the corner movement
isn&rsquo;t performed and the latter vector is ignored.
</p>
<p>r
</p>
<p>âVX
</p>
<p>This vector is ignored, if
âVxï¿½âV Limit, and 
âVYï¿½âV Limit
</p>
<p>r
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>âVY
</p>
<p>If  âVXï¿½âVlimit and âVYï¿½âVlimit, the latter vector is ignored.  The
âVlimit is set in advance by parameter (No. 557).
If these vectors do not coincide, a move is generated to turn around the
corner.  This move belongs to the latter block.
</p>
<p>This move belongs to block N7, thus, the feedrate
is equal to that in block N7.
If the block N7 is G00 mode, the tool is moved at
G00 mode, while if it is G01, G02, G03, the tool is
moved at G01 mode.
</p>
<p>S
</p>
<p>N6 N7
</p>
<p>However, if the path of the next block is semicircular or more, the above
function is not performed.
The reason for this is as follows:
</p>
<p>ï¿½ Corner movement
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>242
</p>
<p>N4 G41 G91 G01 X15.0 Y20.0 ;
N5 X15.0 Y20.0 ;
N6 G02 J&ndash;60.0 ; 
N7 G01 X15.0 Y&ndash;20.0 ; 
N8 G40 X15.0 Y&ndash;20.0 ;
</p>
<p>P2 P3 P4 P5
</p>
<p>P6
</p>
<p>N5
</p>
<p>N6
</p>
<p>N4
</p>
<p>N7
</p>
<p>N8
</p>
<p>P1
</p>
<p>Programmed pathTool center path
</p>
<p>If the vector is not ignored, the tool path is as follows:
P1 &rarr; P2 &rarr; P3 &rarr; (Circle)&rarr; P4 &rarr; P5 &rarr; P6 
But if the distance between P2 and P3 is negligible, the point P3 is
ignored.  Therefore, the tool path is as follows: 
P2 &rarr; P4 
Namely, circle cutting by the block N6 is ignored.
</p>
<p>For manual operation during the cutter compensation, refer to Section
III&ndash;3.5, &ldquo;Manual Absolute ON and OFF.&rdquo;
</p>
<p>ï¿½ Interruption of manual
operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>243
</p>
<p>S
</p>
<p>r
</p>
<p>L
C
</p>
<p>L S
</p>
<p>G40
r
</p>
<p>L
</p>
<p>Workpiece
</p>
<p>G40
</p>
<p>L
</p>
<p>Programmed path
</p>
<p>Programmed path Tool center path
</p>
<p>Tool center path
</p>
<p>Work-
piece
</p>
<p>Linear&rarr;Linear
</p>
<p>Circular&rarr;Linear
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>14.6.4
Tool Movement in
Offset Mode Cancel
</p>
<p>Explanations
</p>
<p>ï¿½ Tool movement around
an inside corner
(180&deg;ï¿½Î±)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>244
</p>
<p>Tool path has two types, A and B; and they are selected by parameter  (No.
016#2).
</p>
<p>Intersection
</p>
<p>L S
</p>
<p>G40
</p>
<p>r
</p>
<p>L
</p>
<p>S
</p>
<p>r
</p>
<p>C
</p>
<p>Type
    A
</p>
<p>Type
    B
</p>
<p>L
S
</p>
<p>G40
</p>
<p>L
</p>
<p>r
</p>
<p>S
C
</p>
<p>r
r
</p>
<p>L
L
</p>
<p>G40
</p>
<p>L
</p>
<p>G40
</p>
<p>L
</p>
<p>Programmed path
</p>
<p>Workpiece
</p>
<p>Tool center path
</p>
<p>Linear&rarr;Linear
</p>
<p>Circular&rarr;Linear
</p>
<p>Linear&rarr;Linear
</p>
<p>Work-
piece
</p>
<p>Programmed path Tool center path
</p>
<p>Workpiece
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Circular&rarr;Linear
</p>
<p>Work-
piece
</p>
<p>Programmed path Tool center path
Intersection
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>ï¿½ Tool movement around
an outside corner at an
obtuse angle
ï¿½ï¿½ï¿½&deg;ï¿½Î±ï¿½ï¿½ï¿½ï¿½&deg;ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>245
</p>
<p>Tool path has two types, A and B : and they are selected by parameter  (No.
016#2)
</p>
<p>L S
</p>
<p>G40
</p>
<p>r
</p>
<p>L
</p>
<p>SC
</p>
<p>Type
    A
</p>
<p>Type
    B
</p>
<p>r
</p>
<p>G40
</p>
<p>L
</p>
<p>LL
</p>
<p>Lr
</p>
<p>r
</p>
<p>L
</p>
<p>L
</p>
<p>S
</p>
<p>r
</p>
<p>r
</p>
<p>C
</p>
<p>L
</p>
<p>L
</p>
<p>G42
</p>
<p>G40
L
</p>
<p>G42
</p>
<p>L
</p>
<p>S
</p>
<p>S
</p>
<p>Linear&rarr;Linear
</p>
<p>Circular&rarr;Linear
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Workpiece
</p>
<p>Work-
piece
</p>
<p>Tool center pathProgrammed path
</p>
<p>Linear&rarr;Linear
</p>
<p>Circular&rarr;Linear
</p>
<p>Workpiece
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Programmed path
Tool center path
</p>
<p>Work-
piece
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>Î±
</p>
<p>ï¿½ Tool movement around
an outside corner at an
acute angle
(Î±ï¿½90&deg;)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>246
</p>
<p>Start position
</p>
<p>r
</p>
<p>G40
</p>
<p>G42
</p>
<p>L
</p>
<p>L
</p>
<p>S
</p>
<p>1&deg;or less
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>When a block without tool movement is commanded together with an
offset cancel, a vector whose length is equal to the offset value is produced
in a normal direction to tool motion in the earlier block, the vector is
cancelled in the next move command.
</p>
<p>L
</p>
<p>N6
</p>
<p>N7 N8
</p>
<p>L
SS
</p>
<p>N6 G91 X100.0 Y100.0 ;
N7 G40 ;
N8 X100.0 Z0 ;
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>ï¿½ Tool movement around
the outside linear &rarr;linear
at an acute angle less
than 1 degree ( Î±ï¿½1&deg;)
</p>
<p>ï¿½ A block without tool
movement specified
together with offset
cancel
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>247
</p>
<p>If a G41 or G42 block precedes a block in which G40 and I_, J_, K_ are
specified, the system assumes that the path is programmed as a path from
the end position determined by the former block to a vector determined
by (I,J), (I,K), or (J,K).  The direction of compensation in the former block
is inherited.
</p>
<p>E(a, b)
</p>
<p>r
</p>
<p>N1 (G42 mode) ;
N2 G40 Xa Yb I_ J_ ;
</p>
<p>(I, J)
</p>
<p>r
</p>
<p>N2
</p>
<p>N1
</p>
<p>G42
</p>
<p>Workpiece
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>In the G42 block, the tool center moves towards X.
In the G40 block, the tool moves towards E.
</p>
<p>S
</p>
<p>In this case, note that the CNC obtains an intersection of the tool path
irrespective of whether inner or outer side machining is specified
</p>
<p>r
S
</p>
<p>G42
</p>
<p>E
</p>
<p>G40
</p>
<p>r
</p>
<p>(I, J)
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>When an intersection is not obtainable, the tool comes to the normal
position to the previous block at the end of the previous block.
</p>
<p>E
</p>
<p>(I, J)
</p>
<p>r
</p>
<p>S
</p>
<p>G40
</p>
<p>r
</p>
<p>Tool center path
</p>
<p>Programmed pathG42
</p>
<p>ï¿½ Block containing G40
and I_J_K_
</p>
<p>ï¿½ The previous block
contains G41 or G42
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>248
</p>
<p>In the example shown below, the tool does not trace the circle more than
once.  It moves along the arc from P1 to P2.  The interference check
function described in Subsection 14.6.5 may raise an alarm.
</p>
<p>(I, J)
</p>
<p>N6
</p>
<p>N7
</p>
<p>P1
</p>
<p>P2
</p>
<p>N5
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>(G41)
N5 G01 G91 X100.0 ;
N6 G02 J&ndash;60.0 ;
N7 G40 G01 X50.0 Y50.0 I&ndash;10.0 J&ndash;10.0 ;
</p>
<p>To make the tool trace a circle more than once, program two or more arcs.
</p>
<p>ï¿½ The length of the tool
center path larger than
the circumference of a
circle
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>249
</p>
<p>Tool overcutting is called interference. The interference check function
checks for tool overcutting in advance. However, all interference cannot
be checked by this function. The interference check is performed even if
overcutting does not occur.
</p>
<p>ï¿½ The direction of the tool path is different from that of the programmed
path (from 90 degrees to 270 degrees between these paths).
</p>
<p>Tool center path Programmed path
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>The directions of
these two paths are
different (180&deg;).
</p>
<p>The directions of
these two paths are
different (180&deg;).
</p>
<p>14.6.5
Interference Check
</p>
<p>Explanations
</p>
<p>ï¿½ Criteria for detecting
interference
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>250
</p>
<p>ï¿½ In addition to the condition ï¿½, the angle between the start point and
end point on the tool center path is quite different from that between
the start point and end point on the programmed path in circular
machining(more than 180 degrees).
 
</p>
<p>N5
N6
</p>
<p>N7
</p>
<p>r1
r2
</p>
<p>Center
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>(G41)
N5 G01 G91 X80.0 Y20.0 H1 ;
N6 G02 X32.0 Y&ndash;16.0 I&ndash;20.0 J&ndash;80.0 H2 ;
N7 G01 X20.0 Y&ndash;50.0 ;
(Tool compensation value corresponding to H1 : r1 = 20.0)
(Tool compensation value corresponding to H2 : r2 = 60.0)
</p>
<p>In the above example, the arc in block N6 is placed in the one quadrant.
But after cutter compensation, the arc is placed in the four quadrants.
</p>
<p>ï¿½ Removal of the vector causing the interference 
When cutter compensation is performed for blocks A, B and C and
vectors V1, V2, V3 and V4 between blocks A and B, and V5, V6, V7
and V8 between B and C are produced, the nearest vectors are checked
first. If interference occurs, they are ignored. But if the vectors to be
ignored due to interference are the last vectors at the corner, they
cannot be ignored.
Check between vectors V4 and V5
    Interference &ndash;&ndash;&ndash; V4 and V5 are ignored.
Check between V3 and V6 
   Interference &ndash;&ndash;&ndash; V3 and V6 are ignored 
Check between V2 and V7 
   Interference &ndash;&ndash;&ndash; V2 and V7 are Ignored 
Check between V1 and V8 
   Interference &ndash;&ndash;&ndash;&ndash;&ndash; V1 and V8 are cannot be ignored 
If while checking, a vector without interference is detected,
subsequent vectors are not checked.  If block B is a circular movement,
a linear movement is produced if the vectors are interfered.
</p>
<p>ï¿½ Correction of
interference in advance
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>251
</p>
<p>(Example 1)  The tool moves linearly from V1 to V8
</p>
<p>Tool
center path
</p>
<p>C
C
</p>
<p>C
</p>
<p>r r
</p>
<p>V1
V2
</p>
<p>V3
</p>
<p>V4V5
</p>
<p>V6
</p>
<p>V7
V8
</p>
<p>A
</p>
<p>O1 O2
</p>
<p>BProgrammed 
path
</p>
<p>V4, V5 : Interference
V3, V6 : Interference
V2, V7 : Interference
V1, V8 : No Interference
</p>
<p>(Example 2)  The tool moves linearly from V1, V2, V7,  to V8
</p>
<p>Tool center
path
</p>
<p>V6 V3
</p>
<p>V5
</p>
<p>C
C
</p>
<p>C
</p>
<p>r r
</p>
<p>V1
V2
</p>
<p>V4
</p>
<p>V7
V8
</p>
<p>A
</p>
<p>O1 O2
</p>
<p>B
</p>
<p>V4, V5 : Interference
V3, V6 : Interference
V2, V7 : No Interference
</p>
<p>Programmed
path
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>252
</p>
<p>ï¿½ If the interference occurs after correction ï¿½, the tool is stopped with
an alarm.
If the interference occurs after correction ï¿½ or if there are only one pair
of vectors from the beginning of checking and the vectors interfere, the
alarm (No.41) is displayed and the tool is stopped immediately after
execution of the preceding block.  If the block is executed by the single
block operation, the tool is stopped at the end of the block.
</p>
<p>C
</p>
<p>V6
</p>
<p>A
</p>
<p>B
</p>
<p>V5 V2
</p>
<p>V1
</p>
<p>Stopped
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>After ignoring vectors V2 and V5 because of interference, interference
also occurs between vectors V1 and V6.  The alarm is displayed and the
tool is stopped.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>253
</p>
<p>ï¿½ Depression which is smaller than the cutter compensation value
</p>
<p>Tool center path
</p>
<p>A
B
</p>
<p>C
</p>
<p>Stopped
</p>
<p>Programmed path
</p>
<p>There is no actual interference, but since the direction programmed in
block B is opposite to that of the path after cutter compensation the tool
stops and an alarm is displayed.
</p>
<p>ï¿½ Groove which is smaller than the cutter compensation value
</p>
<p>A B C
</p>
<p>Programmed path Tool center path
</p>
<p>Stopped
</p>
<p>In the same way as 1, the programmed path will be opposite to the tool
path after cutter compensation has been applied.  This state is determined
to constitute interference.  An alarm is issued and the machine stops.
</p>
<p>ï¿½ When interference is
assumed although actual
interference does not
occur
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>254
</p>
<p>When the radius of a corner is smaller than the cutter radius, because the
inner offsetting of the cutter will result in overcuttings, an alarm is
displayed and the CNC stops at the start of the block.  In single block
operation, the overcutting is generated because the tool is stopped after
the block execution.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Programmed path
</p>
<p>Tool center path
</p>
<p>Workpiece
</p>
<p>An alarm is generated
and the operation
stops
</p>
<p>An alarm is generated and
the operation stops here in
single block operation
</p>
<p>If the CNC does not
stop, overcutting occurs
</p>
<p>Since the cutter compensation forces the path of the center of the tool to
move in the reverse of the programmed direction, overcutting will result.
In this case an alarm is displayed and the CNC stops at the start of the
block.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>Workpiece
</p>
<p>An alarm is displayed and the operation stops
</p>
<p>Overcutting if the operation would not stop
</p>
<p>14.6.6
Overcutting by Cutter
Compensation
</p>
<p>Explanations
</p>
<p>ï¿½ Machining an inside
corner at a radius
smaller than the cutter
radius
</p>
<p>ï¿½ Machining a groove
smaller than the tool
radius
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>255
</p>
<p>When machining of the step is commanded by circular machining in the
case of a program containing a step smaller than the tool radius, the path
of the center of tool with the ordinary offset becomes reverse to the
programmed direction.  In this case, the first vector is ignored, and the tool
moves linearly to the second vector position.  The single block operation
is stopped at this point.  If the machining is not in the single block mode,
the cycle operation is continued.  If the step is of linear, no alarm will be
generated and cut correctly.  However uncut part will remain.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>S
The first vector is ignored
</p>
<p>Tool center path
</p>
<p>Programmed path
</p>
<p>Workpiece
</p>
<p>Center of the circular
machining
</p>
<p>An overcutting will result if the first vector is not ignored.
However, tool moves linearly.
</p>
<p>Linear movement Stop position after execution of a  single
block
</p>
<p>It is usually used such a method that the tool is moved along the Z axis
after the cutter compensation is effected at some distance from the
workpiece at the start of the machining.
In the case above, if it is desired to divide the motion along the Z axis into
rapid traverse and cutting feed, follow the procedure below.
</p>
<p>&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;
</p>
<p>Work-
piece
</p>
<p>N1
</p>
<p>N1 G91 G00 G41 X50.0 Y50.0 H1 ;
N3 G01 Z&ndash;300.0 F100 ;
N6 Y100.0 F200 ;
</p>
<p>N6
</p>
<p>(50, 50)
N3:Move command in Z axis
</p>
<p>After compensation
</p>
<p>In the program example above, when executing block N1, blocks N3 and
N6 are also entered into the buffer storage, and by the relationship among
them the correct compensation is performed as in the figure above.
Then, if the block N3 (move command in Z axis) is divided as follows:
As there are two move command blocks not included in the selected plane
and the block N6 cannot be entered into the buffer storage, the tool center
path is calculated by the information of N1 in the figure above.  That is,
the offset vector is not calculated in start&ndash;up and the overcutting may
result.
</p>
<p>ï¿½ Machining a step smaller
than the tool radius
</p>
<p>ï¿½ Starting compensation
and cutting along the
Z&ndash;axis
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>256
</p>
<p>The above example should be modified as follows:
</p>
<p>&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;N1
</p>
<p>N1 G91 G00 G41 X50.0 Y50.0 H1 ;
N3 G01 Z&ndash;250.0 ;
N5 G01 Z&ndash;50.0 F100 ;
N6 Y100.0 F200 ;
</p>
<p>N6
</p>
<p>(50, 50)
</p>
<p>N3, N5:Move command
for the Z axis
</p>
<p>After compensation
</p>
<p>Workpiece
</p>
<p>The move command in the same direction as that of the move command
after the motion in Z axis should be programmed.
</p>
<p>&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;
</p>
<p>&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;
&Ecirc;&Ecirc;&Ecirc;&Ecirc;&Ecirc;
</p>
<p>N1
</p>
<p>N1 G91 G00 G41 X50.0 Y40.0 H1 ;
N2 Y10.0 ;
N3 Z&ndash;250.0 ;
N5 G01 Z&ndash;50.0 F100 ;
N6 Y100.0 F200 ;
</p>
<p>N6
</p>
<p>N2
</p>
<p>Workpiece
</p>
<p>After compensation
</p>
<p>N3, N5 : Move command
for the Z axis (2blocks)
</p>
<p>(50, 50)
</p>
<p>As the block with sequence No. N2 has the move command in the same
direction as that of the block with sequence No. N6, the correct
compensation is performed.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>257
</p>
<p>Cutter compensation C is not performed for commands input from the
MDI.
However, when automatic operation by absolute commands is
temporarily stopped by the single block function, MDI operation is
performed, then automatic operation starts again, the tool path is as
follows :
In this case, the vectors at the start position of the next block are translated
and the other vectors are produced by the next two blocks.  Therefore,
from next block but one, cutter compensation C is accurately performed.
</p>
<p>VB2
</p>
<p>VB1
</p>
<p>VC1&rsquo;
</p>
<p>VC1
</p>
<p>VC2
</p>
<p>VB1&rsquo;
</p>
<p>VB2&rsquo;
</p>
<p>PB
</p>
<p>PA
</p>
<p>PB&rsquo;
</p>
<p>PC
</p>
<p>PD
</p>
<p>Command
for MDI
</p>
<p>When position PA, PB, and PC are programmed in an absolute command,
tool is stopped by the single  block function after executing the block from
PA to PB and the tool is moved by MDI operation.  Vectors VB1 and VB2
are translated to VB1&rsquo; and VB2&rsquo; and offset vectors are recalculated for the
vectors VC1 and VC2 between block PB&ndash;PC and PC&ndash;PD.
However, since vector VB2 is not calculated again, compensation is
accurately performed from position PC.
</p>
<p>14.6.7
Input Command from
MDI
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>258
</p>
<p>Tool compensation values include tool geometry compensation values
and tool wear compensation (Fig. 14.7).
</p>
<p>OFSG
</p>
<p>OFSW
OFSG:Geometric compensation value
</p>
<p>OFSW:Wear compensation value
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>Reference position
</p>
<p>Fig.14.7  Geometric compensation and wear compensation
</p>
<p>Tool compensation values can be entered into CNC memory from the
CRT/MDI panel (see section III&ndash;9.1) or from a program.  A tool
compensation value is selected from the CNC memory when the
corresponding code is specified after address H or D in a program. 
The value is used for tool length compensation, cutter compensation, or
the tool offset.
</p>
<p>Table 14.7(a) shows the valid input range of tool compensation values.
</p>
<p>Table14.7 (a)  The valid input range of  tool compensation value
</p>
<p>Increment system Metric input inch input
</p>
<p>IS&ndash;B 0 to ï¿½999.999mm 0 to ï¿½99.9999inch
</p>
<p>IS&ndash;C 0 to ï¿½999.9999mm 0 to ï¿½99.99999inch
</p>
<p>The memory can hold 32,64,99, or 200 tool compensation values
(option).
Address D or H is used in the program.  The address used depends on
which of the following functions is used: tool length compensation (see
section 14.1), tool offset (see section 14.3), cutter compensation B (see
section 14.4), or cutter compensation C (see sections 14.5 and 14.6).
The range of the number that comes after the address (D or H) depens on
the number of tool compensation values : 0 to 32, 0 to 64, 0 to 99, or 0
to 200.
</p>
<p>14.7
TOOL
COMPENSATION
VALUES, NUMBER
OF COMPENSATION
VALUES, AND
ENTERING VALUES
FROM THE
PROGRAM (G10)
</p>
<p>Explanations
</p>
<p>ï¿½ Valid range of tool
compensation values
</p>
<p>ï¿½ Number of tool
compensation values
and the addresses to be
specified
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>259
</p>
<p>Tool compensation memory A or B can be used.
The tool compensation memory determines the tool compensation values
that are entered (set) (Table 14.7 (b)).
</p>
<p>Table14.7(b)  Setting contents tool compensation memory and
tool compensation value
</p>
<p>Tool compensation memory Tool compensation value
</p>
<p>A The tool compensation corresponding to the
tool compensation number is used.
</p>
<p>B The tool geometry compensation, plus tool
wear compensation, both corresponding to the
tool compensation number, are used.
</p>
<p>The programming format depends on which tool compensation memory
is used.
</p>
<p>Table14.7(c)  Setting format of Tool compensation memory
and Tool compensation value
</p>
<p>Tool compensation memory Format
</p>
<p>A Tool compensation value G10P_R_;
</p>
<p>B
Geometry compensation value G10L10P_R_;
</p>
<p>B
Wear compensation value G10L11P_R_;
</p>
<p>P : Number of tool compensation
</p>
<p>R :Tool compensation value in the absolute command (G90) mode
Value to be added to the specified tool compensation value in the
incremental command (G91) mode (the sum is also a tool
compensation value.)
</p>
<p>NOTE
To provide compatibility with the format of older CNC
programs, the system allows L1 to be specified instead of
L11.
</p>
<p>ï¿½ Tool compensation
memory and the tool
compensation value to
be entered
</p>
<p>Format
</p>
<p>ï¿½ Input of tool
compensation
value by programing
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>260
</p>
<p>A programmed figure can be magnified or reduced (scaling).
The dimensions specified with X_, Y_, and Z_ can each be scaled up or
down with the same or different rates of magnification.
The magnification rate can be specified in the program.
Unless specified in the program, the magnification rate specified in the
parameter is applied.
</p>
<p>Y
</p>
<p>X
</p>
<p>P4
</p>
<p>P4&prime;
</p>
<p>P1
</p>
<p>P1&prime;
</p>
<p>P3&prime;
</p>
<p>P2&prime;
</p>
<p>P2
</p>
<p>P3
</p>
<p>P0
</p>
<p>P0:Scaling center
0
</p>
<p>Fig.14.8(a)  Scaling(P 1 P2 P3 P4 &rarr; P1&prime;P2&prime;P3&prime;P4&prime;)
</p>
<p>G51X_Y_Z_P_ ; Scaling start
</p>
<p>Scaling is effective.
   (Scaling mode)
</p>
<p>Format Meaning of command
</p>
<p>X_Y_Z_ : Absolute command for
center coordinate value
of scaling
</p>
<p>P_  : Scaling magnification
</p>
<p>G50 ; Scaling cancel
</p>
<p>SCALING UP OR DOWN ALONG ALL AXES COMPONENTS
AT THE SAME RATE OF MAGNIFICATION
</p>
<p>G51_X_Y_Z_I_J_K_; Scaling start X_Y_Z_ Absolute command for 
center coordinate value
of scaling
</p>
<p>I_J_K_ Scaling magnification for
X axis Y axis and Z axis 
respectivelyG50 Scaling cancel
</p>
<p>Format Meaning of command
</p>
<p>Scaling is effective.
   (Scaling mode)
</p>
<p>Scaling up or down along each axes at a different
rate of magnification (mirror image)
</p>
<p>CAUTION
Specify G51 in a separate block. After the figure is enlarged
or reduced, specify G50 to cancel the scaling mode.
</p>
<p>14.8
SCALING (G50, G51)
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>261
</p>
<p>Least input increment of scaling magnification is: 0.001 or 0.00001 It is
depended on parameter (No. 036#07) which value is selected.  If scaling
P is not specified on the block of scaling (G51X_Y_Z_P_ ;), the scaling
magnification set to parameter (No. 731) is applicable. If X,Y,Z are
omitted, the tool position where the G51 command was specified serves
as the scaling center.
</p>
<p>Each axis can be scaled by different  magnifications. Also when a negative
magnification is specified, a mirror image is applied.  First of all, set a
parameter (No. 063#6) which validates each axis scaling (mirror image).
Then, set parameter (No. 036#0, #1, #2) to enable scaling along each axis.
Least input increment of scaling magnification of each axis (I, J, K) is
0.001 or 0.00001 (set parameter (No. 036#7)).
Magnification is set to parameter 5421 within the range ï¿½0.00001 to
ï¿½9.99999 or ï¿½0.001 to ï¿½9.999
If a negative value is set, mirror image is effected.
If magnification I, J or K is not commanded, a magnification value set to
parameter (No. 731, 732, 733) is effective.  However, a value other than
0 must be set to the parameter.
</p>
<p>NOTE
Decimal point programming can not be used to specify the
rate of magnification (I, J, K).
</p>
<p>c
</p>
<p>Y axis
</p>
<p>X axis
</p>
<p>b
a
</p>
<p>d
</p>
<p>a/b  : Scaling magnification of X axis
c/d  : Scaling magnification of Y axis
   0  : Scaling center
</p>
<p>Programmed figure
</p>
<p>Scaled figure
</p>
<p>0
</p>
<p>Fig.14.8 (b)  Scaling of each axis
</p>
<p>Explanations
</p>
<p>ï¿½ Scaling up or down
along all axes at the
same rate of
magnification
</p>
<p>ï¿½ Scaling of each axis,
programmable mirror
image
(negative magnification)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>262
</p>
<p>Even if different magnifications are applie to each axis in circular
interpolation, the tool will not trace an ellipse.
When different magnifications are applied to axes and a circular
interpolation is specified with radius R, it becomes as following figure
14.8 (c) (in the example shown below, a magnification of  2 is applied to
the X&ndash;component and a magnification of  1 is applied to the Y&ndash;
component.).
</p>
<p>G90 G00 X0.0 Y100.0 ;
G51 X0.0 Y0.0 Z0.0 I2000 J1000;
G02 X100.0 Y0.0 R100.0 F500 ;
</p>
<p>Above commands are equivalent to the following command:
</p>
<p>G90 G00 X0.0 Y100.0 Z0.0 ;
G02 X200.0 Y0.0 R200.0 F500 ;
</p>
<p>Magnification of radius R depends on I, or J whichever is larger.
</p>
<p>(0,0) (100,0) (200,0)
</p>
<p>Y
</p>
<p>X
</p>
<p>Scaled shape
</p>
<p>(0,100)
</p>
<p>Fig.14.8 (c)  Scaling for circular interpolation 1
</p>
<p>When different magnifications are applied to axes and a circular
interpolation is specified with I, J and K, it becomes as following figure
14.8 (d) (In the example shown below, a magnification of 2 is applied to
the X&ndash;component and a magnification of 1 is applied to the
Y&ndash;component.).
</p>
<p>ï¿½ Scaling of circular
interpolation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>263
</p>
<p>G90 G00 X0.0 Y0.0 ;
G51 X0.0 Y0.0 I2000 J1000;
G02 X100.0 Y0.0 I0.0 J&ndash;100.0 F500 ;
</p>
<p>Above commands are equivalent to the following commands.
</p>
<p>G90 G00 X0.0 Y100.0;
G02 X200.0 Y0.0 I0.0 J&ndash;100.0 F500 ;
</p>
<p>In this case, the end point does not beet the radius, a linear section is
included.
</p>
<p>(0,0) (100,0) (200,0)
</p>
<p>Y
</p>
<p>X
</p>
<p>Scaled shape
</p>
<p>(0,100)
</p>
<p>Fig.14.8(d)  Scaling for circular interpolation 2
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>264
</p>
<p>This scaling is not applicable to cutter compensation values, tool length
offset values, and tool offset values (Fig. 14.8 (e) ).
</p>
<p>Programmed figure
</p>
<p>Figure after scaling
</p>
<p>Cutter compensation values are not scaled.
</p>
<p>Fig.14.8(e)  Scaling during cutter compensation
</p>
<p>Scaling is not applicable to the Z&ndash;axis movement in case of the following
canned cycle.
&sdot;Cut&ndash;in value Q and retraction value d of peck drilling cycle (G83, G73).
&sdot;Fine boring cycle (G76)
&sdot;Shift value Q of X and Y axes in back boring cycle (G87).
In manual operation, the travel distance cannot be increased or decreased
using the scaling function.
</p>
<p>WARNING
1 If a parameter setting value is employed as a scaling magnification without specifying P, the
</p>
<p>setting value at G51 command time is employed as the scaling magnification, and a change
of this value, if any, is not effective.
</p>
<p>2 Before specifying the G code for reference position return (G27, G28, G29, G30) or coordinate
system setting (G92), cancel the scaling mode.
</p>
<p>3 If scaling results are rounded by counting fractions of 5 and over as  a unit and disregarding
the rest, the move amount may become zero.  In this case, the block is regarded as a no
movement block, and therefore, it may affect the tool movement by cutter compensation C. See
the description of blocks that do not move the tool at subsection 14.6.3.
</p>
<p>ï¿½ Invalid scaling
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>265
</p>
<p>NOTE
1 The position display represents the coordinate value after scaling.
2 When a mirror image was applied to one axis of the specified plane, the following results:
</p>
<p>(1)Circular command Direction of rotation is reversed.. . . . . . . . . . . . . 
(2)Cutter compensation C Offset direction is reversed.. . . . . . . . . 
(3)Coordinate system rotation Rotation angle is reversed.. . . . . . 
(4)Cutter compensation B Offset direction is reversed. (Including G39). . . . . . . . . 
</p>
<p>Example of a mirror image program
Subprogram
O9000 ;
G00 G90 X60.0 Y60.0;
G01 X100.0 F100; 
G01 Y100.0;
G01 X60.0 Y60.0;
M99;
Main program
N10 G00 G90;
N20M98P9000;
N30 G51 X50.0 Y50.0 I&ndash;1000 J1000;
N40 M98 P9000;
N50 G51 X50.0 Y50.0 I&ndash;1000 J&ndash;1000;
N60 M98 P9000;
N70 G51 X50.0 Y50.0 I1000 J&ndash;1000
N80 M98 P9000;
N90 G50;
</p>
<p>Y
</p>
<p>10060
</p>
<p>50
</p>
<p>50 X
</p>
<p>60
</p>
<p>100
</p>
<p>40
</p>
<p>40
</p>
<p>0
</p>
<p>0
</p>
<p>Fig. 14.8 (f)  Example of a mirror image program
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>266
</p>
<p>A programmed shape can be rotated.  By using this function it becomes
possible, for example, to modify a program using a rotation command
when a workpiece has  been placed with some angle rotated from the
programmed position on the machine.Further, when there is a pattern
comprising some identical shapes in the positions rotated from a shape,
the time required for programming and the length  of the program can be
reduced by preparing a subprogram of the shape and calling it after
rotation.
</p>
<p>Angle of rotation
</p>
<p>Center of rotation
</p>
<p>Y
</p>
<p>X
0
</p>
<p>Fig. 14.9 (a)  Coordinate system rotation
</p>
<p>G68 ï¿½_ï¿½_R_ ; Start rotation of a coordinate system.
</p>
<p>G17 (G18 or G19) : Select the plane in which contains the figure to be 
rotated.
</p>
<p>ï¿½_ï¿½_ Absolute command for two of the x_,y_,and Z_ axes that
correspond to the current plane selected by a 
command (G17, G18, or G19).  The command specifies
the coordinates of the center of rotation for the values 
specified subsequent to G68.
</p>
<p>R_ Angular displacement with a positive value indicates
counter clockwise rotation.  Bit 0 of parameter 041 
selects whether the specified angular displacement is 
alwarys considered an absolute value or is considered an
absolute or incremental value depending on the specified
G code (G90 or G91).
</p>
<p>Least input increment : 0.001 deg  
Valid data range : 360,000 to 360,000
</p>
<p>Coordinate system rotation mode 
(The coordinate system is rotated.)
</p>
<p>G69 ; Coordinate system rotation cancel command
</p>
<p>Format
</p>
<p>Meaning of command
</p>
<p>G17
G18
G19
</p>
<p>14.9
COORDINATE
SYSTEM ROTATION
(G68, G69)
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>267
</p>
<p>(Î±,Î²)
</p>
<p>Angle of rotationCenter of
rotation
</p>
<p>Rotation plane G17
</p>
<p>R
</p>
<p>X
</p>
<p>Y
</p>
<p>0
</p>
<p>Fig ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½
ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½&#13;ï¿½	ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½	ï¿½&#13;ï¿½ï¿½
</p>
<p>NOTE
When a decimal fraction is used to specify angular
displacement (R_), the 1&rsquo;s digit corresponds to degree
units.
</p>
<p>The G code for selecting a plane (G17,G18,or G19) can be specified
before the block containing the G code for coordinate system rotation
(G68).  G17, G18 or G19 must not be designated in the mode of coordinate
system rotation.
As for the incremental position commands designated between the G68
block and a block with an absolute command; it is regarded that the
position where G68 was designated is the center of rotation (Fig. 14.9 (c)).
When Î±_ and Î²_ are omitted, the position where G68 is commanded is
set as the center of rotation.  
When angle of rotation is omitted, the value set to parameter (No. 730)
is regarded as the rotation angle.  The coordinate system rotation is
cancelled by G69; 
G69 may be designated in the same block as the other commands.  Tool
offset, such as cutter compensation, tool length offset, or tool offset, is
performed after the coordinate system is rotated for the command
program.
</p>
<p>WARNING
Use absolute programming to specify movement in a block
in which G69 is specified.
</p>
<p>Explanations
</p>
<p>ï¿½ G code for selecting a
plane: G17,G18 or G19
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>268
</p>
<p>N1 G92 Xï¿½50.0 Yï¿½50.0 G69 G17 ;
N2 G68 X70.0 Y30.0 R60.0 ;
N3 G90 G01 X0 Y0 F200 ;
</p>
<p>  (G91X50.0Y50.0)
N4 G91 X100.0 ;
N5 G02 Y100.0 R100.0 ;
N6 G03 Xï¿½100.0 Iï¿½50.0 Jï¿½50.0 ;
N7 G01 Yï¿½100.0 ;
N8 G69 G90 Xï¿½50.0 Yï¿½50.0 M02 ;
</p>
<p>Tool path when the incremental 
command is designated in the N3
block (in parenthesis) Originally programmed tool path
</p>
<p>Tool path after rotation
</p>
<p>60&deg;
</p>
<p>(&ndash;50.0,&ndash;50.0)
</p>
<p>(0,0)
</p>
<p>Center of rotation
(70.0,30.0)
</p>
<p>Fig.14.9(c)  Absolute/incremental command during 
coordinate system rotation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>269
</p>
<p>N1 G92 X0 Y0 G69 G01 ;
N2 G42 G90 X100.0 Y100.0 F1000 H01 ;
N3 G68 Rï¿½30.0 ;
N4 G91 X200.0 ;
N5 G03 Y100.0 R100.0 J50.0 ;
N6 G01 Xï¿½200.0 ;
N7 Yï¿½100.0 ;
N8 G69 G40 G90 X0 Y0 M30 ;
</p>
<p>It is possible to specify G68 and G69 in cutter compensation C mode.  
The rotation plane must coincide with the plane of cutter compensation C.
</p>
<p>Programmed shape before 
coordinate system  rotation
</p>
<p>Programmed shape 
after coordinate 
system  rotation
</p>
<p>Tool path
</p>
<p>30&deg;
</p>
<p>(0, 0)
</p>
<p>Fig. 14.9 (d)  Cutter compensation C and coordinate system rotation
</p>
<p>If a coordinate system rotation command is executed in the scaling mode
(G51 mode), the coordinate value (Î±,Î²,) of the rotation center will also
be scaled,   but not the rotation angle (R).  When a move command is
issued, the scaling  is applied first and then the coordinates are rotated.
A coordinate system rotation command (G68) should not be issued in
cutter compensation C mode (G41, G42) on scaling mode (G51).  The
coordinate system rotation command should always be specified prior to
setting the cutter compensation C mode.
</p>
<p>1. When the system is not in cutter compensation mode C, specify the
commands in the following order :
</p>
<p>G51 ; scaling mode start
G68 ; coordinate system rotation mode start
</p>
<p>G69 ; coordinate system rotation mode cancel
G50 ; scaling mode cancel
</p>
<p>Examples
</p>
<p>ï¿½ Cutter compensation C
and coordinate system
rotation
</p>
<p>ï¿½ Scaling and coordinate
system rotation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>270
</p>
<p>2. When the system is in cutter compensation model C, specify the
commands in the following order (Fig.14.9(e)) :
(cutter compensation C cancel)
</p>
<p>G51 ; scaling mode start
G68 ; coordinate system rotation start
</p>
<p>: 
G41 ; cutter compensation C mode start
</p>
<p>:
</p>
<p>0
</p>
<p>100.0
</p>
<p>200.0
</p>
<p>200.0 400.0
</p>
<p>G90 G92 X0 Y0 ;
G51 X300.0 Y150.0 P500 ;
G68 X200.0 Y100.0 R45.0 ;
G01 X400.0 Y100.0 ;
G91 Y100.0 ; 
X&ndash;200.0 ;
Y&ndash;100.0 ;
X200.0 ;
</p>
<p>When only coordinate 
system rotation is applied
</p>
<p>When scaling and coordinate
system rotation are applied
</p>
<p>When only scaling
is applied
</p>
<p>Cutting program
</p>
<p>Y
</p>
<p>X
</p>
<p>Fig. 14.9 (e) Scaling and coordinate system rotation
in cutter compensation C mode
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>271
</p>
<p>It is possible to store one program as a subprogram and recall subprogram
by changing the angle.
</p>
<p>(0, 0)
</p>
<p>(0, &ndash;10.0)
</p>
<p>Sample program for when the bit (bit 0 of parameter 041) is set to 1.  
The specified angular displancement is treated as an absolute or 
incremental value depending on the specified G code (G90 or G91).
</p>
<p>G92 X0 Y0 G69 G17;
G01 F200 H01;
M98 P2100 ;
M98 P072200 ;
G69 G00 G90 X0 Y0 M30 ;
</p>
<p>O 2200 G68 X0 Y0 G91 R45.0 ;
G90 M98 P2100 ;
M99 ;
</p>
<p>O 2100 G90 G01 G42 X0 Y&ndash;10.0 ;
X4.142 ;
X7.071 Y&ndash;7.071 ;
G40 ; 
M99 ;
</p>
<p>Programmed path
</p>
<p>When offset is
applied
</p>
<p>Subprogram
</p>
<p>Fig. 14.9 (f) Coordinate system rotation command
</p>
<p>ï¿½ Repetitive commands for
coordinate system
rotation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>272
</p>
<p>By specifying indexing positions (angles) for the indexing axis (the
fourth axis), the index table of the machining center can be indexed.
Before and after indexing, the index table is automatically unclamped or
clamped .
</p>
<p>Specify an indexing position with the fourth axis address, generally A, B,
or C.
The indexing position is specified by either of the following (depending
on bit 4 of parameter 079):
</p>
<p>1. Absolute value only
</p>
<p>2. Absolute or incremental value depending on the specified G
code:G90 or G91
</p>
<p>A positive value indicates an indexing position in the counterclockwise
direction.  A negative value indicates an indexing position in the
clockwise direction.
The minimum indexing angle of the index table is the value set to
parameter 839.  Only multiples of the least input increment can be
specified as the indexing angle.  If any value that is not a multiple is
specified, an alarm (No. 135) occurs.  Decimal fractions can also be
entered.  When a decimal fraction is entered, the 1&rsquo;s digit corresponds to
degree units.
</p>
<p>G90 B&ndash;45.0 ; or
G91 B&ndash;105.0;
</p>
<p>Value specified for rotation from A to B
(case 2 described above)
</p>
<p>0&deg;
&ndash;45&deg;
</p>
<p>+60&deg;
</p>
<p>A
</p>
<p>B
</p>
<p>The direction of rotation and angular displacement are determined by
either of the following two methods.  Refer to the manual written by the
machine tool builder to find out which method is applied.
</p>
<p>1. Using the miscellaneous function specified in parameter 249
(Address) (Indexing position) (Miscellaneous function); 
Rotation in the negative direction
(Address) (Indexing position); 
Rotation in the positive direction (No miscellaneous functions are
specified.)
An angular displacement greater than 360&deg;is rounded down to the
corresponding angular displacement within 360&deg;when bit 2 of
parameter 079 specifies this option.
For example, when G90 B400.0 (miscellaneous function); is specified
at a position of 0 , the table is rotated by 40&deg;in the negative direction.
</p>
<p>14.10
INDEX TABLE
INDEXING FUNCTION
</p>
<p>Explanations
</p>
<p>ï¿½ Indexing position
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½&#13;ï¿½ï¿½
 ï¿½
ï¿½ ï¿½ï¿½	ï¿½ï¿½ ï¿½ï¿½
</p>
<p>ï¿½ï¿½&#13;ï¿½&#13;ï¿½ï¿½

</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>273
</p>
<p>2. Using no miscellaneous functions
By setting to bits 2, 3, and 4 of parameter 079, operation can be
selected from the following two options.
Select the operation by referring to the manual written by the machine
tool builder.
</p>
<p>(1)Rotating in the direction in which an angular displacement
becomes shortest
This is valid only in absolute mode.   A specified angular
dis&ndash;placement greater than 360&deg; is rounded down to the
correspond&ndash;ing angular displacement within 360&deg; when bit 2 of
parameter 079 specifies this option. 
For example, when G90 B400.0; is specified at a position of 0 , the
table is rotated by 40&deg; in the positive direction.
</p>
<p>(2)Rotating in the specified direction
In the absolute mode, the value set in bit 2 of parameter 079
determines whether an angular displacement greater than 360&deg;is
rounded down to the corresponding angular displacement within
360&deg;. 
In the incremental mode, the angular displacement is not rounded
down.  
For example, when G90 B720.0; is specified at a position of 0 , the
table is rotated twice in the positive direction, when the angular
displacement is not rounded down.
</p>
<p>The table is always rotated around the indexing axis in the rapid traverse
mode. 
Dry runs cannot be executed for the indexing axis.
</p>
<p>CAUTION
If a reset is made during indexing of the index table, a
reference position return must be made before each time
the index table is indexed subsequently.
</p>
<p>NOTE
1 Specify the indexing command in a single block.  If the
</p>
<p>command is specified in a block in which another controlled
axis is specified, an alarm (No.136) occurs.
</p>
<p>2 The waiting state which waits for completion of clamping or
unclamping of the index table is indicated on diagnostic
screen No. 701#2.
</p>
<p>3 The miscellaneous function specifying a negative direction
is processed in the CNC.  
The relevant M code signal and completion signal are sent
between the CNC and the machine.
</p>
<p>4 If a reset is made while waiting for completion of clamping
or unclamping, the clamp or unclamp signal is cleared and
the CNC exits the completion wait state.
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>274
</p>
<p>Table14.10  Index indexing function and other functions
</p>
<p>Item Explanation
</p>
<p>Relative position display
This value is rounded down when bit 1 of parameter 079 specifies this
option.
</p>
<p>Absolute position display
This value is rounded down when bit 2 of parameter 079 specifies this
option.
</p>
<p>Automatic return from the reference position (G29)
2nd reference position return (G30)
</p>
<p>Impossible to return
</p>
<p>Movement in the machine coordinate system Impossible to move
</p>
<p>Single direction positioning Impossible to specify
</p>
<p>2nd auxiliary function (B code) Possible with any address other than B that of the indexing axis.
</p>
<p>Operations while moving the indexing axis
Unless otherwise processed by the machine, feed hold, interlock and
emerrgency stop can be executed. Machine lock can be executed af-
ter indexing is completed.
</p>
<p>SERVO OFF signal
Disabled
The indexing axis is usually in the servo&ndash;off state.
</p>
<p>Incremental commands for indexing the index table
The workpiece coordinate system and machine coordinate system
must always agree with each other on the indexing axis (the work-
piece zero point offset value is zero.).
</p>
<p>Operations for indexing the index table
</p>
<p>Manual operation is disabled in the JOG, INC, or HANDLE mode.  
A manual reference position return can be made.  If the axis selection
signal is set to zero during manual reference position return, move-
ment is stopped and the clamp command is not executed.
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½ ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½	ï¿½&#13; ï¿½ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>275
</p>
<p>When a tool with a rotation axis (fourth&ndash;axis) is moved in the XY plane
during cutting, the normal direction control function can control the tool
so that the fourth&ndash;axis is always perpendicular to the tool path (Fig. 14.11
(a)). 
</p>
<p>Tool
</p>
<p>Tool
</p>
<p>Programmed tool path
</p>
<p>Normal direction (in
which the tool moves)
</p>
<p>Fourth&ndash;axis
</p>
<p>Fourth&ndash;axis
</p>
<p>Fig. 14.11 (a)   Sample movement of the tool
</p>
<p>G code Function Explanation
</p>
<p>G151 Normal direction 
control left
</p>
<p>If the workpiece is to the right of the tool
path looking toward the direction in which
the tool advances, the normal direction
</p>
<p>G152 Normal direction 
control right
</p>
<p>control left (G151) function is specified. 
After G151 or G152 is specified, the nor-
mal direction control function is enabled
(normal direction control mode)
</p>
<p>G150 Normal direction 
control cancel
</p>
<p>(normal direction control mode).  
When G150 is specified, the normal
direction control mode is canceled.
</p>
<p>14.11
NORMAL DIRECTION
CONTROL 
(G150, G151, G152)
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>276
</p>
<p>Direction od the fourth&ndash;axis
</p>
<p>Programmed path
</p>
<p>Programmed path
Direction od the fourth&ndash;axis
</p>
<p>Center of the arc
</p>
<p>Fig. 14.11 (c)  Normal direction control right (G152)Fig. 14.11 (b)  Normal direction control left (G151)
</p>
<p>When viewed from the center of rotation around the fourth&ndash;axis, the
angular displacement about the fourth&ndash;axis is determined as shown in
Fig. 14.11 (d).  The positive side of the X&ndash;axis is assumed to be 0&deg;, the
positive side of the Y&ndash;axis is 90&deg;, the negative side of the X&ndash;axis is 180&deg;,
and the negative side of the Y&ndash;axis is 270&deg;.
</p>
<p>Center of rotation
</p>
<p>+Y
</p>
<p>180&deg; +X
</p>
<p>270ï¿½
</p>
<p>0ï¿½
</p>
<p>90ï¿½
</p>
<p>Fig. 14.11 (d)  Angle of the fourth axis
</p>
<p>When the cancel mode is switched to the normal direction control mode,
the fourth&ndash;axis becomes perpendicular to the tool path at the beginning
of the block containing G151 or G152.
In the interface between blocks in the normal direction control mode, a
command to move the tool is automatically inserted so that the
fourth&ndash;axis becomes perpendicular to the tool path at the beginning of
each block.  The tool is first oriented so that the fourth&ndash;axis becomes
perpendicular to the tool path specified by the move command, then it is
moved along the X&ndash; and Y axes.
In the cutter compensation mode, the tool is oriented so that the
fourth&ndash;axis becomes perpendicular to the tool path created after
compensation.
In single&ndash;block operation, the tool is not stopped between a command for
rotation of the tool and a command for movement along the X&ndash; and
Y&ndash;axes.  A single&ndash;block stop always occurs after the tool is moved along
the X&ndash; and Y&ndash;axes.
</p>
<p>Explanations
</p>
<p>ï¿½ ï¿½
ï¿½	ï¿½ ï¿½ï¿½ ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½&#13;
</p>
<p>ï¿½ Normal direction control
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 14. COMPENSATION FUNCTIONPROGRAMMING
</p>
<p>277
</p>
<p>Programmed path
</p>
<p>S : Single block stop point
</p>
<p>S
</p>
<p>N1
</p>
<p>N2
</p>
<p>S
</p>
<p>N3
</p>
<p>S
</p>
<p>Direction of the fourth axis
</p>
<p>Fig. 14.11 (e)  Point at which a single&ndash;block stop occurs 
in the normal direction control mode
</p>
<p>Before circular interpolation is started, the fourth&ndash;axis is rotated so that
the fourth&ndash;axis becomes normal to the arc at the start point.  During
circular interpolation, the tool is controlled so that the fourth&ndash;axis is
always perpendicular to the tool path determined by circular
interpolation.
</p>
<p>Center of the arc
Programmed path
</p>
<p>The tool is controlled so that the fourth&ndash;axis
is always normal to the tool path determined
by circular interpolation.
</p>
<p>A rotation command is inserted so
that the fourth&ndash;axis becomes 
normal to the arc at the start point.
</p>
<p>Fig. 14.11 (f)  Normal direction control of the circular interpolation
</p>
<p>CAUTION
During normal direction control, the fourth axis always
rotates through an angle less than 180 deg.  I.e., it rotates
in whichever direction provides the shorter route.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0814. COMPENSATION FUNCTION
</p>
<p>278
</p>
<p>Movement of the tool inserted at the beginning of each block is executed
at the feedrate set in parameter 683.  If dry run mode is on at that time, the
dry run feedrate is applied.  If the tool is to be moved along the X&ndash;and
Y&ndash;axes in rapid traverse (G00) mode, the rapid traverse feedrate is
applied.
</p>
<p>The federate of the fourth axis during circular interpolation is defined by
the following formula.
</p>
<p>Amount of movement of the revolution (deg)
</p>
<p>Length of arc (mm or inch)
(deg/min)Fï¿½
</p>
<p>F ï¿½Federate (mm/min or inch/min) specified by the corresponding
block of the arc
</p>
<p>Amount of movement of the revolution : 
The difference in angles at the beginning and the end of the block.
</p>
<p>NOTE
1 Do not specify any command to the fourth&ndash;axis during
</p>
<p>normal direction control.
Any command specified at this time is ignored.
</p>
<p>2 Before processing starts, it is necessary to correlate the
workpiece coordinate of the fourth axis with the actual
position of the fourth axis on the machine using the
coordinate system setting (G92) or the like.
</p>
<p>3 The helical cutting option is required to use this function.
Helical cutting cannot be specified in the normal direction
control mode.
</p>
<p>4 Normal direction control cannot be performed by the G53
move command.
</p>
<p>ï¿½ Fourth axis feedrate
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 15. CUSTOM MACRO APROGRAMMING
</p>
<p>279
</p>
<p>15 CUSTOM MACRO A
A function covering a group of instructions is stored in memory as same
as a subprogram.  The stored function is presented by one instruction, so
that only the representative instruction need be specified to execute the
function.  This group of registered instructions is called a &ldquo;custom macro
body&rdquo; and the representative instruction is called a &ldquo;custom macro
instruction&rdquo;.  The custom macro body may simply be called a macro.  And
the custom macro instruction may be called a macro call command.
</p>
<p>Regular Program
</p>
<p>Custom macro 
instruction
</p>
<p>Custom macro body
</p>
<p>A group of 
instructions for 
a certain function
</p>
<p>Programmers need only remember representative macro instructions
without having to remember all the instructions in a custom macro body.
The three most significant points on custom macros are that variables can
be used in the custom macro body, operations can be performed on
variables and actual values can be assigned to the variables in custom
macro instructions.
</p>
<p>NOTE
Machine tool builders are requested to attach your custom
macro program tape or program list to the CNC unit without
fail.  If it is necessary to replace part program storage
memory due to a failure, FANUC serviceman or end users
operators in charge of maintenance should know the
contents of custom macro for the purpose of repairing the
trouble immediately.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0815. CUSTOM MACRO A
</p>
<p>280
</p>
<p>The custom macro command is the command to call the custom macro
body.
</p>
<p>Command format is as follows :
</p>
<p>M98 P__;
</p>
<p>Called macro body program No.
</p>
<p>With the above command, the macro body specified by P is called.
</p>
<p>The subprogram can be called using M code set in parameter.
N_ G_ X_ M98P &lt;p&gt; ;
</p>
<p>instead of commanding as above, the same operation can be commanded
using following command :
</p>
<p>N_ G_ X_ M &lt;m&gt; ;
The correspondence of M code &lt;m&gt; which calls subprogram and the
program number &lt;p&gt; (O9001 to O9003) of the called subprogram shall
be set by parameters (No. 0240 to No. 0242).
For subprogram call, a maximum of 3 among M03 to M255, except M30
and M code which does not buffer (parameter No. 111, 112) can be used.
</p>
<p>NOTE
1 Similarly to M98, signal MF and M code are not output.
2 Delivery of argument is not possible.
3 Subprogram call M code used in the subprogram which is
</p>
<p>called by M or T code does not executes subprogram call
but as an ordinal M code.
</p>
<p>15.1
CUSTOM MACRO
COMMAND
</p>
<p>15.1.1
M98 (Single Call)
</p>
<p>Format
</p>
<p>15.1.2
Subprogram Call Using
M Code
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 15. CUSTOM MACRO APROGRAMMING
</p>
<p>281
</p>
<p>When parameter (No. 0040 #5) is set beforehand, subprogram (O9000)
can be called using T code.
</p>
<p>N_ G_ X_ T &lt;t&gt; ;
the above command results in the same operation of command of the
following 2 blocks.
</p>
<p>#149 = &lt;t&gt; ;
N_ G_ X_ M98 P9000 ;
</p>
<p>The T code t__ is stored in a common variable #0149 as an argument.
</p>
<p>NOTE
1 It is not possible to command with a same block as that of
</p>
<p>subprogram call using M code.
2 Subprogram call T code used in the subprogram which is
</p>
<p>called by M or T code does not executes subprogram call
but as an original T code.
</p>
<p>15.1.3
Subprogram Call Using
T Code
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0815. CUSTOM MACRO A
</p>
<p>282
</p>
<p>G66 P __ ;
</p>
<p>Called macro body program No.
</p>
<p>The above command selects the macro modal call mode for NC.  In other
words, every  time each block subsequent to the above command is
executed, the macro designated by P is called.  Also, an argument can be
designated by a block subsequent to the above command.  For this
argument, refer to 15.1.3.  The macro modal call mode is cancelled by the
command below.  
</p>
<p>G67 ;
</p>
<p>CAUTION
In MDI mode, the G66 command specifies macro modal
calling mode.  The G67 command cancels macro modal
calling mode.  Other commands, however, do not call a
macro, even when executed between G66 and G67.
Instead, they are executed as ordinary commands.  If MDI
operation B is specified, macros can be called in MDI mode.
</p>
<p>NOTE
1 Blocks containing the G66 and G67 commands do not cqll
</p>
<p>a macro.
2 Commands other than O, N, and P are ignored in the G66
</p>
<p>and G67 blocks.
3 A repetition count cannot be specified for macro modal
</p>
<p>calling.  Only the four low&ndash;order digits of the values
specified with P in a G66 block are valid.
</p>
<p>4 The maximum nesting level for macro modal calling is 1.
The maximum nesting level for  subprogram calling is 4.
However, the maximum total nesting level for macro modal
calling and subprogram calling is 4.
</p>
<p>15.1.4
G66 (Modal Call)
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 15. CUSTOM MACRO APROGRAMMING
</p>
<p>283
</p>
<p>An argument means an actual value given to a variable employed in a
called macro.  An argument can be specified at all employable addresses
except for O.  The format of argument specification is the same as in
normal CNC command.  The limitation at each address as a normal CNC
command, such as decimal point, sign, maximum number of digits, etc.,
is also applicable to the format.  
The following table indicates the correspondence between argument
specification addresses and variable numbers.
</p>
<p>Table 15.1.5 (a)  Correspondence between addresses
and variable numbers
</p>
<p>Variable number
(value)
</p>
<p>Variable number
(flag) Address Remarks
</p>
<p>#8004 #8104 I
</p>
<p>#8005 #8105 J
</p>
<p>#8006 #8106 K
</p>
<p>#8009 #8109 F
</p>
<p>#8010 #8110 G
</p>
<p>#8011 #8111 H
</p>
<p>#8013 #8113 M
</p>
<p>#8014 #8114 N
</p>
<p>#8016 #8116 P
</p>
<p>#8017 #8117 Q
</p>
<p>#8018 #8118 R
</p>
<p>#8019 #8119 S
</p>
<p>#8020 #8120 T
</p>
<p>#8024 #8124 X
</p>
<p>#8025 #8125 Y
</p>
<p>#8026 #8126 Z
</p>
<p>#8100&rsquo;s variables are flags to indicate whether an argument has been
specified or not every call.  These variables are 1 if an argument is
specified, and 0 if no argument is specified.
#8000&rsquo;s variables show a specified value, if an argument is specified.
However, they become as specified below, if no argument is specified.
</p>
<p>(a) Reference in CNC command
The address itself is neglected.
</p>
<p>(b)Reference in macro command and branch command.  
This value is undefined.  Use it after confirming #8100&rsquo;s numbers.
</p>
<p>15.1.5
Argument
Specification
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0815. CUSTOM MACRO A
</p>
<p>284
</p>
<p>15.1.5 (b)  Correspondence between G codes of the argument
specification and variable numbers
</p>
<p>Variable
number
(value)
</p>
<p>Variable
number
</p>
<p>(flag)
</p>
<p>G code
group
</p>
<p>number
</p>
<p>G codes of the argument
specification
</p>
<p>#8030 #8130 00 One shot and others
</p>
<p>#8031 #8131 01 G00, G01, G02, G03
</p>
<p>#8032 #8132 02 G17, G18, G19
</p>
<p>#8033 #8133 03 G90, G91
</p>
<p>#8035 #8135 05 G94
</p>
<p>#8036 #8136 06 G20, G21
</p>
<p>#8037 #8137 07 G40, G41, G42
</p>
<p>#8038 #8138 08 G43, G44, G49
</p>
<p>#8039 #8139 09 G73, G74, G76, G80 to G89
</p>
<p>#8040 #8140 10 G98, G99
</p>
<p>#8041 #8141 11 G50, G51
</p>
<p>#8042 #8142 12 G66, G67
</p>
<p>#8045 #8145 15 G61, G62, G63, G64
</p>
<p>#8046 #8146 16 G68, G69
</p>
<p>If plural G codes are specified a arguments in the same block, a value is
input to variables in each group as shown in Table 15.1.5 (b).  In this case,
#8010 is the smallest group number out of the numbers specified at a time.
No value can institute into #8100&rsquo;s and 8000&rsquo;s variables.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 15. CUSTOM MACRO APROGRAMMING
</p>
<p>285
</p>
<p>In the custom macro body, the CNC command, which uses ordinary CNC
command variables, calculation, and branch command can be used.  The
custom macro body starts from the program No. which immediately
follows O and ends at M99.
</p>
<p>O_____________ ; Program No.
G65 H01 .... ; Calculation command
G90 G00 X#101 ; CNC command using variables
</p>
<p>G65 H82 .... ; Branch command
M99; End of custom macro
</p>
<p>Fig.15.2  Construction of the custom macro body
</p>
<p>A variable can be specified to make the macro flexible and versatile by
applying the calculated variable when calling the macro or when
executing the macro itself.  Multiple variables are identified from each
other by variable numbers.
</p>
<p>(1) How to express variables
Variables are expressed by variable numbers following # as shown
below.
#i (i = 1, 2, 3, 4 .....)
(Example) #5, #109, #1005
</p>
<p>(2) How to quote variables
A numeral following an address can be replaced by a variable.  Assume
that &lt;Address&gt; #1 or &lt;Address&gt; &ndash; #1 is programmed, and it means
that the variable value or its complement serves as the command value
of the address.
</p>
<p>(Example)
F#103F15 was commanded when #103=15
Z&ndash;#110 Z&ndash;250 was commanded when #110=250
G#130 G3 was commanded when #103=3.
</p>
<p>When replacing a variable number with a variable, it is not expressed as
&ldquo;##100&rdquo;, for example, but express as &ldquo;#9100&rdquo;.  That is, &ldquo;9&rdquo; next to &ldquo;#&rdquo;
indicates the substitute of the variable number, while the lower number
to be replaced.
</p>
<p>(Example)
If #100=105 and #105=&ndash;500, &ldquo;X#9100&rdquo; indicates that X&ndash;500 was
commanded, and &ldquo;X&ndash;#9100&rdquo; indicates that X500 was
commanded.
</p>
<p>15.2
CUSTOM MACRO
BODY
</p>
<p>15.2.1
Variables
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0815. CUSTOM MACRO A
</p>
<p>286
</p>
<p>NOTE
1 No variable can be quoted at address O and N.  Neither
</p>
<p>O#100 nor N#120 can be programmed.
2 It is not possible to command a value exceeding the
</p>
<p>maximum command value set in each address.  
When #30=120, G#30 has exceeded the maximum
command value.
</p>
<p>Variables are sorted into common variables and system variables
according to variable numbers, and their applications and characters differ
from each other.
</p>
<p>(1) Common variable #100 to #149 and #500 to #531
Common variables are common to main programs and each macro
called from these main programs.  That is, #i in a macro is equal to #i
in another macro.
Common variables #100 to #149 are cleared when the power is turned
off, and reset to &rdquo;0&rdquo; just after power was turned on.  Common variables
#500 to #531 are not cleared, even if power is turned off, and their
values remain unchanged.
</p>
<p>(2) System variable
The system variables are defined as variables whose applications
remain fixed.
</p>
<p>(a) Tool offset amount #1 to #99, #2000 to #2200
The offset amount can be known by reading system variable #1 to
#99 values for tool offset amounts, and these values can be changed
by substituting them into system variables #1 to #99. 
Among these offset numbers 1 to 99, those which are not used as
offset amounts can be treated as hold type common variables
(#500 to #531).
The system variables #2001 to #2200 correspond to the tool offset
numbers 1 to 200.  They can be read and substituted as the same as
#1 to #99. #2000 always can read 0.
</p>
<p>15.2.2
Kind of Variables
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 15. CUSTOM MACRO APROGRAMMING
</p>
<p>287
</p>
<p>(b) Interface input signals #1000 to #1015, #1032
Interface signals can be known, by reading system variables #1000
to #1015 for reading interface signals.
</p>
<p>#1032 ï¿½ï¿½
15
</p>
<p>iï¿½0
</p>
<p>#(1000 ï¿½ i) ï¿½ 2i
</p>
<p>215 214 213 212 211 210 29 28 27 26 25 24 23 22 21 20
</p>
<p>UI15 UI14 UI13 UI12UI11 UI10 UI9 UI8 UI7 UI6 UI5 UI4 UI3 UI2 UI1 UI0
</p>
<p>#1015
</p>
<p>#1014
</p>
<p>#1013
</p>
<p>#1012
</p>
<p>#1011
</p>
<p>#1010
</p>
<p>#1009
</p>
<p>#1008
</p>
<p>#1007
</p>
<p>#1006
</p>
<p>#1005
</p>
<p>#1004
</p>
<p>#1003
</p>
<p>#1002
</p>
<p>#1001
</p>
<p>#1000
</p>
<p>1
</p>
<p>0
</p>
<p>Input signal Variable value
</p>
<p>Contact  closed
</p>
<p>Contact  opened
</p>
<p>By reading system variable #1032, all the input signals can be read at once.
</p>
<p>NOTE
1 No value can be substituted into system variables #1000 to
</p>
<p>#1032.
2 System variables #1000 to #1015 can be displayed by
</p>
<p>diagnostic function.
DGNOS No.110 U10 to U17
DGNOS No.111 U18 to U15
</p>
<p>3 System variables #1000 to #1032 can be used only when
PMC is combined.
</p>
<p>(c) Interface output signals #1100 to #1115, #1132, #1133 A value can
be substituted into system variables #1100 to #1115 for sending the
interface signals.
</p>
<p>#1132 ï¿½ï¿½
15
</p>
<p>iï¿½0
</p>
<p>#(1100 ï¿½ i) ï¿½ 2i
</p>
<p>215 214 213 212 211 210 29 28 27 26 25 24 23 22 21 20
</p>
<p>UO15UO14 UO13 UO12 UO11UO10 UO9 UO8 UO7 UO6 UO5 UO4 UO3 UO2 UO1 UO0
</p>
<p>#1115
</p>
<p>#1114
</p>
<p>#1113
</p>
<p>#1112
</p>
<p>#1111
</p>
<p>#1110
</p>
<p>#1109
</p>
<p>#1108
</p>
<p>#1107
</p>
<p>#1106
</p>
<p>#1105
</p>
<p>#1104
</p>
<p>#1103
</p>
<p>#1102
</p>
<p>#1101
</p>
<p>#1100
</p>
<p>1
</p>
<p>0
</p>
<p>Input signal Variable value
</p>
<p>Contact  closed
</p>
<p>Contact  opened
</p>
<p>By substituting a value into system variable #1132, all output signals (UO0
to UO15) can be sent out at once.
</p>
<p>32 interface signals (UO100 to UO131) can be sent out by #1133 at once.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0815. CUSTOM MACRO A
</p>
<p>288
</p>
<p>CAUTION
If any other number than &lsquo;0&rsquo; or &lsquo;1&rsquo; is substituted into system
variables #1100 to #1115, it is treated as &lsquo;1&rsquo;.
</p>
<p>NOTE
1 It is possible to read the values of system variables #1100
</p>
<p>to #1133.
2 System variables #1100 to #1115 and #1133 can be
</p>
<p>displayed by diagnostic function.
DGNOS No.162 UO0 to UO7
</p>
<p>No.163 UO8 to UO15
No.196 UO100 to UO107
No.197 UO108 to UO115
No.198 UO116 to UO123
No.199 UO124 to UO131
</p>
<p>3 System variables #1100 to #1133 can be used only when
PMC is combined.
</p>
<p>(d)Clock information #3011, 3012
It is possible to know the year, month, day, hour, minute, and
second by reading system variables #3011, #3012.
</p>
<p>Kind System variable
</p>
<p>Year, Month, Day #3011
</p>
<p>Hour, Minute, Second #3102
</p>
<p>(Example) When it is May 20, 1987 4:17 5&rdquo; PM
#3012=19870520,
#3012=161705
</p>
<p>(e) Number of necessary parts, number of machined parts
</p>
<p>Kind System variable
</p>
<p>Number of machined parts #3901
</p>
<p>Number of necessary parts #3902
</p>
<p>NOTE
Do not substitute a negative value.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 15. CUSTOM MACRO APROGRAMMING
</p>
<p>289
</p>
<p>(f) Modal information #4001 to #4120
It is possible to know the current values of modal information
(modal command given till immediately preceding block) by
reading values of system variables #4001 to #4120.
</p>
<p>#4001 G code (group 01)
</p>
<p>#4002 G code (group 02)
#4003 G code (group 03)
</p>
<p>ï¿½ï¿½ï¿½
</p>
<p>#4022 G code (group 22)
#4102 B code
#4107 D code
#4109 F code
#4111 H code
#4113 M code
#4114 Sequence No.
#4115 Program No.
#4119 S code
#4120 T code
</p>
<p>Variables Modal information
</p>
<p>NOTE
The unit will be the one being used when the command is
given.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0815. CUSTOM MACRO A
</p>
<p>290
</p>
<p>(g)Position information #5001 to #5083
The position information can be known by reading system
variables #5001 to #5083.  The unit of position information is
0.001 mm in metric input and 0.0001 inch in inch input.
</p>
<p>System
variables Position information
</p>
<p>Reading
while
</p>
<p>moving
</p>
<p>Cutter and tool
length 
</p>
<p>compensation
</p>
<p>#5001
</p>
<p>#5002
#5003
#5004
</p>
<p>Block end point position of X axis 
(ABSIO)
Block end point position of Y axis
Block end point position of Z axis
Block end point position of 4th axis
</p>
<p>Possible Not considered.
Position of tool
nose (program 
command position)
</p>
<p>#5021
#5022
#5023
#5024
</p>
<p>X axis coordinate position (ABSMT)
Y axis coordinate position
Z axis coordinate position
4th axis coordinate position
</p>
<p>Impossible Considered.
Position of tool ref-
erence point (Ma-
chine coordinate)
</p>
<p>#5041
#5042
#5043
#5044
</p>
<p>Present position of X axis (ABSOT)
Present position of Y axis 
Present position of Z axis
Present position of 4th axis
</p>
<p>Impossible Considered.
Position of tool ref-
erence point 
(Absolute coordi-
nate system)
</p>
<p>#5061
#5062
#5063
#5064
</p>
<p>Skip signal position of X axis (ABSKP)
Skip signal position of Y axis
Skip signal position of Z axis
Skip signal position of 4th axis
</p>
<p>Possible Considered.
Position of tool ref-
erence point
</p>
<p>#5080
#5081
</p>
<p>#5082
</p>
<p>#5083
</p>
<p>Value of cutter compensation
Value of tool length compensation
(X axis)
Value of tool length compensation
(Y axis)
Value of tool length compensation
(Z axis)
</p>
<p>Possible
</p>
<p>NOTE
1 It is not possible to substitute any value into system
</p>
<p>variables #5001 to #5083.
2 When the skip signal doesn&rsquo;t turn on at G31, the skip signal
</p>
<p>position is the end point of that block.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 15. CUSTOM MACRO APROGRAMMING
</p>
<p>291
</p>
<p>General Form
G65HmP#i Q#j R#k ;
m : Indicates operation instruction and branch instruction at 01 to 99
#i : Variable name to which arithmetic result is loaded.
#j : Variable name 1 to be operated.  A constant is also acceptable.
#k : Variable name 2 to be operated. A constant is also acceptable.
</p>
<p>Meaning   #1 = #jï¿½#k
</p>
<p>Operator (Specified by Hm)
</p>
<p>Example
P#100 Q#101 R#102#100=#101&oplus; #102
P#100 Q#101 R15#100=#101&oplus; 15
P#100 Q&ndash;100 R#102#100=&ndash;100&oplus; #102
P#100 Q120 R&ndash;50#100=120&oplus; &ndash;50
P#100 Q&ndash;#101 R#102 #100=&ndash;#101&oplus; #012
</p>
<p>CAUTION
1 No decimal point can be put to variable values.  Therefore,
</p>
<p>the meaning of each value is the same as that designated
without decimal point when quoted in each address.
(Example) #100 = 10
</p>
<p>X#100 0.01 mm (metric input)
2 Those indicating an angle must be expressed by degree,
</p>
<p>and the least input increment is 1/1000 degree.
(Example) 100 0.1&deg;. . . 
</p>
<p>NOTE
H code specified by G65 does not affect any selection of
offset amount.
</p>
<p>15.2.3
Operation Instruction
and Branch Instruction
(G65)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0815. CUSTOM MACRO A
</p>
<p>292
</p>
<p>Table 15.2.3
</p>
<p>G code H code Function Definition
</p>
<p>G65 H01 Definition, substitution #i = #j
</p>
<p>G65 H02 Addition #i = #j + #k
</p>
<p>G65 H03 Subtraction #i = #j &ndash; #k
</p>
<p>G65 H04 Product #i = #jï¿½ #k
</p>
<p>G65 H05 Division #i = #jï¿½ #k
</p>
<p>G65 H11 Logical sum #i = #j. OR. #k
</p>
<p>G65 H12 Logical  product #i = #j. AND. #k
</p>
<p>G65 H13 Exclusive OR #i = #j. XOR. #k
</p>
<p>G65 H21 Square root #i ï¿½ #j	
</p>
<p>G65 H22 Absolute value #i = | #j |
</p>
<p>G65 H23 Remainder #i = #j &ndash; trunc (#j / #k)ï¿½ #k   
(trunc : Discard fractions less than 1)
</p>
<p>G65 H24 Conversion from BCD to binary #i = BIN (#j)
</p>
<p>G65 H25 Conversion from binary to BCD #i = BCD (#j)
</p>
<p>G65 H26 Combined multiplication/division #i = (#iï¿½#j)ï¿½ #k
</p>
<p>G65 H27 Combined square root 1 #i ï¿½ #J2 ï¿½ #K2	
</p>
<p>G65 H28 Combined square root 2 #i ï¿½ #J2&ndash;#K2	
</p>
<p>G65 H31 Sine #i = #j &middot; SIN (#k)
</p>
<p>G65 H32 Cosine #i = #j &middot; COS (#k)
</p>
<p>G65 H33 Tangent #i = #j &middot; TAN (#k)
</p>
<p>G65 H34 Arctangent #i = ATAN (#j / #k)
</p>
<p>G65 H80 Unconditional divergence GOTOn
</p>
<p>G65 H81 Conditional divergence 1 IF#j = #k, GOTO n
</p>
<p>G65 H82 Conditional divergence 2 IF#j ï¿½ #k, GOTO n
</p>
<p>G65 H83 Conditional divergence 3 IF#jï¿½ #k, GOTO n
</p>
<p>G65 H84 Conditional divergence 4 IF#jï¿½ #k, GOTO n
</p>
<p>G65 H85 Conditional divergence 5 IF#jï¿½ #k, GOTO n
</p>
<p>G65 H86 Conditional divergence 6 IF#jï¿½ #k, GOTO n
</p>
<p>G65 H99 P/S alarm occurrence P/S alarm number 500 +n occurrence
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 15. CUSTOM MACRO APROGRAMMING
</p>
<p>293
</p>
<p>(a)Definition and substitution of variable #i = #j
G65 H01 P#i Q#j ;
[Example] G65 H01 P#101 Q1055 ; (#101=1005)
</p>
<p>G65 H01 P#101 Q#110 ; (#101=#110)
G65 H01 P#101 Q&ndash;#112 ; (#101=&ndash;#112)
</p>
<p>(b)Addition #i = #j + #k
G65 H02 P#i Q#j R#k;
[Example] G65 H02 P#101 Q#102 R15 ; (#101=#102+15)
</p>
<p>(c)Subtraction #i = #j &ndash; #k
G65 H03 P#i Q#j R#k;
[Example] G65 H03 P#101 Q#102 R#103 ; (#101=#102&ndash;#103)
</p>
<p>(d)Product #i = #j ï¿½#k
G65 H04 P#i Q#j R#k;
[Example] G65 H04 P#101 Q#102 R#103 ; (#101=#102ï¿½#103)
</p>
<p>(e)Division #i = #j ï¿½#k
G65 H05 P#i Q#j R#k;
[Example] G65 H05 P#101 Q102 R#103 ; (#101=#102ï¿½#103)
</p>
<p>(f) Logical sum #i = #j.OR.#k
G65 H11 P#i Q#j R#k;
[Example] G65 H11 P#101 Q102 R#103 ; (#101=#102.OR.#103)
</p>
<p>(g)Logical product #i = #j.AND.#k
G65 H12 P#i Q#j R#k ;
[Example] G65 H12 P#101 Q#102 R#103 ; 
</p>
<p>(#101=#102.AND.#103)
</p>
<p>(h)Exclusive OR #i = #j.XOR.#k
G65 H13 P#i Q#j R#k ;
[Example] G65 H13 P#101 Q#102 R#103 ; 
</p>
<p>(#101=#102.XOR.#103)
</p>
<p>(i) Square root #i = 
G65 H21 P#i Q#j ;
[Example] G65 H21 P#101 Q#102 ; (#101= )
</p>
<p>#jï¿½
</p>
<p>#102ï¿½
</p>
<p>(j) Absolute value #i = |#j|
G65 H22 P#i Q#j ;
[Example] G65 H22 P#101 Q#102 ; (#101=|#102|)
</p>
<p>(k)Remainder #i = #j &ndash; trunc (#j/#k)&times;#k
trunc : Discard fractions less than 1
G65 H23 P#i Q#j R#k ;
[Example] G65 H23 P#101 Q#102 R#103 ; 
</p>
<p>(#101=#102&ndash;trunc  (#102/#103)ï¿½#103)
</p>
<p>(l) Conversion from BCD to binary #i = BIN (#j)
G65 H24 P#i Q#j ;
[Example] G65 H24 P#101 Q#102 ; (#101=BIN (#102))
</p>
<p>(m) Conversion from binary to BCD #i = BCD (#j)
G65 H25 P#i Q#j ;
[Example] G65 H25 P#101 Q#102 ; (#101=BCD (#102))
</p>
<p>(n)Combined multiplication/division #i = (#iï¿½#j) ï¿½ #k
G65 H26 P#i Q#j R#k ;
[Example] G65 H26 P#101 Q#102 R#103 ; 
</p>
<p>(#101=(#101ï¿½#102)(ï¿½#103)
</p>
<p>ï¿½ Operation instruction
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0815. CUSTOM MACRO A
</p>
<p>294
</p>
<p>(o)Combined square root 1 #i = 
G65 H27 P#i Q#j R#k ;
[Example] G65 H27 P#101 Q#102 R#103 ;  
</p>
<p>(#101= )
</p>
<p>#j2 ï¿½ #k2ï¿½
</p>
<p>#1022 ï¿½ 1032ï¿½
</p>
<p>(p)Combined square root 2 #i = 
G65 H28 P#i Q#j R#k ;
[Example] G65 H28 P#101 Q#102 R#103 ;  
</p>
<p>(#101= )
</p>
<p>#j2&ndash;#k2ï¿½
</p>
<p>#1022&ndash;1032ï¿½
</p>
<p>(q) Sine #i = #j&middot;SIN (#k) (degree unit)
G65 H31 P#i Q#j R#k ;
[Example] G65 H31 P#101 Q#102 R#103 ; (#101=#102&middot;SIN(#103)
</p>
<p>(r) Cosine #i = #j&middot;COS (#k) (degree unit)
G65 H32 P#i Q#j R#k ;
[Example] G65 H32 P#101 Q#102 R#103 ; 
</p>
<p>(#101=#102&middot;COS (#103)
</p>
<p>(s) Tangent #i = #j&middot;TAN (#k) (degree unit)
G65 H33 P#i Q#j R#k ;
[Example] G65 H33 P#101 Q#102 R#103 ; 
</p>
<p>(#101=#102&middot;TAN (#103)
</p>
<p>(t) Arctangent #i = ATAN (#j/#k) (degree unit)
G65 H34 P#i Q#j R#k ; (0&deg;ï¿½ #iï¿½ 360&deg;)
[Example] G65 H34 P#101 Q#102 R#103 ; 
</p>
<p>(#101=ATAN (#102 / #103))
</p>
<p>CAUTION
If either Q or R necessary for each arithmetic operation was
not indicated, its value is calculated as &lsquo;0&rsquo;.
</p>
<p>NOTE
1 Angle in (q) to (t) must be indicated by degree and the least
</p>
<p>input increment is 1/1000 degree.
2 All figures below decimal point are truncated if each
</p>
<p>arithmetic result includes decimal point.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 15. CUSTOM MACRO APROGRAMMING
</p>
<p>295
</p>
<p>(a)Unconditional branch
G65 H80 Pn ; n : Sequence number
[Example] G65 H80 P120 ; (Diverge to N120)
</p>
<p>(b)Conditional divergence 1 #j. EQ. #k (ï¿½)
G65 H81 Pn Q#j R#k ; n : Sequence number
[Example] G65 H81 P1000 Q#101 R#102 ; 
</p>
<p>#101=#102, go to N1000
#101ï¿½#102, go to next
</p>
<p>(c)Conditional divergence 2 #j. NE. #k (ï¿½)
G65 H82 Pn Q#j R#k ; n : Sequence number
[Example] G65 H82 P1000 Q#101 R#102 ; 
</p>
<p>#101ï¿½#102, go to N1000
#101=#102, go to
</p>
<p>(d)Conditional divergence 3 #j. GT. #k (ï¿½)
G65 H83 Pn Q#j R#k ; n : Sequence number
[Example] G65 H83 P1000 Q#101 R#102 ; 
</p>
<p>#101 ï¿½ #102, go to N1000
#101 ï¿½ #102, go to next
</p>
<p>(e)Conditional divergence 4 #j. LT. #k (&lt;)
G65 H84 Pn Q#j R#k ; n : Sequence number
[Example] G65 H84 P1000 Q#101 R#102 ; 
</p>
<p>#101 ï¿½ #102, go to N1000
#101 ï¿½ #102, go to next
</p>
<p>(f) Conditional divergence 5 #j. GE. #k (ï¿½)
G65 H85 Pn Q#j R#k ; n : Sequence number
[Example] G65 H85 P1000 Q#101 R#102 ; 
</p>
<p>#101 ï¿½ #102, go to N1000
#101 ï¿½ #102, go to next
</p>
<p>(g)Conditional divergence 6 #j. LE. #k (ï¿½)
G65 H86 Pn Q#j R#k ; n : Sequence number
[Example] G65 H86 P1000 Q#101 R#102 ; 
</p>
<p>#101 ï¿½ #102, go to N1000
#101 ï¿½ #102, go to next
</p>
<p>(h)P/S alarm occurrence
G65 H99 Pn ; Alarm No. : 500+n
[Example] G65 H99 P15 ;  P/S alarm 515 occurrence
</p>
<p>NOTE
1 If positive numbers were designated as sequence numbers
</p>
<p>at branch designations, they are searched forward first and
then, backward.  If negative numbers were designated, they
are searched backward first and then, forward.
</p>
<p>2 Sequence number can also be designated by variables.
(Example) G65 H81 P#100 Q#101 R#102 ;
</p>
<p>When conditions are satisfied, processing
branches to the block having the sequence
number designated with #100.
</p>
<p>ï¿½ Branch instruction
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0815. CUSTOM MACRO A
</p>
<p>296
</p>
<p>1) How to input &ldquo;#&rdquo;
For standard MDI key, when &ldquo;/# EOB&rdquo; key is depressed after address
G, X, Y, Z, R, I, J, K, F, H, M, S, T, or P, # code is input
</p>
<p>2) It is also possible to give a macro instruction in the MDI mode.
However address data other than G65 are not displayed by keying
operation.
</p>
<p>3) Address H, P, Q and R of macro instruction must always be written
after G65.  Address O and N only are writable before G65.
H02 G65 P#100 Q#101 R#102 ;  Error
N100 G65 H01 P#100 Q10 ;  Correct
</p>
<p>4) Single block
Generally, the macro instruction block does not stop even if single
block stop is turned on.  However, by setting parameter No. 0011#5,
it is possible to make single block effective.  This is used for macro
testing.
</p>
<p>5) Variable values can be taken within a range of &ndash;231 to 
231 &ndash;1, but they are not displayed correctly, except for &ndash;99999999 to
99999999.  If they exceed the above range, they are displayed as
*********.
</p>
<p>6) It is possible to nest subprograms up to four times.
</p>
<p>7) Since an integer only is employable as the variable value, in case the
operation results with decimal numbers, the figures below decimal
point truncated, if an arithmetic result contains a fraction part.
Particularly be careful with the arithmetic sequence, accordingly.
[Example]
</p>
<p>When #100=35, #101=10, #102=5, the following results.
#110=#100ï¿½#101 (=3)
#111=#110&times;#102 (=15)
#120=#100&times;#102 (=175)
#121=#120ï¿½#101 (=17)
#111=15 and #121=17
</p>
<p>8) When a custom macro is loaded from a paper tape in the EIA code, &lsquo;&amp;&rsquo;
code is treated as &lsquo;#&rsquo;, because there is no &lsquo;#&rsquo; code in the EIA code.
</p>
<p>15.2.4
Notes on Custom
Macro
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>297
</p>
<p>16 CUSTOM MACRO B
Although subprograms are useful for repeating the same operation, the
custom macro function also allows use of variables, arithmetic and logic
operations, and conditional branches for easy development of general
programs such as pocketing and user&ndash;defined canned cycles.A machining
program can call a custom macro with a simple command, just like a
subprogram.
</p>
<p>O0001 ;
</p>
<p>    :
</p>
<p>    :
</p>
<p>    :
</p>
<p>G65 P9010 R50.0 L2 ;
</p>
<p>    :
</p>
<p>    :
</p>
<p>M30 ;
</p>
<p>Machining program Custom macro
</p>
<p>O9010 ;
</p>
<p>#1=#18/2 ;
</p>
<p>G01 G42 X#1 Y#1 F300 ;
</p>
<p>G02 X#1 Y&ndash;#1 R#1 ;
</p>
<p>    :
</p>
<p>    :
</p>
<p>    :
</p>
<p>M99 ;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>298
</p>
<p>An ordinary machining program specifies a G code and the travel distance
directly with a numeric value; examples are G100 and X100.0.
With a custom macro, numeric values can be specified directly or using
a variable number.  When a variable number is used, the variable value
can be changed by a program or using operations on the MDI panel.
</p>
<p>#1=#2+100 ;
</p>
<p>G01 X#1 F300 ;
</p>
<p>When specifying a variable, specify a number sign (#) followed by a
variable number.  Personal computers allow a name to be assigned to a
variable, but this capability is not available for custom macros.
</p>
<p>Example: #1
</p>
<p>An expression can be used to specify a variable number.  In such a case,
the expression must be enclosed in brackets.
</p>
<p>Example: #[#1+#2&ndash;12]
</p>
<p>Local and common variables can have value 0 or a value in the following
ranges :
&ndash;1047 to &ndash;10&ndash;29
</p>
<p>0
1029 to 1047
</p>
<p>If the result of calculation turns out to be invalid, an alarm No. 111 is
issued.
</p>
<p>When a variable value is defined in a program, the decimal point can be
omitted.
</p>
<p>Example:
When #1=123; is defined, the actual value of  variable #1 is
123.000.
</p>
<p>When the value of a variable is not defined, such a variable is referred to
as a &ldquo;null&rdquo; variable.  Variable #0 is always a null variable.  It cannot be
written to, but it can be read.
</p>
<p>16.1
VARIABLES
</p>
<p>ï¿½	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Variable representation
</p>
<p>ï¿½ Range of variable values
</p>
<p>ï¿½ Omission of the decimal
point
</p>
<p>ï¿½ Undefined variable
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>299
</p>
<p>Variables are classified into four types by variable number.
</p>
<p>Table 16.1  Types of variables
</p>
<p>Variable
number
</p>
<p>Type of
variable
</p>
<p>Function
</p>
<p>#0 Always
null
</p>
<p>This variable is always null.  No value can be
assigned to this variable.
</p>
<p>#1 &ndash; #33 Local
variables
</p>
<p>Local variables can only be used within a
macro to hold data such as the results of op-
erations.  When the power is turned off, local
variables are initialized to null.  When a mac-
ro is called, arguments are assigned to local
variables.
</p>
<p>#100 &ndash; #149 (#199)
#500 &ndash; #531 (#999)
</p>
<p>Common
variables
</p>
<p>Common variables can be shared among dif-
ferent macro programs.  When the power is
turned off, variables #100 to #149 are initial-
ized to null.  Variables #500 to #531 hold data
even when the power is turned off.  As an op-
tion, common variables #150 to #199 and
#532 to #999 are also available.  However,
when these values are using, the length of
the tape that can be used for storage de-
creases by 8.5 m.
</p>
<p>#1000 &ndash; System
variables
</p>
<p>System variables are used to read and write
a variety of NC data items such as the current
position and tool compensation values.
</p>
<p>NOTE
Common variables #150 to #199 and #532 to #999 are
optional.
</p>
<p>To reference the value of a variable in a program, specify a word address
followed by the variable number.  When an expression is used to specify
a variable, enclose the expression in brackets.
</p>
<p>Example: G01X[#1+#2]F#3;
</p>
<p>A referenced variable value is automatically rounded according to the
least input increment of the address.
</p>
<p>Example:
When G00X#1; is executed on a 1/1000&ndash;mm CNC with 12.3456
assigned to variable #1, the actual command is interpreted as
G00X12.346;.
</p>
<p>To reverse the sign of a referenced variable value, prefix a minus sign (&ndash;)
to #.
</p>
<p>Example: G00X&ndash;#1;
When an undefined variable is referenced, the variable is ignored up to an
address word.
</p>
<p>Example:
When the value of variable #1 is 0, and the value of variable #2 is
null, execution of G00X#1Y#2; results in G00X0;.
</p>
<p>ï¿½ Types of variables
</p>
<p>ï¿½ Referencing variables
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>300
</p>
<p>Procedure for displaying variable values
</p>
<p>1 Press the  MENUOFFSET key to display the tool compensation screen.
</p>
<p>2 Press the soft key [MACRO]  to display the macro variable screen.
</p>
<p>3 After press the   No. key, enter a variable number, then press INPUT key.
</p>
<p>The cursor moves to the position of the entered number.
</p>
<p> VARIABLE                            O1234 N1234
   NO.        DATA         NO.        DATA
   100        123.456      108
   101          0.000      109
   102                     110
   103                     111
   104                     112
   105                     113
   106                     114
   107                     115
</p>
<p> ACTUAL POSITION (RELATIVE)
    X        0.000           Y       0.000
    Z        0.000           B       0.000
</p>
<p>[ OFFSET ] [ MACRO ] [ MENU ] [ WORK ] [      ]
</p>
<p>ï¿½ When the value of a variable is blank, the variable is null.
</p>
<p>ï¿½ The mark ******** indicates an overflow (when the absolute
value of a variable is greater than 99999999) or an underflow
(when the absolute value of a variable is less than 0.0000001).
</p>
<p>Program numbers, sequence numbers, and optional block skip numbers
cannot be referenced using variables.
</p>
<p>Example:
Variables cannot be used in the following ways:
O#1;
/#2G00X100.0;
N#3Y200.0;
</p>
<p>ï¿½ Displaying variable
values
</p>
<p>ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½&#13;ï¿½&#13;ï¿½
	ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>301
</p>
<p>System variables can be used to read and write internal NC data such as
tool compensation values and current position data.  Note, however, that
some system variables can only be read.  System variables are essential
for automation and general&ndash;purpose program development.
</p>
<p>Signals can be exchanged between the programmable machine controller
(PMC) and custom macros.
</p>
<p>Table 16.2(a)  System variables for interface signals
</p>
<p>Variable
number Function
</p>
<p>#1000&ndash;#1015
#1032
</p>
<p>A 16&ndash;bit signal can be sent from the PMC to a custom macro.
Variables #1000 to #1015 are used to read a signal bit by bit.
Variable #1032 is used to read all 16 bits of a signal at one
time.
</p>
<p>#1100&ndash;#1115
#1132
</p>
<p>A 16&ndash;bit signal can be sent from a custom macro to the PMC.
Variables #1100 to #1115 are used to write a signal bit by bit.
Variable #1132 is used to write all 16 bits of a signal at one
time.
</p>
<p>#1133 Variable #1133 is used to write all 32 bits of a signal at one time
from a custom macro to the PMC.
Note, that values from &ndash;99999999 to +99999999 can be used
for #1133.
</p>
<p>For detailed information, refer to the Connection Manual (Function)
(B&ndash;61393E&ndash;2).
</p>
<p>Tool compensation values can be read and written using system variables.
Usable variable numbers depend on the number of compensation pairs,
whether a distinction is made between geometric compensation and wear
compensation, and whether a distinction is made between tool length
compensation and cutter compensation.  When the number of
compensation pairs is not greater than 200, variables #2001 to #2400 can
also be used.
</p>
<p>Table 16.2(b)  System variables for tool compensation memory A
</p>
<p>Compensation number System variable
</p>
<p>1
:
</p>
<p>200
:
</p>
<p>400
</p>
<p>#10001 (#2001)
:
</p>
<p>#10200 (#2200)
:
</p>
<p>#10400
</p>
<p>Table 16.2(c)  System variables for tool compensation memory B
</p>
<p>Compensation
number
</p>
<p>Geometry
compensation Wear compensation
</p>
<p>1
:
</p>
<p>200
:
</p>
<p>400
</p>
<p>#11001 (#2201)
:
</p>
<p>#11200 (#2400)
:
</p>
<p>#11400
</p>
<p>#10001 (#2001)
:
</p>
<p>#10200 (#2200)
:
</p>
<p>#10400
</p>
<p>16.2
SYSTEM VARIABLES
</p>
<p>Explanations
</p>
<p>ï¿½ Interface signals
</p>
<p>ï¿½ Tool compensation
values
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>302
</p>
<p>Table 16.2(d)  System variable for macro alarms
</p>
<p>Variable
number Function
</p>
<p>#3000 When a value from 0 to 99 is assigned to variable #3000, the
NC stops with an alarm.  After an expression, an alarm mes-
sage not longer than 26 characters can be described.  The
CRT screen displays alarm numbers by adding 500 to the val-
ue in variable #3000 along with an alarm message.
</p>
<p>Example: #3000=1(TOOL NOT FOUND);
&rarr; The alarm screen displays &ldquo;001 TOOL NOT FOUND.&rdquo;
</p>
<p>Time information can be read and written.
</p>
<p>Table 16.2(e)  System variables for time information
</p>
<p>Variable
number Function
</p>
<p>#3001 This variable functions as a timer that counts in 16&ndash;millisec-
ond increments at all times.  When the power is turned on, the
value of this variable is reset to 0.  When 65535 milliseconds
is reached, the value of this timer returns to 0.
</p>
<p>#3002 This variable functions as a timer that counts in 1&ndash;hour incre-
ments when the cycle start lamp is on.  This timer preserves
its value even when the power is turned off.  When
1145324.612 hours is reached, the value of this timer returns
to 0.
</p>
<p>#3011 This variable can be used to read the current date (year/
month/day).  Year/month/day information is converted to an
apparent decimal number.  For example, March 28, 1993 is
represented as 19930328.
</p>
<p>#3012 This variable can be used to read the current time (hours/min-
utes/seconds).  Hours/minutes/seconds information is con-
verted to an apparent decimal number.  For example, 34 min-
utes and 56 seconds after 3 p.m. is represented as 153456.
</p>
<p>The control state of automatic operation can be changed.
</p>
<p>Table 16.2(f)  System variable (#3003) for 
automatic operation control
</p>
<p>#3003 Single block Completion of an auxiliaryfunction
</p>
<p>0 Enabled To be awaited
</p>
<p>1 Disabled To be awaited
</p>
<p>2 Enabled Not to be awaited
</p>
<p>3 Disabled Not to be awaited
</p>
<p>ï¿½ When the power is turned on, the value of this variable is 0.
</p>
<p>ï¿½ When single block stop is disabled, single block stop operation is not
performed even if the single block switch is set to ON.
</p>
<p>ï¿½ Macro alarms
</p>
<p>ï¿½ Time information
</p>
<p>ï¿½ Automatic operation
control
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>303
</p>
<p>ï¿½ When a wait for the completion of auxiliary functions (M, S, and T
functions) is not specified, program execution proceeds to the next
block before completion of auxiliary functions.  Also, distribution
completion signal DEN is not output.
</p>
<p>Table 16.2(g)  System variable (#3004) for 
automatic operation control
</p>
<p>#3004 Feed hold Feedrate override Exact stop
</p>
<p>0 Enabled Enabled Enabled
</p>
<p>1 Disabled Enabled Enabled
</p>
<p>2 Enabled Disabled Enabled
</p>
<p>3 Disabled Enabled Enabled
</p>
<p>4 Enabled Enabled Disabled
</p>
<p>5 Disabled Enabled Disabled
</p>
<p>6 Enabled Disabled Disabled
</p>
<p>7 Disabled Disabled Disabled
</p>
<p>ï¿½ When the power is turned on, the value of this variable is 0.
</p>
<p>ï¿½ When feed hold is disabled:
</p>
<p>1. When the feed hold button is held down, the machine stops in the
single block stop mode.  However, single block stop operation is
not performed when the single block mode is disabled with
variable #3003.
</p>
<p>2. When the feed hold button is pressed then released, the feed hold
lamp comes on, but the machine does not stop; program execution
continues and the machine stops at the first block where feed hold
is enabled.
</p>
<p>ï¿½ When feedrate override is disabled, an override of 100% is always
applied regardless of the setting of the feedrate override switch on the
machine operator&rsquo;s panel.
</p>
<p>ï¿½ When exact stop check is disabled, no exact stop check (position
check) is made even in blocks including those which do not perform
cutting.
</p>
<p>O0001 ;
N1 G00 G91 X#24 Y#25 ;
N2 Z#18 ;
</p>
<p>G04 ;
N3 #3003=3 ;
N4 #3004=7 ;
N5 G01 Z#26 F#9 ;
N6 M04 ;
N7 G01 Z&ndash;[ROUND[#18]+ROUND[#26]] ;
</p>
<p>G04 ;
N8 #3004=0 ;
N9 #3003=0 ;
N10 M03 ;
</p>
<p>M99 ;
</p>
<p>N1
</p>
<p>N2
</p>
<p>N3, N4
</p>
<p>N6
</p>
<p>N7
</p>
<p>N8, N9,
N10
</p>
<p>N5
</p>
<p>Fig. 16.2  Example of using variable #3004 in a tapping cycle
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>304
</p>
<p>Settings can be read and written.  Binary values are converted to
decimals.
</p>
<p>REVX : X&ndash;axis mirror image on/off
REVY : Y&ndash;axis mirror image on/off
TVON : TV check on/off
ISO : Output code, EIA/ISO
INCH : Metric input/inch input
ABS : Incremental programming/absolute programming
SEQ : Sequence&ndash;number automatic insertion on/off
REV4 : Fourth axis mirror image on/off
TAPE : F10/11 tape format on/off
</p>
<p>#15 #14 #13 #12 #11 #10 #9 #8
TAPE REV4Setting
</p>
<p>#7 #6 #5 #4 #3 #2 #1 #0
</p>
<p>SEQ ABS INCH ISO TVON REVY REVXSetting
</p>
<p>#3005
</p>
<p>The number (target number) of parts required and the number (completion
number) of machined parts can be read and written.
</p>
<p>Table 16.2 (h)  System variables for the number of parts required and the
number of machined parts
</p>
<p>Variable number Function
</p>
<p>#3901 Number of machined parts (completion number)
</p>
<p>#3902 Number of required parts (target number)
</p>
<p>NOTE
Do not substitute a negative value.
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Number of machined
parts
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>305
</p>
<p>Modal information specified in blocks up to the immediately preceding
block can be read.
</p>
<p>Table 16.2(i)  System variables for modal information
</p>
<p>Variable
number Function
</p>
<p>#4001
#4002
#4003
#4004
#4005
#4006
#4007
#4008
#4009
#4010
#4011
#4012
#4014
#4015
#4016
</p>
<p>:
#4022
#4102
#4107
#4109
#4111
#4113
#4114
#4115
#4119
#4120
</p>
<p>G00, G01, G02, G03, G33 (Group 01)
G17, G18, G19 (Group 02)
G90, G91 (Group 03)
</p>
<p>(Group 04)
G94, G95 (Group 05)
G20, G21 (Group 06)
G40, G41, G42 (Group 07)
G43, G44, G49 (Group 08)
G73, G74, G76, G80&ndash;G89 (Group 09)
G98, G99 (Group 10)
G50, G51 (Group 11)
G65, G66, G67 (Group 12)
G54&ndash;G59 (Group 14)
G61&ndash;G64 (Group 15)
G68, G69 (Group 16)
    : :            
</p>
<p>(Group 22)
B code
D code
F code
H code
M code
Sequence number
Program number
S code
T code
</p>
<p>Example:
When #1=#4001; is executed, the resulting value in #1 is 0, 1, 2, 3,
or 33.
</p>
<p>Position information cannot be written but can be read.
</p>
<p>Table 16.2(j)  System variables for position information
</p>
<p>Variable
number
</p>
<p>Position
information
</p>
<p>Coordinate
system
</p>
<p>Tool com-
pensation
</p>
<p>value
</p>
<p>Read
operation
</p>
<p>during
movement
</p>
<p>#5001&ndash;#5004 Block end point Workpiece
coordinate
system
</p>
<p>Not 
included
</p>
<p>Enabled
</p>
<p>#5021&ndash;#5024 Current position Machine
coordinate
system
</p>
<p>Included Disabled
</p>
<p>#5041&ndash;#5044 Current position Workpiece
coordinate
</p>
<p>#5061&ndash;#5064 Skip signal position
coordinate
system Enabled
</p>
<p>#5081&ndash;#5084 Tool offset value Disabled
</p>
<p>#5101&ndash;#5104 Deviated servo
position
</p>
<p>ï¿½ Modal information
</p>
<p>ï¿½ Current position
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>306
</p>
<p>ï¿½ The first digit (from 1 to 4) represents an axis number.  Digit 1
corresponds to the X&ndash;axis, digit 2 to the Y&ndash;axis, digit 3 to the Z&ndash;axis,
and digit 4 to the fourth axis.
</p>
<p>ï¿½ The tool offset value currently used for execution rather than the
immediately preceding tool offset value is held in variables #5081 to
5088.
</p>
<p>ï¿½ The tool position where the skip signal is turned on in a G31 (skip
function) block is held in variables #5061 to #5068.  When the skip
signal is not turned on in a G31 block, the end point of the specified
block is held in these variables.
</p>
<p>ï¿½ When read during movement is &ldquo;disabled,&rdquo; this means that expected
values cannot be read due to the buffering (preread) function.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>307
</p>
<p>Workpiece zero point offset values can be read and written.
</p>
<p>Table 16.2 (k)  System variables for workpiece 
zero point offset values
</p>
<p>Variable
number Function
</p>
<p>#2500
#2501
</p>
<p>:
#2506
</p>
<p>First axis external workpiece zero point offset value
First axis G54 workpiece zero point offset value
</p>
<p>:
First axis G59 workpiece zero point offset value
</p>
<p>#2600
#2601
</p>
<p>:
#2606
</p>
<p>Second axis external workpiece zero point offset value 
Second axis G54 workpiece zero point offset value
</p>
<p>:
Second axis G59 workpiece zero point offset value
</p>
<p>#2700
#2701
</p>
<p>:
#2706
</p>
<p>Third axis external workpiece zero point offset value
Third axis G54 workpiece zero point offset value
</p>
<p>:
Third axis G59 workpiece zero point offset value
</p>
<p>#2800
#2801
</p>
<p>:
#2806
</p>
<p>Fourth axis external workpiece zero point offset value 
Fourth axis G54 workpiece zero point offset value
</p>
<p>:
Fourth axis G59 workpiece zero point offset value
</p>
<p>#7001
:
</p>
<p>#7004
</p>
<p>First&ndash;axis workpiece zero point offset value (G54 P1)
:
</p>
<p>Fourth&ndash;axis workpiece zero point offset value
</p>
<p>#7021
:
</p>
<p>#7024
</p>
<p>First&ndash;axis workpiece zero point offset value (G54 P2)
:
</p>
<p>Fourth&ndash;axis workpiece zero point offset value
</p>
<p>:      :
</p>
<p>#7941
:
</p>
<p>#7944
</p>
<p>First&ndash;axis workpiece zero point offset value (G54 P48)
:
</p>
<p>Fourth&ndash;axis workpiece zero point offset value
</p>
<p>NOTE
Variables #2500 to #2806 are optional variables for the
workpiece coordinate systems.  Variables #7001 to #7948
(G54 P1 to G54 P48) are optional variables for additional 48
workpiece coordinate systems.
The variable number for the workpiece origin offset (G54Pp)
for the Nth axis is obtained by:  #(7000 + (P &ndash; 1) ï¿½ 20 + N)
</p>
<p>ï¿½ Workpiece coordinate
system compensation
values (workpiece zero
point offset values)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>308
</p>
<p>The operations listed in Table 16.3(a) can be performed on variables.  The
expression to the right of the operator can contain constants and/or
variables combined by a function or operator.  Variables #j and #K in an
expression can be replaced with a constant.  Variables on the left can also
be replaced with an expression.
</p>
<p>Table 16.3 (a)  Arithmetic and logic operation
</p>
<p>Function Format Remarks
</p>
<p>Definition #i=#j
</p>
<p>Sum
Difference
Product
Quotient
</p>
<p>#i=#j+#k;
#i=#j&ndash;#k;
#i=#j*#k;
#i=#j/#k;
</p>
<p>Sine
Cosine
Tangent
Arctangent
</p>
<p>#i=SIN[#j];
#i=COS[#j];
#i=TAN[#j];
#i=ATAN[#j]/[#k];
</p>
<p>An angle is specified in de-
grees.  90 degrees and 30
minutes is represented as
90.5 degrees.
</p>
<p>Square root
Absolute value
Rounding off
Rounding down
Rounding up
</p>
<p>#i=SQRT[#j];
#i=ABS[#j];
#i=ROUND[#j];
#i=FIX[#j];
#i=FUP[#j];
</p>
<p>OR
XOR
AND
</p>
<p>#i=#j OR #k;
#i=#j XOR #k;
#i=#j AND #k;
</p>
<p>A logical operation is per-
formed on binary numbers
bit by bit.
</p>
<p>Conversion from BCD to BIN
Conversion from BIN to BCD
</p>
<p>#i=BIN[#j];
#i=BCD[#j];
</p>
<p>Used for signal exchange to
and from the PMC
</p>
<p>The units of angles used with the SIN, COS, TAN, and ATAN functions
are degrees.  For example, 90 degrees and 30 minutes is represented as
90.5 degrees.
</p>
<p>After the ATAN function, specify the lengths of two sides separated by
a slash.  A result is found where 0 ï¿½resultï¿½360.
</p>
<p>Example: When #1=ATAN[1]/[&ndash;1], the value of #1 is 135.0
</p>
<p>ï¿½ When the ROUND function is included in an arithmetic or logic
operation command, IF statement, or WHILE statement, the ROUND
function rounds off at the first decimal place.
</p>
<p>Example:
When #1=ROUND[#2]; is executed where #2 holds 1.2345, the
value of variable #1 is 1.0.
</p>
<p>16.3
ARITHMETIC AND
LOGIC OPERATION
</p>
<p>Explanations
</p>
<p>ï¿½ Angle units
</p>
<p>ï¿½ ATAN  function
</p>
<p>ï¿½ ROUND  functionww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>309
</p>
<p>ï¿½ When the ROUND function is used in NC statement addresses, the
ROUND function rounds off the specified value according to the least
input increment of the address.
</p>
<p>Example:
Creation of a drilling program that cuts according to the values
of variables #1 and #2, then returns to the original position 
Suppose that the increment system is 1/1000 mm, variable #1
holds 1.2345, and variable #2 holds 2.3456.  Then, 
G00 G91 X&ndash;#1; Moves 1.235 mm.
G01 X&ndash;#2 F300; Moves 2.346 mm.
G00 X[#1+#2];
</p>
<p>Since 1.2345 + 2.3456 = 3.5801, the travel distance is 3.580,
which does not return the tool to the original position. 
</p>
<p>This difference comes from whether addition is performed
before or after rounding off.  G00X&ndash;[ROUND[#1]+ROUND
[#2]] must be specified to return the tool to the original
position.
</p>
<p>With NC, when the absolute value of the integer produced by an operation
on a number is greater than the absolute value of the original number, such
an operation is referred to as rounding up to an integer.  Conversely, when
the absolute value of the integer produced by an operation on a number
is less than the absolute value of the original number, such an operation
is referred to as rounding down to an integer.  Be particularly careful when
handling negative numbers.
</p>
<p>Example:
Suppose that #1=1.2 and #2=&ndash;1.2.
When #3=FUP[#1] is executed, 2.0 is assigned to #3.
When #3=FIX[#1] is executed, 1.0 is assigned to #3.
When #3=FUP[#2] is executed, &ndash;2.0 is assigned to #3.
When #3=FIX[#2] is executed, &ndash;1.0 is assigned to #3.
</p>
<p>When a function is specified in a program, the first two characters of the
function name can be used to specify the function.
</p>
<p>Example: ROUND &rarr; RO
FIX &rarr; FI
</p>
<p>ï¿½ Functions
ï¿½ Operations such as multiplication and division (*, /, AND, MOD)
ï¿½ Operations such as addition and subtraction (+, &ndash;, OR, XOR)
</p>
<p>Example) #1=#2+#3*SIN[#4];
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½, ï¿½, and ï¿½ indicate the order of operations.
</p>
<p>ï¿½ Rounding up and down
to an integer
</p>
<p>ï¿½ Abbreviations of
arithmetic and logic
operation commands
</p>
<p>ï¿½ Priority of operations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>310
</p>
<p>Brackets are used to change the order of operations.  Brackets can be used
to a depth of five levels including the brackets used to enclose a function.
When a depth of five levels is exceeded, alarm No. 118 occurs.
</p>
<p>Example) #1=SIN [ [ [#2+#3] *#4 +#5] *#6] ;
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
ï¿½ to ï¿½ indicate the order of operations.
</p>
<p>Brackets ([, ]) are used to enclose an expression.  Note that parentheses
are used for comments.
</p>
<p>Errors may occur when operations are performed.
</p>
<p>Table 16.3(b)  Errors involved in operations
</p>
<p>Operation Averageerror
Maximum
</p>
<p>error Type of error
</p>
<p>a = b*c 1.55ï¿½10&ndash;10 4.66&times;10&ndash;10
Relative error (*1)
</p>
<p>a  = b / c 4.66ï¿½10&ndash;10 1.88&times;10&ndash;9
Relative error ( 1)
</p>
<p>ï¿½
</p>
<p>a ï¿½ bï¿½ 1.24ï¿½10
&ndash;9 3.73&times;10&ndash;9
</p>
<p>ï¿½
a
</p>
<p>a = b + c
a = b &ndash; c
</p>
<p>2.33ï¿½10&ndash;10 5.32&times;10&ndash;10  (*2)
ï¿½
bMin
</p>
<p>ï¿½
c,
</p>
<p>a = SIN [ b ]
a = COS [ b ]
</p>
<p>5.0ï¿½10&ndash;9 1.0&times;10&ndash;8 Absolute error (*3)
</p>
<p>Îµ degrees
a = ATAN [ b ] / [ c ]     (*4) 1.8ï¿½10&ndash;6 3.6&times;10&ndash;6
</p>
<p>degrees
</p>
<p>NOTE
1 The relative error depends on the result of the operation.
2 Smaller of the two types of errors is used.
3 The absolute error is constant, regardless of the result of the
</p>
<p>operation.
4 Function TAN performs SIN/COS.
</p>
<p>ï¿½ Bracket nesting
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Brackets
</p>
<p>ï¿½ Operation error
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>311
</p>
<p>ï¿½ The precision of variable values is about 8 decimal digits.  When very
large numbers are handled in an addition or subtraction, the expected
results may not be obtained.
</p>
<p>Example:
When an attempt is made to assign the following values to
variables #1 and #2:  
   #1=9876543210123.456
   #2=9876543277777.777
the values of the variables become:
   #1=9876543200000.000
   #2=9876543300000.000
In this case, when #3=#2&ndash;#1; is calculated, #3=100000.000
results.  (The actual result of this calculation is slightly
different because it is performed in binary.)
</p>
<p>ï¿½ Also be aware of errors that can result from conditional expressions
using EQ, NE, GE, GT, LE, and LT.
</p>
<p>ï¿½,ï¿½!$ ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½	 ï¿½ï¿½ ï¿½
ï¿½ ï¿½' ï¿½ï¿½ï¿½ï¿½ï¿½(ï¿½ï¿½ ï¿½- ï¿½&amp;&amp;#&amp;' ï¿½" ï¿½#(ï¿½ ï¿½	 ï¿½"ï¿½ ï¿½
ï¿½
</p>
<p>$#''ï¿½ï¿½ - &amp;ï¿½') (ï¿½"ï¿½ ï¿½" ï¿½" ï¿½"ï¿½#&amp;&amp;ï¿½ï¿½( ï¿½ï¿½ï¿½ï¿½'ï¿½#"ï¿½
</p>
<p>ï¿½ï¿½ï¿½&amp;ï¿½ï¿½#&amp;ï¿½ï¿½ ï¿½"'(ï¿½ï¿½ï¿½ ï¿½ï¿½"ï¿½ (ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½&amp;ï¿½"ï¿½ï¿½ ï¿½ï¿½(+ï¿½ï¿½" (ï¿½ï¿½ (+#
</p>
<p>*ï¿½&amp;ï¿½ï¿½ï¿½ ï¿½' +ï¿½(ï¿½ ï¿½ï¿½ï¿½ï¿½&#13;ï¿½ï¿½ï¿½	ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½"ï¿½ ï¿½'')!ï¿½ (ï¿½ï¿½( (ï¿½ï¿½ *ï¿½ )ï¿½' #ï¿½ (ï¿½ï¿½ (+# *ï¿½&amp;ï¿½ï¿½ï¿½ ï¿½' ï¿½&amp;ï¿½ ï¿½%)ï¿½ 
</p>
<p>+ï¿½ï¿½" (ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½&amp;ï¿½"ï¿½ï¿½ ï¿½#ï¿½' "#( ï¿½,ï¿½ï¿½ï¿½ï¿½ ï¿½" ï¿½  #+ï¿½ï¿½ ï¿½  ï¿½!ï¿½( ï¿½ï¿½ï¿½ï¿½ï¿½	
</p>
<p>ï¿½" (ï¿½ï¿½' ï¿½ï¿½'ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Also, be careful when rounding down a value.
</p>
<p>Example:
When #2=#1*1000; is calculated where #1=0.002;, the
resulting value of variable #2 is not exactly 2 but 1.99999997.
Here, when #3=FIX[#2]; is specified, the resulting value of
variable #1 is not 2.0 but 1.0.  In this case, round down the value
after correcting the error so that the result is greater than the
expected number, or round it off as follows:
#3=FIX[#2+0.001]
#3=ROUND[#2]
</p>
<p>When a divisor of zero is specified in a division or TAN[90], alarm No.
112 occurs.
</p>
<p>ï¿½ Divisorww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>312
</p>
<p>The following blocks are referred to as macro statements:
</p>
<p>ï¿½ Blocks containing an arithmetic or logic operation (=)
</p>
<p>ï¿½ Blocks containing a control statement (such as GOTO, DO, END)
</p>
<p>ï¿½ Blocks containing a macro call command (such as macro calls by
G65, G66, G67, or other G codes, or by M codes)
</p>
<p>Any block other than a macro statement is referred to as an NC statement.
</p>
<p>ï¿½ Even when single block mode is on, the machine does not stop.  
Note, however, that the machine stops in the single block mode when
bit 5 of parameter 011 is 1.
</p>
<p>ï¿½ Macro blocks are not regarded as blocks that involve no movement in
the cutter compensation mode  (see Section 16.7).
</p>
<p>ï¿½ Subprogram call blocks (blocks in which subprogram calls using
M98, M codes, or T codes are specified) which only contain addresses
O, N, P, and L have the same features as a macro statement.
</p>
<p>ï¿½ Blocks containing M99 and addresses O, N, P, and L have the same
features as a macro statement.
</p>
<p>16.4
MACRO
STATEMENTS AND
NC STATEMENTS
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Differences from NC
statements
</p>
<p>ï¿½ NC statements that have
the same property as
macro statements
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>313
</p>
<p>In a program, the flow of control can be changed using the GOTO
statement and IF statement.  Three types of branch and repetition
operations are used:
</p>
<p>Branch and repetition GOTO statement (unconditional branch)
</p>
<p>IF statement (conditional branch: if ..., then...)
</p>
<p>WHILE statement (repetition while ...)
</p>
<p>A branch to sequence number n occurs.  When a sequence number outside
of the range 1 to 9999 is specified, alarm No. 128 occurs.  A sequence
number can also be specified using an expression.
</p>
<p>GOTO n ;  n:  Sequence number (1 to 9999)
</p>
<p>Example:
GOTO1;
GOTO#10;
</p>
<p>Specify a conditional expression after IF.  If the specified conditional
expression is satisfied, a branch to sequence number n occurs.  If the
specified condition is not satisfied, the next block is executed.
</p>
<p>IF [#1 GT 10] GOTO 2 ;
</p>
<p>N2 G00 G91 X10.0  ;
               :
</p>
<p>If the value of variable #1 is greater than 10, a branch to sequence number
N2 occurs.
</p>
<p>If the condition
is not satisfied
</p>
<p>Processing If the condition is satisfied
</p>
<p>A conditional expression must include an operator inserted between two
variables or between a variable and constant, and must be enclosed in
brackets ([, ]).  An expression can be used instead of a variable.
</p>
<p>16.5
BRANCH AND
REPETITION
</p>
<p>16.5.1
Unconditional Branch
(GOTO Statement)
</p>
<p>16.5.2
Conditional Branch 
(IF Statement)
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Conditional expression
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>314
</p>
<p>Operators each consist of two letters and are used to compare two values
to determine whether they are equal or one value is smaller or greater than
the other value.  Note that the inequality sign cannot be used.
</p>
<p>Table 16.5.2  Operators
</p>
<p>Operator Meaning
</p>
<p>EQ Equal to (=)
</p>
<p>NE Not equal to (ï¿½)
</p>
<p>GT Greater than (ï¿½)
</p>
<p>GE Greater than or equal to (ï¿½)
</p>
<p>LT Less than (ï¿½)
</p>
<p>LE Less than or equal to (ï¿½)
</p>
<p>The sample program below finds the total of numbers 1 to 10.
</p>
<p>O9500;
 #1=0; Initial value of the variable to hold the sum. . . . . . . . . . . . . . . . . 
 #2=1; Initial value of the variable as an addend. . . . . . . . . . . . . . . . . 
N1 IF[#2 GT 10] GOTO 2; Branch to N2 when the addend is greater than 10
 #1=#1+#2; Calculation to find the sum. . . . . . . . . . . . . 
 #2=#2+1; Next addend. . . . . . . . . . . . . . 
 GOTO 1; Branch to N1. . . . . . . . . . . . . . 
N2 M30; End of program. . . . . . . . . . . . . . . . 
</p>
<p>Specify a conditional expression after WHILE.  While the specified
condition is satisfied, the program from DO to END is executed.  If the
specified condition is not satisfied, program execution proceeds to the
block after END.
</p>
<p>WHILE [conditional expression] DO m ; (m=1,2,3)
</p>
<p>END m  ;
     :
</p>
<p>ProcessingIf the condition
is not satisfied
</p>
<p>If the condition
is satisfied
</p>
<p>While the specified condition is satisfied, the program from DO to END
after WHILE is executed.  If the specified condition is not satisfied,
program execution proceeds to the block after END.  The same format as
for the IF statement applies.  A number after DO and a number after END
are identification numbers for specifying the range of execution.  The
numbers 1, 2, and 3 can be used.  When a number other than 1, 2, and 3
is used, alarm No. 126 occurs.
</p>
<p>ï¿½ Operators
</p>
<p>Sample program
</p>
<p>16.5.3
Repetition 
(WHILE Statement)
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>315
</p>
<p>The identification numbers (1 to 3) in a DO&ndash;END loop can be used as
many times as desired.  Note, however, when a program includes crossing
repetition loops (overlapped DO ranges), alarm No. 124 occurs.
</p>
<p>1. The identification numbers
(1 to 3) can be used as many
times as required.
</p>
<p>WHILE [ &hellip; ] DO 1 ;
</p>
<p>END 1 ;
:
</p>
<p>WHILE [ &hellip; ] DO 1 ;
</p>
<p>END 1 ;
</p>
<p>WHILE [ &hellip; ] DO 1 ;
</p>
<p>END 1 ;
:
</p>
<p>WHILE [ &hellip; ] DO 2 ;
</p>
<p>END 2 ;
</p>
<p>WHILE [ &hellip; ] DO 1 ;
</p>
<p>WHILE [ &hellip; ] DO 2 ;
:
</p>
<p>WHILE [ &hellip; ] DO 3 ;
:
</p>
<p>END 3 ;
:
</p>
<p>END 2 ;
:
</p>
<p>END 1 ;
</p>
<p>WHILE [ &hellip; ] DO 1 ;
</p>
<p>END 1 ;
</p>
<p>IF [ &hellip; ] GOTO n ;
</p>
<p>Nn
</p>
<p>WHILE [ &hellip; ] DO 1 ;
</p>
<p>END 1 ;
</p>
<p>IF [ &hellip; ] GOTO n ;
</p>
<p>Nn &hellip; ;
</p>
<p>:
</p>
<p>2. DO ranges cannot overlap.
</p>
<p>Processing
</p>
<p>Processing
</p>
<p>Processing
</p>
<p>Processing
</p>
<p>Processing
</p>
<p>3. DO loops can be nested to a
maximum depth of three levels.
</p>
<p>4. Control can be transferred to
the outside of a loop.
</p>
<p>5. Branches cannot be made to
a location within a loop.
</p>
<p>When DO m is specified without specifying the WHILE statement, an
infinite loop ranging from DO to END is produced.
</p>
<p>When a branch to the sequence number specified in a GOTO statement
occurs, the sequence number is searched for.  For this reason, processing
in the reverse direction takes a longer time than processing in the forward
direction.  Using the WHILE statement for repetition reduces processing
time.
</p>
<p>In a conditional expression that uses EQ or NE, a null value and zero have
different effects.  In other types of conditional expressions, a null value
is regarded as zero.
</p>
<p>ï¿½ Nesting
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Infinite loops
</p>
<p>ï¿½ Processing time
</p>
<p>ï¿½ Undefined variable
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>316
</p>
<p>The sample program below finds the total of numbers 1 to 10.
</p>
<p>O0001;
#1=0;
#2=1;
WHILE[#2 LE 10]DO
1;
#1=#1+#2;
#2=#2+1;
END 1;
M30;
</p>
<p>Sample program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>317
</p>
<p>A macro program can be called using the following methods:
</p>
<p>Macro call Simple call ((G65)
modal call (G66, G67)
Macro call with G code
Macro call with M code
Subprogram call with M code
Subprogram call with T code
</p>
<p>Macro call (G65) differs from subprogram call (M98) as described below.
</p>
<p>ï¿½ With G65, an argument (data passed to a macro) can be specified.  M98
does not have this capability.
</p>
<p>ï¿½ When an M98 block contains another NC command (for example,
G01 X100.0 M98Pp), the subprogram is called after the command is
executed.  On the other hand, G65 unconditionally calls a macro.
</p>
<p>ï¿½ When an M98 block contains another NC command (for example,
G01 X100.0 M98Pp), the machine stops in the single block mode.  On
the other hand, G65 does not stops the machine.
</p>
<p>ï¿½ With G65, the level of local variables changes.  With M98, the level
of local variables does not change.
</p>
<p>When G65 is specified, the custom macro specified at address P is called.
Data (argument) can be passed to the custom macro program.
</p>
<p>G65  P p  L ï¿½  &lt;argument&ndash;specification&gt; ;
</p>
<p>P : Number of the program to call
ï¿½ : Repetition count (1 by default)
Argument : Data passed to the macro
</p>
<p>O0001 ;
     :
G65 P9010 L2 A1.0 B2.0 ;
     :
M30 ;
</p>
<p>O9100 ;
#3=#1+#2 ;
IF [#3 GT 360] GOTO 9 ;
G00 G91 X#3 ;
N9 M99 ;
</p>
<p>ï¿½ After G65, specify at address P the program number of the custom
macro to call.
</p>
<p>ï¿½ When a number of repetitions is required, specify a number from 1 to
9999 after address L.  When L is omitted, 1 is assumed.
</p>
<p>ï¿½ By using argument specification, values are assigned to corresponding
local variables.
</p>
<p>16.6
MACRO CALL
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>ï¿½ Differences between
macro calls and
subprogram calls
</p>
<p>16.6.1
Simple Call (G65)
</p>
<p>ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>ï¿½ Call
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>318
</p>
<p>Two types of argument specification are available.  Argument
specification I uses letters other than G, L, O, N, and P once each.
Argument specification II uses A, B, and C once each and also uses I, J,
and K up to ten times.  The type of argument specification is determined
automatically according to the letters used.
</p>
<p>Argument specification I
Variable
number
</p>
<p>Variable
number
</p>
<p>A
B
C
D
E
F
H
</p>
<p>#1
#2
#3
#7
#8
#9
#11
</p>
<p>I
J
K
M
Q
R
S
</p>
<p>#4
#5
#6
#13
#17
#18
#19
</p>
<p>T
U
V
W
X
Y
Z
</p>
<p>#20
#21
#22
#23
#24
#25
#26
</p>
<p>Address Address Address Variable
number
</p>
<p>ï¿½ Addresses G, L, N, O, and P cannot be used in arguments.
</p>
<p>ï¿½ Addresses that need not be specified can be omitted.  Local variables
corresponding to an omitted address are set to null.
</p>
<p>Argument specification II 
Argument specification II uses A, B, and C once each and uses I, J, and
K up to ten times.  Argument specification II is used to pass values such
as three&ndash;dimensional coordinates as arguments.
</p>
<p>A
B
C
I1
J1
K1
I2
J2
K2
I3
J3
</p>
<p>#1
#2
#3
#4
#5
#6
#7
#8
#9
#10
#11
</p>
<p>K3
I4
J4
K4
I5
J5
K5
I6
J6
K6
I7
</p>
<p>#12
#13
#14
#15
#16
#17
#18
#19
#20
#21
#22
</p>
<p>J7
K7
I8
J8
K8
I9
J9
K9
I10
J10
K10
</p>
<p>#23
#24
#25
#26
#27
#28
#29
#30
#31
#32
#33
</p>
<p>Address Variable
number
</p>
<p>Address Variable
number
</p>
<p>Address Variable
number
</p>
<p>ï¿½ Subscripts of I, J, and K for indicating the order of argument
specification are not written in the actual program.
</p>
<p>G65 must be specified before any argument.
</p>
<p>The NC internally identifies argument specification I and argument
specification II.  If a mixture of argument specification I and argument
specification II is specified, the type of argument specification specified
later takes precedence.
</p>
<p>The units used for argument data passed without a decimal point
correspond to the least input increment of each address.  The value of an
argument passed without a decimal point may vary according to the
system configuration of the machine.  It is good practice to use decimal
points in macro call arguments to maintain program compatibility.
</p>
<p>ï¿½ Argument specification
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Format
</p>
<p>ï¿½ Mixture of argument
specifications I and II
</p>
<p>ï¿½ Position of the decimal
point
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>319
</p>
<p>Calls can be nested to a depth of four levels including simple calls (G65)
and modal calls (G66).  This does not include subprogram calls (M98).
</p>
<p>ï¿½ Local variables from level 0 to 4 are provided for nesting.
</p>
<p>ï¿½ The level of the main program is 0.
</p>
<p>ï¿½ Each time a macro is called (with G65 or G66), the local variable level
is incremented by one.  The values of the local variables at the previous
level are saved in the NC.
</p>
<p>ï¿½ When M99 is executed in a macro program, control returns to the
calling program.  At that time, the local variable level is decremented
by one; the values of the local variables saved when the macro was
called are restored.
</p>
<p>O0001 ;
     :
#1=1 ;
G65 P2 A2 ;
     :
     :
M30 ;
</p>
<p>O0002 ;
     :
     :
G65 P3 A3 ;
     :
     :
M99 ;
</p>
<p>O0003 ;
     :
     :
G65 P4 A4 ;
     :
     :
M99 ;
</p>
<p>O0004 ;
     :
     :
G65 P5 A5 ;
     :
     :
M99 ;
</p>
<p>O0005 ;
     :
     :
     :
     :
     :
M99 ;
</p>
<p>#1 1
</p>
<p>::
</p>
<p>#33
</p>
<p>2 3
</p>
<p>:
</p>
<p>4
</p>
<p>:
</p>
<p>5
</p>
<p>:
</p>
<p>#33
</p>
<p>#100&ndash;, #500&ndash;
</p>
<p>Main program
(level 0) Macro (level 1) Macro (level 2) Macro (level 3)
</p>
<p>Macro
(level 4)
</p>
<p>Local variables
(level 0) (Level 1) (Level 2) (Level 3) (Level 4)
</p>
<p>Common variables
</p>
<p>Variables that can be read from and written to by
macros at different levels
</p>
<p>#1
</p>
<p>:
</p>
<p>#33
</p>
<p>#1
</p>
<p>:
</p>
<p>#33
</p>
<p>#1
</p>
<p>:
</p>
<p>#33
</p>
<p>ï¿½ Call nesting
</p>
<p>ï¿½ Local variable levels
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>320
</p>
<p>A macro is created which drills H holes at intervals of B degrees after a
start angle of A degrees along the periphery of a circle with radius I.
The center of the circle is (X,Y).  Commands can be specified in either
the absolute or incremental mode.  To drill in the clockwise direction,
specify a negative value for B.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>H=3
</p>
<p>H=4
</p>
<p>H=2
H=1
</p>
<p>A
</p>
<p>BB
</p>
<p> 
</p>
<p>Center (X,Y)
Radius I
</p>
<p>G65  P9100  X x  Y y  Z z  R r  F f  I i  A a  B b  H h ;
</p>
<p>X: X coordinate of the center of the circle (absolute or incremental
specification) (#24). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>Y: Y coordinate of the center of the circle (absolute or incremental
specification) (#25). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>Z : Hole depth (#26). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
R: Coordinates of an approach point (#18). . . . . . . . . . . . . . . . . . . . . . 
F : Cutting feedrate (#9). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
I : Radius of the circle (#4). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
A: Drilling start angle (#1). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
B: Incremental angle (clockwise when a negative value is specified)
</p>
<p>(#2). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
H: Number of holes (#11). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>Sample program
(bolt hole circle)
</p>
<p>ï¿½ Calling format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>321
</p>
<p>O0002;
G90 G92 X0 Y0 Z100.0;
G65 P9100 X100.0 Y50.0 R30.0 Z&ndash;50.0 F500 I100.0 A0 B45.0 H5;
M30;
</p>
<p>O9100;
#3=#4003; Stores G code of group 3.. . . . . . . . . . . . . . . . . . . . . . . . . . 
G81 Z#26 R#18 F#9 K0; (Note) Drilling cycle.. . . . . . . . . . . . . . . . . . . 
</p>
<p>Note:  L0 can also be used.
IF[#3 EQ 90]GOTO 1; Branches to N1 in the G90 mode.. . . . . . . . . . 
#24=#5001+#24; Calculates the X coordinate of the center.. . . . . . . . . 
#25=#5002+#25; Calculates the Y coordinate of the center.. . . . . . . . . 
</p>
<p>N1 WHILE[#11 GT 0]DO 1;
Until the number of remaining holes reaches 0. . . . . . . . . . . . . . . . . . . 
</p>
<p>#5=#24+#4*COS[#1]; Calculates a drilling position on the X&ndash;axis.. . . 
#6=#25+#4*SIN[#1]; Calculates a drilling position on the Y&ndash;axis.. . . 
G90 X#5 Y#6; Performs drilling after moving to the target position.. 
#1=#1+#2; Updates the angle.. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
#11=#11&ndash;1; Decrements the number of holes.. . . . . . . . . . . . . . . . . . . . 
END 1;
G#3 G80; Returns the G code to the original state.. . . . . . . . . . . . . . 
M99;
</p>
<p>Meaning of variables:
</p>
<p>#3:  Stores the G code of group 3.
#5:  X coordinate of the next hole to drill
#6:  Y coordinate of the next hole to drill
</p>
<p>ï¿½ Program calling a macro
program
</p>
<p>ï¿½ Macro program 
(called program)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>322
</p>
<p>Once G66 is issued to specify a modal call a macro is called after a block
specifying movement along axes is executed.  This continues until G67
is issued to cancel a modal call.
</p>
<p>O0001 ;
     :
G66 P9100 L2 A1.0 B2.0 ;
G00 G90 X100.0 ;
Y200.0 ;
X150.0 Y300.0 ;
G67 ;
     :
M30 ;
</p>
<p>O9100 ;
     :
G00 Z&ndash;#1 ;
G01 Z&ndash;#2 F300 ;
     :
     :
     :
     :
M99 ;
</p>
<p>G66  P p  L ï¿½  &lt;argument&ndash;specification&gt; ;
</p>
<p>P : Number of the program to call
ï¿½ : Repetition count (1 by default)
Argument : Data passed to the macro
</p>
<p>ï¿½ After G66, specify at address P a program number subject to a modal
call.
</p>
<p>ï¿½ When a number of repetitions is required, a number from 1 to 9999 can
be specified at address L.
</p>
<p>ï¿½ As with a simple call (G65), data passed to a macro program is
specified in arguments.
</p>
<p>When a G67 code is specified, modal macro calls are no longer performed
in subsequent blocks.
</p>
<p>Calls can be nested to a depth of four levels including simple calls (G65)
and modal calls (G66).  This does not include subprogram calls (M98).
</p>
<p>Modal calls can be nested by specifying another G66 code during a modal
call.
</p>
<p>ï¿½ In a G66 block, no macros can be called.
</p>
<p>ï¿½ G66 needs to be specified before any arguments.
</p>
<p>ï¿½ No macros can be called in a block which contains a code such as a
miscellaneous function that does not involve movement along an axis.
</p>
<p>ï¿½ Local variables (arguments) can only be set in G66 blocks.  Note that
local variables are not set each time a modal call is performed.
</p>
<p>16.6.2
Modal Call (G66)
</p>
<p>ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>ï¿½ Call
</p>
<p>ï¿½ Cancellation
</p>
<p>ï¿½ Call nesting
</p>
<p>ï¿½ Modal call nesting
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>323
</p>
<p>The same operation as the drilling canned cycle G81 is created using a
custom macro and the machining program makes a modal macro call.  For
program simplicity, all drilling data is specified using absolute values.
</p>
<p>Z=0
</p>
<p>R
</p>
<p>Z
</p>
<p>The canned cycle consists of the following
basic operations:
</p>
<p>Operation 1:
  Positioning along the X&ndash;axis and Y&ndash;axis
</p>
<p>Operation 2:
  Rapid traverse to point R
</p>
<p>Operation 3:
  Cutting feed to point Z
</p>
<p>Operation 4:
  Rapid traverse to point R or I
</p>
<p>Rapid traverse
</p>
<p>Cutting feed
</p>
<p>Operation 1 Position I
</p>
<p>Operation 2 Operation 4
</p>
<p>Position R
</p>
<p>Operation 3
</p>
<p>Position Z
</p>
<p>G65  P9110  X x  Y y  Z z  R r  F f  L l ;
</p>
<p>X: X coordinate of the hole (absolute specification only) (#24). . . . . . 
Y: Y coordinate of the hole (absolute specification only) (#25). . . . . . 
Z : Coordinates of position Z (absolute specification only) (#26). . . . . 
R: Coordinates of position R (absolute specification only) (#18). . . . . 
F : Cutting feedrate (#9). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
L : Repetition count
</p>
<p>O0001; 
G28 G91 X0 Y0 Z0; 
G92 X0 Y0 Z50.0; 
G00 G90 X100.0 Y50.0; 
G66 P9110 Z&ndash;20.0 R5.0 F500; 
G90 X20.0 Y20.0;
X50.0; 
Y50.0; 
X70.0 Y80.0; 
G67;
M30;
</p>
<p>O9110;
#1=#4001; Stores G00/G01.. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
#3=#4003; Stores G90/G91.. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
#4=#4109; Stores the cutting feedrate.. . . . . . . . . . . . . . . . . . . . . . . . . 
#5=#5003; Stores the Z coordinate at the start of drilling.. . . . . . . . . . 
G00 G90 Z#18; Positioning at position R. . . . . . . . . . . . . . . . . . . . . . 
G01 Z#26 F#9; Cutting feed to position Z. . . . . . . . . . . . . . . . . . . . . . 
IF[#4010 EQ 98]GOTO 1; Return to position I. . . . . . . . . . . . . . . . . . . 
G00 Z#18; Positioning at position R. . . . . . . . . . . . . . . . . . . . . . . . . . 
GOTO 2;
</p>
<p>N1 G00 Z#5; Positioning at position I. . . . . . . . . . . . . . . . . . . . . . . . . . . 
N2 G#1 G#3 F#4; Restores modal information.. . . . . . . . . . . . . . . . . . . 
</p>
<p>M99;
</p>
<p>Sample program
</p>
<p>ï¿½ Calling format
</p>
<p>ï¿½ Program that calls a
macro program
</p>
<p>ï¿½ Macro program
(program called)ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>324
</p>
<p>By setting a G code number used to call a macro program in a parameter,
the macro program can be called in the same way as for a simple call
(G65).
</p>
<p>O0001 ;
     :
G81 X10.0 Y20.0 Z&ndash;10.0 ;
     :
M30 ;
</p>
<p>O9010 ;
     :
     :
     :
N9 M99 ;
</p>
<p>Parameter 220 = 81
</p>
<p>By setting a G code number from 1 to 255 used to call a custom macro
program (9010 to 9019) in the corresponding parameter (220 to 229), the
macro program can be called in the same way as with G65.
For example, when a parameter is set so that macro program O9010 can
be called with G81, a user&ndash;specific cycle created using a custom macro
can be called without modifying the machining program.
</p>
<p>O9010
O9011
O9012
O9013
O9014
O9015
O9016
O9017
O9018
O9019
</p>
<p>220
221
222
223
224
225
226
227
228
229
</p>
<p>Program number Parameter number
</p>
<p>As with a simple call, a number of repetitions from 1 to 9999 can be
specified at address L.
</p>
<p>As with a simple call, two types of argument specification are available:
Argument specification I and argument specification II.  The type of
argument specification is determined automatically according to the
addresses used.
</p>
<p>In a program called with a G code, no macros can be called using a G code.
A G code in such a program is treated as an ordinary G code.  In a program
called as a subprogram with an M or T code, no macros can be called using
a G code.  A G code in such a program is also treated as an ordinary G code.
</p>
<p>16.6.3
Macro Call Using 
G Code
</p>
<p>ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>ï¿½ Correspondence
between parameter
numbers and program
numbers
</p>
<p>ï¿½ Repetition
</p>
<p>ï¿½ Argument specification
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>ï¿½ Nesting of calls using G
codesww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>325
</p>
<p>By setting an M code number used to call a macro program in a parameter,
the macro program can be called in the same way as with a simple call
(G65).
</p>
<p>O0001 ;
     :
M50 A1.0 B2.0 ;
     :
M30 ;
</p>
<p>O9020 ;
     :
     :
     :
M99 ;
</p>
<p>Parameter 230 = 50
</p>
<p>By setting an M code number from 1 to 255 used to call a custom macro
program (9020 to 9029) in the corresponding parameter (230 to 239), the
macro program can be called in the same way as with G65.
</p>
<p>O9020
O9021
O9022
O9023
O9024
O9025
O9026
O9027
O9028
O9029
</p>
<p>230
231
232
233
234
235
236
237
238
239
</p>
<p>Program number Parameter number
</p>
<p>As with a simple call, a number of repetitions from 1 to 9999 can be
specified at address L.
</p>
<p>As with a simple call, two types of argument specification are available:
Argument specification I and argument specification II.  The type of
argument specification is determined automatically according to the
addresses used.
</p>
<p>&ndash; An M code used to call a macro program must be specified at the start
of a block.
</p>
<p>&ndash;  In a macro called with a G code or in a program called as a subprogram
with an M or T code, no macros can be called using an M code.  An
M code in such a macro or program is treated as an ordinary M code.
</p>
<p>16.6.4
Macro Call Using an 
M Code
</p>
<p>ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>ï¿½ Correspondence
between parameter
numbers and program
numbers
</p>
<p>ï¿½ Repetition
</p>
<p>ï¿½ Argument specification
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>326
</p>
<p>By setting an M code number used to call a subprogram (macro program)
in a parameter, the macro program can be called in the same way as with
a subprogram call (M98).
</p>
<p>O0001 ;
     :
M03 ;
     :
M30 ;
</p>
<p>O9001 ;
     :
     :
     :
M99 ;
</p>
<p>Parameter 240 = 03
</p>
<p>By setting an M code number from 1 to 255 used to call a subprogram in
a parameter (240 to 242), the corresponding macro program (9001 to
9009) can be called in the same way as with M98.
</p>
<p>O9001
O9002
O9003
</p>
<p>240
241
242
</p>
<p>Program number Parameter number
</p>
<p>As with a simple call, a number of repetitions from 1 to 9999 can be
specified at address L.
</p>
<p>Argument specification is not allowed.
</p>
<p>An M code in a macro program that has been called is treated as an
ordinary M code.
</p>
<p>In a macro called with a G code or in a program called with an M or T code,
no subprograms can be called using an M code.  An M code in such a
macro or program is treated as an ordinary M code.
</p>
<p>16.6.5
Subprogram Call Using
an M Code
</p>
<p>ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>ï¿½ Correspondence
between parameter
numbers and program
numbers
</p>
<p>ï¿½ Repetition
</p>
<p>ï¿½ Argument specification
</p>
<p>ï¿½ M code
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>327
</p>
<p>By enabling subprograms (macro program) to be called with a T code in
a parameter, a macro program can be called each time the T code is
specified in the machining program.
</p>
<p>O0001 ;
     :
T23 ;
     :
M30 ;
</p>
<p>O9000 ;
     :
     :
     :
M99 ;
</p>
<p>Bit 5 of parameter 040 = 1
</p>
<p>By setting bit 5 of parameter 040 to 1, the macro program O9000 can be
called when a T code is specified in the machining program.  A T code
specified in a machining program is assigned to common variable #149.
</p>
<p>In a macro called with a G code or in a program called with an M or T code,
no subprograms can be called using a T code.  A T code in such a macro
or program is treated as an ordinary T code.
</p>
<p>16.6.6
Subprogram Calls
Using a T Code
</p>
<p>ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>ï¿½ Call
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>328
</p>
<p>By using the subprogram call function that uses M codes, the cumulative
usage time of each tool is measured.
</p>
<p>ï¿½ The cumulative usage time of each of tools T01 to T05 is measured.
No measurement is made for tools with numbers greater than T05.
</p>
<p>ï¿½ The following variables are used to store the tool numbers and
measured times:
</p>
<p>#501
</p>
<p>#502
</p>
<p>#503
</p>
<p>#504
</p>
<p>#505
</p>
<p>Cumulative usage time of tool number 1
</p>
<p>Cumulative usage time of tool number 2
</p>
<p>Cumulative usage time of tool number 3
</p>
<p>Cumulative usage time of tool number 4
</p>
<p>Cumulative usage time of tool number 5
</p>
<p>ï¿½ Usage time starts being counted when the M03 command is specified
and stops when M05 is specified.  System variable #3002 is used to
measure the time during which the cycle start lamp is on.  The time
during which the machine is stopped by feed hold and single block
stop operation is not counted, but the time used to change tools and
pallets is included.
</p>
<p>Set 3 in parameter 240, and set 05 in parameter 241.
</p>
<p>Set 0 in variables #501 to #505.
</p>
<p>O0001;
T01 M06; 
M03; 
G04 X20.0; 
M05; Changes #501.. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
T02 M06; 
M03; 
G04 X20.0; 
M05; Changes #502.. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
T03 M06;
M03;
G04 X20.0; 
M05; Changes #503.. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
T04 M06;
M03; 
G04 X20.0;
M05; Changes #504.. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
T05 M06;
M03; 
G04 X20.0;
M05; Changes #505.. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
M30;
</p>
<p>16.6.7
Sample Program
</p>
<p>Conditions
</p>
<p>Operation check
</p>
<p>ï¿½ Parameter setting
</p>
<p>ï¿½ Variable value setting
</p>
<p>ï¿½ Program that calls a
macro program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>329
</p>
<p>O9001(M03); Macro to start counting. . . . . . . . . . . . . . . . . . . . . . . . . . 
M01;
IF[#4120 EQ 0]GOTO 9; No tool specified. . . . . . . . . . . . . . . . . . . . . 
IF[#4120 GT 5]GOTO 9; Out&ndash;of&ndash;range tool number. . . . . . . . . . . . . . 
#3002=0; Clears the timer.. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>N9 M03; Rotates the spindle in the forward direction.
M99;
</p>
<p>O9002(M05); Macro to end counting. . . . . . . . . . . . . . . . . . . . . . . . . . . 
M01;
IF[#4120 EQ 0]GOTO 9; No tool specified. . . . . . . . . . . . . . . . . . . . . 
IF[#4120 GT 5]GOTO 9; Out&ndash;of&ndash;range tool number. . . . . . . . . . . . . . 
#[500+#4120]=#3002+#[500+#4120]; Calculates cumulative time.. . . . 
</p>
<p>N9 M05; Stops the spindle.. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
M99;
</p>
<p>Macro program
(program called)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>330
</p>
<p>For smooth machining, the NC statement is preread to be performed next.
This operation is referred to as buffering.  In cutter compensation mode
(G41, G42), the NC prereads NC statements two or three blocks ahead to
find intersections.  Macro statements for arithmetic expressions and
conditional branches are processed as soon as they are read into the buffer.
Blocks containing M00, M01, M02, or M30, blocks containing M codes
for which buffering is suppressed by setting parameters 111 to 112, and
blocks containing G31 are not preread.
</p>
<p>N1 G31 X100.0 ;
 N2 #100=1
         :
</p>
<p>&gt;
</p>
<p>&gt; :Block being executed
</p>
<p>NC statement
execution
</p>
<p>Macro statement execution
</p>
<p>Buffer
</p>
<p>N1
</p>
<p>N2
</p>
<p>N1 X100.0 ;&gt;
</p>
<p>&gt; : Block being executed
ï¿½ : Block read into the buffer
</p>
<p>NC statement
execution
</p>
<p>Macro statement
execution
</p>
<p>Buffer
</p>
<p>N1
</p>
<p>N2 N3
</p>
<p>N4
</p>
<p>N2 #1=100 ;
N3 #2=200 ;
N4 Y200.0 ;
        :
</p>
<p>N4
</p>
<p>When N1 is being executed, the next NC statement (N4) is read into the
buffer.  The macro statements (N2, N3) between N1 and N4 are processed
during execution of N1.
</p>
<p>16.7
PROCESSING
MACRO
STATEMENTS
</p>
<p>Explanations
</p>
<p>ï¿½ When the next block is
not buffered 
(M codes that are not
buffered, G31, etc.)
</p>
<p>ï¿½ Buffering the next block
in other than cutter
compensation mode
(G41, G42) (normally
prereading one block)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>331
</p>
<p>N1 G01 G41 G91 X50.0 Y30.0 F100 Dd ;&gt;
</p>
<p>&gt; : Block being executed
ï¿½ : Blocks read into the buffer
</p>
<p>NC statement
execution
</p>
<p>Macro statement
execution
</p>
<p>Buffer
</p>
<p>N1
</p>
<p>N2
</p>
<p>N3
</p>
<p>N2 #1=100 ;
N3 X100.0 ;
N4 #2=200 ;
N5 Y50.0 ;
        :
</p>
<p>N4
</p>
<p>N5
</p>
<p>N3
</p>
<p>When N1 is being executed, the NC statements in the next two blocks (up
to N5) are read into the buffer.  The macro statements (N2, N4) between
N1 and N5 are processed during execution of N1.
</p>
<p>N1 G01 G41 X100.0 G100 Dd ;&gt;
</p>
<p>&gt; : Block being executed
ï¿½ : Blocks read into the buffer
</p>
<p>N1
</p>
<p>N2
</p>
<p>N3
</p>
<p>N2 #1=100 ;
N3 Y100.0 ;
N4 #2=200 ;
N5 M08 ;
N6 #3=300 ;
N7 X200.0 ;
        :
</p>
<p>N4
</p>
<p>N3
</p>
<p>N5
</p>
<p>N6
</p>
<p>N7
</p>
<p>NC statement
execution
</p>
<p>Macro statement
execution
</p>
<p>Buffer
</p>
<p>When the NC1 block is being executed, the NC statements in the next two
blocks (up to N5) are read into the buffer.  Since N5 is a block that involves
no movement, an intersection cannot be calculated.  In this case, the NC
statements in the next three blocks (up to N7) are read.  The macro
statements (N2, N4, and N6) between N1 and N7 are processed during
execution of N1.
</p>
<p>Custom macro programs are similar to subprograms.  They can be
registered and edited in the same way as subprograms.  The storage
capacity is determined by the total length of tape used to store both custom
macros and subprograms.
</p>
<p>ï¿½ Buffering the next block
in cutter compensation
mode (G41, G42)
</p>
<p>ï¿½ When the next block
involves no movement in
cutter compensation C
(G41, G42) mode
</p>
<p>16.8
REGISTERING
CUSTOM MACRO
PROGRAMS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>332
</p>
<p>Macro call can be specified in automatic operation.  During automatic
operation, however, it is impossible to switch to the MDI mode for a
macro program call.  Macro call can also be specified in MDI operation
B.
</p>
<p>A custom macro program cannot be searched for a sequence number.
</p>
<p>Even while a macro program is being executed, blocks can be stopped in
the single block mode (except blocks containing macro call commands,
arithmetic operation commands, and control commands).
A block containing a macro call command (G65, G66, or G67) does not
stop even when the single block mode is on.  Blocks containing arithmetic
operation commands and control commands can be stopped in single
block mode by setting (bit 5 of parameter 011) to 1.
Single block stop operation is used for testing custom macro programs.
Note that when a single block stop occurs at a macro statement in cutter
compensation C mode, the statement is assumed to be a block that does
not involve movement, and proper compensation cannot be performed in
some cases.  (Strictly speaking, the block is regarded as specifying a
movement with a travel distance 0.)
</p>
<p>A / appearing in the middle of an &lt;expression&gt; (enclosed in brackets [ ]
on the right&ndash;hand side of an arithmetic expression) is regarded as a
division operator; it is not regarded as the specifier for an optional block
skip code.
</p>
<p>Registered custom macro programs and subprograms should be protected
from being destroyed by accident.  By setting (bit 0 of parameter 389 #2)
and (bit 4 of parameter 010) to 1, deletion and editing are disabled for
custom macro programs and subprograms with program numbers 8000
to 8999 and 9000 to 9999.  When the entire memory is cleared (by
</p>
<p>pressing the RESET  and DELET  keys at the same time to turn on the power),
</p>
<p>the contents of memory such as custom macro programs are deleted.
</p>
<p>Local variables and common variables #100 to #199 are cleared to null
values by a reset operation.  They can be prevented from being cleared by
setting, (bits 6 and 7 of parameter 040).  System variables #1000 to #1133
are not cleared.
A reset operation clears any called states of custom macro programs and
subprograms, and any DO states, and returns control to the main program.
</p>
<p>As with M98, the M and T codes used for subprogram calls are not
displayed.
</p>
<p>When a feed hold is enabled during execution of a macro statement, the
machine stops after execution of the macro statement.  The machine also
stops when a reset or alarm occurs.
</p>
<p>+0.0000001 to +99999999
&ndash;99999999 to &ndash;0.0000001
The number of significant digits is 8 (decimal).  If this range is exceeded,
alarm No. 003 occurs.
</p>
<p>16.9
LIMITATIONS
</p>
<p>ï¿½ MDI operation
</p>
<p>ï¿½ Sequence number
search
</p>
<p>ï¿½ Single block
</p>
<p>ï¿½ Optional block skip
</p>
<p>ï¿½ Operation in EDIT mode
</p>
<p>ï¿½ Reset
</p>
<p>ï¿½ Display of the PROGRAM
RESTART page
</p>
<p>ï¿½ Feed hold
</p>
<p>ï¿½ Constant values that can
be used in &lt;expression&gt;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>333
</p>
<p>In addition to the custom macro commands, the following macro
commands are available.  They are referred to as external output
commands.
&ndash;  BPRNT
&ndash;  DPRNT
&ndash;  POPEN
&ndash;  PCLOS
These commands are provided to output variable values and characters
through the reader/punch interface.
</p>
<p>Specify these commands in the following order:
</p>
<p>Open command:  POPEN
Before specifying a sequence of data output commands, specify this
command to establish a connection to an external input/output device.
</p>
<p>Data output command:  BPRNT or DPRNT
Specify necessary data output.
</p>
<p>Close command:  PCLOS
When all data output commands have completed, specify PCLOS to
release a connection to an external input/output device.
</p>
<p>POPEN
POPEN establishes a connection to an external input/output device.  It
must be specified before a sequence of data output commands.  The NC
outputs a DC2 control code.
</p>
<p>BPRNT  [  a  #b        [ c ] &hellip; ]
</p>
<p>Number of significant decimal places
Variable
</p>
<p>Character
</p>
<p>The BPRNT command outputs characters and variable values in binary.
</p>
<p>(i) Specified characters are converted to corresponding codes according
to the setting (ISO) that is output at that time.
Specifiable characters are as follows:
&ndash;  Letters (A to Z)
&ndash;  Numbers
&ndash;  Special characters ( * , /, +, &ndash;, etc.)
An asterisk (*) is output by a space code.
</p>
<p>(ii) All variables are stored with a decimal point.  Specify a variable
followed by the number of significant decimal places enclosed in
brackets.  A variable value is treated as 2&ndash;word (32&ndash;bit) data,
including the decimal digits.  It is output as binary data starting from
the highest byte.
</p>
<p>(iii) When specified data has been output, an EOB code is output
according to the ISO code settings on the parameter screen.
</p>
<p>(iv) Null variables are regarded as 0.
</p>
<p>16.10
EXTERNAL OUTPUT
COMMANDS
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Open command POPEN
</p>
<p>ï¿½ Data output command
BPRNT
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>334
</p>
<p>LF
12 (0000000C)
M
&ndash;1638400(FFE70000)
</p>
<p>Y
</p>
<p>410 (0000019A)
X
Space
C
</p>
<p>BPRINT [ C** X#100 [3] Y#101 [3] M#10 [0] ]
Variable value
</p>
<p>#100=0.40596
#101=&ndash;1638.4
#10=12.34
</p>
<p>DPRNT  [  a  #b        [ c d ] &hellip; ]
</p>
<p>Number of significant decimal places
</p>
<p>Number of significant digits in the integer part
</p>
<p>Variable
</p>
<p>Character
</p>
<p>The DPRNT command outputs characters and each digit in the value of
a variable according to the code set in the settings (ISO).
</p>
<p>(i) For an explanation of the DPRNT command, see Items (i), (iii), and
(iv) for the BPRNT command.
</p>
<p>(ii) When outputting a variable, specify # followed by the variable
number, then specify the number of digits in the integer part and the
number of decimal places enclosed in brackets.  
One code is output for each of the specified number of digits, starting
with the highest digit.  For each digit, a code is output according to
the settings (ISO).  The decimal point is also output using a code set
in the settings (ISO).
Each variable must be a numeric value consisting of up to eight
digits.  When high&ndash;order digits are zeros, these zeros are not output
if (bit1 of parameter 040) is 1.  If it is 0, a space code is output each
time a zero is encountered.
When the number of decimal places is not zero, digits in the decimal
part are always output.  If the number of decimal places is zero, no
decimal point is output.
When (bit 1 of parameter 040) is 0, a space code is output to indicate
a positive number instead of +; if it is 1, no code is output.
</p>
<p>Examples
</p>
<p>ï¿½ Data output command
DPRNT
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>335
</p>
<p>sp
</p>
<p>DPRINT [ X#2 [53] Y#5 [53] T#30 [20] ]
Variable value
</p>
<p>#2=128.47398
#5=&ndash;91.2
#30=123.456
</p>
<p>ï¿½ Parameter (No.040#1)=0
</p>
<p>L F
</p>
<p>T
</p>
<p>Y &ndash;
</p>
<p>X
</p>
<p>91.200
</p>
<p>128.474
</p>
<p>23
</p>
<p>LF
</p>
<p>T23
</p>
<p>Y&ndash;91.200
</p>
<p>X128.474
</p>
<p>ï¿½ Parameter (No.040#1)=1
</p>
<p>sp sp sp
</p>
<p>sp sp sp
</p>
<p>PCLOS ;
The PCLOS command releases a connection to an external input/output
device.  Specify this command when all data output commands have
terminated.  DC4 control code is output from the CNC.
</p>
<p>Specify the channel use for parameter.  According to the specification of
this parameter, set data items (such as the baud rate) for the reader/punch
interface.  The remote buffer cannot be specified.
Specify that the reader/punch interface is used as the output device for
punching.  (Never specify output to the FANUC CASSETTE or floppy
disks.)
To indicate the end of a line of data in ISO code, specify whether to use
only an LF (bit 4 of parameter 057 is 0) or an LF and CR (bit 4 of parameter
057 is 1).
</p>
<p>Examples
</p>
<p>ï¿½ Close command PCLOS
</p>
<p>ï¿½ Required settingww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>336
</p>
<p>NOTE
1 It is not necessary to always specify the open command
</p>
<p>(POPEN), data output command (BPRNT, DPRNT), and
close command (PCLOS) together.  Once an open
command is specified at the beginning of a program, it does
not need to be specified again except after a close
command was specified.
</p>
<p>2 Be sure to specify open commands and close commands
in pairs.  Specify the close command at the end of the
program.  However, do not specify a close command if no
open command has been specified.
</p>
<p>3 When a reset operation is performed while commands are
being output by a data output command, output is stopped
and subsequent data is erased.  Therefore, when a reset
operation is performed by a code such as M30 at the end
of a program that performs data output, specify a close
command at the end of the program so that processing such
as M30 is not performed until all data is output.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>337
</p>
<p>When a program is being executed, another program can be called by
inputting an interrupt signal (UINT) from the machine.  This function is
referred to as an interruption type custom macro function.  Program an
interrupt command in the following format:
</p>
<p>M96 Pï¿½ï¿½ï¿½ï¿½ ;
</p>
<p>M97 ;
</p>
<p>Enables custom macro interrupt
</p>
<p>Disables custom macro interrupt
</p>
<p>Use of the interruption type custom macro function allows the user to call
a program during execution of an arbitrary block of another program.
This allows programs to be operated to match situations which vary from
time to time.
</p>
<p>(1)When a tool abnormality is detected, processing to handle the
abnormality is started by an external signal.
</p>
<p>(2)A sequence of machining operations is interrupted by another
machining operation without the cancellation of the current operation.
</p>
<p>(3)At regular intervals, information on current machining is read.
Listed above are examples like adaptive control applications of the
interruption type custom macro function.
</p>
<p>Interrupt
signal
(UINT)*
</p>
<p>Interrupt
signal
(UINT)
</p>
<p>Interrupt
signal
(UINT)*
</p>
<p>M96 Pxxxx;
</p>
<p>Nï¿½ï¿½ï¿½ï¿½;
</p>
<p>M97  ;
</p>
<p>M99 (Pï¿½ï¿½ï¿½ï¿½);
</p>
<p>O xxxx;
</p>
<p>Fig.16.11 Interruption type sustom macro function
</p>
<p>When M96Pxxxx is specified in a program, subsequent program
operation can be interrupted by an interrupt signal (UINT) input to
execute the program specified by Pxxxx.
When the interrupt signal (UINT, marked by * in Fig. 16.11 is input
during execution of the interrupt program or after M97 is specified, it is
ignored.
</p>
<p>16.11
INTERRUPTION TYPE
CUSTOM MACRO
</p>
<p>ï¿½ï¿½
ï¿½ï¿½ï¿½
</p>
<p>ï¿½&#13;	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>338
</p>
<p>A custom macro interrupt is available only during program execution.  It
is enabled under the following conditions
&ndash;  When memory operation or MDI operation B is selected
&ndash;  When STL (start lamp) is on
&ndash;  When a custom macro interrupt is not currently being processed
</p>
<p>Generally, the custom macro interrupt function is used by specifying M96
to enable the interrupt signal (UINT) and M97 to disable the signal.
Once M96 is specified, a custom macro interrupt can be initiated by the
input of the interrupt signal (UINT) until M97 is specified or the NC is
reset.  After M97 is specified or the NC is reset, no custom macro
interrupts are initiated even when the interrupt signal (UINT) is input.
The interrupt signal (UINT) is ignored until another M96 command is
specified.
</p>
<p>1
0
</p>
<p>M96 M97 M96
</p>
<p>Interrupt signal
(UINT)
</p>
<p>Effective interrupt
input signal
</p>
<p>When UINT is kept on
</p>
<p>The interrupt signal (UINT) becomes valid after M96 is specified.  Even
when the signal is input in M97 mode, it is ignored.  When the signal input
in M97 mode is kept on until M96 is specified, a custom macro interrupt
is initiated as soon as M96 is specified (only when the status&ndash;triggered
scheme is employed); when the edge&ndash;triggered scheme is employed, the
custom macro interrupt is not initiated even when M96 is specified.
</p>
<p>NOTE
For the status&ndash;triggered and edge&ndash;triggered schemes, see
Item &ldquo;Custom macro interrupt signal (UINT)&rdquo; of Subsec.
16.11.2.
</p>
<p>16.11.1
Specification Method
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Interrupt conditions
</p>
<p>ï¿½ Specification
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>339
</p>
<p>There are two types of custom macro interrupts:  Subprogram&ndash;type
interrupts and macro&ndash;type interrupts.  The interrupt type used is selected
by (bit 5 of parameter 056).
</p>
<p>(a)Subprogram&ndash;type interrupt
An interrupt program is called as a subprogram.  This means that the
levels of local variables remain unchanged before and after the
interrupt.  This interrupt is not included in the nesting level of
subprogram calls.
</p>
<p>(b)Macro&ndash;type interrupt
An interrupt program is called as a custom macro.  This means that the
levels of local variables change before and after the interrupt.  The
interrupt is not included in the nesting level of custom macro calls.
When a subprogram call or a custom macro call is performed within
the interrupt program, this call is included in the nesting level of
subprogram calls or custom macro calls.  Arguments cannot be passed
from the current program even when the custom macro interrupt is a
macro&ndash;type interrupt.
</p>
<p>In general, custom macro interrupts are controlled by M96 and M97.
However, these M codes, may already being used for other purposes (such
as an M function or macro M code call) by some machine tool builders.
For this reason, (bit 4 of parameter 056) is provided to set M codes for
custom macro interrupt control.
When specifying this parameter to use the custom macro interrupt control
M codes set by parameters, set parameters 246 and 247 as follows:
Set the M code to enable custom macro interrupts in parameter 246, and
set the M code to disable custom macro interrupts in parameter 247.
When specifying that parameter&ndash;set M codes are not used, M96 and M97
are used as the custom macro control M codes regardless of the settings
of parameters 246 and 247.
The M codes used for custom macro interrupt control are processed
internally (they are not output to external units).  However, in terms of
program compatibility, it is undesirable to use M codes other than M96
and M97 to control custom macro interrupts.
</p>
<p>When performing a custom macro interrupt, the user may want to
interrupt the NC statement being executed, or the user may not want to
perform the interrupt until the execution of the current block is completed.
(bit 2 of parameter 056)is used to select whether to perform interrupts
even in the middle of a block or to wait until the end of the block.
</p>
<p>16.11.2
Details of Functions
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Subprogram&ndash;type
interrupt and macro&ndash;type
interrupt
</p>
<p>ï¿½ M codes for custom
macro interrupt control
</p>
<p>ï¿½ Custom macro interrupts
and NC statementsww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>340
</p>
<p>(i) When the interrupt signal (UINT) is input, any movement or dwell
being performed is stopped immediately and the interrupt program
is executed.
</p>
<p>(ii) If there are NC statements in the interrupt program, the command in
the interrupted block is lost and the NC statement in the interrupt
program is executed.  When control is returned to the interrupted
program, the program is restarted from the next block after the
interrupted block.
</p>
<p>(iii) If there are no NC statements in the interrupt program, control is
returned to the interrupted program by M99, then the program is
restarted from the command in the interrupted block.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Execution in 
progress
</p>
<p>Normal program
</p>
<p>Interrupted by macro interrupt
</p>
<p>Execution in 
progress
</p>
<p>Interrupt signal (UINT) input
</p>
<p>CNC command restart; when
there are no NC statements in
the interrupt program
</p>
<p>Custom macro
interrupt
</p>
<p>(i) If the block being executed is not a block that consists of several cycle
operations such as a drilling canned cycle and automatic reference
position return (G28), an interrupt is performed as follows:
When an interrupt signal (UINT) is input, macro statements in the
interrupt program are executed immediately unless an NC statement
is encountered in the interrupt program.  NC statements are not
executed until the current block is completed.
</p>
<p>(ii) If the block being executed consists of several cycle operations, an
interrupt is performed as follows:
When the last movement in the cycle operations is started, macro
statements in the interrupt program are executed unless an NC
statement is encountered.  NC statements are executed after all cycle
operations are completed.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Execution in 
progress
</p>
<p>Normal program
</p>
<p>Execution in 
progress
</p>
<p>Interrupt signal (UINT) input
</p>
<p>Custom macro
interrupt
</p>
<p>NC statement in the
interrupt program
</p>
<p>Type I 
(when an interrupt is
performed even in the middle
of a block)
</p>
<p>Type II 
(when an interrupt is
performed at the end of the
block)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>341
</p>
<p>The interrupt signal becomes valid after execution starts of a block that
contains M96 for enabling custom macro interrupts.  The signal becomes
invalid when execution starts of a block that contains M97.
While an interrupt program is being executed, the interrupt signal
becomes invalid.  The signal become valid when the execution of the
block that immediately follows the interrupted block in the main program
is started after control returns from the interrupt program.  In type I, if the
interrupt program consists of only macro statements, the interrupt signal
becomes valid when execution of the interrupted block is started after
control returns from the interrupt program.
</p>
<p>Even when cycle operation is in progress, movement is interrupted, and
the interrupt program is executed.  If the interrupt program contains no
NC statements, the cycle operation is restarted after control is returned to
the interrupted program.  If there are NC statements, the remaining
operations in the interrupted cycle are discarded, and the next block is
executed.
</p>
<p>When the last movement of the cycle operation is started, macro
statements in the interrupt program are executed unless an NC statement
is encountered.  NC statements are executed after cycle operation is
completed.
</p>
<p>ï¿½ Conditions for enabling
and disabling the custom
macro interrupt signal
</p>
<p>ï¿½ Custom macro interrupt
during execution of a
block that involves cycle
operation
</p>
<p>For type I
</p>
<p>For type II
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>342
</p>
<p>There are two schemes for custom macro interrupt signal (UINT) input:
The status&ndash;triggered scheme and edge&ndash; triggered scheme.  When the
status&ndash;triggered scheme is used, the signal is valid when it is on.  When
the edge triggered scheme is used, the signal becomes valid on the rising
edge when it switches from off to on status.
One of the two schemes is selected with (bit 3 of parameter 056).  When
the status&ndash;triggered scheme is selected by this parameter, a custom macro
interrupt is generated if the interrupt signal (UINT) is on at the time the
signal becomes valid.  By keeping the interrupt signal (UINT) on, the
interrupt program can be executed repeatedly.
When the edge&ndash;triggered scheme is selected, the interrupt signal (UINT)
becomes valid only on its rising edge.  Therefore, the interrupt program
is executed only momentarily (in cases when the program consists of only
macro statements).  When the status&ndash;triggered scheme is inappropriate,
or when a custom macro interrupt is to be performed just once for the
entire program (in this case, the interrupt signal may be kept on), the
edge&ndash;triggered scheme is useful.
Except for the specific applications mentioned above, use of either
scheme results in the same effects.  The time from signal input until a
custom macro interrupt is executed does not vary between the two
schemes.
</p>
<p>1
</p>
<p>0
</p>
<p>Interrupt signal (UINT)
</p>
<p>Interrupt
execution
</p>
<p>Interrupt
execution
</p>
<p>Interrupt
execution
</p>
<p>Interrupt
execution
</p>
<p>Interrupt
execution
</p>
<p>Status&ndash;triggered
scheme
</p>
<p>Edge&ndash;triggered
scheme
</p>
<p>In the above example, an interrupt is executed four times when the status
triggered scheme is used;  when the edge&ndash; triggered scheme is used, the
interrupt is executed just once.
</p>
<p>ï¿½ Custom macro interrupt
signal (UINT)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>343
</p>
<p>To return control from a custom macro interrupt to the interrupted
program, specify M99.  A sequence number in the interrupted program
can also be specified using address P.  If this is specified, the program is
searched from the beginning for the specified sequence number.  Control
is returned to the first sequence number found.
When a custom macro interrupt program is being executed, no interrupts
are generated.  To enable another interrupt, execute M99.  When M99 is
specified alone, it is executed before the preceding commands terminate.
Therefore, a custom macro interrupt is enabled for the last command of
the interrupt program.  If this is inconvenient, custom macro interrupts
should be controlled by specifying M96 and M97 in the program.
When a custom macro interrupt is being executed, no other custom macro
interrupts are generated; when an interrupt is generated, additional
interrupts are inhibited automatically.  Executing M99 makes it possible
for another custom macro interrupt to occur.  M99 specified alone in a
block is executed before the previous block terminates.  In the following
example, an interrupt is enabled for the Gxx block of O1234.  When the
signal is input, O1234 is executed again.  O5678 is controlled by M96 and
M97.  In this case, an interrupt is not enabled for O5678 (enabled after
control is returned to O1000).
</p>
<p>M99;
</p>
<p>GxxXxxx;
</p>
<p>O1234
</p>
<p>O1000;
</p>
<p>M96P1234;
</p>
<p>M96P5678
</p>
<p>M97
</p>
<p>O5678
</p>
<p>GxxXxxx;
</p>
<p>M96;
</p>
<p>M99;
</p>
<p>M97
</p>
<p>X
</p>
<p>Interrupt
</p>
<p>Interrupt
</p>
<p>Interrupt
</p>
<p>Interrupt
</p>
<p>ï¿½ Return from a custom
macro interrupt
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0816. CUSTOM MACRO B
</p>
<p>344
</p>
<p>NOTE
When an M99 block consists only of address O, N, P, L, or
M, this block is regarded as belonging to the previous block
in the program.  Therefore, a single&ndash;block stop does not
occur for this block.  In terms of programming, the following
ï¿½ and ï¿½ are basically the same.  (The difference is whether
Gï¿½ï¿½ is executed before M99 is recognized.)
</p>
<p>Gï¿½ï¿½ Xï¿½ï¿½ï¿½ ;
M99 ;
Gï¿½ï¿½ Xï¿½ï¿½ï¿½ M99 ;ï¿½
</p>
<p>ï¿½
</p>
<p>A custom macro interrupt is different from a normal program call.  It is
initiated by an interrupt signal (UINT) during program execution.  In
general, any modifications of modal information made by the interrupt
program should not affect the interrupted program.
For this reason, even when modal information is modified by the interrupt
program, the modal information before the interrupt is restored when
control is returned to the interrupted program by M99.
When control is returned from the interrupt program to the interrupted
program by M99 Pxxxx, modal information can again be controlled by
the program.  In this case, the new continuous information modified by
the interrupt program is passed to the interrupted program. Restoration of
the old modal information present before the interrupt is not desirable.
This is because after control is returned, some programs may operate
differently depending on the modal information present before the
interrupt.  In this case, the following measures are applicable:
</p>
<p>ï¿½ The interrupt program provides modal information to be used after
control is returned to the interrupted program.
</p>
<p>ï¿½ After control is returned to the interrupted program, modal
information is specified again as necessary.
</p>
<p>Oââââ
</p>
<p>M96Pxxx
</p>
<p>Nï¿½ï¿½ï¿½ï¿½;
</p>
<p>M99(Pï¿½ï¿½ï¿½ï¿½);
</p>
<p>Oxxx;
</p>
<p>Interrupt signal (UINT)
</p>
<p>(Without P specification)
Modify modal information
</p>
<p>Modal
information remains
unchanged before and
after the interrupt.
</p>
<p>(With P specification)
</p>
<p>The new modal information modified by the interrupt
program is present.
</p>
<p>ï¿½ Custom macro interrupt
and modal information
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 16. CUSTOM MACRO BPROGRAMMING
</p>
<p>345
</p>
<p>The modal information present before the interrupt becomes valid.  The
new modal information modified by the interrupt program is made
invalid.
</p>
<p>The new modal information modified by the interrupt program remains
valid even after control is returned.  The old modal information which was
valid in the interrupted block can be read using custom macro system
variables #4001 to #4120.
Note that when modal information is modified by the interrupt program,
system variables #4001 to #4120 are not changed.
</p>
<p>ï¿½ The coordinates of point A can be read using system variables #5001
and up until the first NC statement is encountered.
</p>
<p>ï¿½ The coordinates of point A&rsquo; can be read after an NC statement with no
move specifications appears.
</p>
<p>ï¿½ The machine coordinates and workpiece coordinates of point B&rsquo; can
be read using system variables #5021 and up and #5041 and up.
</p>
<p>B&rsquo;
</p>
<p>B
</p>
<p>A&rsquo;
</p>
<p>A
</p>
<p>Interrupt generated
Tool center path
</p>
<p>Offset vector
</p>
<p>Programmed tool path
</p>
<p>When the interrupt signal (UINT) is input and an interrupt program is
called, the custom macro modal call is canceled (G67).  However, when
G66 is specified in the interrupt program, the custom macro modal call
becomes valid.  When control is returned from the interrupt program by
M99, the modal call is restored to the state it was in before the interrupt
was generated.  When control is returned by M99Pxxxx;, the modal call
in the interrupt program remains valid.
</p>
<p>When the interrupt signal (UINT) is input while a return operation is being
performed in the dry run mode after the search operation for program
restart, the interrupt program is called after restart operation terminates
for all axes.  This means that interrupt type II is used regardless of the
parameter setting.
</p>
<p>Modal information when
control is returned by M99
</p>
<p>Modal information when
control is returned by M99
Pï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ System variables
(position information
values) for the interrupt
program
</p>
<p>ï¿½ Custom macro interrupt
and custom macro
modal call
</p>
<p>ï¿½ Custom macro interrupt
and program restart
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0817. PATTERN DATA INPUT FUNCTION
</p>
<p>346
</p>
<p>17 PATTERN DATA INPUT FUNCTION
This function enables users to perform programming simply by extracting
numeric data (pattern data) from a drawing and specifying the numerical
values from the CRT/MDI panel.  
This eliminates the need for programming using an existing NC language.
</p>
<p>With the aid of this function, a machine tool builder can prepare the
program of a hole machining cycle (such as a boring cycle or tapping
cycle) using the custom macro function, and can store it into the program
memory.
This cycle is assigned pattern names, such as BOR1, TAP3, and DRL2.
</p>
<p>An operator can select a pattern from the menu of pattern names displayed
on the screen. 
Data (pattern data) which is to be specified by the operator should be
created in advance with variables in a drilling cycle.
The operator can identify these variables using names such as DEPTH,
RETURN RELIEF, FEED, MATERIAL or other pattern data names.  The
operator assigns values (pattern data) to these names.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 17. PATTERN DATA INPUT FUNCTIONPROGRAMMING
</p>
<p>347
</p>
<p>Pressing the   MENU OFSET key and the soft key [MENU]  is displayed on the
</p>
<p>following pattern menu screen.
</p>
<p> 1.  BOLT HOLE
 2.  GRID
 3.  LINE ANGLE
 4.  TAPPING
 5.  DRILLING
 6.  BORING
 7.  POCKET
 8.  PECK
 9.  TEST PATRN
10.  BACK
</p>
<p>MENU : HOLE PATTERN             O0000 N00000
</p>
<p>SELECT = S 0  T 
 10:01:29 MDI
[ OFFSET ] [  MACRO ] [ MENU ] [    ] [    ]
</p>
<p>HOLE PATTERN : This is the menu title.  An arbitrary character string
consisting of up to 12 characters can be specified.
</p>
<p>BOLT HOLE : This is the pattern name.  An arbitrary character
string consisting of up to 10 characters can be
specified, including katakana.
</p>
<p>The machine tool builder should specify the character strings for the menu
title and pattern name using the custom macro, and load the character
strings into program memory as a subprogram of program No. 9500.
</p>
<p>17.1
DISPLAYING THE
PATTERN MENU
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0817. PATTERN DATA INPUT FUNCTION
</p>
<p>348
</p>
<p>Menu title : C1 C2 C3 C4 C5 C6 C7 C8 C9C10 C11 C12
C1,C2, ,C12 : Characters in the menu title (12 characters). . 
Macro instruction
G65 H90 Pp Qq Rr Ii Jj Kk :
H90:Specifies the menu title
</p>
<p>p : Assume a1 and a2 to be the codes of characters C1 and C2. Then, 
</p>
<p>Pï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½
</p>
<p>Code a2 of character C2
</p>
<p>Code a1 of character C1
</p>
<p>q : Assume a3 and a4 to be the codes of characters C3 and C4.  Then, 
q=a3103+a4
</p>
<p>r : Assume a5 and a6 to be the codes of characters C5 and C6.  Then, 
r=a5103+a6
</p>
<p>i : Assume a7 and a8 to be the codes of characters C7 and C8.  Then, 
i=a7103+a8
</p>
<p>j : Assume a9 and a10 to be the codes of characters C9 and C10.  Then, 
j=a9103+a10
</p>
<p>k : Assume a11 and a12 to be the codes of characters C11 and C12.Then,
k=a11103+a12
</p>
<p>Example) If the title of the menu is &ldquo;HOLE PATTERN&rdquo; then the macro
instruction is as follows:
</p>
<p>G65 H90 P072079 Q076069 R032080
HO LE P
</p>
<p> I065084 J084069 K082078;
AT TE RN
</p>
<p>For codes corresponding to these characters, refer to the table
in 17.3.
</p>
<p>ï¿½ Macro commands
specifying the menu
title
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 17. PATTERN DATA INPUT FUNCTIONPROGRAMMING
</p>
<p>349
</p>
<p>Pattern  name: C1 C2 C3 C4 C5 C6 C7 C8 C9C10
C1, C2, ,C10: Characters in the pattern name (10 characters). . . 
Macro instruction
G65 H91 Pn Qq Rr Ii Jj Kk ;
H91: Specifies the menu title
</p>
<p>n : Specifies the menu No. of the pattern name
n=1 to 10
</p>
<p>q : Assume a1 and a2 to be the codes of characters C1 and C2.  Then,
q=a1ï¿½103+a2
</p>
<p>r : Assume a3 and a4 to be the codes of characters C3 and C4.  Then,
r=a3ï¿½103+a4
</p>
<p>i : Assume a5 and a6 to be the codes of characters C5 and C6.  Then,
i=a5ï¿½103+a6
</p>
<p>j : Assume a7 and a8 to be the codes of characters C7 and C8.  Then,
j=a7ï¿½103+a8
</p>
<p>k : Assume a9 and a10 to be the codes of characters C9 and C10.  Then,
k=a9ï¿½103+a10
</p>
<p>Example) If the pattern name of menu No. 1 is &ldquo;BOLT HOLE&rdquo; then the
macro instruction is as follows.
</p>
<p>G65 H91 P1 Q066079 R076084 I032072 J079076 K069032 ; 
BO LT H OL E
</p>
<p>To select a pattern from the pattern menu screen, enter the corresponding
pattern No.  The following is an example.
</p>
<p>1 INPUT
</p>
<p>The selected pattern No. is assigned to system variable #5900.  The
custom macro of the selected pattern can be started by starting a fixed
program (external program No. search) with an external signal then
referring to the system variable #5900 in the program.
</p>
<p>NOTE
If each characters of P, Q, R, I, J, and K are not specified in
a macro instruction, two spaces are assigned to each
omitted character.
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ &#13;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½&#13;ï¿½ï¿½
</p>
<p>	
ï¿½ï¿½ï¿½&#13;ï¿½&#13;ï¿½ï¿½ ï¿½ï¿½
 ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½

</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½ ï¿½ï¿½ï¿½ ï¿½
ï¿½
ï¿½ï¿½&#13;ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0817. PATTERN DATA INPUT FUNCTION
</p>
<p>350
</p>
<p>Custom macros for the menu title and hole pattern names.
</p>
<p> 1.  BOLT HOLE
 2.  GRID
 3.  LINE ANGLE
 4.  TAPPING
 5.  DRILLING
 6.  BORING
 7.  POCKET
 8.  PECK
 9.  TEST PATRN
10.  BACK
</p>
<p>MENU : HOLE PATTERN             O0000 N00000
</p>
<p>SELECT = S 0  T 
 10:01:29 MDI
[ OFFSET ] [  MACRO ] [ MENU ] [    ] [    ]
</p>
<p>O9500 ; 
</p>
<p>N1G65 H90 P072 079 Q076 069 R032 080 I 065 084 J 084 069 K082 078; HOLE PATTERN
</p>
<p>N2G65 H91 P1 Q066 079 R076 084 I 032 072 J 079 076 K069 032 ; 1.BOLT HOLE
</p>
<p>N3G65 H91 P2 Q071 082 R073 068 ; 2.GRID
</p>
<p>N4G65 H91 P3 Q076 073 R078 069 I 032 065 J 078071 K076069 3.LINE ANGLE
</p>
<p>N5G65 H91 P4 Q084 065 R080 080 I 073 078 J 071 032 ; 4.TAPPING
</p>
<p>N6G65 H91 P5 Q068 082 R073 076 I 076 073 J 078 071 ; 5.DRILLING
</p>
<p>N7G65 H91 P6 Q066079 R082073 I 078 071 ; 6.BORING
</p>
<p>N8G65 H91 P7 Q080 079 R067 075 I 069 084 ; 7.POCKET
</p>
<p>N9G65 H91 P8 Q080069 R067075 ; 8.PECK
</p>
<p>N10G65 H91 P9 Q084 069 R083 084 I032 080 J065 084 K082 078 ; 9.TEST PATRN
</p>
<p>N11G65 H91 P10 Q066 065 R067 0750 ; 10.BACK
</p>
<p>N12M99 ;
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 17. PATTERN DATA INPUT FUNCTIONPROGRAMMING
</p>
<p>351
</p>
<p>When a pattern menu is selected, the necessary pattern data is
displayed.
</p>
<p>NO.   NAME DATA   COMMENT
500 TOOL 0
501 KIJUN X 0 *BOLT HOLE
502 KIJUN Y 0      CIRCLE*
503 RADIUS 0 SET PATTERN
504 S. ANGL 0 DATA TO VAR.
505 HOLES NO 0 NO.500&ndash;505.
506 0
507 0
</p>
<p>ACTUAL POSITION (RELATIVE)
     X      0.000          Y      0.000
     Z      0.000
</p>
<p>VAR. : BOLT HOLE                  O9501 N0014
</p>
<p>NO. 500 = S 0 T
</p>
<p>10:00:48
</p>
<p>[ OFFSET ] [ MACRO ] [ MENU ] [     ] [     ]
</p>
<p>&ndash;&ndash;
</p>
<p>BOLT HOLE  : This is the pattern data title.  A character string
consisting of up to 12 characters can be set.
</p>
<p>TOOL  : This is the variable name.  A character string
consisting of up to 10 characters can be set.
</p>
<p>*BOLT HOLE 
   CIRCLE* : This is a comment statement.  A character string
</p>
<p>can be displayed consisting of up to 8 lines, 12
characters per line.
</p>
<p>(It is permissible to use katakana in a character string or line.)
The machine tool builder should program the character strings of pattern
data title, pattern name, and variable name using the custom macro, and
load them into the program memory as a subprogram whose No. is 9500
plus the pattern No. (O9501 to O9510).
</p>
<p>17.2
PATTERN DATA
DISPLAY
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0817. PATTERN DATA INPUT FUNCTION
</p>
<p>352
</p>
<p>Menu title  : C1 C2 C3 C4 C5 C6 C7 C8 C9C10C11C12
C1 ,C2,&hellip;, C12 : Characters in the menu title (12 characters)
Macro instruction
G65 H92 Pn Qq Rr Ii Jj Kk ;
H92 : Specifies the pattern name
p : Assume a1 and a2 to be the codes of characters C1 and C2.  Then,
</p>
<p>p=a1ï¿½103+a2
See 17.3 for character codes.
</p>
<p>q : Assume a3 and a4 to be the codes of characters C3 and C4.  Then, 
q=a3ï¿½103+a4
</p>
<p>r : Assume a5 and a6 to be the codes of characters C5 and C6.  Then,
r=a5ï¿½103+a6
</p>
<p>i : Assume a7 and a8 to be the codes of characters C7 and C8.  Then,
i=a7ï¿½103+a8
</p>
<p>j : Assume a9 and a10 to be the codes of characters C9 and C10.  Then, 
j=a9ï¿½103+a10
</p>
<p>k : Assume a11 and a12 to be the codes of characters C11 and C12.  Then,
k=a11ï¿½103+a12
</p>
<p>Example) Assume that the pattern data title is &rdquo;BOLT HOLE.&rdquo;The
macro instruction is given as follows:
</p>
<p>G65 H92 P066079 Q076084 R032072 I079076 J069032;
BO LT   H OL E
</p>
<p>Variable name  : C1 C2 C3 C4 C5 C6 C7 C8 C9C10
C1, C2,&hellip;, C10 : Characters in the variable name (10 characters)
Macro instruction
G65 H93 Pn Qq Rr Ii Jj Kk ; 
H93 : Specifies the variable name
n : Specifies the menu No. of the variable name
</p>
<p>n=1 to 10
q : Assume a1 and a2 to be the codes of characters C1 and C2.  Then, 
</p>
<p>q=a1ï¿½103+a2
r : Assume a3 and a4 to be the codes of characters C3 and C4.  Then, 
</p>
<p>r=a3ï¿½103+a4
i : Assume a5 and a6 to be the codes of characters C5 and C6.  Then,
</p>
<p>i=a5ï¿½103+a6
j : Assume a7 and a8 to be the codes of characters C7 and C8.  Then,
</p>
<p>j=a7ï¿½103+a8
k : Assume a9 and a10 to be the codes of characters C9 and C10.  Then,
</p>
<p>k=a9ï¿½103a+a10
Example) Assume that the variable name of the variable No. 503 is
</p>
<p>&ldquo;RADIUS.&rdquo;  The macro instruction is given as follows:
</p>
<p>G65 H93 P503 Q082065 R068073 I085083 ; 
RA DI US
</p>
<p>NOTE
Variable names can be assigned to 32 common variables
#500 to #531, which are not cleared when the power is
turned off.
</p>
<p>ï¿½ Macro instruction
specifying the pattern
data title
(the menu title)
</p>
<p>ï¿½ Macro instruction
specifying the variable
name
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 17. PATTERN DATA INPUT FUNCTIONPROGRAMMING
</p>
<p>353
</p>
<p>One comment line: C1 C2 C3 C4 C5 C6 C7 C8 C9 C10 C11 C12
C1, C2,&hellip;, C12 :  Character string in one comment line (12 characters)
Macro instruction
G65 H94 Pn Qq Rr Ii Jj Kk ; 
H94 : Specifies the comment
</p>
<p>p : Assume a1 and a2 to be the codes of characters C1 and C2.  Then,
p=a1ï¿½103+a2
See 17.7 for character codes.
</p>
<p>q : Assume a3 and a4 to be the codes of characters C3 and C4.  Then,
q=a3ï¿½103+a4
</p>
<p>r : Assume a5 and a6 to be the codes of characters C5 and C6.  Then, 
r=a5ï¿½103+a6
</p>
<p>i : Assume a7 and a8 to be the codes of characters C7 and C8.  Then, 
i=a7ï¿½103+a8
</p>
<p>j : Assume a9 and a10 to be the codes of characters C9 and C10.  Then,
j=a9ï¿½103+a10
</p>
<p>k : Assume a11 and a12 to be the codes of characters C11 and C12.  Then,
k=a11ï¿½103+a12
</p>
<p>A comment can be displayed in up to eight lines.  The comment consists
of the first line to the eighth line in the programmed sequence of G65 H94
for each line.
</p>
<p>Example) Assume that the comment is &ldquo;BOLT HOLE.&rdquo;  The macro
instruction is given as follows:
</p>
<p>G65 H94 P042066 Q079076 R084032 I072079 J076069;
*B OL T HO LE
</p>
<p>ï¿½ Macro instruction to
describe a comment
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0817. PATTERN DATA INPUT FUNCTION
</p>
<p>354
</p>
<p>Macro instruction to describe a parameter title , the variable name, and a
comment.
</p>
<p>NO.   NAME DATA   COMMENT
500 TOOL 0
501 KIJUN X 0 *BOLT HOLE
502 KIJUN Y 0      CIRCLE*
503 RADIUS 0 SET PATTERN
504 S. ANGL 0 DATA TO VAR.
505 HOLES NO 0 NO.500&ndash;505.
506 0
507 0
</p>
<p>ACTUAL POSITION (RELATIVE)
     X      0.000          Y      0.000
     Z      0.000
</p>
<p>VAR. : BOLT HOLE                  O9501 N0014
</p>
<p>NO. 500 = S 0 T
</p>
<p>10:00:48
</p>
<p>[ OFFSET ] [ MACRO ] [ MENU ] [     ] [     ]
</p>
<p>&ndash;&ndash;
</p>
<p>O9501 ; 
</p>
<p>N1G65 H92 P066 079 Q076 084 R032 072 I 079 076 J069 032; VAR:BOLT HOLE
</p>
<p>N2G65 H93 P500 Q084 079 R079076; #500 TOOL
</p>
<p>N3G65 H93 P501 Q075 073 R074 085 I078 032 J088 032 ; #501 KIJUN X
</p>
<p>N4G65 H93 P502 Q075 073 R074 085 I 078 032 J089 032 ; #502 KIJUN Y
</p>
<p>N5G65 H93 P503 Q082 065 R068 073 I 085 083 ; #503 RADIUS
</p>
<p>N6G65 H93 P504 Q083 046 R032 065 I 078 071 J 076 032; #504 S.ANGL
</p>
<p>N7G65 H93 P505 Q072 079 R076 069 I 083 032 J078 079 K046 032 ; #505 HOLES NO
</p>
<p>N8G65 H94; Comment
</p>
<p>N9G65 H94 P042 066 Q079 076 R084 032 I072 079 J076 069 ; *BOLT HOLE
</p>
<p>N10G65 H94 R032 067 I073 082 J067 076 K069 042 ;    CIRCLE*
</p>
<p>N11G65 H94 P083 069 Q084 032 080 065 I084 084 J069 082 K078 032 ;    SET PATTERN
</p>
<p>N12G65 H94 P068 065 Q084 065 R032 084 I079 032 J086 065 K082046 ;    DATA NO VAR.
</p>
<p>N13G65 H94 P078 079 Q046 053 R048 048 I045 053 J048 053 K046 032 ;    No.500&ndash;505
</p>
<p>N14M99 ;
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 17. PATTERN DATA INPUT FUNCTIONPROGRAMMING
</p>
<p>355
</p>
<p>Table. 17.3(a)   Characters and codes to be used for the pattern data input
function
</p>
<p>Char-
acter
</p>
<p>Code Comment Char-
acter
</p>
<p>Code Comment
</p>
<p>A 065 6 054
</p>
<p>B 066 7 055
</p>
<p>C 067 8 056
</p>
<p>D 068 9 057
</p>
<p>E 069 032 Space
</p>
<p>F 070 ! 033 Exclamation mark
</p>
<p>G 071 &rdquo; 034 Quotation mark
</p>
<p>H 072 # 035 Hash sign
</p>
<p>I 073 $ 036 Dollar sign
</p>
<p>J 074 % 037 Percent
</p>
<p>K 075 &amp; 038 Ampersand
</p>
<p>L 076 &rsquo; 039 Apostrophe
</p>
<p>M 077 ( 040 Left parenthesis
</p>
<p>N 078 ) 041 Right parenthesis
</p>
<p>O 079 ï¿½ 042 Asterisk
</p>
<p>P 080 + 043 Plus sign
</p>
<p>Q 081 , 044 Comma
</p>
<p>R 082 &ndash; 045 Minus sign
</p>
<p>S 083 . 046 Period
</p>
<p>T 084 / 047 Slash
</p>
<p>U 085 : 058 Colon
</p>
<p>V 086 ; 059 Semicolon
</p>
<p>W 087 &lt; 060 Left angle bracket
</p>
<p>X 088 = 061 Equal sign
</p>
<p>Y 089 &gt; 062 Right angle bracket
</p>
<p>Z 090 ? 063 Question mark
</p>
<p>0 048 @ 064 &ldquo;At&rdquo;mark
</p>
<p>1 049 [ 091 Left square bracket
</p>
<p>2 050 ^ 092
</p>
<p>3 051 &yen; 093 Yen sign
</p>
<p>4 052 ] 094 Right squar bracket
</p>
<p>5 053 _ 095 Underscore
</p>
<p>17.3
CHARACTERS AND
CODES TO BE USED
FOR THE PATTERN
DATA INPUT
FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0817. PATTERN DATA INPUT FUNCTION
</p>
<p>356
</p>
<p>Table 17.3 (b)  Numbers of subprograms employed in the pattern data input function
</p>
<p>Subprogram No. Function
</p>
<p>O9500 Specifies character strings displayed on the pattern data menu.
</p>
<p>O9501 Specifies a character string of the pattern data corresponding to pattern No.1
</p>
<p>O9502 Specifies a character string of the pattern data corresponding to pattern No.2
</p>
<p>O9503 Specifies a character string of the pattern data corresponding to pattern No.3
</p>
<p>O9504 Specifies a character string of the pattern data corresponding to pattern No.4
</p>
<p>O9505 Specifies a character string of the pattern data corresponding to pattern No.5
</p>
<p>O9506 Specifies a character string of the pattern data corresponding to pattern No.6
</p>
<p>O9507 Specifies a character string of the pattern data corresponding to pattern No.7
</p>
<p>O9508 Specifies a character string of the pattern data corresponding to pattern No.8
</p>
<p>O9509 Specifies a character string of the pattern data corresponding to pattern No.9
</p>
<p>O9510 Specifies a character string of the pattern data corresponding to pattern No.10
</p>
<p>Table. 17.3 (c)  Macro instructions used in the pattern data input function
</p>
<p>G code H code Function
</p>
<p>G65 H90 Specifies the menu title.
</p>
<p>G65 H91 Specifies the pattern name.
</p>
<p>G65 H92 Specifies the pattern data title.
</p>
<p>G65 G93 Specifies the variable name.
</p>
<p>G65 H94 Specifies the comment.
</p>
<p>Table. 17.3 (d)  System variables employed in the pattern data input function
</p>
<p>System variable Function
</p>
<p>#5900 Pattern No. selected by user.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
18. PROGRAMMABLE PARAMETER
</p>
<p> ENTRY (G10)PROGRAMMING
</p>
<p>357
</p>
<p>18 PROGRAMMABLE PARAMETER ENTRY (G10)
The values of parameters can be entered in a lprogram. This function is
used for setting pitch error compensation data when attachments are
changed or the maximum cutting feedrate or cutting time constants are
changed to meet changing machining conditions.
</p>
<p>General
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
18. PROGRAMMABLE PARAMETER 
</p>
<p>ENTRY (G10)
</p>
<p>358
</p>
<p>G10L50; Parameter entry mode setting
N_P_;
</p>
<p>G11; Parameter entry mode cancel
</p>
<p>N_: Parameter No. (4digids) or data No. for pitch errors compensation 
P_: Parameter setting value (Leading zeros can be omitted.)
</p>
<p>Meaning of command
</p>
<p>Format
</p>
<p>Can not use a decimal point in a value set in a parameter (P_).
a decimal point cannot be used in a custom macro variable for P_
either.
</p>
<p>WARNING
1 Do not fail to perform reference point return manually after
</p>
<p>changing the pitch error compensation data or backlash
compensation data.  Without this, the machine position can
deviate from the correct position.
</p>
<p>2 The canned&ndash;cycle mode must be cancelled before entering
of parameters.
</p>
<p>NOTE
Other NC statements cannot be specified while in
parameter input mode.
</p>
<p>G10L50 ;  Parameter entry mode
N500 P50 ; 
G11 ; cancel parameter entry mode
</p>
<p>To change the length of the effective area (in&ndash;position)
along the X&ndash;axis
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ï¿½ Parameter setting 
value (P_)
</p>
<p>Examples
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
19. MEMORY OPERATION USING Series
</p>
<p>10/11 TAPE FORMATPROGRAMMING
</p>
<p>359
</p>
<p>19 MEMORY OPERATION USING Series 10/11 TAPE FORMAT
Memory operation of the program registered by Series 10/11 tape format
is possible  with setting of the setting parameter (TAPEF).
</p>
<p>Data formats for cutter compensation, subprogram calling, and canned
cycles are different between the Series 0 and Series 10/11.  The Series
10/11 data formats can be processed for memory operation.Other data
formats must comply with the Series 0.When a value out of the specified
range for the Series 0 is registered, an alarm occurs.  Functions not
available in the Series 0 cannot be registered or used for memory
operation.
</p>
<p>Offset numbers are specified by address D in the Series 10/11.  When an
offset number is specified by address D, the modal value specified by
address H is replaced with the offset number specified by address D.
</p>
<p>If a subprogram number of more than four digits is specified, the four
low&ndash;order digits are regarded as the subprogram number.  If no repeat
count is specified, 1 is assumed.
</p>
<p>Table 19 (a)  Subprogram call data format
</p>
<p>CNC Data format
</p>
<p>Series 10/11 M98 Pï¿½ï¿½ï¿½ï¿½ï¿½ Lï¿½ï¿½ï¿½ï¿½ ;
P : Subprogram number
L : Repetition count
</p>
<p>Series 0 M98 Pï¿½ï¿½ï¿½  ï¿½ï¿½ï¿½ï¿½ ;
</p>
<p>   Repetition count   Subprogram number
</p>
<p>The Series 10/11 and Series 0 use different addresses for the repeat count
for canned cycles as listed in Table 19 (b).
</p>
<p>Table 19 (b)  Address for times of repetition of canned cycle
</p>
<p>CNC Address
</p>
<p>Series 10/11 L
</p>
<p>Series 0 K
</p>
<p>General
</p>
<p>Explanations
</p>
<p>ï¿½ Address for the cutter
compensation offset
number
</p>
<p>ï¿½ Subprogram call
</p>
<p>ï¿½ Address for the canned
cycle repetition count
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0820. HIGH SPEED CYCLE CUTTING
</p>
<p>360
</p>
<p>20 HIGH SPEED CYCLE CUTTING
This function can convert the machining profile to a data group that can
be distributed as pulses at high&ndash;speed by the macro compiler or macro
executor.  The function can also call and execute the data group as a
machining cycle using the CNC command (G05 command).
</p>
<p>G05 P10ï¿½ï¿½ï¿½ Lï¿½ï¿½ï¿½ ;
</p>
<p>P10ï¿½ï¿½ï¿½ is number of the machining cycle to be called first:
   P10001 to P10999  
Lï¿½ï¿½ï¿½ is repetition count of the machining cycle 
(L1 applies when this parameter is omitted.) :  
   L1 to L999
</p>
<p>Call and execute the data for the high speed cutting cycle specified by the
macro compiler and macro executor using the above command.
Cycle data can be prepared for up to 999 cycles.  Select the machining
cycle by address P.  More than one cycle can be called and executed in
series using the cycle connection data in the header.
Specify the repetition count of the called machining cycle by address L.
The repetition count in the header can be specified for each cycle.
The connection of cycles and their repetition count are explained below
with an example.
</p>
<p>Example) Assume the following:
Cycle 1  Cycle connection data 2  Repetition count 1
Cycle 2  Cycle connection data 3  Repetition count 3
Cycle 3  Cycle connection data 0  Repetition count 1
G05 P10001 L2 ;
The following cycles are executed in sequence: 
  Cycles 1, 2, 2, 2, 3, 1, 2, 2, 2, and3
</p>
<p>General
</p>
<p>Format
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 20. HIGH SPEED CYCLE CUTTINGPROGRAMMING
</p>
<p>361
</p>
<p>Four axes maximum (Four axes can be controlled simultaneously.).
</p>
<p>Set the number of pulses per cycle in parameter 055 #4 to #6 as a macro
variable (#20000 to #85535) for high speed cycle cutting using the macro
compiler and macro executor.
The unit for the number of pulses is the least input increment.
</p>
<p>20.1
NUMBER OF
CONTROL AXES
</p>
<p>20.2
PULSE
DISTRIBUTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0820. HIGH SPEED CYCLE CUTTING
</p>
<p>362
</p>
<p>Data for the high speed cycle cutting is assigned to variables (#20000 to
#85535)  for the high speed cycle cutting by the macro compiler and
macro executor.
</p>
<p>Configuration of the high speed cutting cycle data
</p>
<p>Number of registered cycles
</p>
<p>Header of cycle 1
</p>
<p>Header of cycle 2
</p>
<p>#20000
</p>
<p>#20001
</p>
<p>#20017
</p>
<p>#20033 Header of cycle 3
</p>
<p>Data group of cycle 1
</p>
<p>Data group of cycle 2
</p>
<p>Data group of cycle 3
</p>
<p>Specify the number of cycles (number of headers) of high&ndash;speed
machining cycle data.  Values from 1 to 999 can be specified.
</p>
<p>The header for high&ndash;speed cycle machining data has the following
configuration:
</p>
<p>Total number of fixed data items for the 4th axis
</p>
<p>Cycle repetition count#20001/20017/20033..
</p>
<p>Cycle connection data#20002/20018/20034..
</p>
<p>Number of data items#20003/20019/20035..
</p>
<p>Data type#20004/20020/20036..
</p>
<p>Variable assigned to the 1st axis data#20005/20021/20037..
</p>
<p>#20006/20022/20038..
</p>
<p>#20007/20023/20039..
</p>
<p>#20008/20024/20040..
</p>
<p>#20009/20025/20041..
</p>
<p>#20010/20026/20042..
</p>
<p>#20011/20027/20043..
</p>
<p>#20012/20028/20044..
</p>
<p>#20013/20029/20045..
</p>
<p>#20014/20030/20046..
</p>
<p>#20015/20031/20047..
</p>
<p>Header configuration
</p>
<p>#20016/20032/20048..
</p>
<p>Variable assigned to the 2nd axis data
</p>
<p>Variable assigned to the 3rd axis data
</p>
<p>Variable assigned to the 4th axis data
</p>
<p>Total number of fixed data items for the 1st axis
</p>
<p>Total number of fixed data items for the 2nd axis
</p>
<p>Total number of fixed data items for the 3rd axis
</p>
<p>20.3
CONFIGURATION OF
HIGH SPEED CYCLE
CUTTING DATA
</p>
<p>20.3.1
Number of Registered
Cycles
</p>
<p>20.3.2
Header
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 20. HIGH SPEED CYCLE CUTTINGPROGRAMMING
</p>
<p>363
</p>
<p>Specify the repetition count for this cycle.  Values from 0 to 32767 can
be specified.  When 0 or 1 is specified, the cycle is executed once.
</p>
<p>Specify the number (1 to 999) of the cycle to be executed after this cycle.
When no connection cycle exists because of the last cycle, specify 0.
</p>
<p>Specify the number of data items per cycle.  Valid values are from 1 to
32767.
When a fixed data item is specified, the fixed data is repeated for the
specified number of times in one cycle.
</p>
<p>&ndash; &ndash; &ndash; &ndash;r4 r3 r2 r1 t4 t3 t2 t1
</p>
<p>15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0
</p>
<p>&ndash; &ndash; &ndash; &ndash;
</p>
<p>The bits from t1 to t4, corresponding to the 1st to 4th axes, have the
following meanings:
0:  Distribution data is always constant.
1:  Distribution data is variable or fixed.
When the distribution data is variable or fixed, the bits from r1 to r4,
corresponding to the 1st to 4th axes, have the following meanings:
0:  Distribution data is read forward.
1:  Distribution data is read backwards.
Because the data consists of bits, it is necessary to use a binary&ndash;coded
decimal value when setting it using the macro compiler and macro
executor.
Example)
When constant data is assigned to the 1st and 2nd axes and variable data
is assigned to the 3rd and 4th axes, #20004 = 12; (t4 and t3: 0, t2 and t1: 1)
</p>
<p>ï¿½ Constant data
When the corresponding data type bit (t4 to t1) is 0, specify
&ldquo;distribution data value&rdquo;.
</p>
<p>ï¿½ Variable data
When the corresponding data type bit (t4 to t1) is 1 and the total
number of fixed data items = 0, specify &ldquo;(Storing start data variable
No. of the distribution data)/10&rdquo;.
</p>
<p>ï¿½ Fixed data
When the corresponding data type bit (t4 to t1) is 1 and the total
number of fixed data items is other than 0, specify &ldquo;(Storing start data
variable No. of the distribution data)/10&rdquo;.
The applicable value for the variable data and fixed data is 2001 to
8553.  It is not possible to start storing data in the executable format
from a variable No. that is not a multiple of 10.
To read the distribution data backwards, set the variable No. of the data
to be distributed last.  For example, to read the distribution data in
#25000 to #25999 backwards, set 25000 as the data assignment
variable.
</p>
<p>Set the length of the fixed data for the cycle.
The first address of the fixed data must be specified by the data
assignment variable.  When the total number of fixed data items = 0 and
the corresponding data type bit (t4 to t1) is 1, the data is regarded as a
variable data.
</p>
<p>ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Cycle repetition count
</p>
<p>ï¿½ Cycle connection data
</p>
<p>ï¿½ Number of data items
</p>
<p>ï¿½ Data type
</p>
<p>ï¿½ Variables assigned to
data for the 1st to 4th
axes
</p>
<p>ï¿½ Total number of fixed
data items for the first to
4th axes
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0820. HIGH SPEED CYCLE CUTTING
</p>
<p>364
</p>
<p>NOTE
1 When the high&ndash;speed machining function is used, an extended
</p>
<p>RAM is necessary.  The length of tape that can be specified is
</p>
<p>limited to 80 meters.
</p>
<p>2 An alarm is issued if the function is executed in the G41/G42 mode.
</p>
<p>3 Single block stop, dry run/feedrate override, automatic
</p>
<p>acceleration/deceleration and handle interruption are  disabled
</p>
<p>during high&ndash;speed cycle machining.
</p>
<p>4 When the distribution cycle is 2 ms or 1 ms set the total number
</p>
<p>of distribution data items for one cycle to a multiple of the following
</p>
<p>values.  This does not apply when the distribution cycle is 16 ms
</p>
<p>8 ms or 4 ms.  
</p>
<p>If the total number is not a multiple of one of the following values,
</p>
<p>movement in the remaining cycle becomes zero.
</p>
<p>Example)
When all 41 data items (distribution cycle:  1 ms) are
specified, movement is zero in the remaining 3 ms.
    Distribution cycle  2 ms:  Multiple of 2
    Distribution cycle  1 ms:  Multiple of 4
</p>
<p>ï¿½ï¿½ï¿½&#13;	
</p>
<p>
ï¿½	ï¿½ï¿½&#13;
ï¿½ï¿½ï¿½ï¿½&#13;ï¿½ï¿½ï¿½ï¿½ï¿½
ï¿½
</p>
<p>115 The contents of the header are invalid.  This alarm is issued in the
following cases.
1. The header corresponding to the number of the specified call
</p>
<p>machining cycle was not found.
2. A cycle connection data value is not in the valid range 
</p>
<p>(0 to 999).
3. The number of data items in the header is not in the valid range
</p>
<p>(1 to 32767).
4. The first variable No. for storing data in the executable format
</p>
<p>is not in the valid range (#20000 to #85535).
5. The last variable No. for storing data in the executable format
</p>
<p>exceeds the limit (#85535).
6. The first variable No. for start data in the executable format
</p>
<p>overlaps with a variable No. used in the header.
</p>
<p>178 High&ndash;speed cycle machining was specified in the G41/G42
mode.
</p>
<p>179 The number of control axes specified in parameter 597 exceeds
the maximum number.
</p>
<p>ï¿½ï¿½ï¿½&#13;	ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 21. SIMPLE SYNCHRONOUS CONTROLPROGRAMMING
</p>
<p>365
</p>
<p>21 SIMPLE SYNCHRONOUS CONTROL
It is possible to change the operating mode for two or more specified axes
to either synchronous operation or normal operation by an input signal
from the machine.
For example, The following operating modes are applicable to machines
having two tables driven independently by separate control axes.  The
following example is of a machine with two tables driven independently
by the Y axis and V axis.  If the axis names are different, substitute a
suitable name for the ones below.
</p>
<p>V
</p>
<p>X
</p>
<p>Y
</p>
<p>Z
</p>
<p>Fig. 21  Example of axis configuration of the machine operated
by simple synchronous control
</p>
<p>General
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0821. SIMPLE SYNCHRONOUS CONTROL
</p>
<p>366
</p>
<p>This mode is used for machining large workpieces that extend over two
tables.
While operating one axis with a move command, it is possible to
synchronously move the other axis.  In the synchronous mode, the axis
to which the move command applies is called the master axis, and the axis
that moves synchronously with the master axis is called the slave axis.
In this example, it is assumed that Y axis is the master axis and V axis is
the slave axis.  Here, the Y axis and the V axis move synchronously in
accordance with program command Yyyyy issued to the Y axis (master
axis).
Synchronous operation here means that the move command for the master
axis is issued simultaneously to both the servo motor for the master axis
and that for the slave axis.  In synchronous operation, the servo motor for
the slave axis is not compensated for the deviation which is always
detected between the two servo motors.
Synchronous operation is possible during automatic operation, jog feed,
manual handle feed using the manual pulse generator, and incremental
feed, but is not possible during manual reference position return.
</p>
<p>This operating mode is used for machining different workpieces on each
table.  The operation is the same as in ordinary CNC control, where the
movement of the master axis and slave axis is controlled by the
independent axis address (Y and V).  It is possible to issue the move
commands to both the master axis and slave axis in the same block.
</p>
<p>ï¿½ The Y axis moves normally according to program command Yyyyy
issued to the master axis.
</p>
<p>ï¿½ The V axis moves normally according to program command Vvvvv
issued to the slave axis.
</p>
<p>ï¿½ The Y axis and the V axis move simultaneously according to program
command YyyyyVvvvv.
Both automatic and manual operations are the same as in ordinary
CNC control.
</p>
<p>Explanations
</p>
<p>ï¿½ Synchronous operation
</p>
<p>ï¿½ Normal operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 21. SIMPLE SYNCHRONOUS CONTROLPROGRAMMING
</p>
<p>367
</p>
<p>CAUTION
1 When the automatic reference position return command (G28) and the 2nd/3rd/4th reference
</p>
<p>position return command (G30) are issued during synchronous operation, the V axis follows
the same movement as the Y axis returns to the reference position.  If the V axis is positioned
at the reference position after the return movement is complete, the reference position return
complete signal of the V axis goes on when that of the Y axis goes on.
As a rule, commands G28 and G30 must be issued in the normal operating mode.
</p>
<p>2 The machine must be manually returned to the reference position in the normal operating
mode.
</p>
<p>3 Both the pitch error and backlash are compensated independently for the master axis and the
slave axis.
</p>
<p>4 Turn on the manual absolute switch (ABS = 1) during synchronous operation.  If it is off, the
slave axis may not move correctly.
</p>
<p>5 When the machine is manually returned to the reference position during synchronous
operation, both the master axis and the slave axis move synchronously until the acceleration
movement is complete.  However, grid detection thereafter is carried out independently.
</p>
<p>6 The operation can be switched between synchronous operation and normal operation by using
a signal input from the PMC.
</p>
<p>NOTE
1 When the automatic reference position return check command (G27) is issued during
</p>
<p>synchronous operation, the V axis and Y axis move in tandem.  If both the Y axis and the V axis
have reached their respective reference positions after the movement is complete, the
reference position return complete signals go on.  If either axis is not at the reference position,
an alarm is issued.  As a rule, command G27 must be issued in the normal operating mode.
</p>
<p>2 In synchronous axis control, commands that require no axis motion, such as the workpiece
coordinate system setup command (G92) and the local coordinate system setup command
(G52), are set to the Y axis by program command Yyyyy issued to the master axis.
</p>
<p>3 For signals such as external deceleration, interlock, and machine lock, only the signals issued
to the master axis are valid in the synchronous operating mode.  Signals issued to other axes
are ignored.
</p>
<p>4 The axis which is to be the master axis must be specified by parameter No. 075#0, #1.
5 The slave axis is exclusively set to the 4th axis.
6 When a move command is issued to the slave axis during synchronous operation, a P/S alarm
</p>
<p>(No. 213) is issued.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0822. ROTARY AXIS ROLL&ndash;OVER
</p>
<p>368
</p>
<p>22 ROTARY AXIS ROLL&ndash;OVER
The roll&ndash;over function prevents coordinates for the rotation axis from
overflowing.  The roll&ndash;over function is enabled by setting bit 1 of
parameter 398 to 1.
</p>
<p>For an incremental command, the tool moves the angle specified in the
command.  For an absolute command, the coordinates after the tool has
moved are values set in parameter No. 860, and rounded by the angle
corresponding to one rotation.  The tool moves in the direction in which
the final coordinates are closest when bit 2 of parameter No. 398 is set to
0.  Displayed values for relative coordinates are also rounded by the angle
corresponding to one rotation when bit 3 of parameter No. 398 is set to
1.
</p>
<p>Assume that axis A is the rotating axis and that the amount of movement
per rotation is 360.000 (parameter No. 1260 = 360000).  When the
following program is executed using the roll&ndash;over function of the rotating
axis, the axis moves as shown below.
</p>
<p>G90 A0 ; Sequence number
</p>
<p>Actual
movement
</p>
<p>value
</p>
<p>Absolute coordinate 
value after movement end
</p>
<p>N1 G90 A&ndash;150.0 ; N1 &ndash;150 210
</p>
<p>N2 G90 A540.0 ; N2 &ndash;30 180
</p>
<p>N3 G90 A&ndash;620.0 ; N3 &ndash;80 100
</p>
<p>N4 G91 A380.0 ; N4 +380 120
</p>
<p>N5 G91 A&ndash;840.0 ; N5 &ndash;840 0
</p>
<p>Absolute 
coordinate value
</p>
<p>Relative 
coordinate value &ndash;720&deg;
</p>
<p>&ndash;0&deg;
</p>
<p>&ndash;360&deg;
</p>
<p>&ndash;0&deg; &ndash;0&deg;
</p>
<p>&ndash;0&deg; 360&deg;
</p>
<p>&ndash;0&deg;
</p>
<p>N1
</p>
<p>N2
</p>
<p>N3
</p>
<p>N4
</p>
<p>N5
</p>
<p>210&deg; (Absolute)
</p>
<p>180&deg;
100&deg;
</p>
<p>120&deg;
</p>
<p>NOTE
This function cannot be used together with the indexing
function of the index table.
</p>
<p>Genera ï¿½
</p>
<p>Explanations
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
23. ANGULAR AXIS CONTROL
</p>
<p> (0&ndash;GSC, 0&ndash;GSD/II)PROGRAMMING
</p>
<p>369
</p>
<p>23 ANGULAR AXIS CONTROL (0&ndash;GSC, 0&ndash;GSD/II)
When the Y&ndash;axis makes an angle other than 90&deg; with the Z&ndash;axis, the
inclined axis control function controls the distance traveled along each
axis according to the inclination angle. A program, when created,
assumes that the Y&ndash;axis and Z&ndash;axis intersect at right angles. However, the
actual distance traveled is controlled according to an inclination angle.
</p>
<p>+Y
</p>
<p>+Y
</p>
<p>Program coordinate system
</p>
<p>Coordinate system actually used
</p>
<p>+Z
</p>
<p>Î¸
</p>
<p>Î¸ : Inclination angle
</p>
<p>The distance traveled along each axis is controlled according to the
formulas described below.
The distance traveled along the Y&ndash;axis is determined by the following
formula:
  Ya=Yp/cos Î¸
The distance traveled along the Z&ndash;axis is corrected by the inclination of
the Y&ndash;axis, and is determined by the following formula:
   Za=Zp&ndash;Yp* tanÎ¸
The feedrate is determined as described below. The speed component
along the Y&ndash;axis is determined by the following formula:
   Fa=Fp/cos Î¸
           Ya, Za, Fa : Actual distance and speed
           Yp, Zp, Fp : Programmed distance and speed
</p>
<p>Parameter (No. 077#5) enables or disables the inclined axis control
function. If the function is enabled, the distance traveled along each axis
is controlled according to an inclination angle (No. 837).
Parameter (No. 077#4) enables Y&ndash;axis manual reference point return only
with a distance along the Y&ndash;axis.
</p>
<p>An absolute and a relative position are indicated in the programmed
Cartesian coordinate system.
Machine position display
</p>
<p>A machine position indication is provided in the machine coordinate
system where an actual movement is taking place according to an
inclination angle. However, when inch/metric conversion is performed,
a position is indicated which incorporates inch/metric conversion applied
to the results of inclination angle operation.
</p>
<p>General
</p>
<p>Explanations
</p>
<p>ï¿½ ï¿½ï¿½	ï¿½ï¿½ï¿½ ï¿½ï¿½ 
ï¿½ï¿½
</p>
<p>ï¿½ Absolute and relative
position display
</p>
<p>ï¿½ Machine position display
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/08
23. ANGULAR AXIS CONTROL 
</p>
<p>(0&ndash;GSC, 0&ndash;GSD/II)
</p>
<p>370
</p>
<p>WARNING
1 After inclined axis control parameter setting, be sure to
</p>
<p>perform manual reference point return operation.
2 If a movement along the Z&ndash;axis occurs in Y&ndash;axis manual
</p>
<p>reference point return operation, be sure to perform
reference point return operation starting with the Y&ndash;axis.
</p>
<p>3 If an inclination angle close to 0&deg; or ï¿½90&deg; is set, an error can
occur. (A range from ï¿½20&deg; to ï¿½90&deg; should be used.)
</p>
<p>4 Before a Z&ndash;axis reference point return check (G37) can be
made, Y&ndash;axis reference point return operation must be
completed.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 24. ADVANCED PREVIEW CONTROLPROGRAMMING
</p>
<p>371
</p>
<p>24 ADVANCED PREVIEW CONTROL
This function is designed to enable high&ndash;speed, high&ndash;precision
machining.  This function can suppress the delay that is incurred by
acceleration/deceleration and the servo system and which increases as a
higher feedrate is used.  Thus, the tool can exactly follow the specified
values, minimizing the machining figure error.  This function is optional.
</p>
<p>Using the command shown below, advanced preview control mode can
be turned on and off.  High&ndash;speed, high&ndash;precision machining is
performed in advanced preview control mode.
</p>
<p>G08   P  p      ;
</p>
<p>p = 1:  Turns advanced preview control mode on.
= 0:  Turns advanced preview control mode off.
</p>
<p>Note)  A block containing G08 must not include any other codes.
</p>
<p>In advanced preview control mode, the following functions are enabled:
</p>
<p>1 Cutting feed linear acceleration/deceleration before interpolation
</p>
<p>2 Automatic corner deceleration
</p>
<p>3 Block overlap
</p>
<p>4 Look&ndash;ahead feed forward
</p>
<p>For information about these functions, see the relevant sections.  Note that
dedicated parameters for advanced preview control are available.
</p>
<p>General
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>PROGRAMMING B&ndash;61404E/0824. ADVANCED PREVIEW CONTROL
</p>
<p>372
</p>
<p>NOTE
1 In advanced preview control mode, the following cannot be
</p>
<p>specified:
ï¿½ Control along the C&ndash;axis normal
ï¿½ Cylindrical interpolation
ï¿½ Polar coordinate specification
ï¿½ F 1&ndash;digit feed/threading/synchronous feed
ï¿½ Index table indexing
ï¿½ Rigid tapping
ï¿½ High&ndash;speed cycle machining/high&ndash;speed remote buffer
ï¿½ Handle interrupt
ï¿½ Program restart
ï¿½ Simple synchronous control
ï¿½ Interrupt&ndash;type custom macro
ï¿½ Automatic tool length measurement
ï¿½ Small&ndash;diameter peck drilling cycle
ï¿½ PMC&ndash;based axis control
ï¿½ Cs contour control
ï¿½ Skip cutting/high&ndash;speed skip cutting
ï¿½ Automatic signal&ndash;based reference position return
</p>
<p>2 In advanced preview control mode, servo look&ndash;ahead feed
forward control is used.  For information about the servo software
and parameters to be set, refer to the documentation provided with
the servo system.
</p>
<p>3 Advanced preview control mode is canceled by the input of a reset
signal.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>III.  OPERATION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALOPERATION
</p>
<p>375
</p>
<p>1 GENERAL
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/081. GENERAL
</p>
<p>376
</p>
<p>The CNC machine tool has a position used to determine the machine
position.
This position is called the reference position, where the tool is replaced
or the coordinate are set.  Ordinarily, after the power is turned on, the tool
is moved to the reference position.
Manual reference position return is to move the tool to the reference
position using switches and pushbuttons located on the operator&rsquo;s panel.
</p>
<p>Reference position
</p>
<p>Tool
</p>
<p>Machine operator&rsquo;s panel
</p>
<p>Fig. 1.1 (a)  Manual reference position return
</p>
<p>The tool can be moved to the reference position also with program
commands.
This operation is called automatic reference position return (See Section
II&ndash;6).
</p>
<p>1.1
MANUAL
OPERATION
</p>
<p>Explanations
</p>
<p>ï¿½ Manual reference
position return 
(See Section III&ndash;3.1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALOPERATION
</p>
<p>377
</p>
<p>Using machine operator&rsquo;s panel switches, pushbuttons, or the manual
handle, the tool can be moved along each axis.
</p>
<p>Tool
</p>
<p>Workpiece
</p>
<p>Machine operator&rsquo;s panel
</p>
<p>Manual
pulse 
generator
</p>
<p>Fig. 1.1 (b)  The tool movement by manual operation
</p>
<p>The tool can be moved in the following ways:
</p>
<p>(i) Jog feed (See Section III&ndash;3.2)
The tool moves continuously while a pushbutton remains pressed.
</p>
<p>(ii) Incremental feed (See Section III&ndash;3.3)
The tool moves by the predetermined distance each time a button is
pressed.
</p>
<p>(iii) Manual handle feed (See Section III&ndash;3.4)
By rotating the manual handle,the tool moves by the distance
corresponding to the degree of handle rotation.
</p>
<p>ï¿½ The tool movement by
manual operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/081. GENERAL
</p>
<p>378
</p>
<p>Automatic operation is to operate the machine according to the created
program.  It includes memory, DNC, and MDI operations. 
(See Section III&ndash;4).
</p>
<p>Program
</p>
<p>Tool
</p>
<p>01000 ;
M_S_T ;
G92_X_ ;
G00... ;
G01...... ;
</p>
<p>.
</p>
<p>.
</p>
<p>.
</p>
<p>.
</p>
<p>Fig. 1.2 (a)  Tool Movement by Programming
</p>
<p>After the program is once registered in memory of CNC, the machine can
be run according to the program instructions.  This operation is called
memory operation.
</p>
<p> CNC Machine
</p>
<p>Memory
</p>
<p>Fig. 1.2 (b)  Tool Movement by Programming
</p>
<p>In this mode of operation, the program is not registered in the CNC
memory.  It is read from the connected I/O unit instead.  This mode is
useful when the program is too large to fit the CNC memory.  It can also
be used for high&ndash;speed machining by means of a remote buffer.
</p>
<p>1.2
TOOL MOVEMENT
BY PROGRAMMING&ndash;
AUTOMATIC
OPERATION
</p>
<p>Explanations
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½
ï¿½ ï¿½	ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ DNC operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALOPERATION
</p>
<p>379
</p>
<p>After the program is entered, as an command group, from the MDI
keyboard, the machine can be run according to the program.  This
operation is called MDI operation.
</p>
<p>MDI keyboardCNC
</p>
<p>Manual program 
input
</p>
<p>Machine
</p>
<p>Fig. 1.2 (c)  MDI operation
</p>
<p>ï¿½ MDI  operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/081. GENERAL
</p>
<p>380
</p>
<p>Select the program used for the workpiece.  Ordinarily, one program is
prepared for one workpiece.  If two or more programs are in memory,
select the program to be used, by searching the program number (Section
III&ndash;9.3).
</p>
<p>G92
</p>
<p>O1001 Program number
</p>
<p>M30
</p>
<p>G92
</p>
<p>O1002
G92
</p>
<p>M30
</p>
<p>Program number
Program number
search
</p>
<p>Automatic
operation
</p>
<p>O1003
&ndash;&ndash;&ndash;&ndash;&ndash;&ndash;
</p>
<p>M30
</p>
<p>&ndash;&ndash;&ndash;&ndash;&ndash;&ndash;
</p>
<p>&ndash;&ndash;&ndash;&ndash;&ndash;&ndash;
</p>
<p>Work&ndash;1 program
</p>
<p>Work&ndash;2 program
</p>
<p>Program number
</p>
<p>Work&ndash;3 program
</p>
<p>In memory or on a tape
</p>
<p>Fig. 1.3 (a)  Program selection for automatic operation
</p>
<p>Pressing the cycle start pushbutton causes automatic operation to start.
By pressing the feed hold or reset pushbutton, automatic operation pauses
or stops.  By specifying the program stop or program termination
command in the program, the running will stop during automatic
operation.  When one process machining is completed, automatic
operation stops.
</p>
<p>Cycle start
</p>
<p>Feed hold 
Reset
</p>
<p>Program stop
Program end
</p>
<p>Stop caused
by program
</p>
<p>Start
</p>
<p>Stop
Automatic operation
</p>
<p>Fig. 1.3 (b)  Start and stop for automatic operation
</p>
<p>1.3
AUTOMATIC
OPERATION
</p>
<p>Explanations
</p>
<p>ï¿½ Program selection
</p>
<p>ï¿½ Start and stop 
(See Section III&ndash;4)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALOPERATION
</p>
<p>381
</p>
<p>While automatic operation is being executed, tool movement can overlap
automatic operation by rotating the manual handle.
</p>
<p>Z
</p>
<p>X
</p>
<p>Programmed 
depth of cut
</p>
<p>Depth of cut by 
handle interruption
</p>
<p>Tool position after
handle interruption
</p>
<p>Tool position during 
automatic operation
</p>
<p>Fig. 1.3 (c)  Handle interruption for automatic operation
</p>
<p>ï¿½ Handle interruption 
(See Section III&ndash;4.7)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/081. GENERAL
</p>
<p>382
</p>
<p>Before machining is started, the automatic running check can be
executed.  It checks whether the created program can operate the machine
as desired.  This check can be accomplished by running the machine
actually or viewing the position display change (without running the
machine) (See Section III&ndash;5).
</p>
<p>Remove the workpiece, check only movement of the tool.  Select the tool
movement rate using the dial on the operator&rsquo;s panel.
</p>
<p>Tool
</p>
<p>Table
</p>
<p>Fig. 1.4.1 (a)  Dry run
</p>
<p>Check the program by changing the feed rate specified by the program.
</p>
<p>Tool
</p>
<p>Feed rate specified by program :
100 mm/min.
</p>
<p>Feed rate after feed rate override :
20 mm/min.
</p>
<p>Workpiece
</p>
<p>Fig. 1.4.1 (b)  Feedrate override
</p>
<p>1.4
TESTING A
PROGRAM
</p>
<p>1.4.1
Check by Running the
Machine
</p>
<p>Explanations
</p>
<p>ï¿½ Dry run 
(See Section III&ndash;5.4)
</p>
<p>ï¿½ Feedrate override 
(See Section III&ndash;5.2)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALOPERATION
</p>
<p>383
</p>
<p>When the cycle start pushbutton is pressed, the tool executes one
operation then stops.  By pressing the cycle start again, the tool executes
the next operation then stops.  The program is checked in this manner.
</p>
<p>Cycle start
</p>
<p>Cycle start
</p>
<p>Cycle start
</p>
<p>Cycle start
</p>
<p>StopStop
</p>
<p>Stop
</p>
<p>Tool
</p>
<p>Workpiece
</p>
<p>Fig. 1.4.1 (c)  Single block
</p>
<p>Tool
</p>
<p>CRT/MDI
</p>
<p>X
Y
Z
</p>
<p>The tool remains stopped, and only the
positional displays of the axes change.
</p>
<p>Workpiece
</p>
<p>Fig. 1.4.2  Machine lock
</p>
<p>When automatic running is placed into the auxiliary function lock mode
during the machine lock mode, all auxiliary functions (spindle rotation,
tool replacement, coolant on/off, etc.) are disabled.
</p>
<p>ï¿½ Single block 
(See Section III&ndash;5.5)
</p>
<p>1.4.2
How to View the
Position Display
Change without
Running the Machine
</p>
<p>Explanations
</p>
<p>ï¿½ Machine lock 
(See Sections III&ndash;5.1)
</p>
<p>ï¿½ Auxiliary function lock
(See Section III&ndash;5.1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/081. GENERAL
</p>
<p>384
</p>
<p>After a created program is once registered in memory, it can be corrected
or modified from the CRT/MDI panel  (See Section III&ndash;9).
This operation can be executed using the part program storage/edit
function.
</p>
<p>Program registration
</p>
<p>CRT/MDI
</p>
<p> CNC  CNC
</p>
<p>Program correction or modification
</p>
<p>Tape reader
</p>
<p>CNC tape (program)
</p>
<p>Fig. 1.5  Part program editing
</p>
<p>1.5
EDITING A PART
PROGRAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALOPERATION
</p>
<p>385
</p>
<p>The operator can display or change a value stored in CNC internal
memory by key operation on the CRT/MDI screen (See III&ndash;11).
</p>
<p>Data setting
</p>
<p>CRT/MDI
</p>
<p>Data display
</p>
<p>Screen Keys
</p>
<p>CNC memory
</p>
<p>Fig. 1.6 (a)  Displaying and setting data
</p>
<p>Tool compensation
number1      12.3 25.0
Tool compensation
number2      20.0 40.0
Tool compensation
number3      &sdot;&sdot;&sdot; &sdot;&sdot;&sdot;
&sdot;&sdot;&sdot;&sdot;&sdot;&sdot;&sdot;&sdot;&sdot;&sdot;&sdot;&sdot; &sdot;&sdot;&sdot; &sdot;&sdot;&sdot;
</p>
<p>Setting
</p>
<p>Display
</p>
<p>CNC memory
</p>
<p>Screen Keys
</p>
<p>CRT/MDI
</p>
<p>Geometry 
compensation
</p>
<p>Wear com-
pensation
</p>
<p>Fig. 1.6 (b)  Displaying and setting offset values
</p>
<p>The tool has the tool dimension (length, diameter).  When a workpiece is
machined, the tool movement value depends on the tool dimensions.
By setting tool dimension data in CNC memory beforehand,
automatically generates tool routes that permit any tool to cut the
workpiece specified by the program.  Tool dimension data is called the
offset value  (See Section III&ndash;11.4.1).
</p>
<p>1.6
DISPLAYING AND
SETTING DATA
</p>
<p>Explanations
</p>
<p>ï¿½ Offset value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/081. GENERAL
</p>
<p>386
</p>
<p>Machined
shape
</p>
<p>1st tool path
</p>
<p>2nd tool path
</p>
<p>Offset value of the 1st tool
</p>
<p>Offset value of the 2nd tool
</p>
<p>Fig. 1.6 (c)  Offset value
</p>
<p>Apart from parameters, there is data that is set by the operator in
operation.  This data causes machine characteristics to change.
For example, the following data can be set:
&sdot; Inch/Metric switching
&sdot; Selection of I/O devices
&sdot; Mirror image cutting on/off
The above data is called setting data  (See Section III&ndash;11.5.3).
</p>
<p>&sdot;
&sdot;
&sdot;
</p>
<p>Setting
</p>
<p>DisplayingScreen  Keys
</p>
<p>Setting data
</p>
<p>&sdot;Inch/Metric switching
&sdot;Selection of I/O device
&sdot;Mirror image ON/OFF setting
</p>
<p>CNC Memory
</p>
<p>Program Automatic
operation
</p>
<p>Operational
characteristics
</p>
<p>Movement of 
the machine
</p>
<p>Fig. 1.6 (d)  Displaying and setting operator&rsquo;s setting data
</p>
<p>ï¿½ Displaying and setting
operator&rsquo;s setting data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALOPERATION
</p>
<p>387
</p>
<p>The CNC functions have versatility in order to take action in
characteristics of various machines.
For example, CNC can specify the following:
&sdot; Rapid traverse rate of each axis
&sdot; Whether increment system is based on metric system or inch system.
&sdot; How to set command multiply/detect multiply (CMR/DMR)
Data to make the above specification is called parameters  (See Section
III&ndash;11.5.1). 
Parameters differ depending on machine tool.
</p>
<p>CRT/MDI
</p>
<p>CNC memory
</p>
<p>Parameter
Rapid traverse rate
Position control
Reference position return
Backlash compensation data
Pitch error compensation
data &sdot;
</p>
<p>&sdot;
&sdot;
</p>
<p>Program
</p>
<p>Operational 
characteristics
</p>
<p>Setting
</p>
<p>DisplayScreen    Keys
</p>
<p>Automatic
operation
</p>
<p>Movement
of the 
machine
</p>
<p>Fig. 1.6 (e)  Displaying and setting parameters
</p>
<p>A key called the data protection key can be defined.  It is used to prevent
part programs from being registered, modified, or deleted erroneously
(See Section III&ndash;11).
</p>
<p>Program
</p>
<p>CNC memory
</p>
<p>Screen Keys
</p>
<p>CRT/MDI
Protection Key
</p>
<p>Registration / modification inhibition
</p>
<p>Program edition
</p>
<p>Fig. 1.6 (f)  Data protection key
</p>
<p>ï¿½ Displaying and setting
parameters
</p>
<p>ï¿½ Data protection key
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/081. GENERAL
</p>
<p>388
</p>
<p>The contents of the currently active program are displayed.  In addition,
the programs scheduled next and the program list are displayed.
</p>
<p>PROGRAM O1100 N0005
N1  G90 G17 G00 G41 D07 X250.0 Y550.0 ;
N2  G01 Y900.0 F150 ;
N3  X450.0 ;
N4  G03 X500.0 Y1150.0 R650.0 ;
N5  G02 X900.0 R&ndash;250.0 ;
N6  G03 X950.0 Y900.0 R650.0 ;
N7  G01 X1150.0 ;
N8  Y550.0 ;
N9  X700.0 Y650.0 ;
N10 X250.0 Y550.0 ;
N11 G00 G40 X0 Y0 ;
</p>
<p>[ PRGRM ] [CURRNT] [ NEXT ] [ CHECK ]
</p>
<p>Active program number
Active sequence number
</p>
<p>Program
content
</p>
<p>The cursor indicates the currently executed location
Currently executed program
</p>
<p>PROGRAM O1100 N0003
</p>
<p>SYSTEM EDITION 0466 &ndash; 24
PROGRAM NO. USED :  14 FREE :   53
MEMORY AREA USED : 960 FREE : 5280
</p>
<p>PROGRAM LIBRARY LIST
O0001 O0002 O0010 O0020 O0040 O0050
O0100 O0200 O1000 O1100
</p>
<p>[ PROGRAM ][ CONDNS ][      ][      ][      ]
</p>
<p>1.7
DISPLAY
</p>
<p>1.7.1
Program Display 
(See Subsections
III&ndash;11.2.1 and III&ndash;11.3.1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALOPERATION
</p>
<p>389
</p>
<p>The current position of the tool is displayed with the coordinate values.
The distance from the current position to the target position can also be
displayed.
</p>
<p>Y
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>Workpiece coordinate system
</p>
<p>ACTUAL POSITION (ABSOLUTE) O0003 N0003
</p>
<p>[  ABS  ][  REL  ][  ALL  ][ HNDL  ][       ]
</p>
<p>X 150.000
Y 300.000
Z 100.000
</p>
<p>When a trouble occurs during operation, error code and alarm message are
displayed on CRT screen. See APPENDIX G for the list of error codes and
their meanings.
</p>
<p>ALARM MESSAGE O1000 N0003
</p>
<p>010 P/S ALARM
</p>
<p>S 0T
</p>
<p>09:52:24 ALARM
</p>
<p>[ ALARM ][  OPR  ][  MSG  ][       ][       ]
</p>
<p>1.7.2
Current Position
Display (See Section
III&ndash;11.1.1 to 11.1.3)
</p>
<p>1.7.3
Alarm Display 
(See Section III&ndash;7.1)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/081. GENERAL
</p>
<p>390
</p>
<p>When an option is selected, two types of run time and number of parts are
displayed on the screen.
</p>
<p>ACTUAL POSITION (ABSOLUTE) O0003 N0003
</p>
<p>      PART COUNT        1
RUN TIME 0H 0M CYCLE TIME 0H 0M44S
ACT.F 3000 MM/M S 0 T
01:35:22         BUF AUTO
</p>
<p>[  ABS  ][  REL  ][  ALL  ][ HNDL  ][       ]
</p>
<p>X 150.000
Y 300.000
Z 100.000
</p>
<p>Programmed tool movement can be displayed on the following planes:
1) XY plane
2) YZ plane
3) XZ plane
4) Three dimensional display
</p>
<p>Z
</p>
<p>X
</p>
<p>Z
</p>
<p>Z
</p>
<p>X Y
</p>
<p>Y
</p>
<p>Y
</p>
<p>X
</p>
<p>Three dimensional display (isometric)
</p>
<p>Display on the XY plane Display on the YZ plane
</p>
<p>Display on the XZ plane
</p>
<p>ï¿½ ï¿½
</p>
<p>ï¿½ ï¿½
</p>
<p>Fig . 1.7.5  Graphic display
</p>
<p>1.7.4
Parts Count Display,
Run Time Display 
(See Section III&ndash;11.1.5)
</p>
<p>1.7.5
Graphic Display 
(See Section III&ndash;12)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. GENERALOPERATION
</p>
<p>391
</p>
<p>Programs, offset values, parameters, etc.  input in CNC memory can be
output to paper tape, cassette, or a floppy disk for saving.  After once
output to a medium, the data can be input into CNC memory.
</p>
<p>Memory
</p>
<p>Program
</p>
<p>Offset
</p>
<p>Parameters
</p>
<p>Reader/puncher
interface
</p>
<p>Portable tape reader
</p>
<p>CNC
Automatic programming system
</p>
<p>Floppy disk
</p>
<p>FANUC Floppy
cassette adaptor
</p>
<p>FANUC cassette
</p>
<p>SYSTEM  P
</p>
<p>FANUC PPR
</p>
<p>Paper tape
</p>
<p>.
</p>
<p>.
</p>
<p>.
</p>
<p>Fig. 1.8  Data output
</p>
<p>1.8
DATA OUTPUT 
(SEE CHAPTER III&ndash;8)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/082. OPERATIONAL DEVICES
</p>
<p>392
</p>
<p>2 OPERATIONAL DEVICES
The peripheral devices available include the CRT/MDI panel attached to
the CNC, machine operator&rsquo;s panel and external input/output devices
such as tape reader, PPR, floppy cassette, and FA card.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 2. OPERATIONAL DEVICESOPERATION
</p>
<p>393
</p>
<p>Figs. 2.1 (a) to 2.1 (e) show the CRT/MDI and LCD/MDI panels.
</p>
<p>9&Prime; small monochrome or color CRT/MDI panel (with softkey)
Fig.2.1(a). . . . . . . . . . . . . . . 
</p>
<p>9&Prime; monochrome or color CRT/MDI panel (without softkey)
Fig.2.1(b). . . . . . . . . . . . . . . 
</p>
<p>9&Prime; monochrome or color CRT/MDI panel (with full key)
Fig.2.1(c). . . . . . . . . . . . . . . 
</p>
<p>Thin type display/MDI pane Fig.2.1(d). . . . . . . . . . . . . . . 
14&Prime; color CRT/MDI panel Fig.2.1(e). . . . . . . . . . . . . . . 
</p>
<p>CRT (9&Prime; amber) Reset key Data input key
</p>
<p>Program edit key
</p>
<p>Input key
</p>
<p>Start/output keyFunction key
</p>
<p>Cursor move key
</p>
<p>Page 
change key
</p>
<p>Fig. 2.1 (a)  9 &Prime; small monochrome or color CRT/MDI (with softkey)
</p>
<p>CRT (9&Prime; amber) Reset key Data input key
</p>
<p>Function key
</p>
<p>Cursor move key
</p>
<p>Page 
change key
</p>
<p>Program edit key
</p>
<p>Start/output key
</p>
<p>Input key
</p>
<p>Fig. 2.1 (b)  9 &Prime; monochrome or color CRT/MDI panel (without softkey)
</p>
<p>2.1
CRT/MDI PANELS
AND LCD/MDI
PANELS
</p>
<p>External view
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/082. OPERATIONAL DEVICES
</p>
<p>394
</p>
<p>Reset key Data input key
</p>
<p>Program edit key
</p>
<p>Input key
</p>
<p>Function key
Cursor move key
Page change key Start/output key
</p>
<p>Fig. 2.1 (c)  9 &Prime; monochrome or color CRT/MDI panel (with full key)
</p>
<p>6&ndash;Ï4
</p>
<p>130
</p>
<p>20
0
</p>
<p>19
0
</p>
<p>5
</p>
<p>5
5 5130 130
</p>
<p>400
</p>
<p>Fig. 2.1 (d)  Thin type display/MDI panel
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 2. OPERATIONAL DEVICESOPERATION
</p>
<p>395
</p>
<p>10&ndash;Ï4.8 520
</p>
<p>168 170 168
</p>
<p>37
0
</p>
<p>17
8
</p>
<p>17
8
</p>
<p>7
7
</p>
<p>7
7
</p>
<p>Fig. 2.1 (e)  14 &Prime; color CRT/MDI panel
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/082. OPERATIONAL DEVICES
</p>
<p>396
</p>
<p>8&ndash;Ï4
</p>
<p>400
</p>
<p>20
0
</p>
<p>130 130 130 5
</p>
<p>5
5
</p>
<p>19
0
</p>
<p>5
</p>
<p>Fig. 2.1 (f)  9 &Prime; small monochrome/or color CRT/MDI panel (with soft key)
</p>
<p>Table 2.1  Explanation of the MDI keyboard
</p>
<p>Number Name Explanation
</p>
<p>1 Power ON and OFF but-
tons
</p>
<p>O OFF I ON
</p>
<p>Press theses buttons to turn CNC power ON and OFF.
</p>
<p>2 RESET key
</p>
<p>RESET
</p>
<p>Press this key to reset the CNC, to cancel an alarm, etc.
</p>
<p>3 START key
</p>
<p>OUTPT-
START
</p>
<p>This key is used to start MDI operation or automatic operation, depending on the ma-
chine.  Refer to the manual provided by the machine tool builder.  This key is also
used to output data to an input/output unit.
</p>
<p>4 Soft keys (option) The soft keys have various functions, according to the Applications.  The soft key
functions are displayed at the bottom of the CRT screen.
</p>
<p>5 Address and numeric keys
</p>
<p>(N 4
&hellip;
</p>
<p>Press these keys to input alphabetic, numeric, and other characters.
</p>
<p>6 SHIFT key
</p>
<p>SHIFT
</p>
<p>Some keys have two characters on their keytop.  Pressing the &lt;SHIFT&gt; key
switches the characters.  Special character Î is displayed on the screen when a
character indicated at the bottom right corner on the keytop can be entered.
(The standard MDI key panel does not have this key.)
</p>
<p>7 INPUT key
</p>
<p>INPUT
</p>
<p>When an address or a numerical key is pressed, the data is input to the buffer, and
it is displayed on the CRT screen.  To copy the data in the key input buffer to the offset
register, etc., press the &lt;INPUT&gt; key.
This key is also used to input data from an input/output unit.
</p>
<p>Explanation of the
keyboard
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 2. OPERATIONAL DEVICESOPERATION
</p>
<p>397
</p>
<p>Table 2.1  Explanation of the MDI keyboard
</p>
<p>Number ExplanationName
</p>
<p>8 Cancel key
</p>
<p>CAN
</p>
<p>Press this key to delete the last character or symbol input to the key input buffer.
</p>
<p>9 Program edit keys
</p>
<p>ALTER INSRT DELET
</p>
<p>Press these keys when editing the program.
</p>
<p>:  Alteration
</p>
<p>:  Insertion
</p>
<p>:  Deletion
</p>
<p>ALTER
</p>
<p>DELET
</p>
<p>INSRT
</p>
<p>10 Function keys
</p>
<p>&hellip;POS PRGRM
</p>
<p>Press theses keys to switch display screens for each function.
See sec. 2.2 for detailas of the function keys.
</p>
<p>11 Cursor move keys
</p>
<p>CURSOR
</p>
<p>There are two different cursor move keys.
</p>
<p>: This key is used to move the cursor in a downward or forward 
direction.  The cursor is moved in small units in the forward direction.
</p>
<p>: This key is used to move the cursor in an upward or reverse direction. 
The cursor is moved in small units in the reverse direction.
</p>
<p>12 Page change keys
PAGE
</p>
<p>Two kinds of page change keys are described below.
</p>
<p>: This key is used to changeover the page on the CRT screen in the 
forward direction.
</p>
<p>: This key is used to changeover the page on the CRT screen in the
reverse direction.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/082. OPERATIONAL DEVICES
</p>
<p>398
</p>
<p>1 Press a function key on the CRT/MDI panel.  The chapter selection
soft keys that belong to the selected function appear.
</p>
<p>2 Press one of the soft keys.  The screen for the selected chapter appears.
If the soft key for a target chapter is not displayed, press the
continuous menu key (next&ndash;menu key).
In some cases, additional chapters can be selected within a chapter.
</p>
<p>3 To redisplay the previous soft keys, press the return menu key.
</p>
<p>The general screen display procedure is explained above.  However, the
actual display procedure varies from one screen to another.  For details,
see the description of individual operations.
</p>
<p>If the soft keys are not provided, press a key having the equivalent
function to select the desired chapter.
The functions of the soft keys are automatically displayed, depending on
the configuration.  The functions are displayed, irrespective of the
function configuration, if bit 7 of parameter 048 is specified accordingly.
</p>
<p>2.2
FUNCTION KEYS
AND SOFT KEYS
</p>
<p>2.2.1
General Screen
Operations
</p>
<p>Function keys
</p>
<p>Chapter selection soft keys
Operation selection key
</p>
<p>Return menu key Continuous menu key
</p>
<p>MENU
</p>
<p>OFSET
PRGRMPOS
</p>
<p>DGNOS
</p>
<p>PARAM
</p>
<p>OPR
</p>
<p>ALARM
</p>
<p>AUX
</p>
<p>GRAPH
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 2. OPERATIONAL DEVICESOPERATION
</p>
<p>399
</p>
<p>Function keys are provided to select the type of screen to be displayed.
The following function keys are provided on the CRT/MDI panel:
</p>
<p>Press this key to display the position screen .
</p>
<p>Press this key to display the program screen .
</p>
<p>Press this key to display the offset screen .
</p>
<p>Press this key to display the parameter/diagnosis screen .
</p>
<p>Press this key to display the alarm screen.
</p>
<p>Press this key to display the graphics screen .
</p>
<p>2.2.2
Function Keys
</p>
<p>POS
</p>
<p>PRGRM
</p>
<p>MENU
</p>
<p>OFSET
</p>
<p>DGNOS
</p>
<p>PARAM
</p>
<p>OPR
</p>
<p>ALARM
</p>
<p>AUX
</p>
<p>GRAPH
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/082. OPERATIONAL DEVICES
</p>
<p>400
</p>
<p>When an address and a numerical key are pressed, the character
corresponding to that key is input once into the key input buffer.  The
contents of the key input buffer is displayed at the bottom of the CRT
screen.   
The key input buffer begins with &ldquo;ADDRESS&rdquo;.  When an address is input,
the key input buffer begins with &ldquo;NUMERIC&rdquo;.
</p>
<p>Key input buffer display
</p>
<p>   [ ]   [ ]   [ ]   [ ]   [ ]
</p>
<p>Key input buffer display af-
ter address input
</p>
<p>   [ ]   [ ]   [ ]   [ ]   [ ]
</p>
<p>Address
</p>
<p>Numeric
</p>
<p>Fig. 2.2.3 (a)  Key input buffer display
</p>
<p>On the standard key panel, the same key is used to input both an address
and a numeric value.  
When the key input buffer begins with &ldquo;ADDRESS&rdquo;, pressing that key
inputs the address.  When the key input buffer begins &ldquo;NUMERIC&rdquo;,
pressing that key inputs the numeric value.
</p>
<p>[       ]
</p>
<p>[       ]
</p>
<p>4
X
</p>
<p>[       ]
</p>
<p>[       ]
</p>
<p>4
X
</p>
<p>Address
</p>
<p>Numeric   X
</p>
<p>Numeric   X
</p>
<p>Numeric   X  4
</p>
<p>Press key Press key
</p>
<p>2.2.3
Key Input and Input
Buffer
</p>
<p>Explanations
</p>
<p>ï¿½ For standard key
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 2. OPERATIONAL DEVICESOPERATION
</p>
<p>401
</p>
<p>Data of one word (address + numeric value) can be entered into the key
input buffer at one time.  The following data input keys are used to input
addresses.  Each time the key is pressed, the input address changes as
shown below:
</p>
<p>4th
B D B 4th
</p>
<p>K
J
I I J K
</p>
<p>L
P
Q P Q L
</p>
<p>NO.
</p>
<p>D 4th is the address of the 
fourth axis.  If an additional 
axis is not provided, 
either D or B is input.
</p>
<p>(C)*
</p>
<p>* If the optional&ndash;angle chamfering/
corner rounding function is provided,
the address C can be entered using 
</p>
<p>the  key.4th
B
</p>
<p>D
</p>
<p>Pressing the CAN  key deletes all the data input to the key input buffer.
</p>
<p>When bit 7 of parameter 0394 is set to 1, each press of the CAN  key deletes
</p>
<p>only the most recently entered character during data input using the
parameter, diagnostic, or offset screen.
</p>
<p>When an address and a numerical key are pressed, the character
corresponding to that key is input once into the key input buffer.  The
contents of the key input buffer is displayed at the bottom of the CRT
screen.   
A &ldquo; &lt;&rdquo; is displayed at the end of the key input data indicating the input
position of the next character.
</p>
<p>Key input buffer display
</p>
<p>   [ ]   [ ]   [ ]   [ ]   [ ]
</p>
<p>  N001X100Z&lt;
</p>
<p>Fig. 2.2.3 (b)  Key input buffer display
</p>
<p>ï¿½ For full key
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/082. OPERATIONAL DEVICES
</p>
<p>402
</p>
<p>To input the lower character of the keys that have two characters inscribed
</p>
<p>on them, first press theSHIFT key and then the key in question.
</p>
<p>When the SHIFT key is pressed, &ldquo;&lt;&rdquo; indicating the next character input
position changes to &ldquo;Î&rdquo;.  Now lowercase characters can be entered (shift
state).
When a character is input in shift status the shift status is canceled.
</p>
<p>Furthermore, if theSHIFT key is pressed in shift status, the shift status is
</p>
<p>canceled.
It is possible to input up to 32 characters at a time in the key input buffer.
</p>
<p>Press theCAN key to cancel the last character or symbol input in the key
</p>
<p>input buffer.
</p>
<p>(Example)
   When the key input buffer displays
   N001X100Z&lt;
   and the cancel key is pressed, Z is canceled and
   N001X100&lt;
   is displayed.
</p>
<p>There are 12 soft keys in the 14&Prime; CRT/MDI panel.  As illustrated below,
the 5 soft keys on the right and those on the right and left edges operate
in the same way as the 9&Prime; CRT, whereas the 5 keys on the left hand side
are expansion keys dedicated to the 14&Prime; CRT.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>9&Prime; CRT soft key
</p>
<p>14&Prime; CRT dedicated expansion soft keys
</p>
<p>14&Prime; CRT soft key
</p>
<p>Fig. 2.2.4  CRT and LCD soft key configuration
</p>
<p>Whenever a position display appears in the left half of the screen after a
</p>
<p>function key other than POS  is pressed, the soft keys on the left half of
</p>
<p>the soft key display area are displayed as follows:
</p>
<p>ABS REL ALL HNDL
</p>
<p>2.2.4
14&Prime; CRT Soft Key
Configuration
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 2. OPERATIONAL DEVICESOPERATION
</p>
<p>403
</p>
<p>Five types of external input/output devices are available.  This section
outlines each device.  For details on these devices, refer to the
corresponding manuals listed below.
</p>
<p>Table 2.3  External I/O device
</p>
<p>Device name Usage Max.
storage
capacit
</p>
<p>Reference
manual
</p>
<p>FANUC Handy File Easy&ndash;to&ndash;use, multi function
input/output device.  It is de-
signed for FA equipment and
uses floppy disks.
</p>
<p>3600m B&ndash;61834E
</p>
<p>FANUC Floppy Cas-
sette
</p>
<p>Input/output device. Uses
floppy disks.
</p>
<p>2500m B&ndash;66040E
</p>
<p>FANUC FA Card Compact input/output de-
vice.  Uses FA cards.
</p>
<p>160m B&ndash;61274E
</p>
<p>FANUC PPR Input/output device consist-
ing of a paper tape reader,
tape punch, and printer.
</p>
<p>275m B&ndash;58584E
</p>
<p>Portable Tape Reader Input device for reading pa-
per tape.
</p>
<p>   Appendix H
</p>
<p>The following data can be input/output to or from external input/output
devices:
1.  Programs
2.  Offset data
3.  Parameters
4.  Custom macro common variables
For how data is input and output, see Chapter 8.
</p>
<p>2.3
EXTERNAL I/O
DEVICES
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/082. OPERATIONAL DEVICES
</p>
<p>404
</p>
<p>Before an external input/output device can be used, parameters must be
set as follows.
</p>
<p>Series 0
</p>
<p>MEMORY CARD
</p>
<p>Channel 1 Channel 2 Channel 3
</p>
<p>M5 M74
</p>
<p>RS&ndash;422RS&ndash;232&ndash;CRS&ndash;232&ndash;C
</p>
<p>M77
</p>
<p>RS&ndash;232&ndash;C
</p>
<p>Reader/
puncher
</p>
<p>Host 
computer
</p>
<p>Host 
computer
</p>
<p>Reader/
puncher
</p>
<p>I/O = 0
or
I/O = 1
</p>
<p>I/O = 2 I/O = 3 I/O = 3
</p>
<p>REMOTE BUFFER
</p>
<p>Series 0 has three channels of reader/punch interfaces.  The input/output
device to be used is specified by setting the channel connected to that
device in setting parameter I/O.
The specified data, such as a baud rate and the number of stop bits, of an
input/output device connected to a specific channel must be set in
parameters for that channel in advance.
For channel 1, two combinations of parameters to specify the input/output
device data are provided.
The following shows the interrelation between the reader/punch interface
parameters for the channels.
</p>
<p>I/O
</p>
<p>Specify a channel for an 
input/output device.
</p>
<p>I/O
 = 0 : Channel 1
 = 1 : Channel 1
 = 2 : Channel 2
 = 3 : Channel 3
</p>
<p>I/O = 0
(channel 1)
</p>
<p>002 Stop bit and other data
</p>
<p>038 #6,#7
Number specified for the 
input/output device
</p>
<p>552 Baud rate
</p>
<p>I/O = 1
(channel1 )
</p>
<p>012 Stop bit and other data
</p>
<p>038 #6,#7 Number specified for the input/output device
</p>
<p>553 Baud rate
</p>
<p>I/O = 2
(channel 2)
</p>
<p>050
</p>
<p>038 #4,#5
</p>
<p>250
</p>
<p>I/O = 3
(channel 3)
</p>
<p>051
</p>
<p>038 #1,#2
</p>
<p>251
</p>
<p>055#2 Selection of protocol
</p>
<p>055 #3 Selection of RS&ndash;422 or
RS&ndash;232C, and other data
</p>
<p>Parameter Number
</p>
<p>Stop bit and other data
</p>
<p>Number specified for the 
input/output device
</p>
<p>Baud rate
</p>
<p>Stop bit and other data
</p>
<p>Number specified for the 
input/output device
</p>
<p>Baud rate
</p>
<p>SETTING
</p>
<p>Parameter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 2. OPERATIONAL DEVICESOPERATION
</p>
<p>405
</p>
<p>The Handy File is an easy&ndash;to&ndash;use, multi function floppy disk
input/output device designed for FA equipment.  By operating the Handy
File directly or remotely from a unit connected to the Handy File,
programs can be transferred and edited.
The Handy File uses 3.5&ndash;inch floppy disks, which do not have the
problems of paper tape (i.e., noisy during input/output, easily broken, and
bulky).
One or more programs (up to 1.44M bytes, which is equivalent to the
memory capacity of 3600&ndash;m paper tape) can be stored on one floppy disk.
</p>
<p>RS&ndash;232&ndash;C or
RS&ndash;422 Interface
(Punch panel, etc.)
</p>
<p>Handy File
</p>
<p>RS&ndash;232&ndash;C
Interface
</p>
<p>RS&ndash;422
Interface
</p>
<p>FANUC
</p>
<p>When the Floppy Cassette is connected to the NC, machining programs
stored in the NC can be saved on a Floppy Cassette, and machining
programs saved in the Floppy Cassette can be transferred to the NC.
</p>
<p>RS&ndash;232&ndash;C Interface
(Punch panel, etc.)
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>FANUC
</p>
<p>ON OFF
</p>
<p>POWER
</p>
<p>2.3.1
FANUC Handy File
</p>
<p>2.3.2
FANUC Floppy
Cassette
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/082. OPERATIONAL DEVICES
</p>
<p>406
</p>
<p>An FA Card is a memory card used as an input medium in the FA field.
It is compact, but has a large memory capacity with high reliability, and
requires no special maintenance.
When an FA Card is connected to the CNC via the card adapter, NC
machining programs stored in the CNC can be transferred to and saved
in an FA Card.  Machining programs stored on an FA Card can also be
transferred to the CNC.
</p>
<p>RS&ndash;232&ndash;C Interface
(Punch panel, etc.)
</p>
<p>READY
</p>
<p>EJECT
</p>
<p>READ
</p>
<p>WRITE
</p>
<p>ALARM
</p>
<p>RESET
</p>
<p>FANUC
</p>
<p>The FANUC PPR consists of three units:  A printer, paper tape punch, and
paper tape reader.
When the PPR is used alone, data can be read from the tape reader and
printed or punched out.  It is also possible to perform TH and TV checks
on data that was read.
</p>
<p>RS&ndash;232&ndash;C Interface
(Punch panel, etc.)
</p>
<p>2.3.3
FANUC FA Card
</p>
<p>2.3.4
FANUC PPR
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 2. OPERATIONAL DEVICESOPERATION
</p>
<p>407
</p>
<p>The portable tape reader is used to input data from paper tape.
</p>
<p>ï¿½
</p>
<p>+
</p>
<p>ï¿½
</p>
<p>+ +
</p>
<p>RS&ndash;232&ndash;C Interface
(Punch panel, etc.)
</p>
<p>2.3.5
Portable Tape Reader
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/082. OPERATIONAL DEVICES
</p>
<p>408
</p>
<p>Procedure of turning on the power
</p>
<p>1 Check that the appearance of the CNC machine tool is normal.  
(For example, check that front door and rear door are closed.)
</p>
<p>2 Turn on the power according to the  manual issued by the machine
tool builder.
</p>
<p>3 After the power is turned on, check that the position screen is
displayed.  If the software configuration screen is being displayed, a
system failure may have occurred.
</p>
<p>ACTUAL POSITION (ABSOLUTE) O0010 N0010
</p>
<p>      PART COUNT       16
RUN TIME 0H57M CYCLE TIME 0H 0M38S
ACT.F 3000 MM/M S 0 T
16:17:47         BUF AUTO
</p>
<p>[  ABS  ][  REL  ][  ALL  ][ HNDL  ][       ]
</p>
<p>X 123. 456
Y 363. 233
Z 0.000
</p>
<p>Position display (for 9 &Prime; CRT)
</p>
<p>4 Check that the fan motor is rotating.
</p>
<p>WARNING
When pressing the &lt;POWER ON&gt; key, do not touch any
other CRT/MDI or thin type display/MDI panel keys, until the
positional or alarm screen is displayed.  Some keys are
used for the maintenance or special operation purpose.
When they are pressed, unexpected operation may be
caused.
</p>
<p>2.4
POWER ON/OFF
</p>
<p>2.4.1
Turning on the Power
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 2. OPERATIONAL DEVICESOPERATION
</p>
<p>409
</p>
<p>O466&ndash;22 CNC control software
SERVO : 9030&ndash;16
</p>
<p>SUB : xxxx&ndash;xx
OMM : yyyy&ndash;yy
PMC : zzzz&ndash;zz
</p>
<p>Digital servo ROM
</p>
<p>Sub CPU (remote buffer)
Order&ndash;made macro/macro
compiler
PMC
</p>
<p>1 Check that the LED indicating the cycle start is off on the operator&rsquo;s
panel.
</p>
<p>2 Check that all movable parts of the CNC machine tool is stopping.
</p>
<p>3 If an external input/output device such as the Handy File is connected
to the CNC, turn off the external input/output device.
</p>
<p>4 Continue to press the POWER OFF pushbutton for about 5 seconds.
</p>
<p>NOTE
Refer to the machine tool builder&rsquo;s manual for turning off the
power to the machine.
</p>
<p>2.4.2
Display of Software
Configuration
</p>
<p>2.4.3
Power Disconnection
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/083. MANUAL OPERATION
</p>
<p>410
</p>
<p>3 ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½	ï¿½
ï¿½ï¿½ï¿½ï¿½ï¿½
MANUAL OPERATION are five kinds as follows :
</p>
<p>3.1 Manual reference position return
3.2 Jog feed
3.3 Incremental feed
3.4 Manual handle feed
3.5 Manual absolute on and off
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 3. MANUAL OPERATIONOPERATION
</p>
<p>411
</p>
<p>The tool is returned to the reference position as follows :
The tool is moved in the direction specified in parameter (bit 0 to #3 of
No. 003) for each axis with the reference position return switch on the
machine operator&rsquo;s panel. The tool moves to the deceleration point at the
rapid traverse rate, then moves to the reference position at the FL speed.
The rapid traverse rate and FL speed are specified in parameters (No. 518
to 521, 533, and 534).
Fourstep rapid traverse override is effective during rapid traverse.
When the tool has returned to the reference position, the reference
position return completion LED goes on. The tool generally moves along
only a single axis, but can move along three axes simultaneously when
specified so in parameter (bit 4 of No.049).
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>Rapid traverse rate
(rapid traverse override is
effective)
</p>
<p>Rapid traverse motion Decelerated
motion
FL speed
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>Reference
position
</p>
<p>Deceleration 
      point
</p>
<p>Procedure for Manual Reference Position Return
</p>
<p>1 Press the reference position return switch, one of the mode selection
swithces.
</p>
<p>2 To decerease the feedrate, press a rapid traverse override switch.
When the tool has returned to the reference position, the reference
position return completion LED goes on.
</p>
<p>3 Press the feed axis and direction selection switch corresponding to the
axis and direction for reference position return. Continue pressing the
switch until the tool returns to the reference position. The tool can be
moved along three axes simultaneously when specified so in an
appropriate parameter setting.  The tool moves to the deceleration
point at the rapid traverse rate, then moves to the reference position at
the FL speed set in a parameter.
</p>
<p>4 Perform the same operations for other axes, if necessary.
The above is an example. Refer to the appropriate manual provided by
the machine tool builder for the actual operations.
</p>
<p>ZERO 
POSITION
</p>
<p>X
</p>
<p>MIRRROR IMAGE
</p>
<p>Y Z C X Y Z
</p>
<p>PROGRAM
STOP
</p>
<p>M02/
 M30
</p>
<p>MANU
ABS
</p>
<p>SPINDLE
ORI TAP
</p>
<p>ATC
READY NC? MC?
</p>
<p>3.1
MANUAL
REFERENCE
POSITION RETURN
</p>
<p>REMOTE MDIMEMORYEDIT
</p>
<p> ZERO
RETURN
</p>
<p>TEACHJOGHANDLE
</p>
<p>MODE
</p>
<p>50 10025F0
</p>
<p>RAPID TRAVERSE
OVERRIDE (%)
</p>
<p>+C +Z +Y
</p>
<p>+X&ndash;X
</p>
<p>&ndash;C&ndash;Y &ndash;Z
</p>
<p>RAPID
</p>
<p>AXIS DIRECTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/083. MANUAL OPERATION
</p>
<p>412
</p>
<p>If the parameter for automatic coordinate system setting (bit 7 of
parameter 010) is specified, the coordinate system is determined
automatically when a manual reference position return is made.  If Î±, Î²,
Î³, and Î´are specified in parameters 708 to 711, the system specifies a
workpiece coordinate system such that the tip of the basic tool or a
reference position on the tool holder, after reference position return,
becomes X =Î±, Y = Î², Z =Î³, and 4th =Î´.
</p>
<p>Once the REFERENCE POSITION RETURN COMPLETION LED
lights at the completion of reference position return, the tool does not
move unless the REFERENCE POSITION RETURN switch is turned
off.
</p>
<p>The REFERENCE POSITION RETURN COMPLETION LED is
extinguished by either of the following operations:
&ndash;  Moving from the reference position. 
&ndash;  Entering an emergency stop state.
</p>
<p>For the distance (Not in the deceleration condition) to return the tool to
the reference position, refer to the manual issued by the machine tool
builder.
</p>
<p>Explanations
</p>
<p>ï¿½ Automatic coordinate
system setting
</p>
<p>Restrictions
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½&#13; ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ ï¿½&#13;ï¿½ï¿½ï¿½
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ 
ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 3. MANUAL OPERATIONOPERATION
</p>
<p>413
</p>
<p>In the jog mode, pressing a feed axis and direction selection switch on the
machine operator&rsquo;s panel continuously moves the tool along the selected
axis in the selected direction.
The jog feedrate is specified in Table 3.2.
</p>
<p>Table 3.2  Jog Feedrate
</p>
<p>Rotary
switch
</p>
<p>Feedrate Rotary
switch
</p>
<p>Feedrate
switch
</p>
<p>position  Metric input
(mm/min)
</p>
<p>Inch input
(inch/min)
</p>
<p>switch
position  Metric input
</p>
<p>(mm/min)
Inch input
(inch/min)
</p>
<p>0 0 0 8 50 2.0
</p>
<p>1 2.0 0.08 9 79 3.0
</p>
<p>2 3.2 0.12 10 126 5.0
</p>
<p>3 5.0 0.2 11 200 8.0
</p>
<p>4 7.9 0.3 12 320 12
</p>
<p>5 12.6 0.5 13 500 20
</p>
<p>6 20 0.8 14 790 30
</p>
<p>7 32 1.2 15 1260 50
</p>
<p>NOTE
The feedrate error (about &plusmn;3%) affects on the feedrate in the table
above.
</p>
<p>The jog feedrate can be adjusted with the jog feedrate override dial.
Pressing the rapid traverse switch moves the tool at the rapid traverse
feedrate regardless of the postiotion of the jog feedrate override dial.
Manual operation is allowed for one axis at a time. 3 axes can be selected
at a time by parameter JAX (No.049#4).
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>Z
</p>
<p>X
</p>
<p>Y
</p>
<p>While a switch is pressed, the
tool moves in the direction
specified by the switch.
</p>
<p>3.2
JOG FEED
</p>
<p>&Aring;&Aring;
&Aring;&Aring;
&Aring;&Aring;
</p>
<p>REMOTE MDIMEMORYEDIT
</p>
<p> ZERO
RETURN
</p>
<p>TEACHJOGHANDLE
</p>
<p>MODE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/083. MANUAL OPERATION
</p>
<p>414
</p>
<p>Procedure for Jog Feed
</p>
<p>1 Press the jog switch, one of the mode selection switches.
</p>
<p>2 Press the feed axis and direction selection switch corresponding to the
axis and direction the tool is to be moved.  While the switch is pressed,
the tool moves at the feedrate specified in Table 3.2.  The tool stops
when the switch is released.
</p>
<p>3 The jog feedrate can be adjusted with the jog feedrate override dial.
</p>
<p>4 Pressing the rapid traverse switch while pressing a feed axis and
direction selection switch moves the tool at the rapid traverse rate
while the rapid traverse switch is pressed.  Rapid traverse override by
the rapid traverse override switches is effective during rapid traverse.
</p>
<p>The above is an example.  Refer to the appropriate manual provided
by the machine tool builder for the actual operations.
</p>
<p>Feedrate, time constant and method of automatic acceleration/
deceleration for manual rapid traverse are the same as G00 in programmed
command.
</p>
<p>Changing the mode to the jog mode while pressing a feed axis and
direction selection switch does not enable jog feed.  To enable jog feed,
enter the jog mode first, then press a feed axis and direction selection
switch.
</p>
<p>If reference position return is not performed after power&ndash;on, pushing
RAPID TRAVERSE button does not actuate the rapid traverse but the
remains at the JOG feedrate.  This function can be disabled by setting
parameter (No.010 #0).
</p>
<p>+C +Z +Y
</p>
<p>+X&ndash;X
</p>
<p>&ndash;C&ndash;Y &ndash;Z
</p>
<p>RAPID
</p>
<p>AXIS DIRECTION
</p>
<p>0   1260
</p>
<p>JOG FEED RATE OVERRIDE
</p>
<p>50 10025F0
</p>
<p>RAPID TRAVERSE
OVERRIDE (%)
</p>
<p>Restrictions
</p>
<p>ï¿½ Acceleration/decelera&ndash;
tion for rapid traverse
</p>
<p>ï¿½ Change of modes
</p>
<p>ï¿½ Rapid traverse prior to
reference position return
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 3. MANUAL OPERATIONOPERATION
</p>
<p>415
</p>
<p>In the incremental (STEP) mode, pressing a feed axis and direction
selection switch on the machine operator&rsquo;s panel moves the tool one step
along the selected axis in the selected direction.  The minimum distance
the tool is moved is the least input increment.  Each step can be 10, 100,
or 1000 times the least input increment.  
This mode is effective when a manual pulse generator is not
connected.
</p>
<p>Tool
Each time a switch is
pressed, the tool moves
one step in the direction
specified by the switch.
</p>
<p>Z
</p>
<p>X
</p>
<p>Y
</p>
<p>Procedure for Incremental Feed
</p>
<p>1 Press the STEP switch, one of the mode selection switches.
</p>
<p>2 Select the distance to be moved for each step with the magnification
dial.
</p>
<p>3 Press the feed axis and direction selection switch corresponding to the
axis and direction the tool is to be moved.  Each time a switch is
pressed, the tool moves one step.  The feedrate is the same as the jog
feedrate.
</p>
<p>4 If an axis direction selection switch is pressed after rapid traverse has
been selected, movement is made at the rapid traverse rate.
Rapid traverse override by the rapid traverse override switch is
effective during rapid traverse.
</p>
<p>The above is an example.  Refer to the appropriate manual provided
by the machine tool builder for the actual operations.
</p>
<p>3.3
INCREMENTAL FEED
</p>
<p>X10 X100
</p>
<p>X1 X1000
</p>
<p>+C +Z +Y
</p>
<p>+X&ndash;X
</p>
<p>&ndash;C&ndash;Y &ndash;Z
</p>
<p>RAPID
</p>
<p>AXIS DIRECTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/083. MANUAL OPERATION
</p>
<p>416
</p>
<p>In the handle mode, the tool can be minutely moved by rotating the
manual pulse generator on the machine operator&rsquo;s panel.  Select the axis
along which the tool is to be moved with the handle feed axis selection
switches.
The minimum distance the tool is moved when the manual pulse
generator is rotated by one graduation is equal to the least input increment.
Or the distance the tool is moved when the manual pulse generator is
rotated by one graduation can be magnified by 10 times or by one of the
two magnifications specified by parameters (No. 121 and 699).
</p>
<p>Z
</p>
<p>X
</p>
<p>Y
</p>
<p>Manual pulse generator
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>Procedure for Manual Handle Feed
</p>
<p>1 Press the HANDLE switch, one of the mode selection switches.
</p>
<p>2 Select the axis along which the tool is to be moved by pressing a
handle feed axis selection switch.
</p>
<p>3 Select the magnification for the distance the tool is to be moved by
pressing a handle feed magnification switch.  The minimum distance
the tool is moved when the manual pulse generator is rotated by one
graduation is equal to the least input increment.
</p>
<p>4 Move the tool along the selected axis by rotating the handle.  Rotating
the handle 360 degrees moves the tool the distance equivalent to 100
graduations.
The above is an example.  Refer to the appropriate manual provided
by the machine tool builder for the actual operations.
</p>
<p>3.4
MANUAL HANDLE
FEED
</p>
<p>REMOTE MDIMEMORYEDIT
</p>
<p> ZERO
RETURN
</p>
<p>TEACHJOG
</p>
<p>MODE
</p>
<p>HANDLE
</p>
<p>Manual pulse generatorww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 3. MANUAL OPERATIONOPERATION
</p>
<p>417
</p>
<p>Parameter (bit 0 of No. 013) enables or disables the manual handle feed
in the JOG mode.
When the parameter (bit 0 of No. 013) is set 1,both manual handle feed
and incremental feed are enabled.
</p>
<p>Parameter (bit 6 of No. 002) enables or disables the manual handle feed
in the TEACH IN JOG mode.
</p>
<p>Parameter (bit 4 of No. 060) specifies as follows:
</p>
<p>SET VALUE 0 : The feedrate is clamped at the rapid traverse rate
andgenerated pulses exceeding the rapid traverse rate
are ignored.(The distance the tool is moved may not
match the graduations on the manual pulse
generator.)
</p>
<p>SET VALUE 1 : The feedrate is clamped at the rapid traverse rate and
generated pulses exceeding the rapid traverse rate are
not ignored but accumulated in the CNC.
(No longer rotating the handle does not immediately
stop the tool.  The tool is moved by the pulses
accumulated in the CNC before it stops.)
</p>
<p>Up to three manual pulse generators can be connected, one for each axis.
The three manual pulse generators can be simultaneously operated.
</p>
<p>WARNING
Rotating the handle quickly with a large magnification such
as x100 moves the tool too fast.  The feedrate is clamped
at the rapid traverse feedrate.
</p>
<p>NOTE
Rotate the manual pulse generator at a rate of five rotations
per second or lower.  If the manual pulse generator is
rotated at a rate higher than five rotations per second, the
tool may not stop immediately after the handle is no longer
rotated or the distance the tool moves may not match the
graduations on the manual pulse generator.
</p>
<p>Explanations
</p>
<p>ï¿½ Availability of manual
pulse generator in Jog
mode
</p>
<p>ï¿½ Availability of manual
pulse generator in
TEACH IN JOG mode
</p>
<p>ï¿½ A command to the MPG
exceeding rapid traverse
rate
</p>
<p>Restrictions
</p>
<p>ï¿½ Number of MPGs
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/083. MANUAL OPERATION
</p>
<p>418
</p>
<p>Whether the distance the tool is moved by manual operation is added to
the coordinates can be selected by turning the manual absolute switch on
or off on the machine operator&rsquo;s panel.  When the switch is turned on, the
distance the tool is moved by manual operation is added to the
coordinates.  When the switch is turned off, the distance the tool is moved
by manual operation is not added to the coordinates.
</p>
<p>O
P1
</p>
<p>P2
</p>
<p>Y axis
</p>
<p>X axis
</p>
<p>Manual operation
</p>
<p>The coordinates values change by the amount of manual operation.
</p>
<p>Fig. 3.5 (a)  Coordinates with the switch ON
</p>
<p>X2
</p>
<p>X1
</p>
<p>Y1
</p>
<p>Y2
</p>
<p>P1
</p>
<p>P2
</p>
<p>O1
</p>
<p>O2
</p>
<p>The coordinates do not change.
</p>
<p>Fig. 3.5 (b)  Coordinates with the switch OFF
</p>
<p>3.5
MANUAL ABSOLUTE
ON AND OFF
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 3. MANUAL OPERATIONOPERATION
</p>
<p>419
</p>
<p>The following describes the relation between manual operation and
coordinates when the manual absolute switch is turned on or off, using a
program example.
</p>
<p>G01G90
X200.0Y150.0
X100.0Y100.0F010
</p>
<p>X300.0Y200.0
</p>
<p>; ï¿½
; ï¿½
; ï¿½
</p>
<p>The subsequent figures use the following notation:
</p>
<p>Movement of the tool when the switch is on
Movement of the tool when the switch is off
</p>
<p>The coordinates after manual operation include the distance the tool
is moved by the manual operation.  When the switch is off, therefore,
subtract the distance the tool is moved by the manual operation.
</p>
<p>Coordinates when block ï¿½ has been executed after manual operation
(X&ndash;axis +20.0, Y&ndash;axis +100.0) at the end of movement of block ï¿½.
</p>
<p>Y
</p>
<p>X
</p>
<p>(120.0 , 200.0)
(220.0 , 250.0)
</p>
<p>(200.0 , 150.0)
Switch OFF
</p>
<p>Switch ON
</p>
<p>(100.0 , 100.0)
</p>
<p>Manual 
operation
</p>
<p>Coordinates when the feed hold button is pressed while block ï¿½ is being
executed, manual operation (Y&ndash;axis + 75.0) is performed, and the cycle
start button is pressed and released.
</p>
<p>(300.0 , 275.0)
</p>
<p>(300.0 , 200.0)(200.0 , 150.0)
(150.0 , 125.0)
</p>
<p>(150.0 , 200.0)
</p>
<p>(200.0 , 225.0)
</p>
<p>Y
</p>
<p>X
</p>
<p>Switch OFF
</p>
<p>Switch ON
</p>
<p>Manual 
operation
</p>
<p>Explanations
</p>
<p>ï¿½ Manual operation after
the end of block
</p>
<p>ï¿½ Manual operation after a
feed hold
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/083. MANUAL OPERATION
</p>
<p>420
</p>
<p>Coordinates when the feed hold button is pressed while block ï¿½ is being
executed, manual operation (Y&ndash;axis +75.0) is performed, the control unit
is reset with the RESET button, and block ï¿½ is read again
</p>
<p>(300.0 , 275.0)
</p>
<p>(200.0,150.0)
(300.0 , 200.0)
</p>
<p>(150.0 , 200.0)
(200.0,225.0)
</p>
<p>(150.0 , 125.0)(100.0 , 100.0)
</p>
<p>Y
</p>
<p>X
Switch OFF
</p>
<p>Switch ON
</p>
<p>Manual 
operation
</p>
<p>When there is only one axis in the following command, only the
commanded axis returns.
</p>
<p>Manual 
operation
</p>
<p>N2
</p>
<p>N1
</p>
<p>N3
</p>
<p>N1G01X100.0Y100.0F500;
N2X200.0;
N3Y150.0;
</p>
<p>Y
</p>
<p>X
(100.0 , 100.0)
</p>
<p>(200.0 , 100.0)
</p>
<p>(200.0 , 150.0)
</p>
<p>Switch OFF
</p>
<p>Switch ON
</p>
<p>When the following commands are incremental commands, operation is
the same as when the switch is OFF.
</p>
<p>When the switch is OFF
After manual operation is performed with the switch OFF during cutter
compensation, automatic operation is restarted then the tool moves
parallel to the movement that would have been performed if manual
movement had not been performed.  The amount of separation equals to
the amount that was performed manually.
</p>
<p>Manual 
operation
</p>
<p>Cutter path
</p>
<p>Programmed path
</p>
<p>Cutter path after
manual operation
</p>
<p>ï¿½ When reset after a
manual operation
following a feed hold
</p>
<p>ï¿½ When a movement
command in the next
block is only one axis
</p>
<p>ï¿½ When the next move
block is an incremental
</p>
<p>ï¿½ Manual operation during
cutter compensation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 3. MANUAL OPERATIONOPERATION
</p>
<p>421
</p>
<p>When the switch is ON during cutter compensation
Operation of the machine upon return to automatic operation after manual
intervention with the switch is ON during execution with an absolute
command program in the cutter compensation mode will be described.
The vector created from the remaining part of the current block and the
beginning of the next block is shifted in parallel. A new vector is created
based on the next block, the block following the next block and the
amount of manual movement.  This also applies when manual operation
is performed during cornering.
</p>
<p>Manual operation performed in other than cornering
Assume that the feed hold was applied at point PH while moving from PA
to PB of programmed path PA, PB, and PC and that the tool was manually
moved to PH&rsquo;.  The block end point PB moves to the point PB&rsquo; by the
amount of manual movement, and vectors VB1 and VB2 at PB also move
to VB1&rsquo; and VB2&rsquo;.  Vectors VC1 and VC2 between the next two blocks PB
&ndash; PC and PC &ndash; PD are discarded and new vectors VC1&rsquo; and VC2&rsquo; (VC2&rsquo; =
VC2 in this example) are produced from the relation between PB&rsquo; &ndash; PC and
PC &ndash; PD.  However, since VB2&rsquo; is not a newly calculated vector, correct
offset is not performed at block PB&rsquo; &ndash; PC.  Offset is correctly performed
after PC.
</p>
<p>VC1
</p>
<p>VC2
</p>
<p>PA
</p>
<p>PD
</p>
<p>PC
</p>
<p>PH&rsquo;
</p>
<p>PB
</p>
<p>VB2
</p>
<p>VB1
</p>
<p>VB2&rsquo;
</p>
<p>VC1&rsquo;
</p>
<p>PH
VB1&rsquo;
</p>
<p>Cutter path after 
manual operation
</p>
<p>Programmed path
(absolute command)
</p>
<p>Cutter path before 
manual operation
</p>
<p>Manual operation
</p>
<p>P&rsquo;B
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/083. MANUAL OPERATION
</p>
<p>422
</p>
<p>Manual operation during cornering
This is an example when manual operation is performed during cornering.
VA2&rsquo;, VB1&rsquo;, and VB2&rsquo; are vectors moved in parallel with VA2, VB1 and VB2
by the amount of manual movement.  The  new vectors  are calculated
from VC1 and VC2.  Then correct cutter compensation is performed for the
blocks following Pc.
</p>
<p>VB2
</p>
<p>VB1
</p>
<p>VC1
</p>
<p>VC2
</p>
<p>PA&rsquo;
</p>
<p>PCPB
</p>
<p>VC1&rsquo;
</p>
<p>VA1VA2
</p>
<p>VA2&rsquo;
VA1&rsquo;PH&rsquo;
</p>
<p>PH
</p>
<p>PA
</p>
<p>VB1&rsquo;
</p>
<p>VB2&rsquo;
</p>
<p>Cutter path after 
manual operation
</p>
<p>Programmed path
(absolute command)
</p>
<p>Cutter path before 
manual operation
</p>
<p>Manual operation
</p>
<p>P&rsquo;B
</p>
<p>Manual operation after single block stop
Manual operation was performed when execution of a block was
terminated by single block stop.
Vectors VB1 and VB2 are shifted by the amount of manual operation.
Sub&ndash;sequent processing is the same as case a described above. An MDI
operation can also be interveneted as well as manual operation.  The
movement is the same as that by manual operation.
</p>
<p>VB2
</p>
<p>VB1
</p>
<p>VC1
</p>
<p>VC2PC
</p>
<p>PB&rsquo;
</p>
<p>VC1&rsquo;
</p>
<p>VB2&rsquo;
</p>
<p>VB1&rsquo;
</p>
<p>PB
</p>
<p>PA
</p>
<p>Cutter path after 
manual operation
</p>
<p>Manual 
operation
</p>
<p>Programmed path
(absolute command)
</p>
<p>Cutter path before 
manual operationww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>423
</p>
<p>4 AUTOMATIC OPERATION
Programmed operation of a CNC machine tool is referred to as automatic
operation.
This chapter explains the following types of automatic operation:
</p>
<p>ï¿½ MEMORY OPERATION
Operation by executing a program registered in CNC memory
</p>
<p>ï¿½ MDI OPERATION
Operation by executing a program entered from the MDI panel
</p>
<p>ï¿½ DNC OPERATION
Function for operating a machine while reading a program from an
input/output unit
</p>
<p>ï¿½ PROGRAM RESTART
Restarting a program for automatic operation from an intermediate
point
</p>
<p>ï¿½ SCHEDULING FUNCTION
Scheduled operation by executing programs (files) registered in an
external input/output device (Handy File, Floppy Cassette, or FA
Card)
</p>
<p>ï¿½ SUBPROGRAM CALL FUNCTION
Function for calling and executing subprograms (files) registered
in an external input/output device (Handy File, Floppy Cassette, or
FA Card) during memory operation
</p>
<p>ï¿½ MANUAL HANDLE INTERRUPTION
Function for performing manual feed during movement executed
by automatic operation
</p>
<p>ï¿½ MIRROR IMAGE
Function for enabling mirror&ndash;image movement along an axis
during automatic operation
</p>
<p>ï¿½ SEQUENCE NUMBER SEARCH
This function is usually used to search for a sequence number
within a program and to start or resume the program from the block
having that sequence number.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/084. AUTOMATIC OPERATION
</p>
<p>424
</p>
<p>Programs are registered in memory in advance.  When one of these
programs is selected and the cycle start switch on the machine operator&rsquo;s
panel is pressed, automatic operation starts, and the cycle start lamp goes
on.
When the feed hold switch on the machine operator&rsquo;s panel is pressed
during automatic operation, automatic operation is stopped temporarily.
When the cycle start switch is pressed again, automatic operation is
restarted.
When the reset switch on the CRT/MDI panel is pressed, automatic
operation terminates and the reset state is entered.
The following procedure is given as an example.  For actual operation,
refer to the manual supplied by the machine tool builder.
</p>
<p>Procedure for Memory Operation
</p>
<p>1 Press the AUTO mode selection switch.
</p>
<p>2 Select a program from the registered programs.  To do this, follow the
steps below.
</p>
<p>2&ndash;1 Press PRGRM  to display the program screen.
</p>
<p>2&ndash;2 Press address O .
</p>
<p>2&ndash;3 Enter a program number using the numeric keys.
</p>
<p>2&ndash;4 Press the cursor key .
</p>
<p>3 Press the cycle start switch on the machine operator&rsquo;s panel.
Automatic operation starts, and the cycle start lamp goes on. When
automatic operation terminates, the cycle start lamp goes off.
</p>
<p>4 To stop or cancel memory operation midway through, follow the
steps below.
</p>
<p>a. Stopping memory operation
Press the feed hold switch on the machine operator&rsquo;s panel.  The
feed hold lamp goes on and the cycle start lamp goes off.  The
machine responds as follows:
</p>
<p>(i) When the machine was moving, feed operation decelerates
and stops.
</p>
<p>(ii) When dwell was being performed, dwell is stopped.
</p>
<p>(iii) The current operation, instigated by executing by an M, S, or
T command, is continued.
</p>
<p>b. Terminating memory operation
</p>
<p>Press the RESET  key on the CRT/MDI panel.
</p>
<p>Automatic operation is terminated and the reset state is entered. 
When a reset is applied during movement, movement decelerates
then stops.
</p>
<p>4.1
MEMORY
OPERATION
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>425
</p>
<p>After memory operation is started, the following are executed:
ï¿½ A one&ndash;block command is read from the specified program.
ï¿½ The block command is decoded.
ï¿½ The command execution is started.
ï¿½ The command in the next block is read.
ï¿½ Buffering is executed.  That is, the command is decoded to allow
</p>
<p>immediate execution.
ï¿½ Immediately after the preceding block is executed, execution of the
</p>
<p>next block can be started.  This is because buffering has been
executed.
</p>
<p>ï¿½ Hereafter, memory operation can be executed by repeating the
steps ï¿½ to ï¿½.
</p>
<p>Memory operation can be stopped using one of two methods:  Specify a
stop command, or press a key on the machine operator&rsquo;s panel.
</p>
<p>&ndash; The stop commands include M00 (program stop), M01 (optional
stop), and M02 and M30 (program end).
</p>
<p>&ndash; There are two keys to stop memory operation:  The feed hold key
and reset key.
</p>
<p>Memory operation is stopped after a block containing M00 is executed.
When the  program is stopped, all existing modal information remains
unchanged as in single block operation.  The memory operation can be
restarted by pressing the cycle start button.  Operation may vary
depending on the machine tool builder.  Refer to the manual supplied by
the machine tool builder.
</p>
<p>Similarly to M00, memory operation is stopped after a block containing
M01 is executed.  This code is only effective when the Optional Stop
switch on the  machine operator&rsquo;s panel is set to ON.   Operation may vary
depending on the machine tool builder.  Refer to the manual supplied by
the machine tool builder.
</p>
<p>When M02 or M30 (specified at the end of the main program) is read,
memory operation is terminated and the reset state is entered.
In some machines, M30 returns control to the top of the program.  For
details, refer to the manual supplied by the machine tool builder.
</p>
<p>When Feed Hold button on the operator&rsquo;s panel is pressed during memory
operation, the tool decelerates to a stop at a time.
</p>
<p>Automatic operation can be stopped and the system can be made to the
</p>
<p>reset state by using RESET  key on the CRT/MDI panel or external reset
</p>
<p>signal.  When reset operation is applied to the system during a tool
moving status, the motion is slowed down then stops.
</p>
<p>When the optional block skip switch on the machine operator&rsquo;s panel is
turned on, blocks containing a slash (/) are ignored.
</p>
<p>A file (subprogram) in an external input/output device such as a Floppy
Cassette can be called and executed during memory operation.  For
details, see Section 4.5.
</p>
<p>Explanations
</p>
<p>Memory operation
</p>
<p>Stopping and
terminating memory
operation
</p>
<p>ï¿½ Program stop (M00)
</p>
<p>ï¿½ Optional stop (M01)
</p>
<p>ï¿½ Program end
(M02, M30)
</p>
<p>ï¿½ Feed hold
</p>
<p>ï¿½ Reset
</p>
<p>ï¿½ Optional block skip
</p>
<p>Calling a subprogram
stored in an external
input/output device
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/084. AUTOMATIC OPERATION
</p>
<p>426
</p>
<p>In the MDI mode, a program can be inputted in the same format as normal
programs and executed from the MDI panel.
MDI operation is used for simple test operations.
The following procedure is given as an example.  For actual operation,
refer to the manual supplied by the machine tool builder.
</p>
<p>Procedure for MDI Operation &ndash; A
</p>
<p>One command block can be entered from the CRT/MDI for execution.
</p>
<p>1 Press MDI key on the mode select switch.
</p>
<p>2 Press the PRGRM  button.
</p>
<p>3 Press soft key [MDI]  to display a screen with MDI at the top left.
</p>
<p>PROGRAM            O9501 N9501
  (MDI)  (MODAL)
</p>
<p>[ PRGRM ][ CURRNT ][ NEXT ] [ MDI ] [ RSTR ]
</p>
<p>ADRS.    S  0  T
 10:29:38         MDI
</p>
<p>G67 G00 F      
G97 G17 R      
G54 G90 P      
G64 G22 Q      
G69 G94 H     D
G15 G21 M      
G25 G40 S      
    G49 T      
    G80 B      
    G98        
    G50
</p>
<p>4 Input &ldquo;X 10.5&rdquo; by address/numeric key.
</p>
<p>5 Press INPUT key.  
</p>
<p>The data, X 10.5, is input and displayed.  If you are aware of an error in
</p>
<p>the keyed&ndash;in number before pressing the INPUT  key , press the CAN
</p>
<p>key and key in X and the correct number again.
</p>
<p>6 Input &ldquo;Y 200.5&rdquo; by address/numeric key.
</p>
<p>7 Press INPUT  key.
</p>
<p>The data, Y200.5 is input and displayed.  If you pressed wrong
number keys, correct the operation following the instruction
described above.
</p>
<p>4.2
MDI OPERATION
</p>
<p>Example of X10.5 Y200.5;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>427
</p>
<p>PROGRAM           O9501 N9501
   (MDI)    (MODAL)    
          X    10.500 G67 G00 F      
          Y   200.500 G54 G17 R      
</p>
<p>G64 G90 P      
G69 G22 Q      
G15 G94 H     
G25 G21 M      
    G40 S      
    G49 T      
    G80 B      
    G98        
    G50        
</p>
<p>ADRS.         S    0 T
 10:30:25      MDI       
[ PRGRM ][ CURRNT ][ NEXT ] [ MDI ] [ RSTE ]
</p>
<p>8 Press the OUTPTSTART key.
</p>
<p>Press the cycle start button on the machine operator&rsquo;s panel
(depending on the machine tool).
</p>
<p>To modify X10.5Y200.5 to X10.5, cancel Y200.5, by following the steps
described below:
</p>
<p>1 Press Y CAN INPUT  keys.
</p>
<p>2 Press the OUTPTSTART  or the cycle start button on the machine operator&rsquo;s
</p>
<p>panel.
</p>
<p>WARNING
Modal G codes cannot be cancelled.  Enter the correct data
again.
</p>
<p>ï¿½ A single MDI operation executes a single input block.  Two or more
blocks cannot be executed at one time.
</p>
<p>ï¿½ The end&ndash;of&ndash;block symbol (;) need not be entered.
</p>
<p>ï¿½ A subprogram call or macro call cannot be specified.
</p>
<p>ï¿½ In MDI operation, the setting (absolute) determines whether the
commands are absolute or incremental.  The G code (G90/G91) is
ignored.
</p>
<p>ï¿½ The input block is cleared when the MDI operation is completed or
when a reset is specified.
</p>
<p>Cancel before pressing
the START button
</p>
<p>Limitations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/084. AUTOMATIC OPERATION
</p>
<p>428
</p>
<p>Procedure for MDI Operation &ndash; B
</p>
<p>1 Press the MDI mode selection switch.
</p>
<p>2 Press the PRGRM  function key on the CRT/MDI panel to select the
</p>
<p>program screen.  The following screen appears:
</p>
<p>PROGRAM  ( MDI )
</p>
<p>O0000
%
</p>
<p>G00 G90 G94 G40 G80 G50 G54 G69
G17 G22 G21 G49 G98 G67 G64
F    P  H  S
R    Q  M  T
&lt;   S    0 T
 11:26:11 MDI
</p>
<p>O1234 N5678
</p>
<p>[ PRGRM ][ CURRNT ][ NEXT ] [ MDI ] [ RSTR ]
</p>
<p>Program number O0000 is entered automatically.
</p>
<p>3 Prepare a program to be executed by an operation similar to normal
program editing.  M99 specified in the last block can return control to
the beginning of the program after operation ends.  Word insertion,
modification, deletion, word search, address search, and program
search are available for programs created in the MDI mode.  For
program editing, see Chapter 9.
</p>
<p>4 To entirely erase a program created in MDI mode,use one of the
following methods:
</p>
<p>a. Enter address O , then press the DELET  key on the MDI panel.
</p>
<p>b. Alternatively, press the RESET  key.  In this case, set bit 7 of
</p>
<p>parameter 057 to 1 in advance.
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>429
</p>
<p>5 To execute a program, set the cursor on the head of the program.  (Start
from an intermediate point  is possible.)   Push Cycle Start button on the
operator&rsquo;s panel.  By this action, the prepared program will start.  When
the program end (M02, M30) or ER(%) is executed, the prepared
program will be automatically erased and the operation will end.
By command of M99, control returns to the head of the prepared
program.
</p>
<p>PROGRAM  ( MDI )
</p>
<p>O0000 G00 X100. Y200. ;
M03 ;
G01 Z120. F500 ;
M98 P9010 ;
G00 Z0 ;
%
</p>
<p>    (MODAL)
G00 G90 G94 G40 G80 G50 G54 G69
G17 G22 G21 G49 G98 G67 G64
F    P  H  S
R    Q  M  T
&lt;   S    0 T
11:04:44 MDI
</p>
<p>O1234 N5678
</p>
<p>[ PRGRM ][ CURRNT ][ NEXT ] [ MDI ] [ RSTR ]
</p>
<p>6 To stop or terminate MDI operation in midway through, follow the
steps below.
</p>
<p>a. Stopping MDI operation
Press the feed hold switch on the machine operator&rsquo;s panel.  The
feed hold lamp goes on and the cycle start lamp goes off.  
When the cycle start switch on the machine operator&rsquo;s panel is
pressed, machine operation restarts.
</p>
<p>b. Terminating MDI operation
</p>
<p>Press the RESET  key on the CRT/MDI panel. 
</p>
<p>Automatic operation is terminated and the reset state is entered. 
When a reset is applied during movement, movement decelerates
then stops.
</p>
<p>The previous explanation of how to execute and stop memory operation also
applies to MDI operation, except that in MDI operation &ndash;B, M30 does not
return control to the beginning of the program (M99 performs this function).
</p>
<p>Programs prepared in the MDI operation will be erased in the following
cases:
</p>
<p>&sdot; In MDI operation, if M02, M30 or ER(%) is executed.
&sdot; In AUTO mode, if memory operation is performed.
&sdot; In EDIT mode, if any editing is  performed.
&sdot; Background editing is performed.
</p>
<p>After the editing operation during the stop of MDI operation  was done,
operation starts from the current cursor position.
</p>
<p>Explanations
</p>
<p>ï¿½ Erasing the program
</p>
<p>ï¿½ Restart
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/084. AUTOMATIC OPERATION
</p>
<p>430
</p>
<p>The setting (absolute) determines whether commands are absolute or
incremental.  If bit 5 of parameter 029 is set to 1, G90/G91 in the program
is enabled.  To call a subprogram or macro program during MDI
operation, set bit 5 of parameter 029 to 1.
</p>
<p>Programs created in MDI mode cannot be registered.
</p>
<p>A program can have as many lines as can fit on one page of the CRT
screen.
A program consisting of up to six lines can be created.  When parameter
(No. 028 #3) is set to 0 to specify a mode that suppresses the display of
continuous&ndash;state information, a program of up to 10 lines can be created.
If the created program exceeds the specified number of lines, % (ER) is
deleted (prevents insertion and modification).
</p>
<p>Calls to subprograms (M98) can be specified in a program created in the
MDI mode.  This means that a program registered in memory can be
called and executed during MDI operation.  In addition to the main
program executed by automatic operation, up to two levels of subprogram
nesting are allowed (when the custom macro option is provided, up to four
levels are allowed).
</p>
<p>Main program Subprogram
</p>
<p>One&ndash;level nesting Two&ndash;level nesting
</p>
<p>O0000;
</p>
<p>M98P 1000;
</p>
<p>M30;
</p>
<p>O1000; O2000;
</p>
<p>M98P M98P2000; 3000;
</p>
<p>M99; M99;
</p>
<p>Subprogram
</p>
<p>Fig. 4.2  Nesting level of subprograms called from the MDI program
</p>
<p>When the custom macro option is provided, macro programs can also be
created, called, and executed in the MDI mode. However, macro call
commands cannot be executed when the mode is changed to MDI mode
after memory operation is stopped during execution of a subprogram.
</p>
<p>When a program is created in the MDI mode, an empty area in program
memory is used.  If the maximum number of programs has already been
registered, or if the part program storage is full, a program cannot be
created in MDI mode.
</p>
<p>ï¿½ Absolute/incremental
command
</p>
<p>Explanations
</p>
<p>ï¿½ Program registration
</p>
<p>ï¿½ Number of lines in a 
program
</p>
<p>ï¿½ Subprogram nesting
</p>
<p>ï¿½ Macro  call
</p>
<p>ï¿½ Memory  areaww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>431
</p>
<p>In DNC operation, the machine is not operated by a program registered
in memory of the CNC, instead being operated by a program read directly
from a connected input/output unit.  This mode is used when the program
is too large to be registered in the memory of the CNC.  This mode is also
used for high&ndash;speed machining using a remote buffer.
For DNC operation with the Floppy Cassette directory display function
(the Floppy Cassette directory display function is supported and the
Floppy Cassette is specified as the input/output unit), see Chapter 8.
</p>
<p>Procedure for DNC Operation
</p>
<p>1 Select the MDI mode and specify the channel for the connected
input/output unit in the I/O field on the setting screen.
</p>
<p>2 Select AUTO mode.
</p>
<p>3 Search for the beginning of the program of the input/output unit.
</p>
<p>4 Input the DNCI signal.  (For details of the actual operation, refer to the
manual provided by the machine tool builder.)
</p>
<p>5 Press the cycle start key.
</p>
<p>DNC operation starts.  The operation can be stopped and resumed in the
same way as for memory operation.
</p>
<p>ï¿½ In DNC operation mode, the current program can call a subprogram
registered in memory.
</p>
<p>ï¿½ In DNC operation mode, the current program can specify a custom
macro.  However, a repeat instruction or branch instruction cannot be
programmed.
</p>
<p>ï¿½ In DNC operation mode, the current program can call a macro program
registered in memory.
</p>
<p>ï¿½ In DNC operation mode, to return the system from the current
subprogram or macro program to the calling program, a sequence
number (M99P****) cannot be specified.
</p>
<p>ï¿½ If input/output channels 1 and 2 are used for DNC operation, the DC3
code is output and reading is stopped at the end of each block (each
time the EOB is read).  To enable continuous reading of the blocks,
specify bit 7 of parameter 0390 accordingly.
</p>
<p>ï¿½ In DNC operation mode, to allow a program to be resumed specify bit
7 of parameter 0387 accordingly.
</p>
<p>ï¿½ In DNC operation mode, no program can be displayed.  Only the
current block and subsequent block can be displayed.
</p>
<p>ï¿½ In DNC operation mode, F is displayed as the address of the program
number at the top right corner of the CRT screen.
</p>
<p>4.3
DNC OPERATION
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/084. AUTOMATIC OPERATION
</p>
<p>432
</p>
<p>This function specifies Sequence No. of a block to be restarted when a tool
is broken down or when it is desired to restart machining operation after
a day off, and restarts the machining operation from that block.  It can also
be used  as a high&ndash;speed program check function.
There are two restart methods:  the P&ndash;type method and Q&ndash;type method.
</p>
<p>P TYPE Operation can be restarted anywhere. This restart method is
used when operation is stopped because of a broken tool.
</p>
<p>Program start point (machining start point)
</p>
<p>Restart position
</p>
<p>Return operation
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>Q TYPE Before operation can be restarted, the machine must be
moved to the programmed start point (machining start point)
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>Program start point 
(machining start point)
</p>
<p>Return operation
</p>
<p>Restart position
</p>
<p>4.4
PROGRAM RESTART
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>433
</p>
<p>Procedure for Program restart
</p>
<p>1 Retract the tool and replace it with a new one.  When necessary,
change the offset.  (Go to step 2.)
</p>
<p>1 When power is turned ON or emergency stop is released, perform all
necessary operations at that time, including the reference position
return.
</p>
<p>2 Move the machine manually to the program starting point (machining
start point), and keep the modal data and coordinate system in the
same conditions as at the machining start.
</p>
<p>3 If necessary, modify the offset amount.
</p>
<p>1 Turn the program restart switch on the machine operator&rsquo;s panel ON.
</p>
<p>2 Press PRGRM  on the CRT/MDI panel to display the desired program.
</p>
<p>3 Find the program head.
</p>
<p>4 [P TYPE] Input address P, then the sequence number of the block to
</p>
<p>be resumed.  Press the cursor down  key.
</p>
<p>[Q TYPE] Input address Q, then the sequence number of the block to 
</p>
<p>be resumed.  Press the cursor down  key.
</p>
<p>If the same sequence number appears more than once, the location of
the target block must be specified.  Specify a frequency and a
sequence number.
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½P
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Q[Q TYPE]
</p>
<p>Frequency
Sequence No.
</p>
<p>Frequency
</p>
<p>Sequence No.
</p>
<p>[P TYPE]
</p>
<p>ï¿½	ï¿½ï¿½ï¿½ï¿½
	ï¿½ ï¿½
</p>
<p> [P TYPE]
</p>
<p> [Q TYPE]
</p>
<p>ï¿½	ï¿½ï¿½ï¿½ï¿½
	ï¿½ ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/084. AUTOMATIC OPERATION
</p>
<p>434
</p>
<p>5 Once the search to resume the program has been completed, the CRT
screen displays the program resume screen.
</p>
<p>PROGRAM RESTART         O0100 N0123
</p>
<p>    (DESTINATION)   M010 015 050 *** ***
     X   300.000     *** *** *** *** ***
     Y   300.000     *** *** *** *** ***
     Z   300.000     *** *** *** *** ***
</p>
<p>*** *** *** *** ***
*** *** *** *** ***
</p>
<p>    (DISTANCE TO GO) *** *** *** *** ***
  1  X   254.052                        
  2  Y   243.988    T   **** ****       
  3  Z   249.368    S  *****            
                    B ******            
</p>
<p>        S    0 T  
  14:08:12 BUF AUTO        RSTR
[ PRGRM ][ CURRNT ][ NEXT ][ MDI ][ RSTR ]
</p>
<p>DESTINATION shows the position at which machining is to restart.
DISTANCE TO GO shows the distance from the current tool position
to the position where machining is to restart.  A number to the left of
each axis name indicates the order of axes (determined by parameter
No. 124 to 127) along which the tool moves to the restart position.
M:  Thirty&ndash;five most recently specified M codes
T:  Two most recently specified T codes
S:  Most recently specified S code
B:  Most recently specified B code
</p>
<p>6 Turn the program re&ndash;start switch OFF.  At this time, the figure at the
left side of axis name DISTANCE TO GO blinks.
</p>
<p>7 Check the screen for the M, S, T, and B codes to be executed.  If they
are found, execute the M, S, T, and B functions by the MDI mode.
After execution, restore the previous mode.
</p>
<p>8 Check that the distance indicated under DISTANCE TO GO is correct.
Also check whether there is the possibility that the tool might hit a
workpiece or other objects when it moves to the machining restart
position.  If such a possibility exists, move the tool manually to a
position from which the tool can move to the machining restart
position without encountering any obstacles.
</p>
<p>9 Press the cycle start button.  The tool moves to the machining restart
position at the dry run feedrate sequentially along axes in the order
specified by parameter settings.  Machining is then restarted.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>435
</p>
<p>Under any of the following conditions, P&ndash;type restart cannot be
performed:
</p>
<p>&sdot; When automatic operation has not been performed since the power
was turned on
</p>
<p>&sdot; When automatic operation has not been performed since an
emergency stop was released
</p>
<p>&sdot; When automatic operation has not been performed since the
coordinate system was changed or shifted (change in an external
offset from the workpiece reference point)
</p>
<p>The block to be restarted need not be the block which was interrupted;
operation can restart with any block.  When P&ndash;type restart is performed,
the restart block must use the same coordinate system as when operation
was interrupted.
</p>
<p>When single block operation is ON during movement to the restart
position, operation stops every time the tool completes movement along
an axis.  When operation is stopped in the single block mode, MDI
intervention cannot be performed.
</p>
<p>During movement to the restart position, manual intervention can be used
to perform a return operation for an axis if it has not yet been performed
for the axis.  A return operation cannot be done further on axes for which
a return has already been completed.
</p>
<p>Never reset during the time from the start of a search at restart until
machining is restarted.  Otherwise, restart must be performed again from
the first step.
</p>
<p>Regardless of whether machining has started or not, manual operation
must be performed when the manual absolute mode is on.
</p>
<p>If no absolute&ndash;position detector (absolute pulse coder) is provided, be
sure to perform reference position return after turning on the power and
before performing restart.
</p>
<p>WARNING
As a rule, the tool cannot be returned to a correct position under the following conditions.
Special care must be taken in the following cases since none of them cause an alarm:
&sdot; Manual operation is performed when the manual absolute mode is OFF.
&sdot; Manual operation is performed when the machine is locked. (ignore the Z&ndash;axis)
&sdot; When the mirror image is used.
&sdot; When manual operation is performed in the course of axis movement for returning operation.
&sdot; When the program restart is commanded for a block between the block for skip cutting and
</p>
<p>subsequent absolute command block.
</p>
<p>Restrictions
</p>
<p>ï¿½ P&ndash;type restart
</p>
<p>ï¿½ Restart block
</p>
<p>ï¿½ ï¿½ï¿½
ï¿½	ï¿½ ï¿½	ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Manual intervention
</p>
<p>ï¿½ Reset
</p>
<p>ï¿½ Manual absolute
</p>
<p>ï¿½ Reference position
return
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/084. AUTOMATIC OPERATION
</p>
<p>436
</p>
<p>The schedule function allows the operator to select files (programs)
registered on a floppy&ndash;disk in an external input/output device (Handy
File, Floppy Cassette, or FA Card) and specify the execution order and
number of repetitions (scheduling) for performing automatic operation.
It is also possible to select only one file from the files in the external
input/output device and execute it during automatic operation.
This function is enabled if the Floppy Cassette directory display function
is supported and the Floppy Cassette is specified as the input/output unit.
</p>
<p>FILE DIRECTORY
</p>
<p>FILE NO. FILE NAME
</p>
<p> 0001 O0010
 0002 O0020
 0003 O0030
 0004 O0040
</p>
<p>Set file number and
number of repetitions.
</p>
<p>ORDER FILE NO REPETITION
</p>
<p> 01    0002 2
 02    0003 1
 03    0004 3
 04    0001 2
</p>
<p>Scheduling screen
</p>
<p>Executing automatic operation
</p>
<p>List of files in an external input/output device
</p>
<p>4.5
SCHEDULING
FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>437
</p>
<p>Procedure for Scheduling Function
</p>
<p>1 Press the AUTO switch on the machine operator&rsquo;s panel, then press
</p>
<p>the PRGRM  function key on the MDI panel.
</p>
<p>2 Press the rightmost soft key (continuous menu key), then press the
[FL. SDL]  soft key.  A list of files registered in the Floppy Cassette is
displayed on screen No. 1.  To display more files that are not
displayed on this screen, press the page key on the MDI panel.  Files
registered in the Floppy Cassette can also be displayed successively.
</p>
<p>FILE DIRECTORY O1200 N1200
</p>
<p>CURRENT SELECTED : SCHEDULE
</p>
<p> NO. FILE NAME (METER) VOL
0000 SCHEDULE
0001 PARAMETER 65.6
0002 ALL PROGRAM 1.9
0003 O0001 1.3
0004 O0002 1.3
0005 O0003 1.3
0006 O0004 1.3
0007 O0005 1.3
0008 O0100 1.9
</p>
<p>Screen No.1
</p>
<p>                      S    0 T  
  14:33:53         AUTO        RSTR
[ SELECT ][     ][     ][     ][ SCHDUL ]
</p>
<p>3 Press theï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ soft keys to display &ldquo;SELECT FILE NO.&rdquo; (on
</p>
<p>screen No. 2).  Enter a file number, then press the INPUT  key and the
</p>
<p>[EXEC] soft key .  The file for the entered file number is selected, and
the file name is indicated after &ldquo;CURRENT SELECTED:&rdquo;.
</p>
<p>Screen No.2
</p>
<p>FILE DIRECTORY         O0000 N0000
</p>
<p>  CURRENT SELECTED:O0005
    NO.   FILE NAME         (METER)  VOL
   0000  SCHEDULE                       
   0001  PARAMETER             65.6  
   0002  ALL.PROGRAM              1.9  
   0003  O0001              1.3  
   0004  O0002              1.3  
   0005  O0003              1.3  
   0006  O0004              1.3  
   0007  O0005              1.3  
   0008  O0100              1.9  
  SELECT FILE NO.=    7
  NUM.          S    0 T  
  14:46:01     AUTO        
 [ EXEC ][      ][      ][      ][SCHDUL]
</p>
<p>ï¿½	ï¿½ï¿½ï¿½ï¿½
	ï¿½
</p>
<p>ï¿½ Procedure for executing
one file
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/084. AUTOMATIC OPERATION
</p>
<p>438
</p>
<p>4 Press theDNC operation switch on the machine operator&rsquo;s panel, then
press the cycle start switch.  The selected file is executed.  For details on
the DNC operation switch, refer to the manual supplied by the machine
tool builder.  The selected file number is indicated at the upper right
corner of the screen as an F number (instead of an O number).
</p>
<p>Screen No.3
</p>
<p>FILE DIRECTORY         F0007 N1200
 CURRENT SELECTED:O0005
</p>
<p>        S    0 T  
 15:00:16 BUF AUTO        
[ SELECT ][      ][      ][      ][SCHDUL]
</p>
<p>1 Display the list of files registered in the Floppy Cassette.  The display
procedure is the same as in steps 1 and 2 for executing one file.
</p>
<p>2 On screen No. 2, press the [SELECT]  soft key to display &ldquo;SELECT
FILE NO.&rdquo;
</p>
<p>3 Enter file number 0, and press the [EXEC]  soft key.  &ldquo;SCHEDULE&rdquo; is
indicated after &ldquo;CURRENT SELECTED:&rdquo;.
</p>
<p>4 Press the leftmost soft key (return menu key) and the [SCHDUL]  soft
key.  Screen No. 4 appears.
</p>
<p>F0000 N1200
</p>
<p>ORDER FILE NO. REQ.REP CUR.REP
   01  _
   02
   03
   04
   05
   06
   07
   08
   09
   10
</p>
<p>Screen No.4
</p>
<p>SCHEDULE
</p>
<p>NUM. S 0  T
15:01:17 AUTO
</p>
<p>[      ][      ][ CLEAR ][      ][  DIR  ]
</p>
<p>Move the cursor and enter the file numbers and number of repetitions
in the order in which to execute the files. At this time, the current
number of repetitions &ldquo;CUR.REP&rdquo; is 0.
</p>
<p>ï¿½ Procedure for executing
the scheduling function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>439
</p>
<p>5 Press the DNC operation switch on the machine operator&rsquo;s panel, and
then press the start switch.  The files are executed in the specified
order. When a file is being executed, the cursor is positioned at the
number of that file.
The current number of repetitions CUR.REP is increased when M02
or M30 is executed in the program being run.
</p>
<p>Screen No.5
</p>
<p>SCHEDULE        F0000 N0002
</p>
<p> ORDER FILE NO. REQ.REP CUR.REP
   01        0007            5        5
   02        0003           23       23
   03        0004         9999       22
   04        0005         LOOP        0
   05
   06
   07
   08
   09
   10
</p>
<p> NUM.       S    0 T  
 19:31:53     AUTO        
[      ][      ][ CLEAR ][      ][  DIR  ]
</p>
<p>If no file number is specified on screen No. 4 (the file number field is left
blank), program execution is stopped at that point.  To leave the file
</p>
<p>number field blank, press numeric key 0  or CAN  then INPUT .
</p>
<p>If a negative value is set as the number of repetitions, &lt;LOOP&gt; is
displayed, and the file is repeated indefinitely.
</p>
<p>When the [CLEAR]  and [EXEC]  soft keys are pressed on screen No. 4, all
data is cleared. However, these keys do not function while a file is being
executed.
</p>
<p>When the leftmost soft key (return menu key) is pressed on screen No. 1,
2, 3, 4, or 5, the program screen is displayed.
</p>
<p>Explanations
</p>
<p>ï¿½ Specifying no file
number
</p>
<p>ï¿½ Endless repetition
</p>
<p>ï¿½ Clear
</p>
<p>ï¿½ Return to the program
screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/084. AUTOMATIC OPERATION
</p>
<p>440
</p>
<p>Up to 9999 can be specified as the number of repetitions. If 0 is set for a
file, the file becomes invalid and is not executed.
</p>
<p>By pressing the page key on screen No. 4, up to 20 files can be registered.
</p>
<p>When M codes other than M02 and M30 are executed in a program, the
current number of repetitions is not increased.
</p>
<p>During the execution of file, the floppy directory display of background
editing cannot be referenced.
</p>
<p>To resume automatic operation after it is suspended for scheduled
operation, press the reset button.
</p>
<p>Explanations
</p>
<p>ï¿½ Number of repetitions
</p>
<p>ï¿½ Number of files
registered
</p>
<p>ï¿½ M code
</p>
<p>ï¿½ Displaying the floppy
disk directory during file
execution
</p>
<p>ï¿½ Restarting automatic
operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>441
</p>
<p>The subprogram call function is provided to call and execute subprogram
files stored in an external input/output device(Handy File, FLOPPY
CASSETTE, FA Card)during memory operation.
When the following block in a program in CNC memory is executed, a
subprogram file in the external input/output device is called:
To execute this function, the Floppy Cassette directory display function
is required.
</p>
<p>2. FS10/11 tape format
</p>
<p>M198  Pï¿½ï¿½ï¿½ï¿½  Lââââ ;
</p>
<p>Number of repetitions
</p>
<p>File number for a file in the I/O device
</p>
<p>I/O devices call instruction
</p>
<p>1. F0 tape format
</p>
<p>M198  Pï¿½ï¿½ï¿½  ââââ ;
</p>
<p>Number of repetitions
</p>
<p>I/O devices call instruction
</p>
<p>File number for a file 
in the I/O device
</p>
<p>The subprogram calling function is enabled when the Floppy Cassette
(program file) is specified as the input/output unit.
When the custom macro B option is provided, either format 1 or 2 can be
used. A different M code can be used for a subprogram call depending on
the setting of parameter No.248. In this case, M198 is executed as a
normal M code. The file number is specified at address P. If the parameter
No. 063 #2 is set to 1, a program number can be specified. When a file
number is specified at address P, Fxxxx is indicated instead of Oxxxx on
the upper&ndash;right corner of the CRT screen.
</p>
<p>Programs in memory 
execution mode
</p>
<p>N1                        ;
</p>
<p>N2                        ; 0123 ....  File number
</p>
<p>N3 M198 P0003 0123 ;             
</p>
<p>N4                        ;             
</p>
<p>N5                        ;              
</p>
<p>: First call/return
</p>
<p>: Second call/return
</p>
<p>: Third call/return
</p>
<p>Program in the external 
input/output device
</p>
<p>Fig. 4.6  Program flow when M198 is specified
</p>
<p>4.6
SUBPROGRAM CALL
FUNCTION
</p>
<p>Format
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/084. AUTOMATIC OPERATION
</p>
<p>442
</p>
<p>NOTE
1 When M198 in the program of the file saved in a floppy
</p>
<p>cassette is executed, a P/S alarm (No.210) is given.  When
a program in the memory of CNC is called and M198 is
executed during execution of a program of the file saved in
a floppy cassette, M198 is changed to an ordinary M&ndash;code.
</p>
<p>ï¿½ When MDI is intervened and M198 is executed after M198
is commanded in the AUTO mode, M198 is changed to an
ordinary M&ndash;code.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>443
</p>
<p>The movement by manual handle operation can be done by overlapping
it with the movement by automatic operation in the automatic operation
mode.
</p>
<p>ï¿½
</p>
<p>X
</p>
<p>Programmed 
depth of cut
</p>
<p>Depth of cut by 
handle interruption
</p>
<p>Tool position after
handle interruption
</p>
<p>Tool position during 
automatic operation
</p>
<p>Fig. 4.7  Manual handle interruption
</p>
<p>ï¿½ Handle interruption axis selection signals
For the handle interruption axis selection signals, refer to the manual
supplied by the machine tool builder.
</p>
<p>During automatic operation, handle interruption is enabled for an axis if
the handle interruption axis selection signal for that axis is on. Handle
interruption is performed by turning the handle of the manual pulse
generator.
</p>
<p>WARNING
The travel distance by handle interruption is determined
according to the amount by which the manual pulse
generator is turned and the handle feed magnification (x1,
x10, xM, xN).
Since this movement is not accelerated or decelerated, it is
very dangerous to use a large magnification value for
handle interruption.
</p>
<p>NOTE
The amount of travel by the handle interrupt is equal to the
output unit.  The amount of travel by the handle interrupt can
be changed to the input unit by setting bit 2 of parameter
0075 accordingly.  If this is specified, acceleration/
deceleration is also applied to the amount of travel by the
handle interrupt.
</p>
<p>4.7
MANUAL HANDLE
INTERRUPTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/084. AUTOMATIC OPERATION
</p>
<p>444
</p>
<p>The following table indicates the relation between  other functions and the
movement by  handle interrupt.
</p>
<p>Signal Relatiï¿½ï¿½
</p>
<p>Machine lock Machine lock is effective.  The tool does not move even when
this signal turns on.
</p>
<p>Interlock Interlock is effective.  The tool does not move even when this
signal turns on.
</p>
<p>Mirror image Mirror image is not effective. Interrupt functions on the plus
direction by plus direction command, even if this signal turns
on.
</p>
<p>The following table shows the relation between various position display
data and the movement by handle interrupt.
</p>
<p>Display Relation
</p>
<p>Absolute coordinate 
value
</p>
<p>Handle interruption does not change absolute coordi-
nates.
</p>
<p>Relative coordinate
value
</p>
<p>Handle interruption does not change relative coordi-
nates.
</p>
<p>Machine coordinate 
value
</p>
<p>Machine coordinates are changed by the travel dis-
tance specified by handle interruption.
</p>
<p>The move amount by the handle interrupt is displayed on the 4th page of
the position display screen. The following 4 kinds of data are displayed
concurrently.
</p>
<p>O0000 N0200HANDLE INTERRUPTION
</p>
<p>(INPUT UNIT) (OUTPUT UNIT)
X 69.594 X 69.594
Y 137.783 Y 137.783
Z &ndash;61.439 Z &ndash;61.439
</p>
<p>(RELATIVE)
X 0.000 X 0.000
Y 0.000 Y 0.000
Z 0.000 Z 0.000
</p>
<p>(DISTANCE TO GO)
</p>
<p>PART COUNT16
RUN TIME0H 57M CYCLE TIME 0H 0M 38S
</p>
<p>         S    0 T  
 19:09:10 MDI              
[  ABS  ][  REL  ][  ALL  ][ HNDL ][     ]
</p>
<p>(a) INPUT UNIT : Handle interrupt move amount in input unit
system
Indicates the travel distance specified by
handle interruption according to the least input
increment.
</p>
<p>Explanations
</p>
<p>ï¿½ Relation with other
functions
</p>
<p>ï¿½ Position display
</p>
<p>ï¿½ Travel distance display
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>445
</p>
<p>(b) OUTPUT UNIT :Handle interrupt move amount in output unit
system  
Indicates the travel distance specified by
handle interruption according to the least
command increment.
</p>
<p>(c) RELATIVE : Position in relative coordinate system
These values have no effect on the travel
distance specified by handle interruption.
</p>
<p>(d) DISTANCE TO GO :The remaining travel distance in the current
block has no effect on the travel distance
specified by handle interruption.
</p>
<p>The handle interrupt move amount is cleared when the low speed
reference position return (the first reference position return when
power is turned on) ends every axis.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/084. AUTOMATIC OPERATION
</p>
<p>446
</p>
<p>During automatic operation, the mirror image function can be used for
movement along an axis. To use this function, set the mirror image switch
to ON on the machine operator&rsquo;s panel, or set the mirror image setting to
ON from the CRT/MDI panel.
</p>
<p>Y
</p>
<p>X
</p>
<p>Y&ndash;axis mirror image goes on.
</p>
<p>Programmed tool path
</p>
<p>Tool path after the mirror 
image function is used
</p>
<p>Tool
</p>
<p>Fig. 4.8  Mirror image
</p>
<p>Procedure for mirror image
</p>
<p>The following procedure is given as an example. For actual operation,
refer to the manual supplied by the machine tool builder.
</p>
<p>1 Press the single block switch to stop automatic operation. When the
mirror image function is used from the begining of operation, this step
is omitted.
</p>
<p>2 Press the mirror image switch for the target axis on the machine
operator&rsquo;s panel.
Alternatively, turn on the mirror image setting by following the steps
below:
</p>
<p>2&ndash;1 Set the MDI mode.
</p>
<p>2&ndash;2 Press the DGNOSPARAM function key.
</p>
<p>4.8
MIRROR IMAGE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>447
</p>
<p>2&ndash;3 Press the page key for chapter selection to display the setting
screen.
</p>
<p>PARAMETER           O0100 N0002
</p>
<p>    (SETTING 1)
   _REVX = 0
    REVY = 0
    TVON = 0
    ISO = 1   (0:EIA 1:ISO  )
    INCH = 0   (0:MM 1:INCH)
    I/O = 0
    ABS = 0   (0:INC 1:ABS)
    SEQ = 0
    CLOCK 97/07/07
          19:32:00
NO. REVX =          S    0 T  
  19:32:51                MDI
[ PARAM ][ DGNOS ][      ][ SV&ndash;PRM ][      ]
</p>
<p>2&ndash;4 Move the cursor to the mirror image setting position, then set the
target axis to 1.
</p>
<p>3 Enter an automatic operation mode (AUTO mode or MDI mode),
then press the cycle start button to start automatic operation.
</p>
<p>For the mirror image switches, refer to the manual supplied by the
machine tool builder.
</p>
<p>The direction of movement during manual operation, the direction of
movement from an intemidiate point to the reference position during
automatic reference position return, the direction of approach during
unidirectional positioning (G60), and the shift direction in a boring cycle
(G76, G87) cannot be reserved.
</p>
<p>Explanations
</p>
<p>Restrictions
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/084. AUTOMATIC OPERATION
</p>
<p>448
</p>
<p>Sequence number search operation is usually used to search for a
sequence number in the middle of a program so that execution can be
started or restarted at the block of the sequence number.
</p>
<p>Example)Sequence number 2346 in a program (O0002) is searched for.
</p>
<p>O0001 ;
N1234 X100.0 Z100.0 ;
S12 ;
   :
O0002 ;
N2345 X20.0 Z20.0 ;
N2346 X10.0 Y10.0 ;
   :
O0003 ;
   :
</p>
<p>Program
</p>
<p>Selected program
</p>
<p>Target sequence 
number is found.
</p>
<p>This selection is searched
starting at the beginning.
(Search operation is 
performed only within a 
program.)
</p>
<p>Procedure for sequence number search
</p>
<p>1 Select AUTO mode.
</p>
<p>2 Press PRGRM  key.
</p>
<p>3 &sdot;If the program contains a sequence number to be searched for,
 perform the operations 4 to 7 below.
&sdot;If the program does not contain a sequence number to be searched
 for, select the program number of the program that contains the 
 sequence number to be searched for.
</p>
<p>4 Key in address N .
</p>
<p>5 Key in a sequence number to be searched for.
</p>
<p>6 Press the cursor  key.
</p>
<p>7 Upon completion of search operation, the sequence number searched
for is displayed in the upper&ndash;right corner of the CRT screen.
</p>
<p>4.9
SEQUENCE NUMBER
SEARCH
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 4. AUTOMATIC OPERATIONOPERATION
</p>
<p>449
</p>
<p>Those blocks that are skipped do not affect the CNC.  This means that the
data in the skipped blocks such as coordinates and M, S, and T codes does
not alter the CNC coordinates and modal values.
So, in the first block where execution is to be started or restarted by using
a sequence number search command, be sure to enter required M, S, and
T codes and coordinates.  A block searched for by sequence number
search usually represents a point of shifting from one process to another.
When a block in the middle of a process must be searched for to restart
execution at the block, specify M, S, and T codes, coordinates, and so
forth as required from the MDI after closely checking the machine tool
and NC states at that point.
</p>
<p>During search operation, the following checks are made :
&sdot;Optional block skip
&sdot;P/S alarm (No. 003 to 010)
A P/S alarm 003 to 010 occurring during the sequence number search can
be ignored if bit 1 of parameter 050 is specified accordingly.
</p>
<p>During sequence number search operation, M98Pxxxx (subprogram call)
is not executed.  So an alarm (No. 060) is raised if an attempt is made to
search for a sequence number in a subprogram called by the program
currently selected.
</p>
<p>O1234
     :
     :
M98 P5678 ;
     :
     :
</p>
<p>O5678
     :
N8888
     :
M99 ;
     :
</p>
<p>Main program Subprogram
</p>
<p>If an attempt is made to search for N8888 in the example above, 
an alarm is raised.
</p>
<p>Number Contents
</p>
<p>60 Command sequence number was not found in the sequence
number search.
</p>
<p>Explanations
</p>
<p>ï¿½ Operation during Search
</p>
<p>ï¿½ Checking during search
</p>
<p>Limitations
</p>
<p>ï¿½ Searching in
sub&ndash;program
</p>
<p>Alarm
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/085. TEST OPERATION
</p>
<p>450
</p>
<p>5 TEST OPERATION
The following functions are used to check before actual machining
whether the machine operates as specified by the created program.
1. Machine Lock and Auxiliary Function Lock
2. Feedrate Override
3. Rapid Traverse Override
4. Dry Run
5. Single Block
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. TEST OPERATIONOPERATION
</p>
<p>451
</p>
<p>To display the change in the position without moving the tool, use
machine lock.
There are two types of machine lock:  all&ndash;axis machine lock, which stops
the movement along all axes, and Z&ndash;axis machine lock, which stops the
movement along Z&ndash;axis only.  In addition, auxiliary function lock, which
disables M, S, and T commands, is available for checking a program
together with machine lock.
</p>
<p>CRT/MDI
</p>
<p>X
Y
Z
</p>
<p>The tool does not move but the position
along each axis changes on the display.
</p>
<p>Tool
</p>
<p>Workpiece
</p>
<p>Fig. 5.1 Machine lock
</p>
<p>Procedure for Machine Lock and Auxiliary Function Lock
</p>
<p>Press the machine lock switch on the operator&rsquo;s panel.  The tool does not
move but the position along each axis changes on the display as if the tool
were moving.
Some machines have a Z&ndash;axis machine lock switch.  Refer to the
appropriate manual provided by the machine tool builder for machine
lock.
The position relationship between the workpiece coordinates and
machine coordinates may change after automatic operation by the
machine lock function has been executed.  If this occurs, reset the
workpiece coordinate system by specifying the coordinate system setting
command or by making a manual reference position return.
</p>
<p>Press the auxiliary function lock switch on the operator&rsquo;s panel.  M, S, and
T codes are disabled and not executed.  Refer to the appropriate manual
provided by the machine tool builder for auxiliary function lock.
</p>
<p>M, S, and T commands are executed in the machine lock state.
</p>
<p>When a G27, G28, or G30 command is issued in the machine lock state,
the command is accepted but the tool does not move to the reference
position and the reference position return LED does not go on.
</p>
<p>M00, M01, M02, M30, M98, M99, M198, and M199 and commands are
executed even in the auxiliary function lock state.
</p>
<p>5.1
MACHINE LOCK AND
AUXILIARY
FUNCTION LOCK
</p>
<p>ï¿½ Machine Lock
</p>
<p>ï¿½ Auxiliary Function Lock
</p>
<p>Explanations
</p>
<p>ï¿½ M, S, T command by only
machine lock
</p>
<p>ï¿½ Reference position
return under Machine
Lock
</p>
<p>ï¿½ M codes not locked by
auxiliary function lock
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/085. TEST OPERATION
</p>
<p>452
</p>
<p>A programmed feedrate can be reduced or increased by a percentage (%)
selected by the override dial.This feature is used to check a program.
For example, when a feedrate of 100 mm/min is specified in the program,
setting the override dial to 50% moves the tool at 50 mm/min.
</p>
<p>Tool
Check the machining by
altering the feedrate from
the value specified in the
program.
</p>
<p>Feedrate 100 mm/min
(Specified by programmed)
</p>
<p>Feedrate 50 mm/min after
50% feedrate override
</p>
<p>Workpiece
</p>
<p>Fig. 5.2  Feedrate override
</p>
<p>Procedure for Feedrate Override
</p>
<p>Set the feedrate override dial to the desired percentage (%) on the
machine operator&rsquo;s panel, before or during automatic operation.
On some machines, the same dial is used for the feedrate override dial
and jog feedrate dial.  Refer to the appropriate manual provided by the
machine tool builder for feedrate override.
</p>
<p>The override that can be specified ranges from 0 to 150% (10% steps).
For individual machines, the range depends on the specifications of the
machine tool builder.
</p>
<p>During threading, the override is ignored and the feedrate remains as
specified by program.
</p>
<p>5.2
FEEDRATE
OVERRIDE
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>0   150
</p>
<p>JOG FEED RATE OVERRIDE
</p>
<p>Explanations
</p>
<p>ï¿½ Override Range
</p>
<p>ï¿½ Override during thread
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. TEST OPERATIONOPERATION
</p>
<p>453
</p>
<p>An override of four steps (F0, 25%, 50%, and 100%) can be applied to the
rapid traverse rate.  F0 is set by a parameter (No. 533).
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>Rapid traverse
rate10m/min
</p>
<p>Override
50%
</p>
<p>5m/min
</p>
<p>Fig. 5.3  Rapid traverse override
</p>
<p>Rapid Traverse Override
</p>
<p>Select one of the four feedrates with the rapid traverse override switch
during rapid traverse.  Refer to the appropriate manual provided by the
machine tool builder for rapid traverse override.
</p>
<p>The following types of rapid traverse are available.  Rapid traverse
override can be applied for each of them.
1) Rapid traverse by G00 
2) Rapid traverse during a canned cycle 
3) Rapid traverse in G27, G28 and G30 
4) Manual rapid traverse
5) Rapid traverse in manual reference position return
</p>
<p>5.3
RAPID TRAVERSE
OVERRIDE
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>100
25 50
</p>
<p>LOW
</p>
<p>Rapid traverse override
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/085. TEST OPERATION
</p>
<p>454
</p>
<p>The tool is moved at the feedrate specified by a parameter regardless of
the feedrate specified in the program.  This function is used for checking
the movement of the tool under the state taht the workpiece is removed
from the table.
</p>
<p>Tool
</p>
<p>Table
</p>
<p>Fig. 5.4  Dry run
</p>
<p>Procedure for Dry Run
</p>
<p>Press the dry run switch on the machine operator&rsquo;s panel during automatic
operation.
The tool moves at the feedrate specified in a parameter.  The rapid traverse
switch can also be used for changing the feedrate.
Refer to the appropriate manual provided by the machine tool builder for
dry run.
</p>
<p>The dry run feedrate changes as shown in the table below according to the
rapid traverse switch and parameters.
</p>
<p>Rapid traverse
Program command
</p>
<p>p
button
</p>
<p>Rapid traverse Feed
</p>
<p>ON Rapid traverse rate Jog maximum feedrate
</p>
<p>OFF
Jog feedrate or 
</p>
<p>rapid traverse rate *1)
Jog feedrate
</p>
<p>*1 : Jog feedrate when parameter (bit 6 of No. 001) is 1. 
Rapid traverse rate when that parameter is 0.
</p>
<p>5.4
DRY RUN
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Explanations
</p>
<p>ï¿½ Dry run feedrate
</p>
<p>DRY
RUN
</p>
<p>MC
LOCK
</p>
<p>SINGLE
BLOCK
</p>
<p>OPT
STOP
</p>
<p>MST
LOCK
</p>
<p>BLOCK
SKIP
</p>
<p>WORK
LIGHT
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 5. TEST OPERATIONOPERATION
</p>
<p>455
</p>
<p>Pressing the single block switch starts the single block mode.  When the
cycle start button is pressed in the single block mode, the tool stops after
a single block in the program is executed.  Check the program in the single
block mode by executing the program block by block.
</p>
<p>Cycle start
</p>
<p>Stop
</p>
<p>Workpiece
</p>
<p>Cycle start
</p>
<p>Cycle start
</p>
<p>Stop
</p>
<p>Stop
</p>
<p>Tool
</p>
<p>Fig. 5.5 (a)  Single block
</p>
<p>Procedure for Single block
</p>
<p>1 Press the single block switch on the machine operator&rsquo;s panel.  The
execution of the program is stopped after the current block is
executed.
</p>
<p>2 Press the cycle start button to execute the next block.  The tool stops
after the block is executed.
</p>
<p>Refer to the appropriate manual provided by the machine tool builder
for single block execution.
</p>
<p>5.5
SINGLE BLOCK
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/085. TEST OPERATION
</p>
<p>456
</p>
<p>If G28 to G30 are issued, the single block function is effective at the
intermediate point.
</p>
<p>In a canned cycle, the single block stop points are the end of ,ï¿½ ï¿½, and
ï¿½ shown below.  When the single block stop is made after the point ï¿½
or ï¿½, the feed hold LED lights.
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>Rapid traverse
</p>
<p>Feed
</p>
<p>ï¿½
</p>
<p>S
</p>
<p>S
</p>
<p>S
</p>
<p>(S)
</p>
<p>S : Single block stop point
</p>
<p>Fig. 5.5 (b) Single block during canned cycle
</p>
<p>Single block stop is not performed in a block containing M98P_;. M99;
or G65.
However, single block stop is even performed in a block with M98P_ or
M99 command, if the block contains an address other than O, N or P.
</p>
<p>Explanations
</p>
<p>ï¿½ Reference position
return and single block
</p>
<p>ï¿½ Single block during a
canned cycle
</p>
<p>ï¿½ Subprogram call and
single block
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 6. SAFETY FUNCTIONSOPERATION
</p>
<p>457
</p>
<p>6 SAFETY FUNCTIONS
To immediately stop the machine for safety, press the Emergency stop
button.  To prevent the tool from exceeding the stroke ends, Overtravel
check and Stroke check are available.  This chapter describes emergency
stop., overtravel check, and stroke check.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/086. SAFETY FUNCTIONS
</p>
<p>458
</p>
<p>If you press Emergency Stop button on the machine operator&rsquo;s panel, the
machine movement stops in a moment.
</p>
<p>EMERGENCY STOP
</p>
<p>Red
</p>
<p>Fig. 6.1  Emergency stop
</p>
<p>This button is locked when it is pressed.  Although it varies with the
machine tool builder, the button can usually be unlocked by twisting it.
</p>
<p>EMERGENCY STOP interrupts the current to the motor. 
Causes of trouble must be removed before the button is released.
</p>
<p>6.1
EMERGENCY STOP
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 6. SAFETY FUNCTIONSOPERATION
</p>
<p>459
</p>
<p>When the tool tries to move beyond the stroke end set by the machine tool
limit switch, the tool decelerates and stops because of working the limit
switch and an OVER TRAVEL is displayed.
</p>
<p>Y
</p>
<p>ï¿½
</p>
<p>Deceleration and stop
</p>
<p>Stroke end Limit switch
</p>
<p>Fig. 6.2  Overtravel
</p>
<p>When the tool touches a limit switch along an axis during automatic
operation, the tool is decelerated and stopped along all axes and an
overtravel alarm is displayed.
</p>
<p>In manual operation, the tool is decelerated and stopped only along the
axis for which the tool has touched a limit switch.  The tool still moves
along the other axes.
</p>
<p>Press the reset button to reset the alarm after  moving the tool to the safety
direction by manual operation.  For details on operation, refer to the
operator&rsquo;s manual of the machine tool builder.
</p>
<p>No. Description
</p>
<p>5n4 The tool has exceeded the hardware&ndash;specified overtravel limit along
the positive nth axis (n : 1 to 3).
</p>
<p>5n5 The tool has exceeded the hardware&ndash;specified overtravel limit along
the negative nth axis (n : 1 to 3).
</p>
<p>Setting bit 5 of parameter 0057 enables or disables the overtravel limit
switch.  For details, refer to the manual provided by the machine tool
builder.
</p>
<p>6.2
OVERTRAVEL
</p>
<p>Explanations
</p>
<p>ï¿½ Overtravel during
automatic operation
</p>
<p>ï¿½ Overtravel during
manual operation
</p>
<p>ï¿½ Releasing overtravel
</p>
<p>ï¿½ Alarm
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/086. SAFETY FUNCTIONS
</p>
<p>460
</p>
<p>Two areas which the tool cannot enter can be specified with stored stroke
limit 1, 2 and stored stroke limit 3.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>(I,J,K)
</p>
<p>(I,J,K)
</p>
<p>(X,Y,Z)
</p>
<p>&Ccedil;&Ccedil;ï¿½Forbidden area for the tool
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>(X,Y,Z)
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p> ï¿½ Forbidden area is inside.
</p>
<p>ï¿½ Forbidden area is outside
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;
</p>
<p>Fig. 6.3 (a)  Stroke check
</p>
<p>When the tool exceeds a stored stroke limit, an alarm is displayed and the
tool is decelerated and stopped.
When the tool enters a forbidden area and an alarm is generated, the tool
can be moved in the reverse direction from which the tool came.
</p>
<p>Parameters (Nos. 700 to 707 or Nos. 743 to 750) set boundary.  Outside
the area of the set limits is a forbidden area.  The machine tool builder
usually sets this area as the maximum stroke.
</p>
<p>Parameters (Nos. 804 to 809) or commands set these boundaries.  Inside
or outside the area of the limit can be set as the forbidden area.  Parameter
(No. 024#4) selects either inside or outside as the forbidden area. 
In case of program command a G22 command forbids the tool to enter the
forbidden area, and a G23 command permits the tool to enter the
forbidden area. Each of G22; and G23; should be commanded
independently of another commands in a block.
The command below creates or changes the forbidden area:
</p>
<p>6.3
STROKE CHECK
</p>
<p>Explanations
</p>
<p>ï¿½ Stored stroke limit 1 
and 2
</p>
<p>ï¿½ Stored stroke limit 3
(extended stored stroke
check)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 6. SAFETY FUNCTIONSOPERATION
</p>
<p>461
</p>
<p>(I,J,K)
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>(X,Y,Z)
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>X&gt;I, Y&gt;J, Z&gt;K
X&ndash;I &gt; Î´
Y&ndash;J &gt; Î´
Z&ndash;K &gt; Î´
</p>
<p>G 22X_Y_Z_I_J_K_;
</p>
<p>Î´mm=
7500
</p>
<p>Fmm / min
</p>
<p>Fig. 6.3 (b)  Creating or changing the forbidden area using a program
</p>
<p>When setting the area by parameters, points A and B in the figure below
must be set.
</p>
<p>B (I,J,K)
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>A (X,Y,Z)&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>X&gt;I, Y&gt;J, Z&gt;K
X&ndash;I &gt; Î´
Y&ndash;J &gt; Î´
Z&ndash;K &gt; Î´
</p>
<p>Î´mm=
7500
</p>
<p>Fmm / min
</p>
<p>Fig. 6.3 (c)  Creating or changing the forbidden area using a parameters
</p>
<p>In limit 3, even if you mistake the order of the coordinate value of the two
points, a rectangular, with the two points being the apexes, will be set as
the area.
When you set the forbidden area through parameters  (Nos. 804, 809), the
data should be specified by the distance from the reference position in the
least command increment (Output increment).
If it is set by a G22 command, specify the data  by the distance from the
reference position in the least input increment (Input increment.)   The
programmed data are then converted into the numerical values in the least
command increment, and the values are set as the parameters.
At power&ndash;on, G22 mode is selected.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/086. SAFETY FUNCTIONS
</p>
<p>462
</p>
<p>Confirm the checking position (the top of the tool or the tool chuck) before
programming the forbidden area.
If point A (The top of the tool) is checked in Fig. 6.3 (d) , the distance &ldquo;a&rdquo;
should be set as the data for the stored stroke limit function.  If point B
(The tool chuck) is checked, the distance &ldquo;b&rdquo; must be set. When checking
the tool tip (like point A), and if the tool length varies for each tool, setting
the forbidden area for the longest tool requires no re&ndash;setting and results
in safe operation.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>A
</p>
<p>B
</p>
<p>a
</p>
<p>b
</p>
<p>The position of the
tool after reference
position return
</p>
<p>Area boundary
</p>
<p>Fig. 6.3 (d)  Setting the forbidden area
</p>
<p>Area can be set in piles.
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>Fig. 6.3 (e)  The forbidden area over lapping
</p>
<p>Unnecessary limits should be set beyond the machine stroke.
</p>
<p>If the maximum rapid traverse rate is F mm/minute, the maximum
overrun amount, L mm, of the stored stroke limit is obtained from the
following expression:
</p>
<p>L mm = F/7500
The tool enters the specified inhibited area by up to L mm.  The tool can
be stopped at a position up to L mm in front of the inhibited area if bit 7
of parameter 0076 is specified accordingly.  In this case, the tool will not
enter the inhibited area.
</p>
<p>ï¿½ Checkpoint for the
forbidden area
</p>
<p>ï¿½ Forbidden area over&ndash;
lapping
</p>
<p>ï¿½ Overrun amount of
stored stroke limit
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 6. SAFETY FUNCTIONSOPERATION
</p>
<p>463
</p>
<p>Bit 3 of parameter 065 is used to select whether each stroke limit is
enabled, either immediately after power&ndash;on or later, after a manual
reference position return or reference position return by G28.
After the power is turned on, if the reference position is in the forbidden
area of each limit, an alarm is generated immediately.  (Only in G22 mode
for stored stroke limit 3).
</p>
<p>If a stroke check alarm occurs, manually retract the tool from the inhibited
area in the direction opposite to the displayed alarm direction.  Press the
reset key to cancel the alarm.  If the tool has entered two inhibited areas,
thus preventing manual retraction of the tool, set the system to the
emergency stop state.  Change the stroke limit parameter and cancel the
alarm.  Then, manually retract the tool.
</p>
<p>When G23 is switched to G22 in the forbidden area, the following results.
</p>
<p>ï¿½ When the forbidden area is inside, an alarm is informed in the next
move.
</p>
<p>ï¿½ When the forbidden area is outside, an alarm is informed immediately.
</p>
<p>NOTE
In setting  a forbidden area, if the two points to be set are the
same, the area is as follows:
1 When the forbidden area is limit 1, 2, all areas are
</p>
<p>forbidden areas.
2 When the forbidden area is limit 3, all areas are movable
</p>
<p>areas.
</p>
<p>Number Message Contents
</p>
<p>5n0 OVER TRAVEL: +n Exceeded the n&ndash;th axis (1&ndash;8) + side stored
stroke limit 1 or 2.
</p>
<p>5n1 OVER TRAVEL: &ndash;n Exceeded the n&ndash;th axis (1&ndash;8) ï¿½ side stored
stroke limit 1 or 2.
</p>
<p>5n2 OVER TRAVEL: +n Exceeded the n&ndash;th axis (1&ndash;3) + side stored
stroke limit 3.
</p>
<p>5n3 OVER TRAVEL: &ndash;n Exceeded the n&ndash;th axis (1&ndash;3) ï¿½ side
stored stroke limit 3.
</p>
<p>ï¿½ Effective time for a
forbidden area
</p>
<p>ï¿½ Releasing the alarms
</p>
<p>ï¿½ Change from G23 to G22
in a forbidden area
</p>
<p>Alarms
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/08
7. ALARM AND SELF&ndash;DIAGNOSIS
</p>
<p>FUNCTIONS
</p>
<p>464
</p>
<p>7 ï¿½
ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ ï¿½ï¿½
ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½&#13;ï¿½	ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½	&#13;ï¿½ï¿½
When an alarm occurs, the corresponding alarm screen appears to indicate
the cause of the alarm.  The causes of alarms are classified by error codes.
The system may sometimes seem to be at a halt, although no  alarm is
displayed.   In this case, the system may be performing some processing.
The state of the system can be checked using the self&ndash;diagnostic function.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
7. ALARM AND SELF&ndash;DIAGNOSIS
</p>
<p>FUNCTIONSOPERATION
</p>
<p>465
</p>
<p>When an alarm occurs, the alarm screen appears.
</p>
<p>ALARM MESSAGE         O0000 N0000
</p>
<p>   100  P/S ALARM
   417  SERVO ALARM : X AXIS DGTL PARAM
   427  SERVO ALARM : Y AXIS DGTL PARAM
</p>
<p>          S    0 T
NOT READY ALARM       MDI       
[ ALARM ][  OPR  ][  MSG  ][     ][     ]
</p>
<p>In some cases, the alarm screen may not be displayed.  Instead, ALARM
will blink at the bottom of the screen.
</p>
<p>PARAMETER           O0100 N0002
</p>
<p>   (SETTING 1)
    REVX = 0
    REVY = 0
    TVON = 0
    ISO = 1   (0:EIA 1:ISO  )
    INCH = 0   (0:MM 1:INCH)
    I/O = 0
    ABS = 0   (0:INC 1:ABS)
    SEQ = 0
</p>
<p>     CLOCK 93/12/07
           19:34:32
NO. REVX =         S    0 T  
NOT READY ALARM       MDI
[ PARAM ][ DGNOS ][      ][ SV&ndash;PRM ][     ]
</p>
<p>In this case, display the alarm screen as follows:
</p>
<p>1 Press the function OPRALARM key .
</p>
<p>2 Press the soft key [ALARM] .
</p>
<p>7.1
ALARM DISPLAY
</p>
<p>Explanations
</p>
<p>ï¿½ Alarm screen
</p>
<p>ï¿½ Another method for
alarm displays
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/08
7. ALARM AND SELF&ndash;DIAGNOSIS
</p>
<p>FUNCTIONS
</p>
<p>466
</p>
<p>Error codes and messages indicate the cause of an alarm.  To recover from
an alarm, eliminate the cause and press the reset key.
</p>
<p>The error codes are classified as follows:
No. 000 to 250: Program errors(*1)
No. 3n0 to 3n8: Absolute pulse coder (APC) alarms (*2)
No. 3n9: Serial pulse coder (SPC) alarms (*2)
No. 400 to 495: Servo alarms
No. 510 to 581: Overtravel alarms
No. 600 to 607: PMC alarms
No. 700 to 704: Overheat alarms
No. 910 to 988: System alarms
</p>
<p>*1) For an alarm (No. 000 to 250) that occurs in association with
background operation, the indication &rdquo;xxxBP/S alarm&rdquo; is provided
(where xxx is an alarm number).  Only a BP/S alarm is provided for
No. 140.
</p>
<p>*2) n is controlled axis number.
</p>
<p>See the error code list in the Appendix G for details of the error codes.
</p>
<p>ï¿½ Reset of the alarm
</p>
<p>ï¿½ Error codes
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
7. ALARM AND SELF&ndash;DIAGNOSIS
</p>
<p>FUNCTIONSOPERATION
</p>
<p>467
</p>
<p>The system may sometimes seem to be at a halt, although no alarm has
occurred.  In this case, the system may be performing some processing.
The state of the system can be checked by displaying the self&ndash;diagnostic
screen.
</p>
<p>Procedure for Diagnois
</p>
<p>1 Press the function key DGNOSPARAM .
</p>
<p>2 Press the soft key [DGNOS].
</p>
<p>3 The diagnostic screen has more than 1 pages.  Select the screen by the
following operation.
</p>
<p>(1) Change the page by the 1&ndash;page change key.
</p>
<p>(2) &middot; Press the No.  key.
</p>
<p>&middot; Key input the number of the diagnostic data to be displayed. 
</p>
<p>&middot; Press the INPUT  key.
</p>
<p>PARAMETER          O1224 N0000
</p>
<p>  NO.       DATA       NO.       DATA 
  0700    00000000     0725    00000000
  0701    00000000     0726    00000000
  0710    00000000     0727    00000000
  0711    00000000     0730    00000000
  0712    00000000     0731    00000000
  0720    00000000     0732    00000000
  0721    00000000     0733    00000000
  0722    00000000     0734    00000000
  0723    00000000     0735    00000000
  0724    00000000     0736    00000000
  
NO. 0700 =         S    0 T  
 04:02:02      AUTO
[ PARAM ][ DGNOS ][      ][ SV&ndash;PRM ][      ]
</p>
<p>#7
0700
</p>
<p>#6
CSCT
</p>
<p>#5
CITL
</p>
<p>#4
COVZ
</p>
<p>#3
CINP
</p>
<p>#2
CDWL
</p>
<p>#1
CMTN
</p>
<p>#0
CFIN
</p>
<p>When a digit is &ldquo;1&rdquo;, the corresponding status is effective.
</p>
<p>CFIN The M, S, O, or T function is being executed.
</p>
<p>CMTN A move command in the cycle operation is being executed.
</p>
<p>CDWL Dwell is being executed.
</p>
<p>CINP An in&ndash;posiiton check is being executed.
</p>
<p>COVZ Override is at 0%.
</p>
<p>CITL Interlock signal (STLK) is turned on.
</p>
<p>CSCT Speed arrival signal of spindle is turned on.
</p>
<p>7.2
CHECKING BY
SELF&ndash;DIAGNOSTIC
SCREEN
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/08
7. ALARM AND SELF&ndash;DIAGNOSIS
</p>
<p>FUNCTIONS
</p>
<p>468
</p>
<p>#7
0701
</p>
<p>#6 #5
CRST
</p>
<p>#4 #3 #2 #1 #0
</p>
<p>CRST One of the following : The reset button on the MDI panel, emergency stop,
or remote reset is on.
</p>
<p>#7
STP0712
</p>
<p>#6
REST
</p>
<p>#5
EMS
</p>
<p>#4 #3
RSTB
</p>
<p>#2 #1 #0
CSU
</p>
<p>Indicates automatic operation stop or feed hold status.  These are used for
troubleshooting.
</p>
<p>STP The flag which stops the automatic operation.  This is set at the following
condition.
</p>
<p>ï¿½ External reset signal is turned on.
</p>
<p>ï¿½ Emergency stop signal is turned on.
</p>
<p>ï¿½ Feed hold signal is turned on.
</p>
<p>ï¿½ Reset button on the CRT/MDI panel is turned on.
</p>
<p>ï¿½ The mode is changed to the manual mode, such as JOG,
HANDLE/STEP, TEACH INJOG, TEACH IN HANDLE.
</p>
<p>ï¿½ Other alarm is generated.
</p>
<p>REST This is set when one of the external reset, emergency stop, or reset button
is set on.
</p>
<p>EMS This is set when the emergency stop is set on.
</p>
<p>RSTB This is set when the reset button is on.
</p>
<p>CSU This is set when the emergency stop is turned on, or when the servo alarm
has been generated.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 8. DATA INPUT/OUTPUTOPERATION
</p>
<p>469
</p>
<p>8 DATA INPUT/OUTPUT
NC data is transferred between the NC and external input/output devices
such as the Handy File.  
The following types of data can be entered and output :
 1.Program
 2.Offset data
 3.Parameter
 4.Pitch error compensation data
 5.Custom macro common variable
Before an input/output device can be used, the input/output related
parameters must be set.
</p>
<p>FANUC Handy File
</p>
<p>RS&ndash;422
interface
</p>
<p>RS&ndash;232&ndash;C
interface
</p>
<p>RS&ndash;232&ndash;C or
RS&ndash;422 interface
(Punch panel etc...)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/088. DATA INPUT/OUTPUT
</p>
<p>470
</p>
<p>Of the external input/output devices, the FANUC Handy File and FANUC
Floppy Cassette use floppy disks as their input/output medium, and the
FANUC FA Card uses an FA card as its input/output medium.
In this manual, an input/output medium is generally referred to as a
floppy.  However, when the description of one input/output medium
varies from the description of another, the name of the input/output
medium is used.  In the text below, a floppy represents a floppy disk or
FA card.
Unlike an NC tape, a floppy allows the user to freely choose from several
types of data stored on one medium on a file&ndash;by&ndash;file basis.
Input/output is possible with data extending over more than one floppy
disk.
</p>
<p>The unit of data, which is input/output between the floppy and the CNC
by one input/output operation (pressing the [READ] or [PUNCH] key),
is called a &ldquo;file&rdquo;. When inputting CNC programs from, or outputting them
to the floppy, for example, one or all programs within the CNC memory
are handled as one file.
Files are assigned automatically file numbers 1,2,3,4 and so on, with the
lead file as 1.
</p>
<p>File 1 File n BlankFile 2 File 3
</p>
<p>When one file has been entered over two floppies, LEDs on the adaptor
flash alternately on completion of data input/output between the first
floppy and the CNC, prompting floppy replacement.  In this case, take the
first floppy out of the adaptor and insert a second floppy in its place. Then,
data input/output will continue automatically.
Floppy replacement is prompted when the second floppy and later is
required during file search&ndash;out, data input/output between the CNC and
the floppy, or file deletion.
Floppy 1
</p>
<p>File 1 File 2 File 3 File (k&ndash;1) File k
</p>
<p>Floppy 2
</p>
<p>Continuation
of file k File (k+1) File n Blank
</p>
<p>Since floppy replacement is processed by the input/output device, no
special operation is required.  The CNC will interrupt data input/output
operation until the next floppy is inserted into the adaptor.
When reset operation is applied to the CNC during a request for floppy
replacement, the CNC is not reset at once, but reset after the floppy has
been replaced.
</p>
<p>8.1
FILES
</p>
<p>Explanations
</p>
<p>ï¿½ What is a File
</p>
<p>ï¿½ Request for floppy
replacement
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 8. DATA INPUT/OUTPUTOPERATION
</p>
<p>471
</p>
<p>The floppy is provided with the write protect switch.  Set the switch to the
write enable state. Then, start output operation.
</p>
<p>Write protect switch
</p>
<p>(2) Write&ndash;enabled (Reading, writ-
ing, and deletion are possible.)
</p>
<p>Write protect switch of a cassette Write protect switch of a card
</p>
<p>(1) Write&ndash;protected
(Only reading is
possible.)
</p>
<p>(1) Write&ndash;protected
(Only reading is
possible.)
</p>
<p>(2) Write&ndash;enabled (Reading, writ-
ing, and deletion are possible.)
</p>
<p>Fig. 8.1   Protect swtich
</p>
<p>Once written in the cassette or card, data can subsequently be read out by
correspondence between the data contents and file numbers. This
correspondence cannot be verified, unless the data contents and file
numbers are output to the CNC and displayed. The data contents can be
displayed with display function for directory of floppy disk
(See Section 8.8).
To display the contents,write the file numbers and the contents on the
memo column which is the back of floppy.
</p>
<p>(Entry example on MEMO)
File 1 NC parameters
File 2 Offset data
File 3 NC program O0100
</p>
<p>&sdot; &sdot;
&sdot; &sdot;
&sdot; &sdot;
</p>
<p>File (n&ndash;1) NC program O0500
File n NC program O0600
</p>
<p>ï¿½ Protect switch
</p>
<p>ï¿½ Writing memo
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/088. DATA INPUT/OUTPUT
</p>
<p>472
</p>
<p>When the program is input from the floppy, the file to be input first must
be searched.
For this purpose, proceed as follows:
</p>
<p>File 1
</p>
<p>File searching of the file n
</p>
<p>File n BlankFile 2 File 3
</p>
<p>Procedure for File heading
</p>
<p>1 Press the EDIT or AUTO switch on the machine operator&rsquo;s panel.
</p>
<p>2 Press function PRGRM key and display the program screen..
</p>
<p>3 Enter address N key.
</p>
<p>4 Enter the number of the file to search for.
</p>
<p>ï¿½ N0
The beginning of the cassette or card is searched.
</p>
<p>ï¿½ One of N1 to N9999
Of the file Nos. 1 to 9999, a designated file is searched.
</p>
<p>ï¿½ N&ndash;9999
The file next to that accessed just before is searched.
</p>
<p>ï¿½ N&ndash;9998
When N&ndash;9998 is designated, N&ndash;9999 is automatically
inserted each time a file is input or output.  This condition is
reset by the designation of N1,N1 to 9999, or Nï¿½9999 or reset.
</p>
<p>5 Press soft key INPUT .  The specified file is searched for.
</p>
<p>The same result is obtained both by sequentially searching the files by
specifying Nos. N1 to N9999 and by first searching one of N1 to N9999
and then using the N&ndash;9999 searching method. The searching time is
shorter in the latter case.
</p>
<p>No. Description
</p>
<p>86 The ready signal (DR) of an input/output device is off.
</p>
<p>An alarm is not immediately indicated in the CNC even when an
alarm occurs during head searching (when a file is not found, or
the like).
</p>
<p>An alarm is given when the input/output operation is performed af-
ter that. This alarm is also raised when N1 is specified for writing
data to an empty floppy.  (In this case, specify N0.)
</p>
<p>8.2
FILE SEARCH
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Explanations
</p>
<p>ï¿½ File search by N&ndash;9999
</p>
<p>Alarmww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 8. DATA INPUT/OUTPUTOPERATION
</p>
<p>473
</p>
<p>Files stored on a floppy can be deleted file by file as required.
</p>
<p>Procedure for File Deletion
</p>
<p>1 Insert the floppy into the input/output device so that it is ready for
writing.
</p>
<p>2 Press the EDIT switch on the machine operator&rsquo;s panel.
</p>
<p>3 Press function PRGRM key and display the program screen.
</p>
<p>4 Enter address N key.
</p>
<p>5 Enter the number (from 1 to 9999) of the file to delete.
</p>
<p>6 Press soft key OUTPTSTART .
</p>
<p>The specified file is deleted.
</p>
<p>When a file is deleted, the file numbers after the deleted file are each
decremented by one.  Suppose that a file numbered k was deleted.  In this
case, files are renumbered as follows:
</p>
<p>Before deletion after deletion
1 to (k&ndash;1) 1 to (k&ndash;1). . . 
k Deleted. . . . . . . . . . 
(k+1) to n k to (n&ndash;1). . . 
</p>
<p>Set the write protect switch to the write enable state to delete the files.
</p>
<p>8.3
FILE DELETION
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Explanations
</p>
<p>ï¿½ File number after the file
is deleted
</p>
<p>ï¿½ Protect  switch
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/088. DATA INPUT/OUTPUT
</p>
<p>474
</p>
<p>This section describes how to load a program into the CNC from a floppy
or NC tape.
</p>
<p>Procedure for Inputting a Program
</p>
<p>1 Make sure the input device is ready for reading.
</p>
<p>2 Press the EDIT switch on the machine operator&rsquo;s panel.
</p>
<p>3 When using a floppy, search for the required file according to the
procedure in Section 8.2.
</p>
<p>4 Press function PRGRM key and display the program screen.
</p>
<p>5 After entering address O, specify a program number to be assigned to
the program.  When no program number is specified here, the
program number used on the floppy or NC tape is assigned.
</p>
<p>6 Press soft key INPUT .  
</p>
<p>The program is input and the program number specified is assigned to
the program.
</p>
<p>7 To abandon the input at any point, press the RESET  key.
</p>
<p>If a program is input while the data protect key on the machine operator&rsquo;s
panel turns ON, the program loaded into the memory is verified against
the contents of the floppy or NC tape.
If a mismatch is found during collation, the collation is terminated with
an alarm (P/S No. 79).
If the operation above is performed with the data protection key turns
OFF, collation is not performed, but programs are registered in memory.
</p>
<p>When a tape holds multiple programs, the tape is read up to ER (or %).
</p>
<p>O3333   M02;O1111 M02; ER(%)O2222   M30;
</p>
<p>8.4
PROGRAM
INPUT/OUTPUT
</p>
<p>8.4.1
Inputting a Program
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Explanations
</p>
<p>ï¿½ Collation
</p>
<p>ï¿½ Inputting multiple
programs from an NC
tapeww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 8. DATA INPUT/OUTPUTOPERATION
</p>
<p>475
</p>
<p>ï¿½ When a program is entered without specifying a program number.
</p>
<p>&sdot; The O&ndash;number of the program on the NC tape is assigned to the
program.  If the program has no O&ndash;number, the N&ndash;number in the first
block is assigned to the program.
</p>
<p>&sdot; When the program has neither an O&ndash;number nor N&ndash;number, the
previous program number is incremented by one and the result is
assigned to the program.
</p>
<p>ï¿½ When a program is entered with a program number 
The O&ndash;number on the NC tape is ignored and the specified number is
assigned to the program.  When the program is followed by additional
programs, the first additional program is given the program number.
Additional program numbers are calculated by adding one to the last
program.
</p>
<p>The soft keys can be used to input a program.
</p>
<p>This operation is enabled if the floppy disk directory display function is
not supported or, if the function is supported, the Floppy Cassette is not
specified as the input/output unit.
</p>
<p>Procedure for program input with the soft keys
</p>
<p>1 Display the program screen in EDIT mode or background edit mode.
</p>
<p>2 Press the [I/O]  soft key.
</p>
<p>3 Input address O , then the program number.  If this step is skipped,
</p>
<p>the program number on the NC tape is automatically selected.
</p>
<p>4 Press the [READ]  soft key.  To abandon input at any point, press the
[STOP]  soft key.
</p>
<p>5 After input has been completed, press the [CAN]  soft key to display
the program screen again.
</p>
<p>Program input is identical to that in foreground edit mode.  If the reset key
is pressed to abandon input in the background while a program is being
executed, however, the program execution is also halted.  To input a
program in background edit mode, use the soft keys.
</p>
<p>No. Description
</p>
<p>70 The size of memory is not sufficient to store the input programs
</p>
<p>73 An attempt was made to store a program with an existing program
number.
</p>
<p>79 The verification operation found a mismatch between a program
loaded into memory and the contents of the program on the floppy
or NC tape.
</p>
<p>ï¿½ Program numbers on a
NC tape
</p>
<p>ï¿½ Input with the soft keys
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ Program input in
background edit mode
</p>
<p>Alarmww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/088. DATA INPUT/OUTPUT
</p>
<p>476
</p>
<p>A program stored in the memory of the CNC unit is output to a floppy or
NC tape.
</p>
<p>Procedure for Outputting a Program
</p>
<p>1 Make sure the output device is ready for output.
</p>
<p>2 To output to an NC tape, specify the punch code system (ISO or EIA)
using a parameter.  To output the program to a floppy disk, select ISO.
</p>
<p>3 Press the EDIT switch on the machine operator&rsquo;s panel.
</p>
<p>4 Press function PRGRM key.
</p>
<p>5 Enter address O key.
</p>
<p>6 Enter a program number.  If &ndash;9999 is entered, all programs stored in
memory are output.
To output multiple programs by full MDI key at one time, enter a
range as follows :
Oââââ,Oï¿½ï¿½ï¿½ï¿½
Programs No.ââââ to No.ï¿½ï¿½ï¿½ï¿½ are output.
</p>
<p>7 Press soft key OUTPTSTART .
</p>
<p>The specified program or programs are output.
</p>
<p>When output is conducted to the floppy, the program is output as the new
file after the files existing in the floppy.  New files are to be written from
the beginning with making the old files invalid, use the above  output
operation after the N0 head searching.
</p>
<p>When P/S alarm 86 occurs during program output, the floppy is restored
to the condition before the output.
</p>
<p>When program output is conducted after N1 to N9999 head searching, the
new file is output as the designated n&ndash;th position.  In this case, 1 to n&ndash;1
files are effective, but the files after the old n&ndash;th one are deleted.  If an
alarm occurs during output, only the 1 to n&ndash;1 files are restored.
</p>
<p>To efficiently use the memory in the cassette or card, output the program
by setting parameter (No. 002#7, No. 012#7, No. 050#7, or 051#7) to 1.
This parameter makes the feed is not output, utilizing the memory
efficiently.
</p>
<p>Head searching with a file No. is necessary when a file output from the
CNC to the floppy is again input to the CNC memory or compared with
the content of the CNC memory.  Therefore, immediately after a file is
output from the CNC to the floppy, record the file No. on the memo.
</p>
<p>8.4.2
Outputting a Program
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Explanations
(Output to a floppy)
</p>
<p>ï¿½ File output location
</p>
<p>ï¿½ An alarm while a
program is output
</p>
<p>ï¿½ Outputting a program
after file heading
</p>
<p>ï¿½ Efficient use of memory
</p>
<p>ï¿½ On the memo record
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 8. DATA INPUT/OUTPUTOPERATION
</p>
<p>477
</p>
<p>The soft keys can be used to input a program.
</p>
<p>This operation is enabled if the floppy disk directory display function is
not supported or, if the function is supported, the Floppy Cassette is not
specified as the input/output unit.
</p>
<p>Procedure for program output with the soft keys
</p>
<p>1 Display the program screen in EDIT mode or background edit mode.
</p>
<p>2 Press the [I/O]  soft key.
</p>
<p>3 Input address O , then the program number.  If &ndash;9999 is entered as
</p>
<p>the program number, all programs in memory are output.
To output multiple programs by full MDI key at one time, enter a
range as follows :
Oââââ,Oï¿½ï¿½ï¿½ï¿½
Programs No.ââââ to No.ï¿½ï¿½ï¿½ï¿½ are output.
</p>
<p>4 Press the [PUNCH]  soft key.  To abandon input at any point, press the
[STOP]  soft key.
</p>
<p>5 After input has been completed, press the [CAN]  soft key to display
the program screen again.
</p>
<p>Program input is identical to that in foreground edit mode.  If the reset key
is pressed to abandon input in the background while a program is being
executed, however, the program execution is also halted.  A program that
is currently selected in the foreground can also be output.
</p>
<p>NOTE
Some machines also use the         key, used to start
punching of the CNC tape in the background, as the cycle
start key to start automatic operation.  If such a machine is
being used, punch the CNC tape in a mode other than
automatic operation mode.  (To check whether the key is
used for both purposes, refer to the manual provided by the
machine tool builder.)
</p>
<p>OUTPT
START
</p>
<p>ï¿½ Output with the soft keys
</p>
<p>ï¿½ Program outnput in
background edit mode
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/088. DATA INPUT/OUTPUT
</p>
<p>478
</p>
<p>A program is output to paper tape in the following format:
ER
(%)
</p>
<p>Program ER
(%)
</p>
<p>Feed of 3 feet Feed of 3 feet
</p>
<p>If three&ndash;feet feeding is too long, press the CAN  key during feed punching
</p>
<p>to cancel the subsequent feed punching.
</p>
<p>A space code for TV check is automatically punched.
</p>
<p>When a program is punched in ISO code, two CR codes are punched after
an LF code.
</p>
<p>LF CR CR
</p>
<p>Only LF can be punched as the EOB if bit 7 of parameter 070 is specified
accordingly.
</p>
<p>Press the RESET  key to stop punch operation.
</p>
<p>All programs are output to paper tape in the following format.
ER
(%)
</p>
<p>Program Program Program ER
(%)
</p>
<p>Space of 1&ndash;feet Feed of 3&ndash;feet
</p>
<p>The sequence of the programs punched is undefined.
</p>
<p>Explanations
(Output to an NC tape)
</p>
<p>ï¿½ Format
</p>
<p>ï¿½ TV check
</p>
<p>ï¿½ ISO code
</p>
<p>ï¿½ Stopping the punch
</p>
<p>ï¿½ Punching all programs
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 8. DATA INPUT/OUTPUTOPERATION
</p>
<p>479
</p>
<p>Offset data is loaded into the memory of the CNC from a floppy or NC
tape. The input format is the same as for offset value output. See section
8.5.2.
When an offset value is loaded which has the same offset number as an
offset number already registered in the memory, the loaded offset data
replaces existing data.
</p>
<p>Procedure for Inputting Offset data
</p>
<p>1 Make sure the input device is ready for reading
</p>
<p>2 Press the EDIT switch on the machine operator&rsquo;s panel.
</p>
<p>3 When using a floppy, search for the required file according to the
procedure in Section 8.2.
</p>
<p>4 Press function MENUOFSET key.and display the offset screen.
</p>
<p>5 Press INPUT key.
</p>
<p>The input offset data will be displayed on the screen after completion
of input operation.
</p>
<p>8.5
OFFSET DATA INPUT
AND OUTPUT
</p>
<p>8.5.1
Inputting Offset Data
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/088. DATA INPUT/OUTPUT
</p>
<p>480
</p>
<p>All offset data is output in a output format from the memory of the CNC
to a floppy or NC tape.
</p>
<p>Procedure for Outputting Offset Data
</p>
<p>1 Make sure the output device is ready for output.
</p>
<p>2 Specify the punch code system (ISO or EIA) using a parameter.
</p>
<p>3 Press the EDIT switch on the machine operator&rsquo;s panel.
</p>
<p>4 Press function MENUOFSET key.
</p>
<p>5 Press soft keyOUTPUTSTART .
</p>
<p>Offset data is output in the output format described below.
</p>
<p>Output format is as follows:
</p>
<p>Format
(1)For tool compensation memory A
</p>
<p>G10 P_R_;
where P_:  Offset No.
</p>
<p>R_:  Tool compensation amount
</p>
<p>(2)For tool compensation memory B
Setting/changing the geometric compensation amount
G10 L10 P_R_;
Setting/changing the wear compensation amount
G10 L11 P_R_;
</p>
<p>The L1 command may be used instead of L11 for format compatibility of
the conventional CNC.
</p>
<p>When the floppy disk directory display function is used, the name of the
output file is OFFSET.
</p>
<p>8.5.2
Outputting Offset Data
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Explanations
</p>
<p>ï¿½ Output format
</p>
<p>ï¿½ Output file name
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 8. DATA INPUT/OUTPUTOPERATION
</p>
<p>481
</p>
<p>Parameters and pitch error compensation data are input and output from
different screens, respectively. This chapter describes how to enter them.
</p>
<p>Parameters are loaded into the memory of the CNC unit from a floppy or
NC tape.  The input format is the same as the output format.  See Section
8.6.2.  When a parameter is loaded which has the same data number as a
parameter already registered in the memory, the loaded parameter
replaces the existing parameter.
</p>
<p>Inputting parameters
</p>
<p>1 Make sure the input device is ready for reading.
</p>
<p>2 When using a floppy, search for the required file according to the
procedure in Section 8.2.
</p>
<p>3 Press the EMERGENCY STOP button on the machine operator&rsquo;s
panel.
</p>
<p>4 Press function DGNOSPARAM key and display the parameter screen.
</p>
<p>5 Enter 1 in response to the prompt for writing parameters (PWE).
Alarm P/S100 (indicating that parameters can be written) appears.
</p>
<p>6 Press soft key INPUT .
</p>
<p>Parameters are read into memory.  Upon completion of input, the
&ldquo;INPUT&rdquo; indicator at the lower&ndash;right corner of the screen disappears.
</p>
<p>7 Enter 0 in response to the prompt for writing parameters.
</p>
<p>8 Turn the power to the NC back on.
</p>
<p>9 Release the EMERGENCY STOP button on the machine operator&rsquo;s
panel.
</p>
<p>NOTE
For a full keyboard, before performing this procedure, set bit 3 of
parameter No. 0038 to 1.
</p>
<p>8.6
INPUTTING AND
OUTPUTTING
PARAMETERS AND
PITCH ERROR
COMPENSATION
DATA
</p>
<p>8.6.1
Inputting Parameters
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/088. DATA INPUT/OUTPUT
</p>
<p>482
</p>
<p>All parameters are output in the defined format from the memory of the
CNC to a floppy or NC tape.
</p>
<p>Outputting parameters
</p>
<p>1 Make sure the output device is ready for output.
</p>
<p>2 Specify the punch code system (ISO or EIA) using a parameter.
</p>
<p>3 Press the EDIT switch on the machine operator&rsquo;s panel.
</p>
<p>4 Press function DGNOSPARAM key. and display the parameter screen.
</p>
<p>5 Press soft key OUTPUTSTART .
</p>
<p>All parameters are output in the defined format.
</p>
<p>Output format is as follows:
N P ;. . . . . . . . 
</p>
<p>N:Parameter No.
P:Parameter setting value .
</p>
<p>When the floppy disk directory display function is used, the name of the
output file is PARAMETER.
</p>
<p>8.6.2
Outputting Parameters
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Explanations
</p>
<p>ï¿½ Output format
</p>
<p>ï¿½ Output file name
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 8. DATA INPUT/OUTPUTOPERATION
</p>
<p>483
</p>
<p>The value of a custom macro B common variable (#500 to #999) is loaded
into the memory of the CNC from a floppy or NC tape.  The same format
used to output custom macro B common variables is used for input.  See
Section 8.7.2.  For a custom macro common variable to be valid, the input
data must be executed by pressing the cycle start button after data is input.
When the value of a common variable is loaded into memory, this value
replaces the value of the same common variable already existing (if any)
in memory.
</p>
<p>Inputting custom macro common variables
</p>
<p>1 Input the program according to the procedure in Section 8.4.1.
</p>
<p>2 Press the AUTO switch on the machine operator&rsquo;s panel upon
completing input.
</p>
<p>3 Press the cycle start button to execute the loaded program.
</p>
<p>4 Display the macro vriable screen to chek whether the values of the
common variables have been set correctly.
</p>
<p>The common variables (#500 to #531) can be input and output.
When the option for adding a common variable is specified, values from
#500 to #999 can be input and output.  Common variables #100 to 199
cannot be input or output.
</p>
<p>8.7
INPUTTING/
OUTPUTTING
CUSTOM MACRO B
COMMON
VARIABLES
</p>
<p>8.7.1
Inputting Custom
Macro B Common
Variables
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Explanations
</p>
<p>ï¿½ Common variables
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/088. DATA INPUT/OUTPUT
</p>
<p>484
</p>
<p>Custom macro common variables (#500 to #999) stored in the memory
of the CNC can be output in the defined format to a floppy or NC tape.
</p>
<p>Outputting custom macro common variable
</p>
<p>1 Make sure the output device is ready for output.
</p>
<p>2 Specify the punch code system (ISO or EIA) using a parameter.
</p>
<p>3 Press the EDIT switch on the machine operator&rsquo;s panel.
</p>
<p>4 Press function MENUOFSET key and display the macro variables.
</p>
<p>5 Press function OUTPTSTART key.  Common variables are output in the defined
</p>
<p>format.
</p>
<p>The output format is as follows:
</p>
<p>%
;
#500=[25283*65536+65536]/134217728 ï¿½. . . . . . 
#501=#0; ï¿½. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
#502=0; ï¿½. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
#503= ;. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>;. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
;. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</p>
<p>#531= ;. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
M02;
%
</p>
<p>ï¿½ The precision of a variable is maintained by outputting the value of the
variable as &lt;expression&gt;.
</p>
<p>ï¿½ Undefined variable
</p>
<p>ï¿½ When the value of a variable is 0
</p>
<p>When the floppy disk directory display function is used, the name of the
output file is [MACRO VAR ].
</p>
<p>The common variables (#500 to #531) can be input and output.
When the option for adding a common variable is specified, values from
#500 to #999 can be input and output.
Common variables #100 to 199 cannot be input or output.
</p>
<p>8.7.2
Outputting Custom
Macro B Common
Variable
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Explanations
</p>
<p>ï¿½ Output format
</p>
<p>ï¿½ Output file name
</p>
<p>ï¿½ Common variableww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 8. DATA INPUT/OUTPUTOPERATION
</p>
<p>485
</p>
<p>On the floppy directory display screen, a directory of the FANUC Handy
File, FANUC Floppy Cassette, or FANUC FA Card files can be displayed.
In addition, those files can be loaded, output, and deleted.
</p>
<p>O0001  N00000
 (METER) VOL
</p>
<p>DIRECTORY (FLOPPY)
    NO.   FILE NAME
</p>
<p>         S    0 T
 19:35:17      EDIT       
[ SRHFIL ][ READ ][ PUNCH ][ DELETE ][      ]
</p>
<p>This operation is enabled if the floppy disk directory display function is
supported and the Floppy Cassette is specified as the input/output unit.
</p>
<p>8.8
DISPLAYING
DIRECTORY OF
FLOPPY DISK
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/088. DATA INPUT/OUTPUT
</p>
<p>486
</p>
<p>Displaying the directory of floppy disk files
</p>
<p>Use the following procedure to display a directory of all the
files stored in a floppy:
</p>
<p>1 Press the EDIT switch on the machine operator&rsquo;s panel.
</p>
<p>2 Press function PRGRM key .
</p>
<p>3 Press soft key [FLOPPY] .
</p>
<p>4 Press page key  or .
</p>
<p>5 The screen below appears.
</p>
<p>O0555 N0000
 (METER) VOL
</p>
<p>19:36:51 EDIT
</p>
<p>0001 PARAMETER
0002 ALL. PROGRAM
0003 O0001
0004 O0002
0005 O0003
0006 O0004
0007 O005
0008 O0100
0009 O0555
</p>
<p>65.6
 1.9
 1.3
 1.3
 1.3
 1.3
 1.3
 1.9
 1.3
</p>
<p>DIRECTORY (FLOPPY)
   NO. FILE NAME
</p>
<p>S 0  T
</p>
<p>[ SRHFIL ][ READ ][ PUNCH ][ DELETE ][     ]
</p>
<p>Fig. 8.8.1 (a)
</p>
<p>6 Press a page key again to display another page of the directory.
</p>
<p>8.8.1
Displaying the
Directory
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 8. DATA INPUT/OUTPUTOPERATION
</p>
<p>487
</p>
<p>Use the following procedure to display a directory of files
starting with a specified file number :
</p>
<p>1 Press the EDIT switch on the machine operator&rsquo;s panel.
</p>
<p>2 Press function PRGRM key.
</p>
<p>3 Press soft key [FLOPPY] .
</p>
<p>4 Press soft key [F SRH] .
</p>
<p>5 Enter a file number, and press INPUT key.
</p>
<p>6 Press soft key[EXEC] .
</p>
<p>7 Press a page key to display another page of the directory.
</p>
<p>8 Press soft key [CAN]  to return to the soft key display shown in the
screen of Fig 8.8.1(a).
</p>
<p>19:37:46
</p>
<p>SEARCH
_FILE NO. =
</p>
<p>NUM. S 0  T
</p>
<p>O0555 N0000
(METER) VOL
</p>
<p>DIRECTORY (FLOPPY)
   NO. FILE NAME
</p>
<p>EDIT
[  EXEC  ][  CAN  ][     ][     ][  STOP  ]
</p>
<p>Fig. 8.8.1 (b)
</p>
<p>NO : Displays the file number
FILE NAME : Displays the file name.
(METER) : Converts and prints out the file capacity to paper tape
</p>
<p>length.  You can also produce &ldquo;(FEET)&rdquo; by setting the
INPUT UNIT to INCH of the setting data.
</p>
<p>VOL. : When the file is multi&ndash;volume, that state is displayed.
</p>
<p>C01
</p>
<p>C02
L03
</p>
<p>C(number)means  CONTINUE. . . . . . . 
L(number)means  LAST. . . . . . . 
number  number of floppies or cards. . . . . . . . . . . . . . . 
</p>
<p>(Ex.) Floppy or card A
</p>
<p>Floppy or card B
Floppy or card C
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ ï¿½
</p>
<p>Explanations
</p>
<p>ï¿½ Screen fields and their 
meanings
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/088. DATA INPUT/OUTPUT
</p>
<p>488
</p>
<p>The contents of the specified file number are read to the memory of NC.
</p>
<p>Reading files
</p>
<p>1 Press the EDIT switch on the machine operator&rsquo;s panel.
</p>
<p>2 Press function PRGRM key.
</p>
<p>3 Press soft key [FLOPPY] .
</p>
<p>4 Press soft key [READ] .
</p>
<p>19:38:35
</p>
<p>READ
_FILE NO. = PROGRAM NO. =
</p>
<p>NUM.            S   0  T
</p>
<p>O0555 N0000
(METER) VOL
</p>
<p>DIRECTORY (FLOPPY)
   NO. FILE NAME
</p>
<p>EDIT
[  EXEC  ][  CAN  ][     ][     ][  STOP  ]
</p>
<p>Fig. 8.8.2
</p>
<p>5 Enter a file number.
</p>
<p>6 Press function INPUT key .
</p>
<p>7 To modify the program number, enter the program number, then press
</p>
<p>function INPUT  key.
</p>
<p>8 Press soft key [EXEC] .  The file number indicated in the lower&ndash;left
corner of the screen is automatically incremented by one.
</p>
<p>9 Press soft key [CAN]  to return to the soft key display shown in the
screen of Fig. 8.8.1.(a).
</p>
<p>8.8.2
Reading Files
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 8. DATA INPUT/OUTPUTOPERATION
</p>
<p>489
</p>
<p>Any program in the memory of the CNC unit can be output to a floppy
as a file.
</p>
<p>Outputting programs
</p>
<p>1 Press the EDIT switch on the machine operator&rsquo;s panel.
</p>
<p>2 Press function PRGRM key.
</p>
<p>3 Press soft key [FLOPPY] .
</p>
<p>4 Press soft key [PUNCH] .
</p>
<p>19:39:17
</p>
<p>PUNCH
_FILE NO. = _ PROGRAM NO. =
</p>
<p>NUM. S 0  T
</p>
<p>O0555 N0000
(METER) VOL
</p>
<p>DIRECTORY (FLOPPY)
   NO. FILE NAME
</p>
<p>EDIT
[ EXEC ][  CAN  ][ PRG&ndash;NO ][     ][ STOP ]
</p>
<p>5 Enter a program number.  To write all programs into a single file, enter
&ndash;9999 in the program number field.  In this case, the file name
&ldquo;ALL.PROGRAM&rdquo;  is registered.
</p>
<p>6 Press function INPUT  key .
</p>
<p>To output multiple programs by full MDI key at one time, enter a range
as follows :
ï¿½ï¿½ï¿½ï¿½ &rarr; [PRG&ndash;NO.] &rarr; ï¿½ï¿½ï¿½ï¿½ &rarr; [PRG&ndash;NO.]
Programs No.ï¿½ï¿½ï¿½ï¿½ to No. ï¿½ï¿½ï¿½ï¿½ are output.
</p>
<p>7 Press soft key [EXEC] .  The program or programs specified in step 5
are written after the last file on the floppy.  To output the program after
deleting files starting with an existing file number, key in the file
</p>
<p>number, then press function INPUT key followed by soft key [EXEC] .
</p>
<p>8 Press soft key [CAN]  to return to the soft key display shown in the
screen of Fig. 8.8.1 (a).
</p>
<p>8.8.3
Outputting Programs
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/088. DATA INPUT/OUTPUT
</p>
<p>490
</p>
<p>The file with the specified file number is deleted.
</p>
<p>Deleting files
</p>
<p>1 Press the EDIT switch on the machine operator&rsquo;s panel.
</p>
<p>2 Press function key PRGRM .
</p>
<p>3 Press soft key [FLOPPY] .
</p>
<p>4 Press soft key [DELETE] .
</p>
<p>19:39:56
</p>
<p>DELETE
_FILE NO. =
</p>
<p>NUM. S 0  T
</p>
<p>O0555 N0000
(METER) VOL
</p>
<p>DIRECTORY (FLOPPY)
   NO. FILE NAME
</p>
<p>EDIT
[  EXEC  ][  CAN  ][     ][     ][  STOP  ]
</p>
<p>5 Specify the file to be deleted.
When specifying the file with a file number, type the number and 
</p>
<p>press function INPUT key.
</p>
<p>6 Press soft key [EXEC] . 
The file specified in the file number field is deleted.  When a file is
deleted, the file numbers after the deleted file are each decremented
by one.
</p>
<p>7 Press soft key [CAN]  to return to the soft key display shown in the
screen of Fig. 8.8.1 (a).
</p>
<p>If CAN ï¿½ INPUT keys are pressed without key inputting file number and
</p>
<p>program number, file number or program number shows  blank.  When
0 is entered for file numbers or program numbers, 1 is displayed.
</p>
<p>To use channel 1 for the input/output unit, set the device of bits 6 and 7
of parameter 038 to the Floppy Cassette.  To use channel 2, set the device
of bits 4 and 5 of parameter 038 to the Floppy Cassette.  To use channel
3, set the device of bits 1 and 2 of parameter 038 to the Floppy Cassette.
</p>
<p>8.8.4
Deleting Files
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Restrictions
</p>
<p>ï¿½ Inputting file numbers
and program numbers
with keys
</p>
<p>ï¿½ I/O devices
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 8. DATA INPUT/OUTPUTOPERATION
</p>
<p>491
</p>
<p>For the numeral input in the data input area with FILE NO. and
PROGRAM NO., only lower 4 digits become valid.
</p>
<p>When the data protection key on the machine operator&rsquo;s panel is ON, no
programs are read from the floppy.  They are verified against the contents
of the memory of the CNC instead.
</p>
<p>No. Contents
</p>
<p>71 An invalid file number or program number was entered.
(Specified program number is not found.)
</p>
<p>79 Verification operation found a mismatch between a program
loaded into memory and the contents of the floppy
</p>
<p>86 The dataset&ndash;ready signal (DR) for the input/output device is
turned off. (The no file error or duplicate file error occurred on the
input/output device because an invalid file number, program num-
ber, or file name was entered.
</p>
<p>ï¿½ Significant digits
</p>
<p>ï¿½ Collation
</p>
<p>ALARM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/088. DATA INPUT/OUTPUT
</p>
<p>492
</p>
<p>Change the name of the file having the specified file number.
</p>
<p>Procedure for changing the file name
</p>
<p>1 Press the EDIT switch on the machine operator&rsquo;s panel.
</p>
<p>2 Press function key PRGRM .
</p>
<p>3 Press soft key [FLOPPY] .
</p>
<p>4 Press soft key [RENAME] .
</p>
<p>5 Position the cursor to FILE NO. then enter the number of the file
</p>
<p>whose name is to be changed.  Press the INPUT key.
</p>
<p>6 Position the cursor to NAME and key in a new file name.  Then, press
</p>
<p>the INPUT key.
</p>
<p>7 Press soft key [EXEC] .
</p>
<p>8 To return to the previous screen, press the [CAN]  soft key.
</p>
<p>RENAME
FILE NO. = NAME=
</p>
<p>NUM. S 0 T0101
21:59:53 EDIT
</p>
<p>O0001 N0000
(METER) VOL
</p>
<p>FILE DIRECTORY 
  NO. FILE NAME
0001 PARAMETER 87.1
0002 ALL.PROGRAM 87.1
0003 O0001 1.9
0004 O0021 7.1
0005 O0041 7.1
0006 O0615 5.8
0007 O0651 9.1
0008 O0601 7.1
0009 O0645 5.8
</p>
<p>EXEC CAN STOP
</p>
<p>ï¿½ Use channel 1 or 2 for the input/output unit and specify NEW
INTERFACE as the device.  These channels cannot be used for some
connected input/output units.
</p>
<p>ï¿½ If the standard MDI key panel is being used, the file name will consist
of an address and a numeric value.
</p>
<p>8.8.5
Changing the File
Name
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Limitationsww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 9. EDITING PROGRAMSOPERATION
</p>
<p>493
</p>
<p>9 EDITING PROGRAMS
This chapter describes how to edit programs registered in the CNC.
Editing includes the insertion, modification, deletion, and replacement of
words.  Editing also includes deletion of the entire program and automatic
insertion of sequence numbers.  The extended part program editing
function can copy, move, and merge programs.  This chapter also
describes program number search, sequence number search, word search,
and address search, which are performed before editing the program.
</p>
<p>1) Program number search:  See Section 9.3.
2) Word search:  See Section 9.1.1.
3) Address search:  See Section 9.1.1.
</p>
<p>1) Inserting, altering, and deleting a word:  See Sections 9.1.3 to 9.1.5.
2) Replacing words and addresses:  See Section 9.5.6.
3) Deleting blocks:  See Sections 9.2. 
4) Copying, moving, and merging programs:  See Sections 9.5.1 and 9.5.5
5) Deleting programs:  See section 9.4.
</p>
<p>Search for part of
program to be
edited
</p>
<p>Inserting, altering,
and deleting pro-
grams
</p>
<p>Registration
</p>
<p>Editing
</p>
<p>Output Execution
</p>
<p>General
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/089. EDITING PROGRAMS
</p>
<p>494
</p>
<p>This section outlines the procedure for inserting, modifying, and deleting
a word in a program registered in memory.
</p>
<p>Procedure for inserting, altering and deleting a word
</p>
<p>1 Select EDIT mode.
</p>
<p>2 Press function PRGRM key and display the program screen.
</p>
<p>3 Select a program to be edited.
If a program to be edited is selected, perform the operation 4.
If a program to be edited is not selected, search for the program
number.
</p>
<p>4 Search for a word to be modified.
&sdot; Scan method
&sdot; Word search method
</p>
<p>5 Perform an operation such as altering, inserting, or deleting a word.
</p>
<p>A word is an address followed by a number.  With a custom macro B, the
concept of word is ambiguous.
So the editing unit is considered here.
The editing unit is a unit subject to alteration or deletion in one operation.
In one scan operation, the cursor indicates the start of an editing unit.
An insertion is made after an editing unit.
Definition of editing unit
</p>
<p>(i) Program portion from an address to immediately before the next
address
</p>
<p>(ii)An address is an alphabet, IF, WHILE , GOTO, END, DO=,or ;  (EOB).
</p>
<p>According to this definition, a word is an editing unit.
The word &ldquo;word,&rdquo; when used in the description of editing, means an
editing unit according to the precise definition.
</p>
<p>To insert or modify a word during editing, the following data is entered.
</p>
<p>ï¿½ When the standard key panel is being used
One word (a single alphabetic character followed by a numeric value
or symbol) is entered.
</p>
<p>ï¿½ Editing B with the standard key panel
Even if the standard key panel is being used, editing B can be enabled
by specifying bit 7 of parameter 018 accordingly.  Two or more
</p>
<p>addresses can be input at one time.  If the INPUT  key is pressed after a
</p>
<p>single word (a single alphabetic character followed by a numeric value
or symbol) is input, another word can be input.  After all data has been
entered, press the edit key to start editing.
</p>
<p>9.1
INSERTING,
ALTERING AND
DELETING A WORD
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Explanations
</p>
<p>ï¿½ Concept of word and
editing unit
</p>
<p>ï¿½ Data input during editing
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 9. EDITING PROGRAMSOPERATION
</p>
<p>495
</p>
<p>To enable editing B, note the following:
</p>
<p>ï¿½ The INPUT  key is used to identify a breakpoint between words.  
</p>
<p>A program cannot be input or output while a program is displayed.
Input or output a program on the program directory screen.
</p>
<p>ï¿½ Input a program number as one word containing address O.
</p>
<p>ï¿½ Up to 32 characters can be entered at one time.
</p>
<p>ï¿½ Each time the CAN  key is pressed, only the most&ndash;recently entered
</p>
<p>character is deleted.
</p>
<p>ï¿½ When the full key panel is being used
Two or more words, or a desired character string, can be input at one
time.
</p>
<p>WARNING
The user cannot continue program execution after altering,
inserting, or deleting data of the program by suspending
machining in progress by means of an operation such as a
single block stop or feed hold operation during program
execution.  If such a modification is made, the program may
not be executed exactly according to the contents of the
program displayed on the screen after machining is
resumed.  So, when the contents of memory are to be
modified by part program editing, be sure to enter the reset
state or reset the system upon completion of editing before
executing the program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/089. EDITING PROGRAMS
</p>
<p>496
</p>
<p>A word can be searched for by merely moving the cursor through the text
(scanning), by word search, or by address search.
</p>
<p>Procedure for scanning a program
</p>
<p>1 Press the cursor key 
</p>
<p>The cursor moves forward word by word on the screen; the cursor is
displayed at a selected word.  The cursor is positioned to the address
of the selected word.
</p>
<p>2 Press the cursor key
</p>
<p>The cursor moves backward word by word on the screen; the cursor is
displayed at a selected word.
</p>
<p>Example)  When Z1250.0 is scanned
</p>
<p>Program O0050  N1234
O0050  ;
N1234  X100.0  Z1250.0
S12  ;
N5678  M03  ;
M02  ;
%
</p>
<p>;
</p>
<p>3 Holding down the cursor key  or  scans words
</p>
<p>continuously.
</p>
<p>4 Pressing the page key  displays the next page and searches for
</p>
<p>the first word of the page.
</p>
<p>5 Pressing the page key  displays the previous page and searches
</p>
<p>for the first word of the page.
</p>
<p>6 Holding down the page key  or  displays one page after
</p>
<p>another.
</p>
<p>9.1.1
Word Search
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 9. EDITING PROGRAMSOPERATION
</p>
<p>497
</p>
<p>Procedure for searching a word
</p>
<p>Example) of Searching for S12
</p>
<p>PROGRAM O0050  N1234
O0050  ;
N1234  X100.0  Z1250.0  ;
S12  ;
N5678  M03  ;
M02  ;
%
</p>
<p>N1234 is being
searched for/
scanned currently.
S12 is searched for.
</p>
<p>1 Key in addressS .
</p>
<p>2 Key in 1 2 .
</p>
<p>&sdot; S12 cannot be searched for if only S1 is keyed in.
&sdot; S09 cannot be searched for by keying in only S9.
</p>
<p>To search for S09, be sure to key in S09.
</p>
<p>3 Pressing the cursor key  starts search operation.
</p>
<p>Upon completion of search operation, the cursor is displayed at &ldquo;S&rdquo; of
</p>
<p>S12.  Pressing the cursor key  rather than the cursor  key
</p>
<p>performs search operation in the reverse direction.
</p>
<p>Procedure for searching an address
</p>
<p>Example) of Searching for M03
</p>
<p>PROGRAM O0050  N1234
O0050  ;
N1234  X100.0  Z1250.0  ;
S12  ;
N5678  M03  ;
M02  ;
%
</p>
<p>N1234 is being
searched for/
scanned currently.
</p>
<p>M03 is searched for.
</p>
<p>1 Key in address M .
</p>
<p>2 Press the cursor key .
</p>
<p>Upon completion of search operation, the cursor is displayed at &ldquo;M&rdquo;
</p>
<p>of M03.  Pressing the  key rather than the  key performs
</p>
<p>search operation in the reverse direction.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/089. EDITING PROGRAMS
</p>
<p>498
</p>
<p>Alarm number Description
</p>
<p>71 The word or address being searched for was not found.
</p>
<p>The cursor can be jumped to the top of a program.  This function is called
heading  the program pointer.  This section describes the two methods for
heading the program pointer.
</p>
<p>Procedure for Heading a Program
</p>
<p>1 Press RESET  when the program screen is selected in EDIT mode.
</p>
<p>When the cursor has returned to the start of the program, the contents
of the program are displayed from its start on the screen.
</p>
<p>1 Select AUTO or EDIT modeï¿½
</p>
<p>2 Press function PROG key and display the program.
</p>
<p>3 Press the address key O .
</p>
<p>4 Press the cursor key .
</p>
<p>Alarm
</p>
<p>9.1.2
Heading a Program
</p>
<p>     Method 1
</p>
<p>     Method 2
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 9. EDITING PROGRAMSOPERATION
</p>
<p>499
</p>
<p>Procedure for inserting a word
</p>
<p>1 Search for or scan the word immediately before a word to be inserted.
</p>
<p>2 Key in an address to be inserted.
</p>
<p>3 Key in data.
</p>
<p>4 Press the INSRT  key.
</p>
<p>Example of Inserting T15
</p>
<p>1 Search for or scan Z1250.0.
</p>
<p>Program O0050  N1234
O0050  ;
N1234  X100.0  Z1250.0
S12  ;
N5678  M03  ;
M02  ;
%
</p>
<p>;
Z1250.0 is
searched for/
scanned.
</p>
<p>2 Key in T 1 5 ï¿½
</p>
<p>3 Press theINSRT key.
</p>
<p>Program O0050  N1234
O0050  ;
N1234  X100.0  Z1250.0  T15  ;
S12  ;
N5678  M03  ;
M02  ;
%
</p>
<p>T15 is inserted.
</p>
<p>9.1.3
Inserting a Word
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/089. EDITING PROGRAMS
</p>
<p>500
</p>
<p>Procedure for altering a word
</p>
<p>1 Search for or scan a word to be altered.
</p>
<p>2 Key in an address to be inserted.
</p>
<p>3 Key in data.
</p>
<p>4 Press theALTER  key.
</p>
<p>Example of changing T15 to M15
</p>
<p>1 Search for or scan T15.
</p>
<p>Program O0050  N1234
O0050  ;
N1234  X100.0  Z1250.0  T15
S12  ;
N5678  M03  ;
M02  ;
%
</p>
<p>;
T15 is searched
for/scanned.
</p>
<p>2 Key in M 1 5  .
</p>
<p>3 Press the ALTER key.
</p>
<p>Program O0050  N1234
O0050  ;
N1234  X100.0  Z1250.0  M15  ;
S12  ;
N5678  M03  ;
M02  ;
%
</p>
<p>T15 is changed to
M15.
</p>
<p>9.1.4
Altering a Word
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 9. EDITING PROGRAMSOPERATION
</p>
<p>501
</p>
<p>Procedure for deleting a word
</p>
<p>1 Search for or scan a word to be deleted.
</p>
<p>2 Press theDELET  key.
</p>
<p>Example of deleting X100.0
</p>
<p>1 Search for or scan X100.0.
</p>
<p>Program O0050  N1234
O0050  ;
N1234  X100.0
S12  ;
N5678  M03  ;
M02  ;
%
</p>
<p>X100.0 is
searched for/
scanned.
</p>
<p>Z1250.0  M15  ;
</p>
<p>2 Press theDELET  key.
</p>
<p>Program O0050  N1234
O0050  ;
N1234  Z1250.0  M15  ;
S12  ;
N5678  M03  ;
M02  ;
%
</p>
<p>X100.0 is deleted.
</p>
<p>9.1.5
Deleting a Word
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/089. EDITING PROGRAMS
</p>
<p>502
</p>
<p>A block or blocks can be deleted in a program.
</p>
<p>The procedure below deletes a block up to its EOB code; the cursor
advances to the address of the next word.
</p>
<p>Procedure for deleting a block
</p>
<p>1 Search for or scan address N for a block to be deleted.
</p>
<p>2 Key in EOB .
</p>
<p>3 Press the DELET  key.
</p>
<p>Example of deleting a block of No.1234
</p>
<p>1 Search for or scan N1234.
</p>
<p>Program O0050  N1234
O0050  ;
N1234  Z1250.0  M15  ;
S12  ;
N5678  M03  ;
M02  ;
%
</p>
<p>N1234 is
searched for/
scanned.
</p>
<p>2 Key in EOB .
</p>
<p>3 Press theDELET  key.
</p>
<p>Program O0050  N1234
O0050  ;
S12  ;
N56789  M03  ;
M02  ;
%
</p>
<p>Block containing
N1234 has been
deleted.
</p>
<p>9.2
DELETING BLOCKS
</p>
<p>9.2.1
Deleting a Block
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 9. EDITING PROGRAMSOPERATION
</p>
<p>503
</p>
<p>The blocks from the currently displayed word to the block with a specified
sequence number can be deleted.
</p>
<p>Procedure for deleting multiple blocks
</p>
<p>1 Search for or scan a word in the first block of a portion to be deleted.
</p>
<p>2 Key in address N  .
</p>
<p>3 Key in the sequence number for the last block of the portion to be
deleted.
</p>
<p>4 Press the DELET  key.
</p>
<p>Example of deleting blocks from a block containing N01234 to a block containing N56789
</p>
<p>1 Search for or scan N1234.
</p>
<p>Program O0050  N1234
O0050  ;
N1234  Z1250.0  M15  ;
S12  ;
N56789  M03  ;
M02  ;
%
</p>
<p>N1234 is
searched for/
scanned.
</p>
<p>2 Key in N 5 6 7 8 .
</p>
<p>Program O0050  N1234
O0050  ;
N1234  Z1250.0  M15  ;
S12  ;
N5678  M03  ;
M02  ;
%
</p>
<p>Underlined
part is de-
leted.
</p>
<p>3 Press theDELET  key.
</p>
<p>Program O0050  N1234
O0050  ;
M02  ;
%
</p>
<p>Blocks from block
containing N1234
to block contain-
ing N5678 have
been deleted.
</p>
<p>9.2.2
Deleting Multiple
Blocks
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/089. EDITING PROGRAMS
</p>
<p>504
</p>
<p>When memory holds multiple programs, a program can be searched for.
There are two methods as follows.
</p>
<p>Procedure for program number search
</p>
<p>1 Select EDIT or AUTO mode.
</p>
<p>2 Press PRGRM key to display the program screen.
</p>
<p>3 Key in addressO .
</p>
<p>4 Key in a program number to be searched for.
</p>
<p>5 Press the cursor key .
</p>
<p>6 Upon completion of search operation, the program number searched
for is displayed in the upper&ndash;right corner of the CRT screen
If the program is not found , P/S alarm No. 71 occurs.
</p>
<p>1 Select EDIT or AUTO mode.
</p>
<p>2 Press PRGRM key to display the program screen.
</p>
<p>3 Key in addressO .
</p>
<p>4 Press the cursor key .
</p>
<p>In this case, the next program in the directory is searched for .
</p>
<p>No. Contents
</p>
<p>59 The program with the selected number cannot be searched
during external program number search.
</p>
<p>71 The specified program number was not found during 
program number search.
</p>
<p>9.3
PROGRAM NUMBER
SEARCH
</p>
<p>     Method 1
</p>
<p>     Method 2
</p>
<p>Alarm
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 9. EDITING PROGRAMSOPERATION
</p>
<p>505
</p>
<p>Programs registered in memory can be deleted, either one program by one
program or all at once.  Also, More than one program can be deleted by
specifying a range.
</p>
<p>A program registered in memory can be deleted.
</p>
<p>Procedure for deleting one program
</p>
<p>1 Select the EDIT mode.
</p>
<p>2 Press PRGRM to display the program screen.
</p>
<p>3 Key in addressO .
</p>
<p>4 Key in a desired program number.
</p>
<p>5 Press the DELET  key.
</p>
<p>The program with the entered program number is deleted.
</p>
<p>All programs registered in memory can be deleted.
</p>
<p>Procedure for deleting all programs
</p>
<p>1 Select the EDIT mode.
</p>
<p>2 Press PRGRM  to display the program screen.
</p>
<p>3 Key in address O .
</p>
<p>4 Key in &ndash;9999.
</p>
<p>5 Press edit key DELET  to delete all programs.
</p>
<p>9.4
DELETING
PROGRAMS
</p>
<p>9.4.1
Deleting One Program
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>9.4.2
Deleting All Programs
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/089. EDITING PROGRAMS
</p>
<p>506
</p>
<p>Programs within a specified range in memory are deleted.
</p>
<p>Procedure for deleting more than one program by specifying a range
</p>
<p>1 Select the EDIT mode.
</p>
<p>2 Press PRGRM key to display the program screen.
</p>
<p>3 Enter the range of program numbers to be deleted with address and
numeric keys in the following format:
OXXXX,OYYYY
where XXXX is the starting number of the programs to be deleted and
YYYY is the ending number of the programs to be deleted.
</p>
<p>4 Press edit key DELET  to delete programs No. XXXX to No. YYYY.
</p>
<p>This operation is possible only when the full MDI key panel is being used.
</p>
<p>9.4.3
Deleting More Than
One Program by
Specifying a Range
</p>
<p>Limitations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 9. EDITING PROGRAMSOPERATION
</p>
<p>507
</p>
<p>With the extended part program editing function, the operations described
below can be performed using soft keys for programs that have been
registered in memory.
Following editing operations are available :
</p>
<p>ï¿½ All or part of a program can be copied or moved to another program.
</p>
<p>ï¿½ One program can be merged at free position into other programs.
</p>
<p>ï¿½ A specified word or address in a program can be replaced with another
word or address.
</p>
<p>9.5
EXTENDED PART
PROGRAM EDITING
FUNCTION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/089. EDITING PROGRAMS
</p>
<p>508
</p>
<p>A new program can be created by copying a program.
</p>
<p>A
</p>
<p>Oxxxx
</p>
<p>A
</p>
<p>Oxxxx
</p>
<p>After copy
</p>
<p>A
</p>
<p>Oyyyy
</p>
<p>Copy
</p>
<p>Before copy
</p>
<p>Fig. 9.5.1  Copying an entire program
</p>
<p>In Fig. 9.5.1 , the program with program number xxxx is copied to a newly
created program with program number yyyy. The program created by
copy operation is the same as the original program except the program
number.
</p>
<p>Procedure of copying an entire program
</p>
<p>1 Enter the EDIT mode.
</p>
<p>2 Press function PRGRM key to display the program screen .
</p>
<p>3 Press the continuous menu key .
</p>
<p>4 Press soft key [EX&ndash;EDT] .
</p>
<p>5 Check that the screen for the program to be copied is selected 
and press soft key [COPY] .
</p>
<p>6 Press soft key [ALL] .
</p>
<p>7 Enter the number of the new program (with only numeric keys ) and
</p>
<p>press theINPUT  key.
</p>
<p>8 Press soft key [EXEC] .
</p>
<p>9.5.1
Copying an Entire
Program
</p>
<p>Continuous
menu key 
</p>
<p>0 9Numeric keys to
</p>
<p>(EX&ndash;EDT)
</p>
<p>COPY
</p>
<p>ALL
</p>
<p>EXEC ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 9. EDITING PROGRAMSOPERATION
</p>
<p>509
</p>
<p>A new program can be created by copying part of a program.
</p>
<p>B
</p>
<p>Oxxxx Oxxxx
</p>
<p>After copy
</p>
<p>B
</p>
<p>Oyyyy
</p>
<p>Copy
</p>
<p>Before copy
</p>
<p>A
</p>
<p>C
</p>
<p>B
</p>
<p>A
</p>
<p>C
</p>
<p>Fig. 9.5.2  Copying part of a program
</p>
<p>In Fig. 9.5.2 , part B of the program with program number xxxx is copied
to a newly created program with program number yyyy.  The program
which No.is xxxx remains unchanged after copy operation.
</p>
<p>Procedure for copying part of a program
</p>
<p>1 Perform steps 1 to 5 in subsection 9.5.1.
</p>
<p>2 Move the cursor to the start of the range to be copied and press soft key
[CRSRï¿½].
</p>
<p>3 Move the cursor to the end of the range to be copied and press soft key
[ï¿½CRSR] or [ï¿½BTTM]  (in the latter case, the range to the end of the
program is copied regardless of the position of the cursor).
</p>
<p>4 Enter the number of the new program (with only numeric keys) and
</p>
<p>press the INPUT key.
</p>
<p>5 Press soft key [EXEC] .
</p>
<p>9.5.2
Copying Part of a
Program
</p>
<p>CRSRï¿½
</p>
<p>0 9to
</p>
<p>ï¿½CRSR
</p>
<p>EXEC
</p>
<p>Numeric keys
</p>
<p>ï¿½BTTM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/089. EDITING PROGRAMS
</p>
<p>510
</p>
<p>A new program can be created by moving part of a program.
</p>
<p>B
</p>
<p>Oxxxx Oxxxx
</p>
<p>After copy
</p>
<p>B
</p>
<p>Oyyyy
</p>
<p>Copy
</p>
<p>Before copy
</p>
<p>A
</p>
<p>C
</p>
<p>A
</p>
<p>C
</p>
<p>Fig. 9.5.3  Moving part of a program
</p>
<p>In Fig. 9.5.3 , part B of the program with program number xxxx is moved
to a newly created program with program number yyyy; part B is deleted
from the program with program number xxxx.
</p>
<p>Procedure for moving part of a program
</p>
<p>1 Perform steps 1 to 4 in subsection 9.5.1.
</p>
<p>2 Check that the screen for the program to be moved is selected and
press soft key [MOVE] .
</p>
<p>3 Move the cursor to the start of the range to be moved and press soft
key [CRSRï¿½].
</p>
<p>4 Move the cursor to the end of the range to be moved and press soft key
[ï¿½CRSR] or [ï¿½BTTM]  (in the latter case, the range to the end of the
program is copied regardless of the position of the cursor).
</p>
<p>5 Enter the number of the new program (with only numeric keys) and
</p>
<p>press the INPUT  key.
</p>
<p>6 Press soft key [EXEC] .
</p>
<p>9.5.3
Moving Part of a
Program
</p>
<p>CRSRï¿½
</p>
<p>EXEC
</p>
<p>0 9Numeric keys to
</p>
<p>ï¿½CRSR ï¿½BTTM
</p>
<p>MOVE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 9. EDITING PROGRAMSOPERATION
</p>
<p>511
</p>
<p>Another program can be inserted at an arbitrary position in the current
program.
</p>
<p>Oxxxx
</p>
<p>Before merge
</p>
<p>B
</p>
<p>Oyyyy
</p>
<p>MergeA
</p>
<p>Oxxxx
</p>
<p>After merge
</p>
<p>B
</p>
<p>Oyyyy
</p>
<p>B
</p>
<p>A
</p>
<p>C
</p>
<p>C
</p>
<p>Merge
location
</p>
<p>Fig. 9.5.4  Merging a program at a specified location
</p>
<p>In Fig. 9.5.4 , the program with program number XXXX is merged with
the program with program number YYYY.  The OYYYY program
remains unchanged after merge operation.
</p>
<p>Procedure for merging a program
</p>
<p>1 Perform steps 1 to 4 in subsection 9.5.1.
</p>
<p>2 Check that the screen for the program to be edited is selected and press
soft key [MERGE] .
</p>
<p>3 Move the cursor to the position at which another program is to be
inserted and press soft key [ï¿½&rsquo;CRSR]  or [ï¿½BTTM&rsquo;]  (in the latter
case, the end of the current program is displayed).
</p>
<p>4 Enter the number of the program to be inserted (with only numeric
</p>
<p>keys) and press the INPUT  key.
</p>
<p>5 Press soft key [EXEC] .
The program with the number specified in step 4 is inserted before the
cursor positioned in step 3.
</p>
<p>9.5.4
Merging a Program
</p>
<p>EXEC
</p>
<p>0 9to
</p>
<p>ï¿½&rsquo;CRSRï¿½BTTM&rsquo;
</p>
<p>MERGE
</p>
<p>Numeric keys
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/089. EDITING PROGRAMS
</p>
<p>512
</p>
<p>The setting of an editing range start point with [CRSRï¿½] can be changed
freely until an editing range end point is set with [ï¿½CRSR] or [ï¿½BTTM] .
If an editing range start point is set after an editing range end point, the
end point must be reset.
The setting of an editing range start point and end point remains valid until
an operation is performed to invalidate the setting.
One of the following operations invalidates a setting:
</p>
<p>ï¿½ An edit operation other than address search, word search/scan, and
search for the start of a program is performed after a start point or end
point is set.
</p>
<p>ï¿½ Processing is returned to operation selection after a start point or end
point is set.
</p>
<p>In copying program and moving program, if [EXEC]  is pressed without
specifying a program number after an editing range end point is set, a
program with program number O0000 is registered as a work program.
This O0000 program has the following features:
</p>
<p>ï¿½ The program can be edited in the same way as a general program.  (Do
not run the program.)
</p>
<p>ï¿½ If a copy or move operation is newly performed, the previous
information is deleted at execution time, and newly set information
(all or part of the program) is reregistered.  (In merge operation, the
previous information is not deleted.)
</p>
<p>ï¿½ When the program becomes unnecessary, delete the program by a 
normal editing operation.
</p>
<p>When the system is waiting for a program number to be entered,
no edit operation can be performed.
</p>
<p>If a program number is specified by 5 or more digits, a format error is
generated.
</p>
<p>Alarm no. Contents
</p>
<p>70 Memory became insufficient while copying or inserting a pro-
gram. Copy or insertion is terminated.
</p>
<p>101 The power was interrupted during copying, moving, or insert-
ing a program and memory used for editing must be cleared.
</p>
<p>9.5.5
Supplementary
Explanation for
Copying, Moving and
Merging
</p>
<p>Explanations
</p>
<p>ï¿½ Setting an editing range
</p>
<p>ï¿½ Without specifying a
program number
</p>
<p>ï¿½ Editing when the system
waiting for a program
number to be entered
</p>
<p>Restrictions
</p>
<p>ï¿½ Number of digits for
program number
</p>
<p>Alarmww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 9. EDITING PROGRAMSOPERATION
</p>
<p>513
</p>
<p>Replace one or more specified words.
Replacement can be applied to all occurrences or just one occurrence of
specified words or addresses in the program.
</p>
<p>Procedure for hange of words or addresses
</p>
<p>1 Perform steps 1 to 4 in subsection 9.5.1.
</p>
<p>2 Press soft key [CHANGE] .
</p>
<p>3 Enter the word or address to be replaced.
</p>
<p>4 Press soft key [BEFORE] .
</p>
<p>5 Enter the new word or address.
</p>
<p>6 Press soft key [AFTER] .
</p>
<p>7 Press soft key [EXEC]  to replace all the specified words or addresses
after the cursor.
Press soft key [1&ndash;EXEC]  to search for and replace the first occurrence
of the specified word or adress after the cursor.
Press soft key [SKIP]  to only search for the first occurrence of the
specified word or address after the cursor.
</p>
<p>9.5.6
Replacement of Words
and Addresses
</p>
<p>EXEC
</p>
<p>BEFORE
</p>
<p>CHANGE
</p>
<p>AFTER
</p>
<p>1&ndash;EXEC SKIP
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/089. EDITING PROGRAMS
</p>
<p>514
</p>
<p>[CHANGE] X 1 0 0 [BEFORE] Y 2 0 0
[AFTER][EXEC]
</p>
<p>[CHANGE] X 1 0 0 Y 2 0 0
</p>
<p>[BEFORE] X 3 0 [AFTER][EXEC]
</p>
<p>[CHANGE] I F [BEFORE] W H I L E
</p>
<p>[AFTER] [EXEC]
</p>
<p>[CHANGE] X [BEFOR] , C 1 0 [AFTER][EXEC]
</p>
<p>The following custom macro B words are replaceable:
IF, WHILE, GOTO, END, DO, BPRNT, DPRINT, POPEN, PCLOS
The abbreviations of custom macro B words can be specified.
When abbreviations are used, however, the screen displays the
abbreviations as they are key input, even after soft key [BEFORE]  and
[AFTER]  are pressed.
</p>
<p>Up to 15 characters can be specified for words before or after replacement.
(Sixteen or more characters cannot be specified.)
</p>
<p>Words before or after replacement must start with a character representing
an address.(A format error occurs.)
</p>
<p>Explanations
</p>
<p>ï¿½ Replace X100 with Y200
</p>
<p>ï¿½ Replace X100Y200 with
X30
</p>
<p>ï¿½ Replace IF with WHILE
</p>
<p>ï¿½ Replace X with ,C10
</p>
<p>Explanations
</p>
<p>ï¿½ Replacing custom
macros
</p>
<p>Restrictions
</p>
<p>ï¿½ The number of
characters for
replacement
</p>
<p>ï¿½ The characters for
replacement
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 9. EDITING PROGRAMSOPERATION
</p>
<p>515
</p>
<p>Unlike ordinary programs, custom macro B programs are modified,
inserted, or deleted based on editing units.
Custom macro words can be entered in abbreviated form.
Comments can be entered in a program.
Refer to the section 10.1 for the comments of a program.
</p>
<p>When editing a custom macro B already entered, the user can move the
cursor to each editing unit that starts with any of the following characters
and symbols:
</p>
<p>(a) Address
</p>
<p>(b)# located at the start of the left side of a substitution statement
</p>
<p>(c) /, (,=, and ;
</p>
<p>(d)First character of IF, WHILE, GOTO, END, DO, POPEN, BPRNT,
DPRNT and PCLOS
</p>
<p>On the CRT screen, a blank is placed before each of the above characters
and symbols.  
(Example) Head positions where the cursor is placed
</p>
<p>N001 X&ndash;#100 ;
#1 =123 ;
N002 /2 X[12/#3] ;
N003 X&ndash;SQRT[#3/3*[#4+1]] ;
N004 X&ndash;#2 Z#1 ;
N005 #5 =1+2&ndash;#10 ;
IF[#1NE0] GOTO10 ;
WHILE[#2LE5] DO1 ;
#[200+#2] =#2*10 ;
#2 =#2+1 ;
END1 ;
</p>
<p>When a custom macro B word is altered or inserted, the first two
characters or more can replace the entire word.
Namely,
</p>
<p>WHILE &rarr; WH or WD GOTO  &rarr; GO XOR &rarr; XO AND &rarr; AN
SIN &rarr; SI COS &rarr; CO TAN &rarr; TA ATAN  &rarr; AT 
SQRT &rarr; SQ ABS  &rarr; AB BCD  &rarr; BC BIN  &rarr; BI
FIX &rarr; FI FUP &rarr; FU ROUND &rarr; RO END &rarr; EN
POPEN &rarr; PO BPRNT &rarr; BP DPRNT &rarr; DP PCLOS&rarr;PC
(Example) Keying in
</p>
<p>WH [AB [#2 ] LE RO [#3 ] ] 
has the same effect as
WHILE  [ABS  [#2 ] LE ROUND [#3 ] ]
</p>
<p>The program is also displayed in this way.
</p>
<p>9.6
EDITING OF CUSTOM
MACRO B
</p>
<p>Explanations
</p>
<p>ï¿½ Editing unit
</p>
<p>ï¿½ Abbreviations of custom
macro B word
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/089. EDITING PROGRAMS
</p>
<p>516
</p>
<p>Editing a program while executing another program is called background
editing. The method of editing is the same as for ordinary editing
(foreground editing).
During background editing, all programs cannot be deleted at once.
</p>
<p>Procedure for background editing
</p>
<p>1 Press function PRGRM key to display the program screen.
</p>
<p>2 Press the rightmost soft key (continuous menu key), then press soft
key [BG&ndash;EDT] .
The background editing screen is displayed (PROGRAM (BG&ndash;EDIT)
is displayed at the top left of the screen).
</p>
<p>3 Edit a program on the background editing screen in the same way as
for ordinary program editing.
</p>
<p>4 After editing is completed, press soft key [BG&ndash;END] .
</p>
<p>Alarms that may occur during background editing do not affect
foreground operation.  Conversely, alarms that may occur during
foreground operation do not affect background editing.  In background
editing, if an attempt is made to edit a program selected for foreground
operation, a BP/S alarm (No. 140) is raised.  On the other hand, if an
attempt is made to select a program subjected to background editing
during foreground operation (by means of subprogram calling or program
number search operation  using an external signal), a P/S alarm (Nos. 059,
078) is raised in foreground operation.  As with foreground program
editing, P/S alarms occur in background editing.  However, to distinguish
these alarms from foreground alarms, BP/S is displayed in the data input
line on the background editing screen.
</p>
<p>9.7
BACKGROUND
EDITING
</p>
<p>Explanations
</p>
<p>ï¿½ Alarms during
background editing
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 9. EDITING PROGRAMSOPERATION
</p>
<p>517
</p>
<p>NOTE
1 If the available part program storage is 80 m or less, free
</p>
<p>space in memory is used for background editing.  A program
to be subjected to background editing is copied into the free
area in memory, then the original program is deleted.
Subsequently, editing starts.  Background editing can be
executed if the part program storage has sufficient free area
to which the target program can be copied and if program
registration is allowed in terms of number.  If background
editing is repeated, the number of deleted areas will
increase.  To use these deleted areas efficiently, memory
must be reorganized.
</p>
<p>2 If the available part program storage is 120 m or more,
background editing can be executed while leaving the
registered programs as is.  Such editing may create an
unused area in memory.  The unused area can be deleted
by reorganizing the memory however.
</p>
<p>3 If the reset key is pressed to abandon program input or
output in background editing, the machining in the
foreground will also be halted.  To input or output a program
in the background, therefore, use the soft keys.  To halt the
input or output, press the [STOP]  soft key.
</p>
<p>4 If a reset by M02/M30 of the machining program in the
foreground is executed during program input or output in
background editing, program input or output is halted.
Program input or output can be prevented from being halted
by the reset in the foreground if bit 2 of parameter 076 is
specified accordingly.
</p>
<p>5 In background editing, program input or output by the
external activation signal (MINP) or input/output unit
external control is inhibited.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/089. EDITING PROGRAMS
</p>
<p>518
</p>
<p>If the available part program storage is 120 m or more, or if the
background editing function is supported, repeated program editing will
create many small, unused areas in memory.  Reorganizing memory
arranges these unused areas into a single, contiguous area that can be used
by programs.
</p>
<p>Procedure for Reorganiging Memory
</p>
<p>Press the emergency stop, external reset, or reset key.  The procedure
for reorganizing memory is automatically started.
</p>
<p>1 Select EDIT mode.
</p>
<p>2 Press the PRGRM key to display the program.
</p>
<p>3 Press the [LIB]  soft key.
</p>
<p>4 Press the [REORGANIZE]  soft key.
</p>
<p>NOTE
1 One memory is reorganized, the system searches for the
</p>
<p>beginning of the selected program and the cursor is
returned to that point.
</p>
<p>2 If the power is turned off during the memory reorganization,
alarm 101 occurs when the power is subsequently turned
on.  Before turning the power off after resetting an alarm,
first check whether memory reorganization has been
completed.  While memory reorganization is being
performed, EDIT blinks at the bottom right corner of the
screen.
</p>
<p>3 As described in procedure 1, above, the memory
reorganization procedure is automatically started when a
reset is performed.  Memory reorganization can be
prevented from being started by a reset if bit 0 of parameter
056 is specified accordingly.
</p>
<p>4 Memory reorganization cannot be executed during
background editing.
</p>
<p>9.8
REORGANIZING
MEMORY
</p>
<p>Procedure 1
(reset key)
</p>
<p>Procedure 2
(soft key)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 10. CREATING PROGRAMSOPERATION
</p>
<p>519
</p>
<p>10 CREATING PROGRAMS
Programs can be created using any of the following methods:
</p>
<p>&sdot; MDI keyboard
&sdot; PROGRAMMING IN TEACH IN MODE
&sdot; CONVERSATIONAL PROGRAMMING INPUT WITH GRAPHIC
</p>
<p>FUNCTION
</p>
<p>&sdot; MENU PROGRAMMING FUNCTION
&sdot; CONVERSATIONAL AUTOMATIC PROGRAMMING FUNCTION
&sdot; AUTOMATIC PROGRAM PREPARATION DEVICE (FANUC
</p>
<p>SYSTEM P)
</p>
<p>This chapter describes creating programs using the MDI panel, TEACH
IN mode, menu programming function, and conversational  programming
with graphic function.  This chapter also describes the automatic insertion
of sequence numbers.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0810. CREATING PROGRAMS
</p>
<p>520
</p>
<p>Programs can be created in the EDIT mode using the program editing
functions described in Chapter 9.
</p>
<p>Procedure for Creating Programs Using the MDI Panel
</p>
<p>1 Enter the EDIT mode.
</p>
<p>2 Press the PRGRM key.
</p>
<p>3 Press address key O and enter the program number.
</p>
<p>4 Press the INSRT key.
</p>
<p>5 Create a program using the program editing functions described in
Chapter 9.
</p>
<p>For the full key type MDI panel, comments can be written in a program
using the control in/out codes.
</p>
<p>Example)O0001 (FANUC SERIES 0) ;
M08  (COOLANT ON) ;
</p>
<p>ï¿½ When the INSRT  key is pressed after the control&ndash;out code &ldquo;(&rdquo;,
</p>
<p>comments, and control&ndash;in code &ldquo;)&rdquo; have been typed, the typed
comments are registered.
</p>
<p>ï¿½ When the INSRT  key is pressed midway through comments, to enter
</p>
<p>the rest of comments later, the data typed before theINSRT key is
</p>
<p>pressed may not be correctly registered (not entered, modified, or lost)
because the data is subject to an entry check which is performed in
normal editing.
</p>
<p>Note the following to enter a comment:
</p>
<p>ï¿½ Control&ndash;in code &ldquo;)&rdquo; cannot be registered by itself.
</p>
<p>ï¿½ Comments entered after the INSRT  key is pressed must not begin with
</p>
<p>a number, space, or address O.
</p>
<p>ï¿½ If an abbreviation for a macro is entered, the abbreviation is converted
into a macro word and registered (see Section 9.6).
</p>
<p>ï¿½ Address O and subsequent numbers, or a space can be entered but are
omitted when registered.
</p>
<p>10.1
CREATING
PROGRAMS USING
THE MDI PANEL
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>Explanations
</p>
<p>ï¿½ Comments in a program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 10. CREATING PROGRAMSOPERATION
</p>
<p>521
</p>
<p>Sequence numbers can be automatically inserted in each block when a
program is created using the MDI keys in the EDIT mode.
Set the increment for sequence numbers in parameter 550.
</p>
<p>Procedure for automatic insertion of sequence numbers
</p>
<p>1 Set 1 for SEQUENCE (see subsection 11.5.3).
</p>
<p>2 Enter the EDIT mode.
</p>
<p>3 Press PRGRM to display the program screen.
</p>
<p>4 Search for or register the number of a program to be edited and move
the cursor to the EOB (;) of the block after which automatic insertion
of sequence numbers is started.
When a program number is registered and an EOB (;) is entered with
</p>
<p>the INSRT key, sequence numbers are automatically inserted starting
</p>
<p>with 0.  Change the initial value, if required, according to step 10, then
skip to step 7.
</p>
<p>5 Press address key N and enter the initial value of N.
</p>
<p>6 Press INSRT key.
</p>
<p>7 Enter each word of a block.
</p>
<p>8 Press EOB  key.
</p>
<p>10.2
AUTOMATIC
INSERTION OF
SEQUENCE
NUMBERS
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0810. CREATING PROGRAMS
</p>
<p>522
</p>
<p>9 Press INSRT key.  The EOB is registered in memory and sequence
</p>
<p>numbers are automatically inserted.  For example, if the initial value
of N is 10 and the parameter for the increment is set to 2, N12 inserted
and displayed below the line where a new block is specified.
</p>
<p>19:42:18 EDIT
</p>
<p>PROGRAM O0040 N0012
</p>
<p>O0040 ;
N10 G92 X0 Y0 Z0 ;
N12
%
</p>
<p>( S 0  T
</p>
<p>[ PRGRM ][  LIB  ][FLOPPY][      ][ C.A.P. ]
</p>
<p>10 &sdot; In the example above, if N12 is not necessary in the next block,
</p>
<p>pressing the DELET  key after N12 is displayed deletes N12.
</p>
<p>&sdot; To insert N100 in the next block instead of N12, enter N100 and
</p>
<p>press ALTER after N12 is displayed.  N100 is registered and initial
</p>
<p>value is changed to 100.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 10. CREATING PROGRAMSOPERATION
</p>
<p>523
</p>
<p>When the playback option is selected, the TEACH IN JOG  mode and
TEACH IN HANDLE  mode are added.  In these modes, a machine position
along the X, Y, and Z axes obtained by manual operation is stored in
memory as a program position to create a program.
The words other than X, Y, and Z, which include O, N, G, R, F, C, M, S,
T, P, Q, and EOB, can be stored in memory in the same way as in EDIT
mode.
</p>
<p>Procedure for Creating Programs in TEACH IN Mode
</p>
<p>The procedure described below can be used to store a machine position
along the X, Y, and Z axes.
</p>
<p>1 Select the TEACH IN JOG  mode or TEACH IN HANDLE  mode.
</p>
<p>2 Move the tool to the desired position with jog or handle.
</p>
<p>3 Press PRGRM  key to display the program screen.  Search for or register
</p>
<p>the number of a program to be edited and move the cursor to the
position where the machine position along each axis is to be
registered (inserted).
</p>
<p>4 Key in address X .
</p>
<p>5 Press the INSRT  key.  Then a machine position along the X axis is
</p>
<p>stored in memory.
(Example) X10.521 Machine positon (for mm input)
</p>
<p>X10521 Data stored in memory
</p>
<p>6 Similarly, key in Y , then press the INSRT key.  Then a machine
</p>
<p>position along the Y axis is stored in memory.  Further, key in Z ,
</p>
<p>then press the INSRT  key.  Then a machine position along the Z axis is
</p>
<p>stored in memory.
</p>
<p>The coordinates registered in this way are coordinates without a
decimal point.  If the calculator&ndash;type decimal point input is selected,
the decimal point is added to the coordinates.
</p>
<p>10.3
CREATING
PROGRAMS IN
TEACH IN MODE
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0810. CREATING PROGRAMS
</p>
<p>524
</p>
<p>Procedure example for creating the program in TEACH IN MODE
</p>
<p>O1234 ;
N1 G92 X10000 Y0 Z10000 ;
N2 G00 G90 X3025 Y23723 ;
N3 G01 Z&ndash;325 F300 ;
N4 M02 ;
</p>
<p>X
</p>
<p>Z
</p>
<p>Y
</p>
<p>P0
</p>
<p>(10.000, 0, 10.000)
</p>
<p>P1
</p>
<p>P2
</p>
<p>(3.025, 23.723, 10.000)
</p>
<p>(3.025, 23.723, &ndash;0.325)
</p>
<p>1 Set the setting data SEQUENCE NO. to 1 (on).  (The incremental
value parameter (No. 550) is assumed to be &ldquo;1&rdquo;.)
</p>
<p>2 Select the TEACH IN HANDLE  mode.
</p>
<p>3 Make positioning at position P0 by the manual pulse generator.
</p>
<p>4 Select the program screen.
</p>
<p>5 Enter program number O1234 as follows:
</p>
<p> O 1 2 3 4 INSRT
</p>
<p>This operation registers program number O1234 in memory.
Next, press the following keys:
</p>
<p> EOB  INSRT
</p>
<p>An EOB (;) is entered after program number O1234.  Because no
number is specified after N, sequence numbers are automatically
inserted for N0 and the first block (N1) is registered in memory.
</p>
<p>6 Enter the P0 machine position for data of the first block as follows:
</p>
<p> G 9 2 INSRT X INSRT Y INSRT Z
</p>
<p> INSRT EOB INSRT
</p>
<p>This operation registers G92X10000Y0Z10000; in memory.  The
automatic sequence number insertion function registers N2 of the
second block in memory.
</p>
<p>7 Position the tool at P1 with the manual pulse generator.
</p>
<p>8 Enter the P1 machine position for data of the second block as follows:
</p>
<p> G 0 0 INSRT G 9 0 X INSRT Y
</p>
<p> INSRT EOB INSRT
</p>
<p>This operation registers G00G90X3025Z23723; in memory.  The
automatic sequence number insertion function registers N3 of the
third block in memory.
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 10. CREATING PROGRAMSOPERATION
</p>
<p>525
</p>
<p>9 Position the tool at P2 with the manual pulse generator.
</p>
<p>10 Enter the P2 machine position for data of the third block as follows:
</p>
<p> G 0 1 INSRT Z INSRT F 3 0 0
</p>
<p> INSRT EOB INSRT
</p>
<p>This operation registers G01Z &ndash;325 F300; in memory.  
The automatic sequence number insertion function registers N4 of the
fourth block in memory.
</p>
<p>11 Register M02; in memory as follows:
</p>
<p> M 0 2 INSRT EOB INSRT
</p>
<p>N5 indicating the fifth block is stored in memory using the automatic
</p>
<p>sequence number insertion function.  Press the DELET  key to delete it.
</p>
<p>This completes the registration of the sample program.
</p>
<p>The contents of memory can be checked in the TEACH IN mode by using
the same procedure as in EDIT mode.
</p>
<p>PROGRAM O1234 N0004
</p>
<p>(RELATIVE) (ABSOLUTE)
X    0.000 X    0.000
Y    0.000 Y    0.000
Z    0.000 Z    0.000
</p>
<p>O1234  ;
N1 G92 X10000 Y0 Z10000 ;
N2 G00 G90 X3025 Y23723 ;
N3 G01 Z&ndash;325 F300 ;
N4 M02 
%
</p>
<p>ADRS. S 0  T
19:44:29 THND
</p>
<p>[ PRGRM ][  LIB  ][      ][      ][      ]
</p>
<p>When a value is keyed in after keying in address X , Y , or Z ,
</p>
<p>then the INSRT key is pressed, the value keyed in for a machine position
</p>
<p>is added for registration.  This operation is useful to correct a machine
position by key&ndash;in operation.
</p>
<p>Commands to be entered before and after a machine position must be
entered before and after the machine position is registered, by using the
same operation as program editing in EDIT mode.
</p>
<p>Explanations
</p>
<p>ï¿½ Checking contents of the
memory
</p>
<p>ï¿½ Registering a position
with compensation
</p>
<p>ï¿½ Registering commands
other than position
commands
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0810. CREATING PROGRAMS
</p>
<p>526
</p>
<p>When a program is created in EDIT mode, the G code menu is displayed
on the screen.
</p>
<p>Procedure for Menu Programming
</p>
<p>1 Select EDIT mode then press the PRGRM  function key.  The program
</p>
<p>screen is displayed.
</p>
<p>2 Press the address key G .  The G code menu is displayed in the
</p>
<p>lower half of the screen.For example, if G is keyed in after inserting
N30, the following G code menu is displayed:
</p>
<p>PROGRAM O0100 N0030
</p>
<p>O0100 ;
N10 G92 X0 Y0 Z0 ;
N20 G00 G10. Y&ndash;50. ;
N30 ;
%
</p>
<p>10:37:37 EDIT
</p>
<p>G00 : POSITIONING
G01 : LINEAR IPL.
G02 : CIRCULAR IPL. CW
G03 : CIRCULAR IPL. CCW
G04 : DWELL
G &lt;
</p>
<p>S 0  T
</p>
<p>[PRGRM ][  LIB  ][FLOPPY][     ][ C.A.P. ]
</p>
<p>3 The G dode menu after G05 can be sequentially indicated by pushing
the page key.
</p>
<p>10.4
MENU
PROGRAMMING
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 10. CREATING PROGRAMSOPERATION
</p>
<p>527
</p>
<p>4 When a G code selected from the menu is input, The standard format
of the one block corresponding to the G code is indicated.  
For example, when selecting G01, key in 0 and 1, and then press
</p>
<p>INSRT  key.  G01 is inserted to the memory as shown below, and the
</p>
<p>standard format of the G01 block is indicated on the screen.
</p>
<p>PROGRAM O0100 N0030
</p>
<p>O0100 ;
N10 G92 X0 Y0 Z0 ;
N20 G00 X10. Y&ndash;50. ;
N30 G01;
%
</p>
<p>10:38:27 EDIT
</p>
<p>G01  X(Z,Y) &ndash;&ndash;&ndash; Y(X,Z) &ndash;&ndash;&ndash; F&ndash;&ndash;&ndash;
M&ndash;&ndash;&ndash; S&ndash;&ndash;&ndash; T&ndash;&ndash;&ndash;
</p>
<p>&lt; S 0  T
</p>
<p>[PRGRM ][  LIB  ][FLOPPY][     ][ C.A.P. ]
</p>
<p>5 Observing this format, enter an address and numeric value, then press
</p>
<p>the INSRT key.  Repeat this step as many times as necessary to insert a
</p>
<p>block.  If the following is keyed in, for example:
</p>
<p>X 2 0 0 INSRT Y &ndash; 6 0 INSRT
</p>
<p>F 5 0 0 INSRT T 1 2 EOB INSRT
</p>
<p>the following screen is displayed:
</p>
<p>PROGRAM O0100 N0040
</p>
<p>O0100 ;
N10 G92 X0 Y0 Z0 ;
N20 G00 X10. Y&ndash;50. ;
N30 G01 X200. Y&ndash;60. F500 T12 ;
N40
%
</p>
<p>10:39:27 EDIT
&lt; S 0  T
</p>
<p>[PRGRM ][  LIB  ][FLOPPY][     ][ C.A.P. ]
ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0810. CREATING PROGRAMS
</p>
<p>528
</p>
<p>Programs can be created block after block on the conversational screen
while displaying the G code menu.
Blocks in a program can be modified, inserted, or deleted using the G code
menu and conversational screen.
</p>
<p>Procedure for Conversational Programming with Graphic Function ï¿½ Creating a block  ï¿½
</p>
<p>1 Enter the EDIT mode.
</p>
<p>2 Press PRGRM key.  If no program is registered, the following screen is
</p>
<p>displayed.  If a program is registered, the program currently selected
is displayed.
</p>
<p>PROGRAM O0000 N0000
</p>
<p>11:59:46 EDIT
&lt; S 0  T
</p>
<p>[PRGRM ][  LIB  ][FLOPPY][     ][ C.A.P. ]
</p>
<p>3 Key in the program number of a program to be registered after keying
</p>
<p>in address O, then press INSRT .  For example, when a program with
</p>
<p>program number 10 is to be registered, key in O 1 0 , then
</p>
<p>press INSRT .  This registers a new program O0010.
</p>
<p>10.5
CONVERSATIONAL
PROGRAMMING
WITH GRAPHIC
FUNCTION
</p>
<p>Procedure 1
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 10. CREATING PROGRAMSOPERATION
</p>
<p>529
</p>
<p>4 Press the [C.A.P] soft key. The following G code menu is displayed
on the screen.
If soft keys different from those shown in step 2 are displayed, press
the menu return key  to display the correct soft keys.
</p>
<p>PROGRAM O0010 N0000
</p>
<p>G00 : POSITIONING
G01 : LINEAR IPL
G02 : CIRCULAR IPL. CW
G03 : CIRCULAR IPL. CCW
G04 : DWELL
G09 : EXACT STOP CHECK
G10 : OFFSET&amp;TLC VALUE SETTING (0)
G17 : XY PLANE
G18 : ZX PLANE
G19 : YZ PLANE
G20 : INCH
G21 : METRIC
ADRS.
14:26:15 EDIT
</p>
<p>[  MENU  ][      ][      ][      ][      ]
</p>
<p>5 Key in the G code corresponding to a function to be programmed.
When the positioning function is desired, for example, the G code
menu lists the function with the G code G00.  So key in G00.  If the
screen does not indicate a function to be programmed, press the page
</p>
<p>key  to display the next G code menu screen.  Repeat this
</p>
<p>operation until a desired function appears.  If a desired function is not
a G code, key in no data.
</p>
<p>6 Press the soft key [MENU] to display a detailed screen for a keyed in G
code.  The figure below shows an example of detailed screen for G00.
</p>
<p>PROGRAM
G00 : POSITIONING
</p>
<p>O0010 N0000
</p>
<p>G00 G G G
X Y
Z (X, Y, Z, )
H OFFSET NO.
M
S
T
B
 :
</p>
<p>01:26:55 EDIT
</p>
<p>[  MENU  ][      ][      ][      ][      ]
ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0810. CREATING PROGRAMS
</p>
<p>530
</p>
<p>When no keys are pressed, the standard details screen is displayed.
</p>
<p>O0010  N0000PROGRAM
</p>
<p>G G G G
X Y
Z
H F
R M
S T
B I
J K
P Q
L
:
</p>
<p>EDIT01:28:46
</p>
<p>[ G.MENU  ][      ][      ][      ][      ]
</p>
<p>7 Move the cursor to the block to be modified on the program screen.
</p>
<p>8 Enter numeric data by pressing the numeric keys and press the
</p>
<p>[INPUT]  soft key or INPUT  key.  This completes the input of one data
</p>
<p>item.
</p>
<p>9 Repeat this operation until all data required for the entered G code is
entered.
</p>
<p>10 Press the INSRT  key.  This completes the registration of data of one
</p>
<p>block in program memory.  On the screen, the G code menu screen is
displayed, allowing the user to enter data for another block.  Repeat
the procedure starting with 5 as required.
</p>
<p>11 After registering all programs, press the leftmost soft key  (the
</p>
<p>menu return key).  The registered programs are converted to the
converssational format and displayed.
</p>
<p>12 Press the RESET  key to return to the program head.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 10. CREATING PROGRAMSOPERATION
</p>
<p>531
</p>
<p>Procedure for conversational programming with graphic function ï¿½ Modifying a block  ï¿½
</p>
<p>1 Move the cursor to the block to be modified on the program screen
and press the [C.A.P]  soft key.  Or, press the [C.A.P]  soft key first to
</p>
<p>display the conversational screen, then press the  or  page
</p>
<p>key until the block to be modified is displayed.
</p>
<p>2 When data other than a G code is to be altered, just move the cursor to
</p>
<p>the data and key in a desired value, then press INPUT  key.
</p>
<p>3 When a G code is to be altered, press the menu return key  and the
soft key [G.MENU] .  Then the G code menu appears.  Select a desired
G code, then key in the value.  For example, to specify a cutting feed,
since the G code menu indicates G01, key in G01.  Then press the soft
key [MENU] .  The detailed screen of the G code is displayed, so enter
the data.
</p>
<p>4 After data is changed completely, press the ALTER  key.  This operation
</p>
<p>replaces an entire block of a program.
</p>
<p>Procedure for conversational programming with graphic function ï¿½ Inserting a block  ï¿½
</p>
<p>1 On the conversational screen, display the block immediately before a
new block is to be inserted, by using the page keys.  On the program
screen, move the cursor with the page keys and cursor keys to
immediately before the point where a new block is to be inserted.
</p>
<p>2 Press the soft key [G.MENU]  to display the G code menu.  Then enter
new block data.
</p>
<p>3 When input of one block of data is completed in step 2, press the
</p>
<p>INSRT  key.  This operation inserts a block of data.
</p>
<p>Procedure for conversational programming with graphic function ï¿½ Inserting a block  ï¿½
</p>
<p>1 On the conversational screen, display the contents of a block to be
</p>
<p>deleted, then press the DELET  key.
</p>
<p>2 The contents of the block displayed are deleted from program
memory.  Then the contents of the next block are displayed on the
conversational screen.
</p>
<p>Procedure
</p>
<p>Procedure
</p>
<p>Procedureww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>532
</p>
<p>11 SETTING AND DISPLAYING DATA
To operate a CNC machine tool, various data must be set on the CRT/MDI
panel.  The operator can monitor the state of operation with data displayed
during operation.
This chapter describes how to display and set data for each function.
This chapter describes the procedure, assuming that the soft keys are used
to select a desired chapter.  If the soft keys are not supported, press the key
having the equivalent function two or more times to select the desired
chapter.
</p>
<p>The screen transition for when each function key on the MDI panel is
pressed is shown below.  The subsections referenced for each screen are
also shown.  See the appropriate subsection for details of each screen and
the setting procedure on the screen.  See other chapters for screens not
described in this chapter. 
</p>
<p>See Chapter 12 for the screen that appears when function key AUXGRAPH  is
</p>
<p>pressed.  
</p>
<p>The machine may have a data protection key to protect part programs.
Refer to the manual issued by the machine tool builder for where the data
protection key is located and how to use it.
</p>
<p>General
</p>
<p>Explanations
</p>
<p>ï¿½ Screen transition chart
</p>
<p>MDI function keys
(Shaded keys (       ) are described
in this chapter.)
</p>
<p>PRGRMPOS MENU
OFSET
</p>
<p>DGNOS
</p>
<p>PARAM
</p>
<p>OPR
</p>
<p>ALARM
</p>
<p>AUX
</p>
<p>GRAPH
</p>
<p>ï¿½ Data protection key
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>533
</p>
<p>POS
</p>
<p>Screen transition triggered by the function key POSPOSITION DISPLAY SCREEN
</p>
<p>Current position screen
</p>
<p>Position display of
work coordinate
system
ï¿½See subsec. 11.1.1.
</p>
<p>Display of run time
and parts count
ï¿½See subsec. 11.1.5.
</p>
<p>Display of actual
speed
ï¿½See subsec. 11.1.4.
</p>
<p>Position displays
relative coordinate
system
ï¿½See subsec. 11.1.2.
</p>
<p>Total position display
of each coordinate
system
ï¿½See subsec.11.1.3.
</p>
<p>Manual handle in-
terruption
ï¿½See sec. 4.7.
</p>
<p>ABS REL ALL HNDL
</p>
<p>Display of actual
speed
ï¿½See subsec. 11.1.4.
</p>
<p>Display of actual
speed
ï¿½See subsec. 11.1.4.
</p>
<p>Setting of relative
coordinate values
ï¿½See subsec. 11.1.2.
</p>
<p>Display of 
distance to go
ï¿½See subsec. 11.1.3.
</p>
<p>Display of actual
speed
ï¿½See subsec. 11.1.4.
</p>
<p>Display of run time
and parts count
ï¿½See subsec. 11.1.5.
</p>
<p>Display of run time
and parts count
ï¿½See subsec. 11.1.5.
</p>
<p>Display of run time
and parts count
ï¿½See subsec. 11.1.5.
</p>
<p>Current position screen
</p>
<p>MONI
</p>
<p>Display of op-
erating monitor
ï¿½See 11.1.6
</p>
<p>(This screen is displayed when the parameter (No. 0060#5) is set)ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>534
</p>
<p>Screen transition triggered by the function key
in the AUTO or MDI mode
</p>
<p>Program screen
</p>
<p>Display of pro-
gram contents
ï¿½See subsec. 11.2.1.
</p>
<p>Display of current
block and modal
data
ï¿½See subsec. 11.2.2.
</p>
<p>PRGRM CHECKCURRNT NEXT
</p>
<p>PRGRM
</p>
<p>PROGRAM SCREEN
</p>
<p>AUTO  (MDI)*
</p>
<p>Display of current
block and next
block
ï¿½See subsec. 11.2.3.
</p>
<p>Program being executed
Absolute / relative 
coordinate value
Distance to go
modal values
ï¿½See subsec. 11.2.4.
</p>
<p>Display of program
number and se-
quence number
ï¿½See subsec. 11.7.1.
</p>
<p>FL.SDL
</p>
<p>Command 
for MDI operation
ï¿½See subsec. 11.2.5.
</p>
<p>[SCHDUL]
</p>
<p>Setting of
schedule
ï¿½See sec. 4.5.
</p>
<p>Program screen
</p>
<p>PRGRM
</p>
<p>(MDI)*
RSTR
</p>
<p>Program restart
ï¿½See subsec. 4.4.
</p>
<p>*
</p>
<p>*
</p>
<p>**
</p>
<p>AUTO
</p>
<p>BG&ndash;EDT
**
</p>
<p>Back ground
editing screen
ï¿½See sec. 9.7.
</p>
<p>Displayed in MDI mode
</p>
<p>Not displayed in MDI mode
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>535
</p>
<p>Program editing
screen
ï¿½See chapter 10
</p>
<p>Program memory
and program direc-
tory
ï¿½See subsec. 11.3.1.
</p>
<p>PRGRM LIB C.A.P.
</p>
<p>EDIT
</p>
<p>Conversational 
programming 
screen
ï¿½See chapter 10.5
</p>
<p>EDIT
</p>
<p>Back ground edit-
ing screen
ï¿½See sec. 9.7.
</p>
<p>Program screen
</p>
<p>PROGRAM SCREEN Screen transition triggered by the function key
in the EDIT mode
</p>
<p>Program screen
</p>
<p>PRGRM
</p>
<p>PRGRM
</p>
<p>FLOPPY
I/O
</p>
<p>Program memory
and program direc-
tory
ï¿½See subsec. 11.3.1.
</p>
<p>BG&ndash;EDT EX&ndash;EDT
</p>
<p>Extended part pro-
gram editing
ï¿½See sec. 9.5.
</p>
<p>*
</p>
<p>*
</p>
<p>**
</p>
<p>*
</p>
<p>**
</p>
<p>Displayed if the floppy disk directory display option is supported and if the Floppy Cas-
sette is specified as the input/output unit
</p>
<p>Displayed if the above conditions are not satisfied
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>536
</p>
<p>Setting workpiece origin 
offset value
ï¿½See subsec. 11.4.3.
</p>
<p>Setting of the work-
piece origin offset
value
ï¿½See subsec. 11.4.3.
</p>
<p>Tool offset value
</p>
<p>Display of tool off-
set value
ï¿½See subsec. 11.4.1.
</p>
<p>OFFSET
</p>
<p>Screen transition triggered by the function keyOFFSET SCREEN
</p>
<p>Display of 
custom macro 
variables
ï¿½See subsec. 11.4.4.
</p>
<p>Setting of tool off-
set data
ï¿½See subsec. 11.4.1.
</p>
<p>Display of pattern
data
ï¿½See subsec. 11.4.5.
</p>
<p>Tool length
measurement
ï¿½See subsec. 11.4.2.
</p>
<p>ï¿½See subsec.
  11.4.3.
</p>
<p>Tool offset value
</p>
<p>Display of pattern
menu
ï¿½See subsec. 11.4.5.
</p>
<p>MENU
OFSET
</p>
<p>MENU
</p>
<p>OFSET
</p>
<p>MACRO MENU TOOLLFWORK
</p>
<p>Display of work-
piece coordinate
system
ï¿½See subsec. 11.4.3.
</p>
<p>Display of tool life
management data
ï¿½See subsec. 11.4.6.
</p>
<p>Setting of macro
variables
ï¿½See subsec. 11.4.4.
</p>
<p>Preset of tool life
counter
ï¿½See subsec. 11.4.6.
</p>
<p>WORK48
</p>
<p>Displaying the 
additional workpiece
coordinate systems 
(48 systems)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>537
</p>
<p>Setting of pitch 
error compensation
data
ï¿½see Subsec.11.5.2
</p>
<p>Parameter screen
</p>
<p>PARAM DGNOS
</p>
<p>PARAMETER/DIAGNOSTIC SCREEN
</p>
<p>Display of param-
eter screen
ï¿½see Subsec.11.5.1
</p>
<p>Setting of parameter
ï¿½see Subsec.11.5.1
</p>
<p>Display of diag-
nosis screen
ï¿½See Sec. 7.2
</p>
<p>Screen transition triggered by the function
key DGNOS
</p>
<p>PARAM
</p>
<p>DGNOS
</p>
<p>PARAM
</p>
<p>SV&ndash;PRM
</p>
<p>Display of diag-
nosis screen
ï¿½See chapter 7
</p>
<p>ï¿½see Subsec. 11.5.3
</p>
<p>*
</p>
<p>Display of diag-
nosis screen
ï¿½See chapter 7
</p>
<p>Display of setting
data
</p>
<p>Setting of setting 
data
</p>
<p>ï¿½see Subsec. 11.5.3
</p>
<p>* The servo setting/adjustment screen can be suppressed if bit 0
of parameter 0389 is specified accordingly.
</p>
<p>Setting of Sequence
Number Comparison
and Stop
ï¿½see Subsec. 11.5.4
</p>
<p>Setting of parts count
ï¿½see Subsec. 11.5.5
</p>
<p>Display of Run 
time, Parts count
</p>
<p>ï¿½see Subsec. 11.5.5
</p>
<p>ï¿½see Subsec. 11.5.5
</p>
<p>Display of time 
and setting
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>538
</p>
<p>OPR
ALARM
</p>
<p>OPR
</p>
<p>Display of alarm
screen
ï¿½ see sec. 7.1 ï¿½ see Subsec. 
</p>
<p>    11.6.2
</p>
<p>ALARM
</p>
<p>Display of software
operator&rsquo;s panel
</p>
<p>ALARM SCREEN Screen transition triggered by the function key
</p>
<p>Alarm screen
</p>
<p>ALARM OPR MSG
</p>
<p>Display of opera-
tor&rsquo;s message
</p>
<p>ï¿½ see Subsec. 
    11.6.1
</p>
<p>ï¿½ see Subsec. 11.6.2
</p>
<p>Setting of software 
operator&rsquo;s panel
switch
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>539
</p>
<p>The table below lists the data set on each screen.
</p>
<p>Table 11  Setting screen and data on them
</p>
<p>No. Setting screen Contents of setting Reference
item
</p>
<p>1 Tool offset value Tool offset value
Tool length offset value
Cutter compensation value
</p>
<p>Subsec. 11.4.1
</p>
<p>Tool length measurement Subsec. 11.4.2
</p>
<p>2 Setting data (handy) Parameter write
TV check
Punch code
Input unit (mm/inch)
I/O channel
Automatic insert of Sequence No.
Conversion of tape format
Incremental/absolute MDI travel dis-
tance
</p>
<p>Subsec. 11.5.3
</p>
<p>Sequence number comparison and
stop
</p>
<p>Subsec. 11.5.4
</p>
<p>Mirror image Subsec. 11.5.3
</p>
<p>Parts required Subsec. 11.5.5
</p>
<p>3 Macro variables Custom macro common variables
(#100 to #149) or (#100 to #199)
(#500 to #531) or (#500 to #599)
</p>
<p>Subsec. 11.4.4
</p>
<p>4 Parameter Parameter Subsec. 11.5.1
</p>
<p>Pitch error compensation data Subsec. 11.5.2
</p>
<p>5 software operator&rsquo;s panel Mode selection
Jog feed axis selection
Jog rapid traverse
Axis selection for Manual pulse
generator
Multiplication for manual pulse
generator
Jog feedrate
Feedrate override
Rapid traverse override
Optional block skip
Single block
Machine lock
Dry run
Protect key
Feed hold
</p>
<p>Subsec. 11.6.2
</p>
<p>6 Tool life data
(Tool life management)
</p>
<p>Life count Subsec. 11.4.6
</p>
<p>7 Work coordinate system
setting
</p>
<p>Work origin offset value Subsec. 11.4.3
</p>
<p>ï¿½ Setting screens
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>540
</p>
<p>Press function key POS  to display the current position of the tool.
</p>
<p>The following three screens are used to display the current position of the
tool:
</p>
<p>ï¿½ Position display screen for the work coordinate system.
</p>
<p>ï¿½ Position display screen for the relative coordinate system.
</p>
<p>ï¿½ Overall position display screen.
</p>
<p>The above screens can also display the feedrate, run time, and the number
of parts.
</p>
<p>Function key POS  can also be used to display the screen for displaying
</p>
<p>the distance moved by handle interruption.  See Section 4.7 for details on
this screen.
</p>
<p>11.1
SCREENS
DISPLAYED BY
FUNCTION KEY
@pos
</p>
<p>POS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>541
</p>
<p>Displays the current position of the tool in the workpiece coordinate
system.  The current position changes as the tool moves.  The least input
increment is used as the unit for numeric values.  The title at the top of
the screen indicates that absolute coordinates are used.
</p>
<p>1 Press function key POS .
</p>
<p>2 Press soft key [ABS] .
</p>
<p>[  ABS   ] [  REL  ] [  ALL  ] [ HNDL ] [      ]
</p>
<p>ACTUAL POSITION (ABSOLUTE)   O0010 N0000
</p>
<p>PART COUNT   1
RUN TIME      0H  1M CYCLE TIME  0H 1M33S
ACT.F     3000 MM/M     S    0 T
01:35:22 BUF AUTO
</p>
<p>X 123.456
Y 363.233
Z 0.000
</p>
<p>Bits 5 of parameter 018 can be used to select whether the displayed values
include tool length offset.
</p>
<p>11.1.1
Position Display in the
Work Coordinate
System
</p>
<p>Explanations
</p>
<p>ï¿½ Display including
compensation values
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>542
</p>
<p>Displays the current position of the tool in a relative coordinate system
based on the coordinates set by the operator.  The current position changes
as the tool moves.  The increment system is used as the unit for numeric
values.  The title at the top of the screen indicates that relative coordinates
are used.
On this screen, relative coordinates can be reset.
</p>
<p>Display procedure for the current position screen with the relative coordinate system
</p>
<p>1 Press function key POS .
</p>
<p>2 Press soft key [REL] .
</p>
<p>[  ABS   ] [  REL   ] [  ALL  ] [  HNDL ] [     ]
</p>
<p>ACTUAL POSITION (RELATIVE)   O0010 N0000
</p>
<p>PART COUNT   1
RUN TIME      0H  1M CYCLE TIME  0H 1M33S
ACT.F     3000 MM/M     S    0 T
01:36:12 BUF AUTO
</p>
<p>X 123.456
Y 363.233
Z 0.000
</p>
<p>11.1.2
Position Display in the
Relative Coordinate
System
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>543
</p>
<p>The current position of the tool in the relative coordinate system can be
reset to 0 or preset to a specified value as follows:
</p>
<p>Procedure to reset the axis coordinate to a specified value
</p>
<p>1 Key in the address of the axis name (X, Y, etc.) on the relative
coordinate screen.  The entered axis address blinks.  Two or more axis
names can be input.
</p>
<p>2 Press the CAN  key.  The relative coordinates of the axis having the
</p>
<p>blinking address are reset to 0.
</p>
<p>Procedure topreset a value for a specified axis
</p>
<p>1 Key in the desired axis name and value on the relative coordinate
screen.  The entered axis address blinks.
</p>
<p>2 Press the INPUT  key.  The relative coordinate of the axis with the
</p>
<p>blinking address is preset to the specified value.
</p>
<p>To enable this operation, specify bit 0 of parameter 0064 accordingly.  In
this mode, a reset cannot be performed for the specified axis.  To reset the
coordinate, key in 0 as the preset value.
</p>
<p>Bit 1 of parameter 0001 can be used to select whether the displayed values
include tool length offset and cutter compensation.
</p>
<p>Bit 1 of parameter 0002 is used to specify whether the displayed positions
in the relative coordinate system are preset to the same values as in the
workpiece coordinate system when a coordinate system is set by a G92
command or when the manual reference position return is made.
</p>
<p>Explanations
</p>
<p>ï¿½ Setting the relative
coordinates
</p>
<p>ï¿½ Display including
compensation values
</p>
<p>ï¿½ Presetting by setting a
coordinate system
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>544
</p>
<p>Displays the following  positions on a screen :  Current positions of the
tool in the workpiece coordinate system, relative coordinate system, and
machine coordinate system, and the remaining distance.
</p>
<p>Procedure for displaying overall position display screen
</p>
<p>1 Press function key POS .
</p>
<p>2 Press soft key [ALL] .
</p>
<p> (RELATIVE)
X   246.912
Y   913.780
Z  1578.246
</p>
<p> (ABSOLUTE)
X   123.456
Y   456.890
Z   789.123
</p>
<p> (MACHINE)
X     0.000
Y     0.000
Z     0.000
</p>
<p>(DISTANCE TO GO)
X     0.000
Y     0.000
Z     0.000
</p>
<p>[  ABS   ] [  REL   ] [  ALL  ] [  HNDL ] [     ]
</p>
<p>ACTUAL POSITION           O1000 N00010
</p>
<p>  PART COUNT          1
RUN TIME    0H 4M   CYCLE TIME   0H 1M38S
ACT.F     0 MM/M       S   0 T
01:54:57   MDI
</p>
<p>The current positions of the tool in the following coordinate systems are
displayed at the same time:
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½ ï¿½ï¿½ï¿½&#13;ï¿½&#13;ï¿½ï¿½ &#13;ï¿½ ï¿½ï¿½
 ï¿½
ï¿½ï¿½ï¿½&#13;ï¿½
 ï¿½ï¿½ï¿½ï¿½	&#13;ï¿½ï¿½ï¿½
 ï¿½ï¿½ï¿½ï¿½
ï¿½
</p>
<p>ï¿½ï¿½
ï¿½ï¿½ï¿½&#13;ï¿½
 ï¿½ï¿½ï¿½ï¿½	&#13;ï¿½ï¿½ï¿½
ï¿½
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½ ï¿½ï¿½ï¿½&#13;ï¿½&#13;ï¿½ï¿½ &#13;ï¿½ ï¿½ï¿½
 ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½	&#13;ï¿½ï¿½ï¿½
 ï¿½ï¿½ï¿½ï¿½
ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 ï¿½ï¿½ï¿½ï¿½	&#13;ï¿½ï¿½ï¿½
ï¿½
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½
ï¿½ï¿½ ï¿½ï¿½ï¿½&#13;ï¿½&#13;ï¿½ï¿½ &#13;ï¿½ ï¿½ï¿½
 ï¿½ï¿½ï¿½ï¿½&#13;ï¿½
 ï¿½ï¿½ï¿½ï¿½	&#13;ï¿½ï¿½ï¿½
 ï¿½ï¿½ï¿½ï¿½
ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½&#13;ï¿½
 ï¿½ï¿½ï¿½ï¿½	&#13;ï¿½ï¿½ï¿½
ï¿½
</p>
<p>ï¿½ ï¿½&#13;ï¿½ï¿½ï¿½ï¿½ï¿½
 ï¿½ï¿½ ï¿½ï¿½ ï¿½	&#13;ï¿½ï¿½ï¿½ï¿½ï¿½
 ï¿½ï¿½ ï¿½ï¿½ï¿½
</p>
<p>The distance remaining is displayed in the AUTO or MDI mode.  The
distance the tool is yet to be moved in the current block is displayed.
</p>
<p>The least command increment is used as the unit for values displayed in
the machine coordinate system.  However, the least input increment can
be used by setting bit 0 of parameter 063.
</p>
<p>11.1.3
Overall Position
Display
</p>
<p>Explanations
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ 	ï¿½
</p>
<p>ï¿½ ï¿½ï¿½ï¿½
ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½&#13;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>545
</p>
<p>The actual feedrate on the machine (per minute) can be displayed on a
current position display screen or program check screen by setting bit 2
of parameter 028.  On a 14&ndash;inch CRT, the actual feedrate is always
displayed.
</p>
<p>Display procedure for the actual feedrate on the current position display screen
</p>
<p>1 Press function key POS  to display a current position display screen.
</p>
<p>[  ABS   ] [  REL   ] [  ALL  ] [  HNDL ] [     ]
</p>
<p>ACTUAL POSITION (ABSOLUTE)   O0010 N0000
</p>
<p>PART COUNT   1
RUN TIME      0H  1M CYCLE TIME  0H 1M33S
ACT.F     3000 MM/M     S    0 T
01:35:22 BUF AUTO
</p>
<p>X 123.456
Y 363.233
Z 0.000
</p>
<p>The actual feedrate is displayed in units of milimeter/min or inch/min
(depending on the specified least input increment) under the display of the
current position.
</p>
<p>The actual rate is calculated by the following expression:
</p>
<p>Factï¿½ ï¿½
n
</p>
<p>iï¿½1
</p>
<p>(fi)2ï¿½
</p>
<p>where
n : Number of axes
fi : Cutting feed rate in the tangential direction of each axis or rapid
</p>
<p>traverse rate
Fact : Actual feedrate displayed
The display unit: mm/min (metric input)
</p>
<p>inch/min (Inch input)
</p>
<p>In the case of feed per revolution and thread cutting, the actual feedrate
displayed is the feed per minute rather than feed per revolution.
</p>
<p>In the case of movement of rotary axis, the speed is displayed in units of
deg/min but is displayed on the screen in units of input system at that time.
For example, when the rotary axis moves at 50 deg/min, the following is
displayed: 50 INCH/M
</p>
<p>The program check screen also displays the actual feedrate.
</p>
<p>11.1.4
Actual Feedrate
Display
</p>
<p>Explanations
</p>
<p>ï¿½ Actual feedrate value
</p>
<p>ï¿½ Actual feedrate display
of feed per revolution
</p>
<p>ï¿½ Actual feedrate display
of rotary axis
</p>
<p>ï¿½ Actual feedrate display
on the other screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>546
</p>
<p>The run time, cycle time, and the number of machined parts are displayed
on the current position display screens.
</p>
<p>Procedure for displaying run time and parts count on the current position display screen
</p>
<p>1 Press function key POS  to display a current position display screen.
</p>
<p>[  ABS   ] [  REL  ] [  ALL  ] [  HNDL ] [ OPRT ]
</p>
<p>ACTUAL POSITION(RELATIVE)   O0010 N0000
</p>
<p>  PART COUNT          5
RUN TIME    0H15M   CYCLE TIME   0H 0M38S
ACT.F     3000 MM/M     S   0 T0000
01:36:12   BUF  AUTO
</p>
<p>X 123.456
Y 363.233
Z 0.000
</p>
<p>The number of machined parts (PART COUNT), run time (RUN
TIME), and cycle time (CYCLE TIME) are displayed under the
current position.
</p>
<p>Indicates the number of machined parts.  The number is incremented each
time M02, M30, or an M code specified by parameter 6710 is executed.
</p>
<p>Key in address P , then press the CAN  key.  The value is reset to 0.
</p>
<p>Indicates the total run time during automatic operation, excluding the stop
and feed hold time.
</p>
<p>Key in address R , then press the CAN  key.  The value is reset to 0.
</p>
<p>Indicates the run time of one automatic operation, excluding the stop and
feed hold time.  This is automatically preset to 0 when a cycle start is
performed at reset state.  It is preset to 0 even when power is removed.
</p>
<p>Details of the run time and the number of machined parts are displayed
on the setting screen.  See subsection 11.5.5.
</p>
<p>The number of machined parts and run time cannot be set on current
position display screens.  They can be set on the setting screen.
</p>
<p>Bit 0 (PCM) of parameter 219 is used to specify whether the number of
machined parts is incremented each time M02, M30, or an M code
specified by parameter  is executed, or only each time an M code specified
by parameter 6710 is executed.
</p>
<p>11.1.5
Display of Run Time
and Parts Count
</p>
<p>Explanations
</p>
<p>ï¿½ PART COUNT
</p>
<p>ï¿½ RUN TIME
</p>
<p>ï¿½ CYCLE TIME
</p>
<p>ï¿½ Display on the other
screen
</p>
<p>ï¿½ Setting of Machine parts
and run time
</p>
<p>ï¿½ Incrementing the number
of machined parts
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>547
</p>
<p>This function displays the loads on the basic axes and serial spindle (first
spindle).  This function can also display the speed of the serial spindle
(first spindle).
</p>
<p>Procedure for manipulating the monitor display
</p>
<p>1 Display the current position display screen by pressing function key
</p>
<p>POS .
</p>
<p>2 Press the rightmost soft key [&gt;].
</p>
<p>3 Press the [MONI]  soft key.
These steps display the operating monitor screen.  The operating
</p>
<p>monitor screen can also be displayed by pressing the  and 
</p>
<p>page keys several times instead of performing steps 2 and 3.
</p>
<p>Operating monitor O1000 N0000
   (Load meter)
</p>
<p>X:********** 0%   S1:**********  0%
</p>
<p>Y:********** 0%
                 (Speed meter     RPM)
Z:********** 0%   S1:**********   0
</p>
<p> 
[  MONI  ][       ][       ][       ][       ]
</p>
<p>(1)Load meter (X to Z)
The load on each axis is indicated as a percentage of the rated torque
and a string of asterisks (*).  One asterisk represents 10%.
</p>
<p>(2)Load meter (S1)
The load on the first serial spindle is indicated as a percentage of the
rated torque and a string of asterisks (*).  One asterisk represents 20%.
</p>
<p>(3)Speed meter (S1)
The speed of the first serial spindle is indicated using RPM and a string
of asterisks (*).  One asterisk represents 10% of the maximum speed.
</p>
<p>NOTE
1 Load data is displayed only for the basic axes.
2 Data is displayed only for the first serial spindle.  No data is
</p>
<p>displayed for the second serial spindle or analog interface
spindle.
</p>
<p>3 Data is displayed when bit 5 of parameter No. 060 is set to
1.
</p>
<p>11.1.6
Operating Monitor
Display
</p>
<p>Procedure
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>548
</p>
<p>This section describes the screens displayed by pressing function key
</p>
<p>PRGRM in AUTO or MDI mode.The first four of the following screens
</p>
<p>display the execution state for the program currently being executed in
AUTO or MDI mode and the last screen displays the command values for
MDI operation in the MDI mode:
</p>
<p>1. Program contents display screen
2. Current block display screen
3.  Next block display screen
4. Program check screen
5. Program screen for MDI operation
</p>
<p>Function key PRGRM  can also be pressed in AUTO mode to display the
</p>
<p>program restart screen and scheduling screen.
See Section 4.4 for the program restart screen.
See Section 4.5 for the scheduling screen.
</p>
<p>11.2
SCREENS 
DISPLAYED BY 
FUNCTION KEY @prg  
(IN AUTO MODE OR 
MDI MODE)
</p>
<p>PRGRM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>549
</p>
<p>Displays the program currently being executed in AUTO mode.
</p>
<p>Procedure for displaying the program contents
</p>
<p>1 Press function PRGRM  key to display the program.
</p>
<p>2 Press soft key [PRGRM] .
The cursor is positioned at the block currently being executed.
</p>
<p>PROGRAM           O2000 N0130
O2000 ;
N100 G92 X0 Y0 Z50. ;
N110 G91 G00 Y50. ;
N120 Z&ndash;50. ;
N130 G41 G17 H1 G01 X20. F3000 ;
N140 G02 J&ndash;25.5 ;
N150 X20. ;
N160 G02 X12.5 Y12.5 R12.5 ;
N170 G01 Y40. ;
N180 X30. Y30. ;
N190 G40 X50. ;
</p>
<p>        S    0 T   
 16:59:40 BUF AUTO       
[ PRGRM ][CURRNT][ NEXT ][ CHECK ][ RSTR ]
</p>
<p>11.2.1
Program Contents
Display
</p>
<p>Procedure
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>550
</p>
<p>Displays the block currently being executed and modal data in the AUTO
or MDI mode.
</p>
<p>Procedure for displaying the current block display screen
</p>
<p>1 Press function key PRGRM .
</p>
<p>2 Press soft key [CURRNT] .
The block currently being executed and modal data are displayed.
</p>
<p>  (CURRNT)        (MODAL)
</p>
<p>X 20.000 G67 G01 F 3000
G01 F 3000 G54 G17 R
G17 H 1 G64 G91 P
</p>
<p>G69 G22 Q
G15 G94 H
G25 G21 M 
</p>
<p>G41 S
G41 G49 T
</p>
<p>G80
G80 G98 S
</p>
<p>G50
</p>
<p>                              S   0  T0000
 02:50:52 BUF AUTO
[ PRGRM ][ CURRNT ][ NEXT ][ CHECK ][ RSTR ]
</p>
<p>PROGRAM              O2000 N00130
</p>
<p>The current block display screen is not provided for 14&ndash;inch CRTs.  Press
soft key [PRGRM]  to display the contents of the program on the right half
of the screen.  The block currently being executed is indicated by the
cursor.  Modal data is displayed on the left half of the screen.
</p>
<p>ACTUAL POSITION
(ABSOLUTE)
</p>
<p>G01 G21 G50 G15 F    3000  M
G17 G41 G67 G25 R
G91 G49 G54 P
G22 G80 G64 Q   S
G94 G98 G69 H 1 T
</p>
<p>O2000 N0130
F               3000
</p>
<p>PROGRAM
</p>
<p>O2000 ;
N100 G92 X0 Z50. ;
N110 G91 G00 Y50.  ;
N120 Z&ndash;50. ;
N130 G41 G17 H1 G01 X20. F3000 ;
N140 G02 J&ndash;25.5 ;
N150 X20. ;
N160 G02 X12.5 Y12.5 R12.5 ;
N170 G01 Y40. ;
N180 X30. Y30. ;
N190 G40 X50. ;
</p>
<p>S   0 T
02:39:41 BUF AUTO
</p>
<p>ï¿½
</p>
<p>(MODAL)
</p>
<p>MM/MX 17.199
Y 50.000
Z 0.000
</p>
<p> PART COUNT 1
RUN TIME 0H 4M CYCLE TIME 0H 0M 2S
</p>
<p>ABS REL ALL HNDL PRGRM COMMND RSTR
</p>
<p>11.2.2
Current Block Display
Screen
</p>
<p>Explanations
</p>
<p>ï¿½ 14 inch CRT screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>551
</p>
<p>Displays the block currently being executed and the block to be executed
next in the AUTO or MDI mode.
</p>
<p>Procedure for displaying the next block display screen
</p>
<p>1 Press function key PRGRM .
</p>
<p>2 Press soft key [NEXT] .
The block currently being executed and the block to be executed next
are displayed.
</p>
<p>X 20.000 J &ndash;25.500
G01 F 3000 G02
G17 H 1
 
</p>
<p>(CURRNT)     (NEXT)
</p>
<p>                               S   0  T
02:52:14    BUF AUTO
[ PRGRM ][ CURRNT ][ NEXT ][ CHECK ][ RSTR ]
</p>
<p>PROGRAM           O2000 N0130
</p>
<p>G41
</p>
<p>G80 G80
 
</p>
<p>11.2.3
Next Block Display
Screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>552
</p>
<p>Displays the program currently being executed, current position of the
tool, and modal data in the AUTO mode.
</p>
<p>Procedure for displaying the program check screen
</p>
<p>1 Press function key PRGRM .
</p>
<p>2 Press soft key [CHECK] .
The program currently being executed, current position of the tool,
and modal data are displayed.
</p>
<p>N130 G41 G17 H1 G01 X20.  F3000 ;
N140 G02 J&ndash;25.5 ;
N150 X20.0 ;
N160 G02 X12.5 Y12.5 R12.5 ;
</p>
<p>(RELATIVE) (DIST TO GO) (G)
 X 17.600  X     2.400 G01 G21 G50
 Y 50.000  Y     0.000 G17 G41 G67
 Z  0.000  Z     0.000 G91 G49 G54
</p>
<p>G22 G80 G64
G94 G98 G69
</p>
<p> F       3000  P H  1  S
 R  Q M     T
</p>
<p>ACT.F 3000  MM/M S   0  T
02:53:16 BUF AUTO
[ PRGRM ][ CURRNT ][ NEXT ][ CHECK ][ RSTR ]
</p>
<p>PROGRAM CHECK O2000 N0130
</p>
<p>For the program currently being executed, the block currently being
executed is displayed first.
</p>
<p>The position in the workpiece coordinate system or relative coordinate
system and the remaining distance are displayed.  The absolute positions
and relative positions are switched by parameter No. 028 #0.
</p>
<p>11.2.4
Program Check Screen
</p>
<p>Explanations
</p>
<p>ï¿½ Program display
</p>
<p>ï¿½ Current position display
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>553
</p>
<p>The program check screen is not provided for 14&ndash;inch CRTs.  Press soft
key [PRGRM]  to display the contents of the program on the right half of
the screen.  The block currently being executed is indicated by the cursor.
The current position of the tool and modal data are displayed on the left
half of the screen.
</p>
<p>ACTUAL POSITION
(ABSOLUTE)
</p>
<p>G01 G21 G50 G15 F    3000  M
G17 G41 G67 G25 R
G91 G49 G54 P
G22 G80 G64 Q   S
G94 G98 G69 H 1 T
</p>
<p>O2000 N0130
F               3000
</p>
<p>PROGRAM
</p>
<p>O2000 ;
N100 G92 X0 Z50. ;
N110 G91 G00 Y50.  ;
N120 Z&ndash;50. ;
N130 G41 G17 H1 G01 X20. F3000 ;
N140 G02 J&ndash;25.5 ;
N150 X20. ;
N160 G02 X12.5 Y12.5 R12.5 ;
N170 G01 Y40. ;
N180 X30. Y30. ;
N190 G40 X50. ;
</p>
<p>S   0 T
02:39:41 BUF AUTO
</p>
<p>ï¿½
</p>
<p>(MODAL)
</p>
<p>MM/MX 17.199
Y 50.000
Z 0.000
</p>
<p> PART COUNT 1
RUN TIME 0H 4M CYCLE TIME 0H 0M 2S
</p>
<p>ABS REL ALL HNDL PRGRM COMMND RSTR
</p>
<p>ï¿½ 14 inch CRT
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>554
</p>
<p>Displays the program input from the MDI and modal data in the MDI
mode.
</p>
<p>Procedure for displaying the program screen for MDI operation
</p>
<p>1 Press function key PRGRM .
</p>
<p>2 Press soft key [MDI] .
The program input from the MDI and modal data are displayed.
</p>
<p>(1) MDI operation &ndash; A
</p>
<p>(MDI) (MODAL)
X 10.500 F 2000
Y 200.500  G00 R
</p>
<p> G17 P
 G90 Q
 G94 H    2
 G21 M
 G40 S    15
 G49 T    02
 G80
 G98
 G67
</p>
<p>ADDRESS
</p>
<p>                MDI 
[ PRGRM ][ CURRNT ][ NEXT ][  MDI  ][     ]
</p>
<p>PROGRAM O2000 N0130
</p>
<p>(2) MDI operation &ndash; B
</p>
<p>(MODAL)
G00  G90  G94  G40  G80  G50  G54  G69
G17  G22  G21  G49  G98  G67  G64
F P H S
R Q M T
</p>
<p>&lt;     S  0 T
</p>
<p>11:04:44 MDI 
</p>
<p>[ PRGRM ][ CURRNT ][ NEXT ][  MDI  ][ RSTR ]
</p>
<p>PROGRAM (MDI) O1234 N5678
</p>
<p>O0000 G00 X100. Y200. ;
M03 ;
G01 Z120. F500 ;
M98 P9010 ;
G00 Z0 ;
%
</p>
<p>11.2.5
Program Screen for
MDI Operation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>555
</p>
<p>See Section 4.2 for MDI operation.
</p>
<p>The modal data is displayed when bit 7 (MDL) of parameter 3107 is set
to 1.  On a 14&ndash;inch CRT, however, the contents of the program are
displayed on the right half of the screen and the modal data is displayed
on the left half of the screen, regardless of this parameter.
</p>
<p>Explanations
</p>
<p>ï¿½ MDI operation
</p>
<p>ï¿½ Modal information
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>556
</p>
<p>This section describes the screens displayed by pressing function key
</p>
<p>PRGRM  in the EDIT mode.  Function key PRGRM  in the EDIT mode can
</p>
<p>display the program editing screen and the library screen (displays
</p>
<p>memory used and a list of programs).  Pressing function key PRGRM  in the
</p>
<p>EDIT mode can also display the conversational graphics programming
screen and the floppy file directory screen.  See Chapter 9 for the program
editing screen and conversational graphics programming screen.  See
Chapter 8 for the floppy file directory screen.
</p>
<p>11.3
SCREENS 
DISPLAYED BY 
FUNCTION KEY @prg 
(IN THE EDIT MODE)
</p>
<p>PRGRM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>557
</p>
<p>Displays the number of registered programs, memory used, and a list of
registered programs.
</p>
<p>Procedure for displaying memory used and a list of programs
</p>
<p>1 Select the EDIT mode.
</p>
<p>2 Press function key PRGRM .
</p>
<p>3 Press soft key [LIB] .
</p>
<p>    SYSTEM EDITION    0466 &ndash; 25
  PROGRAM NO.  USED : 14  FREE : 49
  MEMORY AREA  USED : 275 FREE : 3820
PROGRAM LIBRARY LIST
</p>
<p>O0010 O2000 O0020 O0030 O0200 O0300
O0555 O1200 O0777 O1234 O0040 O0050
O1969 O1224 
</p>
<p>&gt;                                  S   0  T
03:04:17
[ PRGRM ][ CONDNS ][      ][     ][ C.A.P. ]
</p>
<p>PROGRAM O1224 N0000
</p>
<p>PROGRAM NO. USED
</p>
<p>PROGRAM NO. USED : The number of the programs registered 
(including the subprograms)
</p>
<p>FREE : The number of programs which can be
registered additionally.
</p>
<p>MEMORY AREA USED
MEMORY AREA USED : The capacity of the program memory in
</p>
<p>which data is registered (indicated by the
number of characters).
</p>
<p>FREE : The capacity of the program memory which
can be used additionally (indicated by the
number of characters).
</p>
<p>11.3.1
Displaying Memory
Used and a List of
Programs
</p>
<p>Explanations
</p>
<p>ï¿½ Details of memory used
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>558
</p>
<p>Program Nos. registered are indicated.
Also, the program name can be displayed in the program table by setting
parameter No. 040#0.
</p>
<p>    SYSTEM EDITION    0466 &ndash; 25
  PROGRAM NO.  USED : 14  FREE : 49
  MEMORY AREA  USED : 275 FREE : 3820
PROGRAM LIBRARY LIST
</p>
<p>O0010 (MACRO&ndash;GCODE.MAIN)
O2000 (MACRO GCODE.SUB1)
O0020 (TEST&ndash;PROGRAM.NO&ndash;1)
O0030 (TEST&ndash;PROGRAM.F10&ndash;MACRO)
O0200 (TEST&ndash;PROGRAM.OFFSET)
O0300
O0555 (INCH/MM CONVERT CHECK NO&ndash;1)
O1200 (MACRO&ndash;MCODE.MAIN)
</p>
<p>&gt;                                  S   0  T
03:05:57 EDIT
[ PRGRM ][ CONDNS ][      ][     ][ C.A.P. ]
</p>
<p>PROGRAM O1224 N0000
</p>
<p>Always enter a program name between the control out and control in
codes immediately after the program number.  
Up to 31 characters can be used for naming a program within the
parentheses.  If 31 characters are exceeded, the exceeded characters are
not displayed. 
Only program number is displayed for the program without any program
name. 
</p>
<p>ï¿½ââââ&hellip;âï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ ï¿½
</p>
<p>Program number Program name (up to 31 characters)
</p>
<p>Software series of the system is displayed.
It is used for maintenance ; user is not required this information.
</p>
<p>Programs are displayed in the same order that they are registered in the
program library list.  However, if bit 4 of parameter 040 is set to 1,
programs are displayed in the order of program number starting from the
smallest one.
</p>
<p>Any unused areas created by background editing are counted as used
program and used memory areas.  When memory is reorganized (refer to
Sec. 9.8), these unused areas are counted as free areas.
</p>
<p>ï¿½ Program library list
</p>
<p>ï¿½ Program name
</p>
<p>ï¿½ Software series
</p>
<p>ï¿½ Order in which programs
are displayed in the
program library list
</p>
<p>ï¿½ Free area
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>559
</p>
<p>Press function key MENUOFSET to display or set tool compensation values and
</p>
<p>other data.
This section describes how to display or set the following data:
</p>
<p>1. Tool offset value
2. Workpiece origin offset value
3. Custom macro common variables
4. Pattern menu and pattern data
5. Tool life management data
</p>
<p>This section also describes measurement of tool length and the sequence
number comparison and stop function.
The pattern menu, pattern data, and tool life management data depend on
the specifications of the machine tool builder.  See the manual issued by
the machine tool builder for details.
</p>
<p>11.4
SCREENS
DISPLAYED BY 
FUNCTION KEY
 @menuofset
</p>
<p>MENU
</p>
<p>OFSET
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>560
</p>
<p>Tool offset values, tool length offset values, and cutter compensation
values are specified by D codes or H codes in a program.  Compensation
values corresponding to D codes or H codes are displayed or set on the
screen.
</p>
<p>Procedure for setting and displaying the cutter compensation value
</p>
<p>1 Press function key MENUOFSET .
</p>
<p>2 Press soft key [OFFSET] .
The screen varies according to the type of tool offset memory.
</p>
<p>OFFSET                            O1224 N0000
   NO.       DATA        NO.      DATA
   001       10.000         009         0.000
   002        0.000        010        12.269
   003        5.000        011        10.230
   004        0.000        012       &ndash;11.265
   005       12.580        013        &ndash;8.562
   006        0.000        014         0.000
   007        0.000        015         0.000
   008        0.000        016         0.000
ACTUAL POSITION (RELATIVE)
      X     0.000           Y          0.000
      Z     0.000
</p>
<p>Tool offset memory A
</p>
<p>NO. 013 = S 0  T
</p>
<p>03:22:13 MDI
</p>
<p>[ OFFSET ][ MACRO ][ MENU ][ WORK ][ TOOLLF ]
</p>
<p>OFFSET / WEAR                  O0000 N0000
   NO.      DATA          NO.        DATA
  HW 001      10.000      HW 0.009      0.000
  HW 002       0.000     HW 0.010     12.269 
  HW 003       5.000     HW 0.011     10.230 
  HW 004       0.000     HW 0.012    &ndash;11.265 
  HW 005      12.580     HW  0.013     &ndash;8.562 
  HW 006       0.000     HW 0.014      0.000 
  HW 007       0.000     HW 0.015      0.000 
  HW 008       0.000     HW 0.016      0.000 
ACTUAL POSITION (RELATIVE)
      X     0.000           Y          0.000
      Z     0.000
</p>
<p>Tool offset memory B
</p>
<p>NO. 013 = S 0  T
</p>
<p>11:29:58 MDI
</p>
<p>[ GEOM ][ MACRO ][ MENU ][ WORK ][ TOOLLF ]
</p>
<p>11.4.1
Setting and Displaying
the Tool Offset Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>561
</p>
<p>3 Move the cursor to the compensation value to be set or changed using
</p>
<p>page keys and cursor keys.  Press NO.  key and enter the compensa&ndash;
</p>
<p>tion number for the compensation value to be set or changed and then
</p>
<p>press INPUT key.
</p>
<p>4 Enter a compensation value, and INPUT key.
</p>
<p>A decimal point can be used when entering a compensation value.
</p>
<p>An external input/output device can be used to input or output a cutter
compensation value.  See Chapter 9.  A tool length offset value can be set
by measuring the tool length as described in the next subsection.
</p>
<p>There are tool offset memories A, B, and C, which are classified as
follows:
</p>
<p>Tool offset memory A
</p>
<p>Tool geometry compensation and tool wear compensation are treated
the same.
</p>
<p>Tool offset memory B
</p>
<p>D codes and H codes are treated the same.  Tool geometry
compensation and tool wear compensation are treated differently.
</p>
<p>Tool offset memory C
</p>
<p>Offset memory is divided into two areas: one area for tool length offset
data (H), and the other for cutter compensation data (D).
</p>
<p>The entry of compensation values may be disabled by setting bit 0 and 1
of parameter 078 (not applied to tool offset memory A).
</p>
<p>The current compensation value can be incremented or decremented if bit
4 of parameter 001 is specified accordingly.  If this is selected, key in a
desired increment or decrement.
</p>
<p>Explanations
</p>
<p>ï¿½ Decimal point input
</p>
<p>ï¿½ Other method
</p>
<p>ï¿½ Tool offset memory
</p>
<p>ï¿½ Disabling entry of
compensation values
</p>
<p>ï¿½ Incremental input
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>562
</p>
<p>The length of the tool can be measured and registered as the tool length
offset value by moving the reference tool and the tool to be measured until
they touch the specified position on the machine.  
The tool length can be measured along the X&ndash;, Y&ndash;, or Z&ndash;axis.
</p>
<p>Procedure for tool length measurement
</p>
<p>1 Use manual operation to move the reference tool until it touches the
specified position on the machine (or workpiece.)
</p>
<p>2 Press function key POS until the current position display screen with
</p>
<p>relative coordinates is displayed.
</p>
<p>03:29:10 HNDL
[  ABS   ] [  REL  ] [  ALL  ] [  HNDL ] [     ]
</p>
<p>ACTUAL POSITION(RELATIVE)     O1000 N00010
</p>
<p>PART COUNT 17
RUN TIME    0H 4M CYCLE TIME   0H 0M 2S
ACT.F      0 MM/M    S    0 T
</p>
<p>X 19.690
Y 12.240
Z 146.550
</p>
<p>3 Reset the relative coordinate for the Z&ndash;axis to 0 (see subsection 11.1.2
for details).
</p>
<p>4 Press function key MENUOFSET  until the tool compensation screen is
</p>
<p>displayed.
</p>
<p>5 Use manual operation to move the tool to be measured until it touches
the same specified position.  The difference between the length of the
reference tool and the tool to be measured is displayed in the relative
coordinates on the screen.
</p>
<p>6 Move the cursor to the compensation number for the target tool (the
cursor can be moved in the same way as for setting tool compensation
values).
</p>
<p>7 While holding down the EOB  key, key in address Z .
</p>
<p>If either X or Y key is depressed instead of Z key, the X or Y
</p>
<p>axis relative coordinate value is input as an tool length compensation
value.
</p>
<p>11.4.2
Tool Length
Measurement
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>563
</p>
<p>8 Press the INPUT  key.  The Z axis relative coordinate value is input and
</p>
<p>displayed as an tool length offset value.
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
&Ccedil;&Ccedil;
</p>
<p>A prefixed position
</p>
<p>Reference
tool
</p>
<p>The difference is set as a tool
length offset value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>564
</p>
<p>Displays the workpiece origin offset for each workpiece coordinate
system (G54 to G59 and G54 P1 to G54 P48) and external workpiece
origin offset.  The workpiece origin offset and external workpiece origin
offset can be set on this screen.
</p>
<p>Procedure for Displaying and Setting the Workpiece Origin Offset Value
</p>
<p>1 Press function key MENUOFSET .
</p>
<p>2 Press soft key [WORK]  or [WORK48] .
The workpiece coordinate system setting screen is displayed.
</p>
<p>  NO.     (SHIFT)
 _00 X   0.000
 Y   0.000
</p>
<p>Z   0.000
</p>
<p>  NO.    (G54)
  01 X   0.000
 Y   0.000
</p>
<p>Z   0.000
</p>
<p>  NO.     (G55)
  02 X 0.000
 Y 0.000
</p>
<p>Z 0.000
</p>
<p>  NO.    (G56)
  03 X 0.000
 Y 0.000
</p>
<p>Z 0.000
</p>
<p>ADRS.                          S   0  T
</p>
<p>03:36:12       MDI
</p>
<p>[ WEAR ][ MACRO ][ MENU ][ WORK ][ TOOLLF ]
</p>
<p>WORK COORDINATES             O0001 N00000
</p>
<p>  P : 01  (G54)
 _01 X   0.000
 Y   0.000
</p>
<p>Z   0.000
</p>
<p>  P : 02  (G54)
  02 X   0.000
 Y   0.000
</p>
<p>Z   0.000
</p>
<p>  P : 03  (G54)
  03 X   0.000
 Y   0.000
</p>
<p>Z   0.000
</p>
<p>  P : 04  (G54)
  04 X   0.000
 Y   0.000
</p>
<p>Z   0.000
</p>
<p>ADRS.                          S   0  T
</p>
<p>03:38:13       MDI
</p>
<p>[      ][      ][      ][ WORK48 ][      ]
</p>
<p>WORK COORDINATES             O1224 N0000
</p>
<p>11.4.3
Displaying and Setting
the Workpiece Origin
Offset Value
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>565
</p>
<p>3 The screen for displaying the workpiece origin offset values consists
of two or more pages.  Display a desired page in either of the
following two ways:
</p>
<p>Press the page up  or page down  key.
</p>
<p>Press NO.  key and nter the workpiece coordinate system number (0:
</p>
<p>external workpiece origin offset, 1 to 6:  workpiece coordinate
systems G54 to G59, 1 to 48:  workpiece coordinate systems G54 P1
</p>
<p>to G54 P48), and then press INPUT  key.
</p>
<p>4 Move the cursor to the workpiece origin offset to be changed.
</p>
<p>5 Press the address key corresponding to the desired axis.
</p>
<p>6 Enter a desired value by pressing numeric keys, then press INPUT  key .
</p>
<p>The entered value is specified in the the workpiece origin offset value.
</p>
<p>7 Repeat 4 and 6 to change other offset values.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>566
</p>
<p>Displays common variables (#100 to #149 or #100 to #199, and #500 to
#531 or #500 to #999).  When the absolute value for a common variable
exceeds 99999999, ******** is displayed.  The values for variables can
be set on this screen.  Relative coordinates can also be set to valiables.
</p>
<p>Procedure for displaying and setting custom macro common variables
</p>
<p>1 Press function key MENUOFSET .
</p>
<p>2 Press the soft key [MACRO] .  The following screen is displayed:
</p>
<p>   NO.      DATA         NO.       DATA
   100 00010.000 108
   101 00020.000 109 02564.146
   102 00156.870 110
   103 0.000 111 25000.000
   104 0.000 112 0.000
   105 01523.579 113
   106 0.000 _114 30000.000
   107 00458.256 115
  ACTUAL POSITION (RELATIVE)
      X 0.000    Y 0.000
      Z 0.000
</p>
<p>VARIABLE                      O1224 N0000
</p>
<p>NO. 114 =                        S     0  T
03:40:20 MDI
[ WEAR ][ MACRO ][ MENU ][ WORK ][ TOOLLF ]
</p>
<p>3 Move the cursor to the variable number to set using either of the
following methods:
</p>
<p>ï¿½ Press the NO.  key and enter the variable number.  And then press
</p>
<p>INPUT  key.
</p>
<p>ï¿½ Move the cursor to the variable number to set by pressing page keys
</p>
<p> and/or  and cursor keys  and/or .
</p>
<p>4 Enter data with numeric keys and press INPUT  key.
</p>
<p>5 To set a relative coordinate in a variable,press address key X ,
</p>
<p>Y , or Z , while holding down the EOB  key.  Then press
</p>
<p>INPUT key.
</p>
<p>6 To set a blank in a variable, just press INPUT  key after CAN  key.  The
</p>
<p>value field for the variable becomes blank.  (Only for custom macro
B)
</p>
<p>11.4.4
Displaying and Setting
Custom Macro
Common Variables
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>567
</p>
<p>This subsection uses an example to describe how to display or set
machining menus (pattern menus) created by the machine tool builder.
Refer to the manual issued by the machine tool builder for the actual
pattern menus and pattern data.  See PROGRAMMING for the pattern
data entry function.
</p>
<p>Procedure for displaying the pattern data and the pattern menu
</p>
<p>1 Press function key MENUOFSET .
</p>
<p>2 Press the soft key [MENU] .
The following screen (pattern menu screen) is displayed:
</p>
<p> 1.  BOLT HOLE
 2.  GRID
 3.  LINE ANGLE
 4.  TAPPING
 5.  DRILLING
 6.  BORING
 7.  POCKET
 8.  PECK
 9.  TEST PATTERN
10.  BACK
</p>
<p>MENU : HOLE PATTERN           O9501 N0014
</p>
<p>SELECT = S 0  T
</p>
<p>10:01:29 MDI
</p>
<p>[ WEAR ][ MACRO ][ MENU ][ WORK ][ TOOLLF ]
</p>
<p>3 Enter a pattern number and press INPUT  key.
</p>
<p>In this example, press 5 , then press INPUT key.
</p>
<p>The following screen (pattern data screen) is displayed:
</p>
<p>NO.   NAME DATA   COMMENT
500 TOOL 0
501 KIJUN X 0 *BOLT HOLE
502 KIJUN Y 0 CIRCLE*
503 RADIUS 0 SET PATTERN
504 S. ANGL 0 DATA TO VAR.
505 HOLES NO. 0 NO.500&ndash;505.
506 0
507 0
</p>
<p>ACTUAL POSITION (RELATIVE)
     X      0.000          Y      0.000
     Z      0.000
</p>
<p>VAR. : BOLT HOLE              O9501 N0014
</p>
<p>NO. 500= S 0  T
10:00:48 MDI
[ WEAR ][MACRO][ MENU ][ WORK ][ TOOLLF ]
</p>
<p>11.4.5
Displaying Pattern
Data and Pattern Menu
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>568
</p>
<p>4 Enter necessary pattern data and press INPUT .
</p>
<p>5 After entering all necessary data, enter the AUTO mode and press the
cycle start button to start machining.
</p>
<p>HOLE PATTERN  :  Menu title
An optional character string can be displayed within 12 characters.
</p>
<p>BOLT HOLE  :  Pattern name
An optional character string can be displayed within 10 characters.
</p>
<p>The machine tool builder should program character strings of menu title
and pattern name by custom macro, and load them into the program
memory.
</p>
<p>BOLT HOLE  :  Pattern data title
An optional character string can be displayed within 12 characters.
</p>
<p>TOOL :  Variable name
An optional character string can be displayed within 10 characters.
</p>
<p>BOLT HOLE CIRCLE  :  Comment statement
</p>
<p>An optional character string can be displayed up to 12 characters/line
by 8 lines.
</p>
<p>The machine tool builder should program the character strings of variable
name and comment statement by custom macro, and load them into the
program memory.
</p>
<p>Explanations
</p>
<p>ï¿½ Explanation of the
pattern menu screen
</p>
<p>ï¿½ Explanation of the
pattern data screen
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>569
</p>
<p>Tool life data can be displayed to inform the operator of the current state
of tool life management.  Groups which require tool changes are also
displayed.The tool life counter for each group can be preset to an arbitrary
value.  To register or modify tool life management data, a program must
be created and executed.  See Explanations in this section for details.
</p>
<p>Procedure for display and setting the tool life management data
</p>
<p>1 Press function key MENUOFSET .
</p>
<p>2 Press soft key [TOOLLF] .
</p>
<p>3 One page displays data on two groups.  Pressing page key  or
</p>
<p> successively displays data on the following groups.  Up to four
</p>
<p>group Nos.,  for which the Tool Change signal is being issued, are
displayed at the bottom of each page.  An arrow shown in the figure is
displayed for five or more groups, if exists.
</p>
<p>TOOL LIFE DATA  :               O3000 N00060
                   SELECTED GROUP 000
</p>
<p>GROUP  001 : LIFE   0150   COUNT   0007
0034 0078 0012 0056
0090 0035 0026 0061
0000 0000 0000 0000
0000 0000 0000 0000
</p>
<p>GROUP  002 : LIFE   1400   COUNT   0000
0062 0024 0044 0074
0000 0000 0000 0000
0000 0000 0000 0000
0000 0000 0000 0000
</p>
<p>TO BE CHANGED  : 003 004 005 006 &ndash;&ndash;&ndash;&gt;
</p>
<p>NUM. S 0  T
</p>
<p>04:01:12 AUTO
</p>
<p>[ WEAR ][ MACRO ][ MENU ][ WORK ][ TOOLLF ]
</p>
<p>4 Press NO.  key and to display the page containing the data for a
</p>
<p>group, enter the group number and press INPUT  key.
</p>
<p>The cursor can be moved to an arbitrary group by pressing cursor key
</p>
<p> or  .
</p>
<p>5 To change the life count of a group, position the cursor to that group,
</p>
<p>key in a desired count, then press the INPUT  key.
</p>
<p>11.4.6
Displaying and Setting
Tool Life Management
Data
</p>
<p>TOOLLF
</p>
<p>Continuous menu key
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>570
</p>
<p>6 To reset the tool data of a group, position the cursor to that group, key
</p>
<p>in &ndash;9999, then press the INPUT  key.  All current execution data for the
</p>
<p>group selected with the cursor is cleared and the tool is considered as
not being used.
</p>
<p>TOOL LIFE DATA  :               O3000 N00060
                   SELECTED GROUP 000
</p>
<p>GROUP  001 : LIFE   0150   COUNT   0007
0034 0078 0012 0056
0090 0035 0026 0061
0000 0000 0000 0000
0000 0000 0000 0000
</p>
<p>GROUP  002 : LIFE   1400   COUNT   0000
0062 0024 0044 0074
0000 0000 0000 0000
0000 0000 0000 0000
0000 0000 0000 0000
</p>
<p>TO BE CHANGED  : 003 004 005 006 &ndash;&ndash;&ndash;&gt;
</p>
<p>NUM. S 0  T
</p>
<p>04:01:12 AUTO
</p>
<p>[ WEAR ][ MACRO ][ MENU ][ WORK ][ TOOLLF ]
</p>
<p>ï¿½ The first line is the title line.
</p>
<p>ï¿½ In the second line the group number of the current command is
displayed.
When there is no group number of the current command, 0 is
displayed.
</p>
<p>ï¿½ In lines 3 to 7 the tool life data of the group is displayed.
The third line displays group number, life and the count used.
The life count is chosen by parameter (No. 039#2) as either minutes(or
hours) or number of times used.
In lines 4 to 5, tool numbers are displayed.  In this case, the tool is
selected in the order, 0034 &rarr; 0078 &rarr; 0012 &rarr; 056 &rarr; 0090 ...
The meaning of each mark before the tool numbers is :
    * : Shows the life has finished.
    # : Shows that the skip command has been accepted.
   @ : Shows that the tool is currently being used.
The life counter counts for tool with @.
&ldquo;*&rdquo; is displayed when the next command is issued by the group to
which it belongs.
</p>
<p>ï¿½ Lines 8 to 12 are next group life data to the group displayed in lines
3 to 7.
</p>
<p>ï¿½ In the thirteenth line the group number when the tool change signal is
being emitted is displayed.  The group number display appears in
ascending order.  When it cannot be completely displayed, &ldquo;&ndash;&ndash;&ndash;&gt;&rdquo; is
displayed.
</p>
<p>Explanations
</p>
<p>ï¿½ Display contents
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>571
</p>
<p>Parameters must be set to determine the specifications and functions of
the machine in order to fully utilize the characteristics of the servo motor
or other parts.
This chapter describes how to set parameters on the MDI panel.
Parameters can also be set with external input/output devices such as the
Handy File (see Chapter 8).
</p>
<p>If the DGNOSPARAM  function key is pressed, the following data can be displayed
</p>
<p>and set:
</p>
<p>ï¿½ Pitch error compensation data
</p>
<p>ï¿½ Setting data
</p>
<p>ï¿½ Sequence number compensation and stop
</p>
<p>ï¿½ Run time and parts count
</p>
<p>ï¿½ Self&ndash;diagnostic data
</p>
<p>See Chapter 7 for the diagnostic screens.
</p>
<p>11.5
SCREENS
DISPLAYED BY 
FUNCTION KEY
 @dgnosparam
</p>
<p>DGNOS
</p>
<p>PARAM
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>572
</p>
<p>Parameters are set to determine the specifications and functions of the
machine in order to fully utilize the characteristics of the servo motor.  The
setting of parameters depends on the machine.  Refer to the parameter list
prepared by the machine tool builder.
Normally, the user need not change parameter setting.
</p>
<p>Procedure for displaying and setting parameters
</p>
<p>1 When set the paameter, set 1 for PARAMETER WRITE (PWE)  to
enable writing.  See the procedure for enabling/disabling parameter
writing described below.
</p>
<p>2 Press function key DGNOSPARAM .
</p>
<p>3 Press soft key [PARAM]  to display the parameter screen.
</p>
<p>PARAMETER O1224 N0000
 NO. DATA  NO. DATA
</p>
<p>_ 0001 00000000 0011 00000000
0002 00000011 0012 00000000
0003 00000000 0013 00000000
0004 01110111 0014 00000100
0005 01110111 0015 00000000
0006 01110111 0016 00000000
0007 00000000 0017 01111111
0008 00000000 0018 00000000
0009 00000000 0019 10000000
0010 10000000 0020 00000000
</p>
<p>NO. 0001 = S 0  T
04:02:02 MDI
[ PARAM ][ DGNOS ][      ][ SV&ndash;PRM ][       ]
</p>
<p>4 Move the cursor to the parameter number to be set or displayed in
either of the following ways:
</p>
<p>ï¿½ Press the NO.  key and enter the variable number.  And then press
</p>
<p>INPUT  key.
</p>
<p>ï¿½ Move the cursor to the parameter number using the page keys,
</p>
<p> and , and cursor keys,  and .
</p>
<p>5 To set the parameter, enter a new value with numeric keys and press
</p>
<p>INPUT  key.  The parameter is set to the entered value and the value is
</p>
<p>displayed.
</p>
<p>6 When the parameter is set, set 0 for PARAMETER WRITE (PWE)  to
disable writing.
</p>
<p>11.5.1
Displaying and Setting
Parameters
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>573
</p>
<p>Procedure for enabling/displaying parameter writing
</p>
<p>1 Select the MDI mode or enter state emergency stop.
</p>
<p>2 Press function key DGNOSPARAM .
</p>
<p>3 Press soft key [PARAM]  to display the setting screen.
</p>
<p>PARAMETER                      O1224 N0000
</p>
<p>[ PARAM ][ DGNOS ][      ][ SV&ndash;PRM ][     ]
</p>
<p>PART TOTAL = 17
PART REQUIRED = 50
PART COUNT = 17
 RUN TIME 0H 4M CYCLE TIME  0H OM 2S
NO. PWE = = S 0  T
 03:35:07
</p>
<p>(SETTING 2)
 PWE = 1 (0:DISABLE 1:ENABLE)
 REV4 = 0
 TAPEF = 0
(SEQUENCE STOP)
 PRGNO = 0
 SEQNO = 0
</p>
<p> 
</p>
<p>4 Move the cursor to PARAMETER WRITE (PWE)using cursor keys.
</p>
<p>5 Press 1 , then press INPUT  key to enable parameter writing.
</p>
<p>At this time, the CNC enters the P/S alarm state (No. 100).
</p>
<p>6 After setting parameters, move the cursor to PARAMETER WRITE
</p>
<p>(PWE) and press 0  key, then press INPUT  key.
</p>
<p>7 Depress the RESET  key to release the alarm condition.  If alarm No. 000
</p>
<p>has occurred, however, turn off the power supply and then turn it on,
otherwise the alarm is not released.
</p>
<p>See Chapter 9 for setting parameters with external input/output devices
such as the Handy File.
</p>
<p>Parameters are not effective until the power is turned off and on again after
they are set.  Setting such parameters causes alarm 000.  In this case, turn
off the power, then turn it on again.
</p>
<p>Explanations
</p>
<p>ï¿½ Setting parameters with
external input/output
devices
</p>
<p>ï¿½ Parameters that require
turning off the power
ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>574
</p>
<p>If pitch error compensation data is specified, pitch errors of each axis can
be compensated per axis.  
Pitch error compensation data is set for each compensation point at the
intervals specified for each axis.  The origin of compensation is the
reference position to which the tool is returned.
The pitch error compensation data is set according to the characteristics
of the machine.  The content of this data varies according to the  machine
model.  If it is changed, the machine accuracy is reduced.
In principle, the end user must not alter this data.
Pitch error compensation data can be set with external devices such as the
Handy File (see Chapter 9).  Compensation data can also be written
directly with the MDI panel.
The following parameters must be set for pitch error compensation.  Set
the pitch error compensation value by these parameters.
In the following example, 33 is set for the pitch error compensation point
at the reference position.
</p>
<p>1
</p>
<p>2
</p>
<p>3
</p>
<p>333231 34 35 36 37
</p>
<p>&ndash;1
</p>
<p>&ndash;2
</p>
<p>ï¿½035 ï¿½036 ï¿½037 ï¿½038ï¿½032 ï¿½033 ï¿½034
</p>
<p>+3 &ndash;1 &ndash;1 +1 +2 &ndash;1 &ndash;3
</p>
<p>34 35 36 3731 32 33
</p>
<p>Reference position
</p>
<p>Pitch error compensation value (absolute value)
</p>
<p>Compensation number parameter
for the reference position 
(No. ï¿½0000)
</p>
<p>Compensation interval parameter
(No. 712 to 715)
</p>
<p>ï¿½ : Axis number
</p>
<p>Compensation magnification
parameter (No. 011#0, #1)
</p>
<p>Parameter
</p>
<p>Compensation
position number
</p>
<p>Compensation
value to be set
</p>
<p>ï¿½ Number of the pitch error compensation point at the reference position
(ï¿½ : axis number) :  Parameter No. ï¿½000
</p>
<p>ï¿½ Pitch error compensation magnification :  Parameter No. 011#0, #1
</p>
<p>ï¿½ Interval of the pitch error compensation points :  Parameter No. 0712
to 0715
</p>
<p>ï¿½ Setting compensation value :  Parameter No. ï¿½001 + compensation
points
</p>
<p>11.5.2
Displaying and Setting
Pitch Error
Compensation Data
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>575
</p>
<p>128 compensation points from No. 0 to 127 are available for each axis.
Specify the compensation number for the reference position of each axis
in the corresponding parameter (Parameter n000, n:  axis number).
</p>
<p>Specify the compensation value in the corresponding parameter
(Parameter n001 + compensation point number, n:  axis number).
</p>
<p>Compensation values can be set within the range from &ndash;7 x compensation
magnification (output unit) to +7 x compensation magnification
(detection unit).  The compensation magnification can be set 1, 2, 4, 8 in
parameter No. 011#0, #1.  The units of the compensation value can be
changed to the detection units if bit 7 of parameter 035 is specified
accordingly.
</p>
<p>The pitch error compensation points are arranged with equally spaced.
Set the space between two adjacent positions for each axis to the
parameter (No. 712 to 715).
Valid data range is 0 to 99999999.
The minimum interval between pitch error compensation points is limited
and obtained from the following equation:
Minimum interval of pitch error compensation points = maximum
feedrate (rapid traverse rate) / 7500
Unit: mm, inches, deg, and mm/min, inches/min, deg/min
</p>
<p>For the rotating axis, the interval between the pitch error compensation
points shall be set to one per integer of the amount of movement (normally
360&deg;) per rotation. The sum of all pitch error compensation amounts per
rotation must be made to 0.
</p>
<p>Note that the pitch error is not compensated in the following cases:
</p>
<p>ï¿½ When the machine is not returned to the reference position after
turning on the power.  If an absolute&ndash;position detector is provided and
if the reference position has been determined, pitch error
compensation is carried out.
</p>
<p>ï¿½ If the interval between the pitch error compensation points is 0.
</p>
<p>Explanations
</p>
<p>ï¿½ Compensation point
number
</p>
<p>ï¿½ Compensation value
</p>
<p>Restrictions
</p>
<p>ï¿½ Compensation value
range
</p>
<p>ï¿½ Intervals of
compensation points
</p>
<p>ï¿½ Pitch error
compensation of the
rotary axis
</p>
<p>ï¿½ Conditions where pitch
error compensation is
not performed
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>576
</p>
<p>&sdot; Machine stroke:  &ndash;400 mm to +800 mm
&sdot; Interval between the pitch error compensation points:  50 mm
&sdot; No. of the compensation point of the reference position:  40
If the above is specified, the No. of the farthest compensation point in the
negative direction is as follows:
No. of the compensation point of the reference position &ndash; (Machine stroke
on the negative side/Interval between the compensation points) + 1
= 40 &ndash; 400/50 + 1= 33
No. of the farthest compensation point in the positive direction is as
follows:
No. of the compensation point of the reference position + (Machine stroke
on the positive side/Interval between the compensation points)
= 40 + 800/50= 56
The correspondence between the machine coordinate and the
compensation point No. is as follows:
</p>
<p>33 39 40 41 42 56
</p>
<p>&ndash;400 &ndash;350 &ndash;100 &ndash;50 0 50 100 750 800
Machine 
coordinate (mm)
</p>
<p>Compensation 
point number.
</p>
<p>Compensation values are output at the positions indicated by ï¿½.
</p>
<p>Therefore, set the parameters as follows:
</p>
<p>Parameter Setting value
</p>
<p>1000 : Compensation number for the reference position 40
</p>
<p>011#0, #1 : Compensation magnification #0=0,  #1=0
</p>
<p>0712 : Interval between pitch error compensation points 50000
</p>
<p>Explanations
</p>
<p>ï¿½ For linear axis (X axis)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>577
</p>
<p>The compensation amount is output at the compensation point No.
corresponding to each section between the coordinates.  
The following is an example of the compensation amounts.
</p>
<p>Compensation
value
</p>
<p>Compensation
position number
</p>
<p>1034 1035 1036 1037 1038 1039 1040 1041 1042
</p>
<p>+2 +1 +1 &ndash;2 0 &ndash;1 0 &ndash;1 +2
</p>
<p>33 34 35 36 37 38 39 40 41
</p>
<p>1043 1044 1045 1046 1047 1048 1049 1050
</p>
<p>+1 0 &ndash;1 &ndash;1 &ndash;2 0 +1 +2
</p>
<p>1057
</p>
<p>1
</p>
<p>42 43 44 45 46 47 48 49 56
</p>
<p>Parameter
</p>
<p>Parameter
</p>
<p>Compensation
position number
</p>
<p>Compensation
value
</p>
<p>&ndash;400 &ndash;300 &ndash;200 &ndash;100 100 200 300 400
(mm)0
</p>
<p>33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49
</p>
<p>&ndash;1
</p>
<p>&ndash;2
</p>
<p>&ndash;3
</p>
<p>&ndash;4
</p>
<p>+1
</p>
<p>+2
</p>
<p>+3
</p>
<p>+4
Pitch error compensation value 
(absolute value)
</p>
<p>Reference
position
</p>
<p>X
</p>
<p>&sdot;Amount of movement per rotation:  360&deg;
&sdot; Interval between pitch error compensation points:  45&deg;
&sdot; No. of the compensation point of the reference position:  60
If the above is specified, the No. of the farthest compensation point in the
negative direction for the rotating axis is always equal to the
compensation point No. of the reference position.
The No. of the farthest compensation point in the positive direction is as
follows:
No. of the compensation point of the reference position + (Move amount
per rotation/Interval between the compensation points)
= 60 + 360/45= 68
</p>
<p>ï¿½ For rotary axis (C axis)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>578
</p>
<p>The correspondence between the machine coordinate and the
compensation point No. is as follows:
</p>
<p>0.0
</p>
<p>45.0
</p>
<p>90.0
</p>
<p>135.0
</p>
<p>180.0
</p>
<p>225.0
</p>
<p>270.0
</p>
<p>315.0
(68)
(60)
</p>
<p>(67)
</p>
<p>(66)
</p>
<p>(65)(64)
</p>
<p>(63)
</p>
<p>(62)
</p>
<p>(61)
</p>
<p>(+)
</p>
<p>Reference position
</p>
<p>Compensation values are output at the positions indicated by ï¿½.
</p>
<p>If the sum of the compensation values for positions 61 to 68 is not 0, pitch
error compensation values are accumulated for each rotation, causing
positional deviation.
The same value must be set for compensation points 60 and 68.
Therefore, set the parameters as follows:
</p>
<p>Parameter Setting value
</p>
<p>4000 : Compensation number for the reference position 60
</p>
<p>011#0, #1 : Compensation magnification #0=0,  #1=0
</p>
<p>715 : Interval between pitch error compensation points 45000
</p>
<p>The following is an example of compensation amounts.
</p>
<p>4061 4062 4063 4064 4065 4066 4067 4068 4069
</p>
<p>+1 &ndash;2 +1 +3 &ndash;1 &ndash;1 &ndash;3 +2 +1
</p>
<p>60 61 62 63 64 65 66 67 68
</p>
<p>Parameter
</p>
<p>Compensation
value
</p>
<p>Compensation
position number
</p>
<p>(deg)0
</p>
<p>61 62 63 64 65 66 67
68
(60)
</p>
<p>&ndash;1
</p>
<p>&ndash;2
</p>
<p>&ndash;3
</p>
<p>&ndash;4
</p>
<p>+1
</p>
<p>+2
</p>
<p>+3
</p>
<p>+4
</p>
<p>Pitch error compensation value
(absolute value)
</p>
<p>Reference position
</p>
<p>45 90 135 180 225 270 315
</p>
<p>61 62 63 64 65 66 67
</p>
<p>45 90 135 180 225 270 315 0
</p>
<p>61 62
</p>
<p>45 90
</p>
<p>68
(60)
</p>
<p>C
ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>579
</p>
<p>Data such as the TV check flag and punch code is set on the setting data
screen.  On this screen, the operator can also enable/disable parameter
writing, enable/disable the automatic insertion of sequence numbers in
program editing, and perform settings for the sequence number
comparison and stop function.
See Chapter 10 for automatic insertion of sequence numbers.
See subsection 11.4.4 for the sequence number comparison and stop
function.  This subsection describes how to set data.
</p>
<p>Procedure for setting the setting data
</p>
<p>1 Select the MDI mode.
</p>
<p>2 Press function key DGNOSPARAM .
</p>
<p>3 Press soft key [PARAM]  to display the parameter screen.
This screen consists of several pages.
</p>
<p>Press page key  or  until the desired screen is displayed.
</p>
<p>An example of the setting data screen is shown below.
</p>
<p>PARAMETER                     O1224 N0000
</p>
<p>NO. REVX = S 0  T
</p>
<p>03:30:09 MDI
</p>
<p>[ PARAM ][ DGNOS ][     ][ SV&ndash;PRM ][     ]
</p>
<p>(SETTING 1)
REVX = 0
REVY = 0
TVON = 0
ISO = 0 (0:EIA 1:ISO)
INCH = 0 (0:MM 1:INCH)
I/O = 0
ABS = 0 (0:INC 1:ABS)
SEQ = 0
</p>
<p>CLOCK 97/01/10
03:30:18
</p>
<p>4 Move the cursor to the item to be changed by pressing cursor keys
</p>
<p> or .
</p>
<p>5 Enter a new value and press INPUT  key.
</p>
<p>Setting whether parameter writing is enabled or disabled.
0 :  Disabled
1 :  Enabled
</p>
<p>Setting to perform TV check.0 :  No TV check
1 :  Perform TV check
</p>
<p>11.5.3
ï¿½	ï¿½ï¿½
ï¿½ï¿½	ï¿½ï¿½ ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½&#13;	ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ Data
</p>
<p>Procedure
</p>
<p>Contents of settings
</p>
<p>ï¿½ PARAMETER WRITE
(PWE)
</p>
<p>ï¿½ TV CHECK (TV ON)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>580
</p>
<p>Setting code when data is output through reader puncher interface.
0 :  EIA code output
1 :  ISO code output
</p>
<p>Setting a program input unit, inch or metric system
0 :  Metric
1 :  Inch
</p>
<p>Using channel of reader/puncher interface.
0 :  Channel 0
1 :  Channel 1
2 :  Channel 2
3 :  Channel 3
</p>
<p>Setting of whether to perform automatic insertion of the sequence number
or not at program edit in the EDIT mode.
0 :  Does not perform automatic sequence number insertion.
1 :  Perform automatic sequence number insertion.
</p>
<p>Setting the F10/11 tape format conversion.
0 :  Tape format is not converted.
1 :  Tape format is converted.
See PROGRAMMING for the F10/11 tape format.
</p>
<p>Setting the sequence number with which the operation stops for the
sequence number comparison and stop function and the number of the
program to which the sequence number belongs
</p>
<p>Setting of mirror image ON/OFF for each axes.
0 :  Mirror image off
1 :  Mirror image on
</p>
<p>Specifies whether a travel command executed in MDI operation is
absolute or incremental.
0 :  Incremental command
1 :  Absolute command
</p>
<p>ï¿½ PUNCH CODE (ISO)
</p>
<p>ï¿½ INPUT UNIT (INCH)
</p>
<p>ï¿½ I/O CHANNEL (I/O)
</p>
<p>ï¿½ SEQUENCE NUMBER
(SEQUENCE)
</p>
<p>ï¿½ TAPE FORMAT (TAPE F)
</p>
<p>ï¿½ ï¿½ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½ ï¿½	ï¿½ï¿½
</p>
<p>(COMPENSATION AND
STOP)
</p>
<p>ï¿½ MIRROR IMAGE
(MIRROR X, MIRROR Y,
MIRROR 4)
</p>
<p>ï¿½ MDI travel command
(absolute)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>581
</p>
<p>If a block containing a specified sequence number appears in the program
being executed, operation enters single block mode after the block is
executed.
</p>
<p>Procedure for sequence number comparison and stop
</p>
<p>1 Select the MDI mode.
</p>
<p>2 Press function key DGNOSPARAM .
</p>
<p>3 Press soft key [PARAM] .
</p>
<p>4 Press page key  or  several times until the following screen
</p>
<p>is displayed.
</p>
<p>PARAMETER                     O1224 N0000
</p>
<p>[ PARAM ][ DGNOS ][     ][ SV&ndash;PRM ][     ]
</p>
<p>(SETTING 2)
PWE = 1 (0:DISABLE 1:ENABLE)
REV4 = 0
TAPEF = 0
(SEQUENCE STOP)
PRGNO = 0
SEQNO = 0
</p>
<p>PART TOTAL = 17
PART REQUIRED = 50
PART COUNT = 17
 RUN TIME OH 4M CYCLE TIME  OH OM 2S
</p>
<p>NO. PWE = S 0 T
 03:35:07           MDI
</p>
<p>5 Enter in (PRGNO) for SEQUENCE STOP the number (1 to 9999) of
the program containing the sequence number with which operation
stops.
</p>
<p>6 Enter in (SEQNO) for SEQUENCE STOP (with four or less digits)
the sequence number with which operation is stopped.
</p>
<p>7 When automatic operation is executed, operation enters single block
mode at the block containing the sequence number which has been
set.
</p>
<p>11.5.4
Sequence Number
Comparison and Stop
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>582
</p>
<p>After the specified sequence number is found during the execution of the
program, the sequence number set for sequence number compensation
and stop is decremented by one.  When the power is turned on, the setting
of the sequence number is 0.
</p>
<p>If the predetermined sequence number is found in a macro statement
block , the execution does not stop at that block.
Example
  N1 #1=1 ;
  N2 IF [#1 EQ 1] GOTO 08 ;
  N3 GOTO 09 ;
  N4 M98 P1000 ;
  N5 M99 ;
In the example shown above, if the predetermined sequence number is
found, the execution of the program does not stop.
</p>
<p>If the predetermined sequence number is found in a block which has a
canned&ndash;cycle command, the execution of the program stops after the
return operation is completed.
</p>
<p>If the predetermined sequence number appears twice or more in a
program, the execution of the program stops after the block in which the
predetermined sequence number is found for the first time is executed.
</p>
<p>If the predetermined sequence number is found in a block which is to be
executed repeatedly, the execution of the program stops after the block is
executed specified times.
</p>
<p>Explanations
</p>
<p>ï¿½ Sequence number after
the program is executed
</p>
<p>ï¿½ Exceptional blocks
</p>
<p>ï¿½ ï¿½&#13;ï¿½ï¿½ ï¿½
 &#13;ï¿½ï¿½ ï¿½ï¿½

ï¿½ï¿½ ï¿½ï¿½ï¿½	ï¿½
</p>
<p>ï¿½ When the same
sequence number is
found several times in
the program
</p>
<p>ï¿½ Block to be repeated a
specified number of
times
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>583
</p>
<p>Various run times, the total number of machined parts, number of parts
required, and number of machined parts can be displayed.  The data except
for the total number of machined parts can be set on this screen .
The time can be displayed and set on the screen.
</p>
<p>Procedure for Displaying and Setting Run Time, Parts Count and Time
</p>
<p>1 Select the MDI mode.
</p>
<p>2 Press function key DGNOSPARAM .
</p>
<p>3 Press chapter selection soft key [PARAM] .
</p>
<p>4 Press page key 
PAGE
</p>
<p> or 
PAGE
</p>
<p> several times until the following screen
</p>
<p>is displayed.
</p>
<p>PARAMETER                     O1224 N0000
</p>
<p>NO. REVX = S 0  T
</p>
<p>03:30:09 MDI
</p>
<p>[ PARAM ][ DGNOS ][     ][ SV&ndash;PRM ][     ]
</p>
<p>(SETTING 1)
REVX = 0
REVY = 0
TVON = 0
ISO = 0 (0:EIA 1:ISO)
INCH = 0 (0:MM 1:INCH)
I/O = 0
ABS = 0 (0:INC 1:ABS)
SEQ = 0
</p>
<p>CLOCK 97/01/10
03:30:18
</p>
<p>PARAMETER                     O1224 N0000
</p>
<p>[ PARAM ][ DGNOS ][     ][ SV&ndash;PRM ][     ]
</p>
<p>(SETTING 2)
PWE = 1 (0:DISABLE 1:ENABLE)
REV4 = 0
TAPEF = 0
(SEQUENCE STOP)
PRGNO = 0
SEQNO = 0
</p>
<p>PART TOTAL = 17
PART REQUIRED = 50
PART COUNT = 17
 RUN TIME OH 4M CYCLE TIME  OH OM 2S
</p>
<p>NO. PWE = S 0 T
 03:35:07           MDI
</p>
<p>5 To set the number of parts required, move the cursor to PARTS
REQUIRED and enter the number of parts to be machined.
</p>
<p>11.5.5
Displaying and Setting
Run Time, Parts Count,
and Time
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>584
</p>
<p>6 To set the clock, move the cursor to DATE or TIME, enter a new date
</p>
<p>or time, then press INPUT  key.
</p>
<p>This value is incremented by one when M02, M30, or an M code specified
by parameter 219 is executed.  This value cannot be set on this screen.
Set the value in parameter 779.
</p>
<p>It is used for setting the number of machined parts required.
When the &ldquo;0&rdquo; is set to it, there is no limitation to the number of parts.
Also, its setting can be made by the parameter (NO. 600).
</p>
<p>This value is incremented by one when M02, M30, or an M code specified
by parameter 219 is executed.  In general, this value is reset when it
reaches the number of parts required.  Refer to the manual issued by the
machine tool builder for details.
</p>
<p>Indicates the total run time during automatic operation,  excluding the
stop and feed hold time.
</p>
<p>This value can be used, for example, as the total time during which coolant
flows.  Refer to the manual issued by the machine tool builder for details.
</p>
<p>Indicates the run time of one automatic operation, excluding the stop and
feed hold time.  This is automatically preset to 0 when a cycle start is
performed at reset state.  It is preset to 0 even when power is removed.
</p>
<p>Displays the current date and time.  The date and time can be set on this
screen.  The date is displayed in year/month/day format.  The time is
displayed in hour:minute:second format (24&ndash;hour clock).
</p>
<p>When the command of M02 or M30 is executed, the total number of
machined parts and the number of machined parts are incremented by one.
Therefore, create the program so that M02 or M30 is executed every time
the processing of one part is completed.  Furthermore, if an M code set
to the parameter (NO. 219) is executed,  counting is made in the similar
manner.  Also, it is possible to disable counting even if M02 or M30 is
executed (parameter (No. 040#3) is set to 1).  For details, see the manual
issued by machine tool builders.
</p>
<p>Negative value cannot be set.  Also, the setting of &ldquo;M&rdquo; and &ldquo;S&rdquo; of run time
is valid from 0 to 59.
Negative value may not be set to the total number of machined parts.
</p>
<p>Display items
</p>
<p>ï¿½ PARTS TOTAL
</p>
<p>ï¿½ PARTS REQUIRED
</p>
<p>ï¿½ PARTS COUNT
</p>
<p>ï¿½ OPERATING TIME
</p>
<p>ï¿½ FREE PURPOSE
</p>
<p>ï¿½ CUTTING TIME
</p>
<p>ï¿½ TIME
</p>
<p>Explanations
</p>
<p>ï¿½ Usage
</p>
<p>Restrictions
</p>
<p>ï¿½ Run time and part count
ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>585
</p>
<p>Neither negative value nor the value exceeding the value in the following
table can be set.
</p>
<p>Item Maximum value Item Maximum value
</p>
<p>Year 99 Hour 23
</p>
<p>Month 12 Minute 59
</p>
<p>Day 31 Second 59
</p>
<p>ï¿½ Time settings
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>586
</p>
<p>The alarm message and operator message can be displayed by pressing the
OPR
</p>
<p>ALARM  key.  The software operator&rsquo;s panel can also be displayed and
</p>
<p>specified.  For details of how to display the alarm message, see Chapter
7.
</p>
<p>The operator message function displays a message on the PMC screen.
</p>
<p>Procedure for Displaying Operator Message
</p>
<p>1 Press function key OPRALARM
</p>
<p>2 Press soft key [MSG] .
</p>
<p>OPERATOR MESSAG               O0000 N0000
</p>
<p>S 0  T
</p>
<p>11:09:56 MDI
</p>
<p>[ ALARM ][  OPR  ][  MSG  ][     ][     ]
</p>
<p>NO. 2001
</p>
<p>COOLANT ON
</p>
<p>ï¿½ If the operator message display function is enabled, the screen is
automatically switched to the operator message screen.
</p>
<p>ï¿½ A PMC command can also be used to clear the operator message.
</p>
<p>ï¿½ For details of the contents of the operator message, and how to clear
the message, refer to the manual provided by the machine tool builder.
</p>
<p>11.6
SCREENS
DISPLAYED BY 
FUNCTION KEY 
@opralarm
</p>
<p>OPR
ALARM
</p>
<p>11.6.1
Displaying Operator
Message
</p>
<p>Explanations
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>587
</p>
<p>With this function, functions of the switches on the machine operator&rsquo;s
panel can be controlled from the CRT/MDI panel.
Jog feed can be performed using numeric keys.
</p>
<p>Procedure for displaying and setting the software operator&rsquo;s panel
</p>
<p>1 Press function key OPRALARM .
</p>
<p>2 Press soft key [OPR] .
</p>
<p>3 The screen consists of several pages.
</p>
<p>Press page key  or  until the desired screen is displayed.
</p>
<p>OPERATOR&rsquo;S PANEL            O1224 N0000
</p>
<p> MODE :  MDI  AUTO  EDIT  HNDL  JOG  ZRN
 HANDLE AXIS :  HX  HY  HZ
 HANDLE MULT. :  * 1   * 10  * 100
 RAPID OVRD. :  100%  50%   25%   F0
 JOG FEED :   500 MM/MIN
                     **************
 FEED OVRD. :  100%
                          ******
ACTUAL POSITION (ABSOLUTE)
    X     0.000        Y     0.000
    Z     0.000
</p>
<p>S 0  T
</p>
<p>03:59:30              MDI
</p>
<p>[ ALARM ][  OPR   ][  MSG  ][     ][     ]
</p>
<p>OPERATOR&rsquo;S PANEL            O1224 N0000
</p>
<p>BLOCK SKIP : ï¿½OFF ON
SINGLE BLOCK : OFF ï¿½ON
MACHINE LOCK : OFF ï¿½ON
DRY RUN : OFF ï¿½ON
PROTECT KEY : PROTECT ï¿½RELEASE
FEED HOLD : ï¿½OFF ON
</p>
<p>ACTUAL POSITION (ABSOLUTE)
    X     0.000        Y     0.000
    Z     0.000
</p>
<p>                                   S   0  T
</p>
<p>04:00:18         MDI
</p>
<p>[ ALARM ][  OPR  ][  MSG  ][     ][      ]
</p>
<p>4 Move the cursor to the desired switch by pressing cursor key  or
</p>
<p>.
</p>
<p>11.6.2
Displaying and Setting
the Software
Operator&rsquo;s Panel
</p>
<p>OPR
</p>
<p>Continuous menu key
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>588
</p>
<p>5 Push the cursor move key ï¿½  or EOB  to match the mark ï¿½ to an
</p>
<p>arbitrary position and set the desired condition.
</p>
<p>6 Press one of the following arrow keys to perform jog feed.  Press the
</p>
<p>function  key 5 together with an arrow key to perform jog rapid
</p>
<p>traverse.
</p>
<p>1
</p>
<p>8
</p>
<p>2
</p>
<p>4 5 6
</p>
<p>97
</p>
<p>3
</p>
<p>The valid operations on the software operator&rsquo;s panel are shown below.
Whether to use the MDI key or machine operator&rsquo;s panel for each group
of operations can be selected by parameter 017#0 to #6.
Group1 : Mode selection
Group2 : Selection of jog feed axis, jog rapid traverse
Group3 : Selection of manual pulse generator feed axis, selection of
</p>
<p>manual pulse magnification x1, x10, x100
Group4 : Jog federate, federate override, rapid traverse override
Group5 : Optional block skip, single block, machine lock, dry run
Group6 : Protect key
Group7 : Feed hold
</p>
<p>The groups for which the machine operator&rsquo;s panel is selected by
parameter 017#0 to #6 are not displayed on the software operator&rsquo;s panel.
</p>
<p>When the screen  indicates other than the software operator&rsquo;s panel screen
and diagnostic screen, jog feed is not conducted even if the arrow key is
pushed.
</p>
<p>The feed axis and direction corresponding to the arrow keys can be set
with parameters (Nos. 130 to 137).
</p>
<p>Eight optionally definable switches are added as an extended function of
the software operator&rsquo;s panel.  The name of these switches can be set by
parameters as character strings of max. 8 characters.  For the meanings of
these switches, refer to the manual issued by machine tool builder.
</p>
<p>Explanations
</p>
<p>ï¿½ Valid operations
</p>
<p>ï¿½ Display
</p>
<p>ï¿½ Screens on which jog
feed is valid
</p>
<p>ï¿½ Jog feed and arrow keys
</p>
<p>ï¿½ General purpose
switchesww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 11. SETTING AND DISPLAYING DATAOPERATION
</p>
<p>589
</p>
<p>The program number, sequence number, and current CNC status are
always displayed on the screen except when the power is turned on or a
system alarm occurs.
This section describes the display of the program number, sequence
number, and status.
</p>
<p>The program number and sequence number are displayed at the top right
on the screen as shown below.
</p>
<p>O2000 ;
</p>
<p>N100 G92 X0 Y0 Z50. ;
</p>
<p>N110 G91 G00 Y50. ;
</p>
<p>N120 Z&ndash;50. ;
</p>
<p>N130 G41 G17 H1 G01 X20. F3000 ;
</p>
<p>N140 G02 J&ndash;25.5 ;
</p>
<p>N150 X20. ;
</p>
<p>N160 G02 X12.5 Y12.5 R12.5
</p>
<p>N170 G01 Y40. ;
</p>
<p>N180 X30. Y30 ;
</p>
<p>N190 G40 X50.;
</p>
<p>S 0  T
</p>
<p>02:55:13 EDIT
</p>
<p>[ PRGRM ][  LIB  ][  I/O  ][     ][ C.A.P. ]
</p>
<p>PROGRAM              O2000 N0130
Sequence
No.
Program No.
</p>
<p>The program number and sequence number displayed depend on the
screen and are given below:
</p>
<p>On the program screen in the EDIT mode on Background edit screen :
The program No. being edited and the sequence number just prior to the
cursor are indicated.
</p>
<p>Other than above screens :
The program No. and the sequence No. executed last are indicated.
</p>
<p>Immediately after program number search or sequence number
search :
</p>
<p>Immediately after the program No. search and sequence  No. search, the
program No. and the sequence No. searched are indicated.
</p>
<p>11.7
DISPLAYING THE
PROGRAM NUMBER,
SEQUENCE
NUMBER, AND
STATUS, AND
WARNING
MESSAGES FOR
DATA SETTING
</p>
<p>11.7.1
Displaying the
Program Number and
Sequence Number
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0811. SETTING AND DISPLAYING DATA
</p>
<p>590
</p>
<p>The current mode, automatic operation state, alarm state, and program
editing state are displayed on the next to last line on the CRT screen
allowing the operator to readily understand the operation condition of the
system.
</p>
<p>NOT READY S 500 T0123
 11:53:05  ALARM BAT BUF EDIT          INPUT
             (Display soft keys)
</p>
<p>MDI : Manual data input
AUTO : Automatic operation
RMT : Automatic operation (Tape operation, or such like)
EDIT : Memory editing
HNDL : Manual handle feed
JOG : Jog feed
TJOG : TEACH IN JOG
THND : TEACH IN HANDLE
STEP : Manual incremental feed
ZRN : Manual reference position return
</p>
<p>ALARM : Indicates that an alarm is issued. 
BAT : Indicates that the battery is low.
</p>
<p>hh:mm:ss  &ndash;   Hours, minutes, and seconds
</p>
<p>INPUT : Indicates that data is being input.
OUTPUT : Indicates that data is being output.
SRCH : Indicates that a search is being performed.
EDIT : Indicates that another editing operation is being performed
</p>
<p>(insertion, modification, etc.)
COMPARE : Indicates that the program is being collated.
LSK : Indicates that labels are skipped when data is input.
RSTR : Indicates that the program is being restarted
BUF : Indicates that the block to be executed next is being read.
NOT READY : Indicates that the system is in the emergency stop state.
</p>
<p>The actual spindle speed is displayed after S.  (The threading function or
synchronous feed function is required.)
</p>
<p>The specified T code is displayed.
To display the actual spindle speed and T code, bit 2 of parameter 0014
must be specified accordingly.
</p>
<p>11.7.2
Displaying the Status
and Warning for Data
Setting
</p>
<p>Explanations
</p>
<p>Description of each displa
</p>
<p>ï¿½ Current mode
</p>
<p>ï¿½ Alarm status
</p>
<p>ï¿½ Current time
</p>
<p>ï¿½ Other status display
</p>
<p>ï¿½ Actual spindle speed (S)
</p>
<p>ï¿½ T codeww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>591
</p>
<p>12 GRAPHICS FUNCTION
Two graphic functions are available.  One is a graphic display function,
and the other is a dynamic graphic display function.
</p>
<p>The graphic display function can draw the tool path specified by a
program being executed.  The graphic display function also allows
enlargement and reduction of the display.
</p>
<p>The dynamic graphic display function can draw a tool path and machining
profile.  In tool path drawing, automatic scaling and solid drawing are
possible. In machining profile drawing, the status of machining in
progress can be drawn through simulation.  Blank figures can also be
drawn.
</p>
<p>This chapter mainly explains drawing procedures and drawing
parameters for the following:
</p>
<p>1. Drawing the tool path specified by a program being executed, with the
graphic display function
</p>
<p>2. Drawing the tool path with the dynamic graphic display function
</p>
<p>3. Drawing the machining profile with the dynamic graphic display
function
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>592
</p>
<p>It is possible to draw the programmed tool path, which makes it possible
to check the progress of machining, while observing the path on the CRT
screen.
In addition, it is also possible to enlarge/reduce the screen.
Before drawing, graphic parameters must be set.
When the dynamic graphics function is used, the graphics function
described in this section cannot be used.  See Section 12.2 for the dynamic
graphics function.
</p>
<p>Graphics display procedure
</p>
<p>1 Press function key AUXGRAPH .  
</p>
<p>The graphic parameter screen shown below appears.  (If this screen
does not appear, press soft key [G.PRM] .)
</p>
<p>GRAPHIC PARAMETER O9501 N0014
</p>
<p>AXES _P= 4
</p>
<p>(XY=0, YZ=1, ZY=2, XZ=3, XYZ=4, ZXY=5)
</p>
<p>RANGE (MAX.)
</p>
<p>X= 0 Y=     0 Z= 0
</p>
<p>RANGE (MIN.)
</p>
<p>X= 0 Y=     0 Z= 0
</p>
<p>SCALE K=    70
</p>
<p>GRAPHIC CENTER
</p>
<p>X= 57500 Y= 75000 Z= 0
</p>
<p>PROGRAM STOP N=     0
</p>
<p>AUTO ERASE A=     1
</p>
<p>NO.  P = S  0  T
 10:16:23      MDI       
[ G.PRM ][ GRAPH ][  AUX  ][      ][      ]
</p>
<p>2 Move the cursor with the cursor keys to a parameter to set.
</p>
<p>3 Enter data, then press the INPUT  key.  (A decimal point cannot be
</p>
<p>entered.)
</p>
<p>4 Repeat steps 2 and 3 until all required parameters are specified.
</p>
<p>5 Press soft key [GRAPH] .
</p>
<p>12.1
GRAPHICS DISPLAY
</p>
<p>Procedure
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>593
</p>
<p>6 Automatic operation is started and machine movement is drawn on
the screen.
</p>
<p>O9501 N0014
</p>
<p>X    0.000
Y    0.000
Z    0.000
</p>
<p>S  0  T
 10:17:21      AUTO      
[ G.PRM ][ GRAPH ][  AUX  ][      ][      ]
</p>
<p>Z
</p>
<p>X Y
</p>
<p>The size of the graphic screen will be as follows:
</p>
<p>Gc : Center of the screen
</p>
<p>Note : ( ) indicate the values for a 14&Prime; CRT.
</p>
<p>Gc
</p>
<p>45(75)mm 72mm
(120)
</p>
<p>72mm
(120)
</p>
<p>45(75)mm
</p>
<p>Fig. 12.1 (a)  Graphic range
</p>
<p>As shown in Fig.12.1 (a), the maximum graphics range is an area of
approx. 144 mm (width) &times; 90 mm (height) for a 9&Prime; CRT and approx. 240
mm (width)&times; 150 mm (height) for a 14&Prime; CRT.
</p>
<p>To draw a section of the program within the actual graphics range, set the
graphics range using one of the following two methods:
</p>
<p>1 Set the center coordinates of the range and the magnification.
</p>
<p>2 Set the maximum and minimum coordinates for the range in the
program.
</p>
<p>Whether 1 or 2 is used depends on which parameters are set last.  A
graphics range which has been set is retained when the power is turned
off.
</p>
<p>Explanations
</p>
<p>ï¿½ RANGE 
(Actual graphic range)
</p>
<p>ï¿½ Setting the graphics
rangeww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>594
</p>
<p>Set the center of the graphic range to the center of the screen.  If the
drawing range in the program can be contained in the actual graphics
range, set the magnification to 1 (actual value set is 100).
</p>
<p>When the drawing range is larger than the maximum graphics range or
much smaller than the maximum graphics range, the graphics
magnification should be changed. The graphics magnification is 0.01 to
100.00 times, which is usually determined  as follows;
</p>
<p>Graphics magnification= Graphics magnification (H), or graphics
magnifications (V), whichever is smaller
</p>
<p>Graphics magnification H = Î±/(length on program to horizontal
direction axis)
</p>
<p>Graphics magnification V= Î²/(length on program to vertical
direction axis)
</p>
<p>Î±:144mm(for 9&Prime; CRT)
Î²:90mm
Î±:240mm(for 14&Prime; CRT)
Î²:150mm
</p>
<p>Gc : Center of screen
</p>
<p>Program
</p>
<p>Gc
Program
</p>
<p>Graphics range before 
magnification is applied
</p>
<p>Graphics range after 
magnification is applied
</p>
<p>The graphics magnification is always based on the center of the screen.
</p>
<p>Gc
</p>
<p>Graphics range before 
magnification is applied
</p>
<p>Graphics range after 
magnification is applied
</p>
<p>Fig. 12.1 (b)  Applying graphics magnification (Example of enlargement)
</p>
<p>1. Setting the center
coordinate of the
graphics range and
graphics magnification
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>595
</p>
<p>When the actual tool path is not near the center of the screen, method 1
will cause the tool path to be drawn out of the geaphics range if graphics
magnification is not set properly.
To avoid such cases, the following six graphic parameters are prepared;
</p>
<p>Graphic range (Max.) X
Graphic range (Max.) Y
Graphic range (Max.) Z
Graphic range (Min.) X
Graphic range (Min.) Y
Graphic range (Min.) Z
</p>
<p>With the above parameters,  the center of screen (Gcx, Gcy, Gcz) is
determined by the CNC as follows;
</p>
<p>Gcx = (X (MAX.) + X (MIN.) ) /2
Gcy = (Y (MAX.) + Y (MIN.) ) /2
Gcz = (Z (MAX.) + Z (MIN.) ) / 2
</p>
<p>The unit of the value will be 0.001 mm or 0.0001 inch depending on the
input unit.
Graphics magnification is applied automatically.  When the graphics
range is specified, the center coordinates and magnification do not need
to be calculated.
</p>
<p>The graphic origin and graphic center point will not be changed even if
the workpiece coordinate origin is changed.
In other words, the workpiece coordinate origin is always consistent with
the graphic origin.
</p>
<p>(Example)
</p>
<p>Graphics origin
</p>
<p>Gc (=30mm, 50mm)
</p>
<p>Y
</p>
<p>X
</p>
<p>G92 X60. Y90. ;
After execution
</p>
<p>Graphics origin=workpiece coordinate origin
</p>
<p>Graphics point (60mm, 90mm)
</p>
<p>As shown in the above example, when the command of G92 is specified, the drawing is moved as indicated 
by          . The position of the graphics origin or graphics center does not change.
</p>
<p>Graphics point
Gc
</p>
<p>Y
</p>
<p>X
</p>
<p>Fig. 12.1 (c)  Workpiece coordinate origin and graphics origin
</p>
<p>2. Setting the maximum
and minimum
coordinates for the
drawing range in the
program
</p>
<p>ï¿½ Work coordinate system
and graphics
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>596
</p>
<p>ï¿½ AXES
Specify the plane to use for drawing.  The user can choose from the
following six coordinate systems:
</p>
<p>X
</p>
<p>Y
</p>
<p>(1)
</p>
<p>= 0  :  Select (1)
= 1  :  Select (2)
= 2  :  Select (3)
= 3  :  Select (4)
= 4  :  Select (5)
= 5  :  Select (6)
</p>
<p>The rotating angle (horizontal, vertical) for isometric display of 5) and 6) is
fixed at 45&deg; in both cases.
</p>
<p>X
</p>
<p>Z
</p>
<p>(2)
</p>
<p>Z
</p>
<p>Y
</p>
<p>(3)
</p>
<p>X
</p>
<p>Z
</p>
<p>(4)
</p>
<p>Y
</p>
<p>Z
</p>
<p>X
</p>
<p>Y
</p>
<p>X
Z
</p>
<p>(5) (6)
</p>
<p>Fig. 12.1 (d)  Coordinate system
</p>
<p>ï¿½ RANGE (Max., Min.)
Set the graphic range displayed on the screen by specifying maximum
and minimum values along each axis.
</p>
<p>X =Maximum value X=Minimum value
Y =Maximum value Y=Minimum value
Z =Maximum value Z=Minimum value
Valid range:  &ndash;99999999 to +9999999
</p>
<p>NOTE
1 The units are 0.001 mm or 0.0001 inch.  Note that the
</p>
<p>maximum value must be greater than the minimum value for
each axis.
</p>
<p>2 When setting the graphics range with the graphics
parameters for the maximum and minimum values, can not
set the parameters for the magnification and screen center
coordinates afterwards.  Only the parameters set last are
effective.
</p>
<p>ï¿½ SCALE
Set the graphic magnification
The setting range is 0 to 10000 (unit:0.01 time).
</p>
<p>ï¿½ GRAPHIC CENTER
X=
Y=
Z=
Set the coordinate value on the workpiece coordinate system at
graphic center.
</p>
<p>ï¿½ Graphics parameter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>597
</p>
<p>NOTE
1 When MAX. and MIN. of RANGE are set, the values will be
</p>
<p>set automatically once drawing is executed
2 When setting the graphics range with the graphics
</p>
<p>parameters for the magnification and screen center
coordinates, do not set the parameters for the maximum
and minimum values afterward.  Only the parameters set
last are effective.
</p>
<p>ï¿½ PROGRAM STOP
N=_
Set the sequence No. of the end block when necessary to partially
draw.
This value is automatically cancelled and set to &ndash;1 once drawing is
executed.
</p>
<p>ï¿½ AUTO ERASE
1 : Erase the previous drawing automatically when the automatic
</p>
<p>operation is started under reset condition.
</p>
<p>2 : Not erase automatically.
</p>
<p>Since the graphic drawing is done when coordinate value is renewed
during automatic operation,  etc.,  it is necessary to start the program by
automatic operation.  To execute drawing without moving the machine,
therefore, enter the machine lock state.
</p>
<p>When the AUTO operation is started under reset condition,  the program
is executed after deleting the previous drawing automatically (Automatic
deleting=1).  It is possible not to delete the previous drawing by graphic
parameter (Automatic deleting=0).
</p>
<p>When necessary to draw a part of a program, search the starting block to
be drawn by the sequence No.  search,  and set the sequence No. of the end
block to the PROGRAM STOP N= of the graphic parameter before
starting the program under cycle operation mode.
</p>
<p>The tool path is shown with a dashed line (  ) for rapid traverse and
with a solid line ( ) for cutting feed.
</p>
<p>In case the feed rate is considerably high, drawing may not be executed
correctly, decrease the speed by dry&ndash;run,  etc.  to execute drawing.
</p>
<p>ï¿½ Executing drawing only
</p>
<p>ï¿½ Deleting the previous
drawing
</p>
<p>ï¿½ Drawing a part of a
program
</p>
<p>ï¿½ Drawing using dashed
lines and solid lines
</p>
<p>Restrictions
</p>
<p>ï¿½ Feedrateww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>598
</p>
<p>There are the following two functions in Dynamic Graphics.
</p>
<p>Path graphic This is used to draw the path of tool center commanded by the
part program.
</p>
<p>Solid graphic This is used to draw the workpiece figure machined by tool
movement commanded by the part program.
</p>
<p>The path graphic function is used to precisely check the part program for
drawing the tool path with a line.  The solid graphic function is used to
draw the workpiece figure to be machined with a program.  Thus, it is easy
to recognize roughly the part program.  These two functions can be used
freely by switching them.
</p>
<p>The path graphic feature calls a program from memory and draws the tool
path specified by the program.  This feature provides the following
functions.
</p>
<p>The user can choose the drawing plane from four types of plane views,
two types of isometric projection views, and biplane view.
</p>
<p>When an isometric projection view is used, the drawing can be rotated
horizontally and vertically.
</p>
<p>A drawing can be enlarged or reduced by specifying a magnification from
0.01 to 100 with respect to the actual size.  In addition, a drawing can be
automatically enlarged or reduced by setting maximum and minimum
values.
</p>
<p>A range of the program can be drawn by specifying a starting sequence
number and ending sequence number.
</p>
<p>The user can specify whether to apply tool length offset and cutter
compensation to drawing.  This way, either the actual programmed path
or the tool path can be drawn.
</p>
<p>When a tool path is drawn on a color CRT screen, the colors used can be
chosen from seven colors including white.  The color of the tool path can
be changed according to the T code.
</p>
<p>The CNC automatically determines the maximum and minimum drawing
coordinates for each program.  This means that drawing can be performed
with a magnification automatically determined according to these
maximum and minimum values.
</p>
<p>Except for biplane views the user can enlarge all types of drawings by a
factor of up to 100 while looking at the drawing that has been made.
</p>
<p>The current tool position can be displayed on the screen.
</p>
<p>The current position can also be indicated using coordinates.
</p>
<p>12.2
DYNAMIC GRAPHIC
DISPLAY
</p>
<p>12.2.1
Path Drawing
</p>
<p>1. Drawing plane
</p>
<p>2. Drawing rotation
</p>
<p>3. Drawing enlargement
and reduction
</p>
<p>4. Partial drawing
</p>
<p>5. Programmed path
and tool path 
drawing
</p>
<p>6. Color
</p>
<p>7. Automatic scaling
</p>
<p>8. Partial enlargement 
drawing
</p>
<p>9. Indicating the current
tool position with a 
mark
</p>
<p>10. Indicating the 
coordinates of the 
current position
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>599
</p>
<p>Coordinate axes and actual size dimension lines are displayed together
with the drawing so that actual size can be referenced.
</p>
<p>The first six functions above (1. to 6.) are available by setting the graphic
parameters.  The seventh to ninth functions (7. to 9.) are mainly executed
using soft keys after drawing has been setup.  The tenth function (10.) is
enabled by setting a parameter.  The eleventh function (11.) can be used
at any time.
</p>
<p>Path drawing procedure
</p>
<p>1 To draw a tool path, necessary data must be set beforehand.
</p>
<p>So after press the function AUXGRAPH  key, press soft key [PATH] .  The
</p>
<p>&ldquo;PATH GRAPHIC (PARAMETER)&rdquo; is displayed.
</p>
<p>PATH GRAPHIC (PARAMETER&ndash;1) O9501 N0014
</p>
<p>AXES P=     4
</p>
<p>(XY=0, YZ=1, ZY=2, XZ=3, XYZ=4, ZXY=5, 2P=6)
</p>
<p>ANGLE
</p>
<p> ROTATION A=     0
</p>
<p> TILTING A=     0
</p>
<p>SCALE K=  0.00
</p>
<p>CENTER OR MAX./MIN.
</p>
<p> X= 0.000 Y= 0.000 Z= 0.000
</p>
<p> I= 0.000 J= 0.000 K= 0.000
</p>
<p>START SEQ. NO. N=     0
</p>
<p>END SEQ. NO. N=     0
</p>
<p>NO.      P = S   0 T
</p>
<p> 10:20:36      MDI      
</p>
<p>[ PARA&ndash;1 ][ PARA&ndash;2 ][ EXEC ][ SCALE ][ POS ]
</p>
<p>PATH GRAPHIC (PARAMETER&ndash;2) O9501 N0014
</p>
<p>TOOL. COMP. _P= 0
</p>
<p>COLOR (0123456)
</p>
<p> PATH  P= 0
</p>
<p> TOOL  Q= 0
</p>
<p> AUTO CHANGE  R= 0
</p>
<p>NO.  P = S   0  T
 10:21:20       MDI      
</p>
<p>[ PARA&ndash;1 ][ PARA&ndash;2 ][ EXEC ][ SCALE ][ POS ]
</p>
<p>2 There are two screens for setting drawing parameters.
Press the soft key [PARA&ndash;1] , [PARA&ndash;2]  according to the setting items
for selecting screens.
</p>
<p>11. Displaying
coordinate axes and
actual size
dimentions lines
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>600
</p>
<p>3 Set the cursor to an item to be set by cursor keys.
</p>
<p>4 Input numerics by numeric keys.
</p>
<p>5 Press the INPUT  key.
</p>
<p>The input numerics are set by these operations and the cursor
automatically moves to the next setting items.  The set data is held even
after the power is turned off.
</p>
<p>6 Set the operation mode to the AUTO mode, press function key PRGRM ,
</p>
<p>and call the part program which should be drawn.
</p>
<p>7 After press function keyAUXGRAPH , and press soft key [PATH]  to redisplay
</p>
<p>the PATH GRAPHIC (PARAMETER) screen. Then press soft key
[EXEC]  to display the PATH GRAPHIC (EXECUTION) screen.
</p>
<p>PATH GRAPHIC (EXECUTION) O9501 N0014
</p>
<p>[ AUTO ][ START ][ STOP ][ REWIND ][ ERASE ]
</p>
<p>X
</p>
<p>25.8
</p>
<p>Y
</p>
<p>8 Press soft key [AUTO]  or [START] .  Pressing [AUTO]  enables
automatic scaling.  See item 7 in introduction of path drawing and the
description of soft key [AUTO]  in Explanations for details.  Drawing
is now started.  During drawing, the message &ldquo;DRAWING&rdquo; blinks at
the lower&ndash;right corner of the screen.
</p>
<p>9 Press soft key [STOP]  to pause drawing.  The indication of &ldquo;STOP&rdquo;
blinks at the lower right corner on the screen.  Press soft key [START]
to start drawing.  In addition, press soft key [REWIND]  to redraw
from the top of program before pressing soft key [START] .
</p>
<p>10 Execute the last of part program (M02/M30) to end drawing.  This
will cause, blinking of the &ldquo;DRAWING&rdquo; light to turn off.  The tool
path view drawn can be retained until the power is turned off unless a
new tool path view is drawn or soft key [ERASE]  is pressed.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>601
</p>
<p>11 For partial drawing enlargement, display the PATH GRAPHIC
(SCALE) screen by pressing the soft key [ZOOM]  on the PATH
GRAPHIC (PARAMETER) screen of step 1 above.  The tool path is
displayed.
</p>
<p>PATH GRAPHIC (EXECUTION) O9501 N0014
</p>
<p>[ EXEC ][   &larr;   ][   &rarr;   ][   &darr;    ][  &uarr;   ]
</p>
<p>X
</p>
<p>25.8
</p>
<p>Y
</p>
<p>SCALE
</p>
<p>1.00
</p>
<p>12 Perform positioning of marks displayed at the center of the screen to
the center of the part enlarged using soft keys [&larr;], [&rarr;], [&darr; ], and [&uarr; ].
</p>
<p>13 Set the relative magnification rate for the tool path view which is
being drawn using the address keys &ldquo;P&rdquo; and &ldquo;M&rdquo;.  When you press
address key P or M, the following results:
</p>
<p>Address key Function
</p>
<p>P The relative magnification rate increases by 0.1.
</p>
<p>M The relative magnification rate decreases by 0.1.
</p>
<p>The relative magnification rate is continuously changed by keeping
the address keys depressed.  It is possible to magnify up to 100 times
in reference to the actual dimensions.
</p>
<p>14 Press the soft key [EXEC]  after setting the relative magnification rate.
Then, the screen automatically changes to &ldquo;TOOL PATH
(EXECUTION)&rdquo; and the drawing of set partial enlargement view
starts.  The set partial enlargement status is valid until soft key
[AUTO]  or [ERASE]  is pressed.
</p>
<p>Partial enlargement
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>602
</p>
<p>15 To display a mark at the current tool position, display the PATH
GRAPHIC (POSITION) screen by pressing soft key [POS]  on the
PATH GRAPHIC (PARAMETER) screen of step 1 above.  This mark
blinks at the current tool center position on the tool path.
</p>
<p>PATH GRAPHIC (POSITION) O9501 N0014
</p>
<p>[ PARA&ndash;1 ][ PARA&ndash;2 ][ EXEC ][ SCALE ][ POS ]
</p>
<p>X
</p>
<p>25.8
</p>
<p>Y
</p>
<p>The relationship between the setting value and drawing planeis as shown
below:
</p>
<p>Setting value Drawing plane
</p>
<p>0 Plane view (XY)
</p>
<p>1 Plane view (YZ)
</p>
<p>2 Plane view (ZY)
</p>
<p>3 Plane view (XZ)
</p>
<p>4 Isometric projection (XYZ)
</p>
<p>5 Isometric projection (ZXY)
</p>
<p>6 Biplane view (XY,XZ)
</p>
<p>The following coordinate systems are selected.
</p>
<p>X
</p>
<p>Y Z
XY YZ
</p>
<p>ZY XZ
</p>
<p>X
</p>
<p>Y Z
</p>
<p>Y
</p>
<p>Z
</p>
<p>P=0 P=1
</p>
<p>P=2 P=3
</p>
<p>Fig. 12.2.1 (a)  Coordinate systems for the plane view
</p>
<p>Mark display of current
tool position
</p>
<p>Explanations
</p>
<p>ï¿½ Drawing plane
</p>
<p>ï¿½ Plane view (XY,YZ,ZY,XZ)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>603
</p>
<p>Projector view by isometric can be drawn.
</p>
<p>Y
</p>
<p>XYZ
</p>
<p>X
</p>
<p>Z Y
</p>
<p>ZXY
</p>
<p>XZ
</p>
<p>P=4 P=5
</p>
<p>Fig. 12.2.1 (b)  Coordinate systems for the isometric projection
</p>
<p>X
</p>
<p>Y Z
</p>
<p>X
</p>
<p>P=6
</p>
<p>Fig. 12.2.1 (c)  Coordinate systems for the biplane view
</p>
<p>Biplanes (XY and XZ) can be drawn simultaneously. The maximum and
minimum coordinate values must be set to draw the biplane view.  The
maximum and minimum coordinate values can also be set by performing
automatic scaling
</p>
<p>The direction of the coordinate axis is set when the isometric projection
is the setting of the drawing screen.   The direction is set by horizontal and
vertical rotation angles.  The unit is expressed in degrees.
</p>
<p>The horizontal rotation angle is set in the range of &ndash;180&deg; to +180&deg; in
reference to the vertical axis.  Set a positive value for clockwise rotation
of the coordinate axis.  Thus, the direction of projection (visual arrow)
becomes counterclockwise.
</p>
<p>Rotating
</p>
<p>Fig. 12.2.1 (d)  Rotating
</p>
<p>The tilting angle of the vertical axis is set in the range of &ndash;90&deg; to +90&deg; in
reference to the horizontal axis crossing the vertical axis at a right angle.
When a positive value is set, the vertical axis slants to the other side of
the graphic screen.  Thus, the projection direction (arrow direction)
becomes the horizontal direction.
</p>
<p>ï¿½ Isometric projection
(XYZ,ZXY)
</p>
<p>ï¿½ Biplane view
</p>
<p>ï¿½ ANGLE
</p>
<p>ï¿½ ROTATION
</p>
<p>ï¿½ TILTING
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>604
</p>
<p>Tilting
</p>
<p>Fig. 12.2.1 (e)  Tilting
</p>
<p>Set the magnification rate of drawing from 0.01 to 100.00.  When 1.0 is
set, drawing is carried out in actual dimensions.  When 0 is set, the
drawing magnification rate is automatically set based on the setting of
maximum and minimum coordinate values of drawing.
</p>
<p>When a graphics (drawing) magnification of 0 is set, maximum
coordinates on the X&ndash;axis, Y&ndash;axis, and Z&ndash;axis in the workpiece
coordinate system must be set in addresses X, Y, and Z, and minimum
coordinates must be set in addresses I, J, and K, to specify the graphics
(drawing) range.  For biplane view drawing, maximum and minimum
coordinates for drawing must be specified.
When a drawing magnification other than 0 is set, the X, Y, and Z
coordinates of the drawing center in the workpiece coordinate system
must be set in addresses X, Y, and Z.  Addresses I, J, and K are not used.
The table below summarizes the setting requirements described above.
</p>
<p>Setting the drawing
magnification rate
</p>
<p>Setting
magnification  rate
</p>
<p>Address X/Y/Z Address I/J/K
</p>
<p>Other than 0 Drawing center coordinate  value of X,
Y, and Z axes
</p>
<p>Ignored
</p>
<p>0 or biplane view drawing Drawing maximum coordinate value of
X, Y, and Z axes
</p>
<p>Drawing minimum coordinate value of
X, Y, and Z axes
</p>
<p>Set the start and end sequence numbers of drawing in four digits each.
The part program for drawing is executed from the head and only the part
enclosed by the start sequence and end sequence numbers is drawn.  When
0 is set as the start sequence number, drawing is performed from the head
of the program.  In addition, when 0 is set as the end sequence number,
drawing is performed up to the end of program.  The sequence number is
referred to regardless of either main program or subprogram.
</p>
<p>It is possible to set whether the tool path is drawn by making the tool
length offset or cutter compensation valid or invalid.
</p>
<p>Setting  value Tool length offset or cutter compensation
</p>
<p>0  Perform drawing by making tool compensation valid (an actual tool path is drawn.)
</p>
<p>1  Perform drawing by making tool compensation invalid (A programmed path is drawn.)
</p>
<p>Always set 0 before drawing when indicating the mark of the current tool
position.
</p>
<p>ï¿½ SCALE
</p>
<p>ï¿½ CENTER OR MAX./MIN.
</p>
<p>ï¿½ START SEQ. NO. and
END SEQ. NO.
</p>
<p>ï¿½ TOOL COMP.ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>605
</p>
<p>Specify the color of the tool path.  In the case of monochrome display, it
is not required to set it.  The relationship between the setting value and
color is as shown below:
</p>
<p>Setting value Color
</p>
<p>0 White
</p>
<p>1 Red
</p>
<p>2 Green
</p>
<p>3 Yellow
</p>
<p>4 Blue
</p>
<p>5 Purple
</p>
<p>6 Light blue
</p>
<p>ï¿½ PATH Specify the color of the tool path.
ï¿½ TOOL Specify the color of the current position mark of
</p>
<p>the tool.
ï¿½ AUTO CHANGE Set if for changing the color of the tool path
</p>
<p>automatically according to the T &ndash;code command.
</p>
<p>Setting value Function
</p>
<p>0 The color of the tool path is not changed.
</p>
<p>1 The color of the tool path is changed automatically.
</p>
<p>When 1 is set, the setting value of the color designation of PATH is
incremented by 1 every time the T code is commanded. At the same time,
the color of the tool path changes. If the setting value exceeds 6, it returns
to 0.
</p>
<p>Software key Function
</p>
<p>[AUTO] Automatic scaling is performed.  Obtain the maximum and 
minimum coordinates of the part program before performing
drawing, specify them for the maximum and minimum values
of drawing parameters, and set the drawing magnification rate
to 0 before starting drawing.  Thus, the tool path view is proper-
ly laid out on the screen.
</p>
<p>[START] Drawing starts.  When the [START]  is pressed while the 
drawing is not in STOP, the part program starts from the top of
the part program.  Press the [START]  while the drawing is in
stop to allow drawing to be carried out continuously.
</p>
<p>[STOP] Stop drawing.  (Single block stop)
</p>
<p>[REWIND] Press this key to start drawing from the top of part program.
Searches for the beginning of a part program.
</p>
<p>[ERASE] Erase the tool path view which has been drawn.
</p>
<p>No part program which has not been registered in memory can be drawn.
Also, it is necessary that the M02 or M30 should be commanded at the
end of the part  program.
</p>
<p>ï¿½ COLOR
</p>
<p>ï¿½ Soft key functions on the
&ldquo;PATH GRAPHIC
[EXECUTION]&rdquo;screen
</p>
<p>ï¿½ Graphic program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>606
</p>
<p>The period of mark blinking is short when the tool is moving and becomes
longer when the tool stops.
The mark indicating the current  position of tool is displayed on the XY
plane view when the biplane drawing is performed.
</p>
<p>Parameter No. 058#5 is used to specify whether to use ï¿½ or x as the mark
for indicating the current tool position and the center of a partially
enlarged drawing.
</p>
<p>Parameter No. 046#5  is used to specify whether to display the coordinates
of the current position on the tool path drawing screen.
</p>
<p>If a program specifies a coordinate system change, parameter No.058#0
is used to specify whether to draw without changing the coordinate
system or to draw by regarding the current drawing position as the current
position in the new coordinate system.
</p>
<p>If machine operation is not allowed, no drawing can be carried out.  No
drawing can be made during machine operation.  The setting data and
switches required for drawing are as shown below:
</p>
<p>Setting data and switch Status
</p>
<p>Tool offset amount Set it properly when performing drawing while
the tool offset amount becomes valid.
</p>
<p>Single block Off
</p>
<p>Optional block skip Set it properly.
</p>
<p>Feed hold Off
</p>
<p>The partial enlargement can be carried out on the plane view and isometric
projection view.  No partial enlargement can be made in the drawing of
the biplane view.
</p>
<p>In dynamic graphics display, drawing cannot be executed while the
machine is operating even though this is possible in ordinary graphics
display (see Section 12.1).  However, after drawing is executed, the
operator can see how the tool moves along the tool path by operating the
machine while displaying the mark for the current position of the tool.
It is necessary that the setting data and switches related to the machine
operation should be the same status between drawing operation and
machining operation  for properly displaying the current  position of tool
on the drawn tool path.
</p>
<p>ï¿½ Mark for the tool current
position
</p>
<p>ï¿½ Position mark
</p>
<p>ï¿½ Display of the coordinate
value
</p>
<p>ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½&#13;ï¿½	ï¿½ï¿½ï¿½ï¿½
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½

</p>
<p>Restrictions
</p>
<p>ï¿½ Graphic condition
</p>
<p>ï¿½ Partial enlargement
</p>
<p>ï¿½ Tool current position
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>607
</p>
<p>The solid graphics draws the figure of a workpieces machined by the
movement of a tool.
The following graphic functions are provided :
</p>
<p>Solid model graphic is drawn by surfaces so that the machined figure can
be recognized concretely.
</p>
<p>It is possible to draw a blank figure before machining.
A rectangular parallelepiped and a circular column or cylinder can be
drawn.  A circular column or cylinder parallel to the X&ndash;axis, Y&ndash;axis, or
Z&ndash;axis can be selected.
</p>
<p>It is possible to draw the progress of machining by simulation.
</p>
<p>It is possible to draw the final finish machined figure.
</p>
<p>The user can choose from four drawing directions and eight tilting angles.
</p>
<p>It is possible to draw XY plane views as well as solid model views.  Height
of the workpiece is discriminated by color for color display or brightness
for monochrome display.
</p>
<p>In addition to a solid drawing, a triplane view can be drawn.  The user can
choose from four types of plane view and side view positions.   The user
can freely change the cross&ndash;section position of a side view.
</p>
<p>It is possible to install tools in the direction which is parallel to the X or
Y axis as well as the Z axis.
</p>
<p>It is possible to change tools during machining by the part program
command.
</p>
<p>12.2.2
Solid Graphics
</p>
<p>1. Solid model graphic
</p>
<p>2. Blank figure graphics
</p>
<p>3. Drawing of machining
progress
</p>
<p>4. Drawing of final
machined figure
</p>
<p>5. Changing of drawing
direction
</p>
<p>6. Plane view graphics
</p>
<p>7. Tri&ndash;plane view graphic
</p>
<p>8. Horizontal hole
machining
</p>
<p>9. Tool change during
machining
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>608
</p>
<p>Solid graphics drawing procedure
</p>
<p>1 To draw a machining profile, necessary data must be set beforehand.
</p>
<p>So after press the function key AUXGRAPH , press the soft key [SOLID] .
</p>
<p>Then the screen of &ldquo;SOLID GRAPHIC (PARAMETER)&rdquo; is displayed.
</p>
<p>SOLID GRAPHIC (PARAMETER) O9501 N0014
BLANK FORM P=     2
</p>
<p>  X= 0.000 Y= 0.000 Z= 0.000
</p>
<p>  I= 0.000 J= 0.000 K= 0.000
</p>
<p>TOOL FORM P=     0
</p>
<p>R= 0.000 K= 0.000
</p>
<p>PROJECTION P=     0
</p>
<p>Q=     0 R=     0
</p>
<p>INTENSITY P=     0
</p>
<p>(0123456) Q=     0 R=     0
</p>
<p>START SEQ.NO. N=     0
</p>
<p>END SEQ.NO. N=     0
</p>
<p>ANIM. SPEED N=     0
</p>
<p>NO.  X = S    0 T   
 10:26:35      MDI       
[ BLANK ][ EXEC ][ REVIEW ][ 3&ndash;PLN ][      ]
</p>
<p>2 Use a cursor key to move the cursor to an item to be set.
</p>
<p>3 Input numerics for the item at the cursor using the numeric key.
</p>
<p>4 Press theINPUT key.
</p>
<p>Input numerics can be set by these operations and the cursor moves to the
next setting item automatically.  The set data is retained even if the power
is turned off.
See Explanations for details on settings.
</p>
<p>5 To draw a blank figure, display the SOLID GRAPHIC (BLANK) screen
by pressing soft key [BLANK]  on the SOLID GRAPHIC
(PARAMETER) screen of step 1 above.
</p>
<p>SOLID GRAPHIC (BLANK) O9501 N0014
</p>
<p>[ ANEW ][ + ROT ][ &ndash; ROT ][ +TILT ][ &ndash;TILT ]
</p>
<p>Z
Y
</p>
<p>X
</p>
<p>Procedure
</p>
<p>ï¿½ SOLID GRAPHIC
(BLANK)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>609
</p>
<p>6 Press soft key [ANEW] .  This allows the blank figure drawing to be
performed based on the blank figure data set.
</p>
<p>7 Press soft keys [+ROT] [&ndash;ROT] [+TILT] , and [&ndash;TILT] , when
performing drawing by changing the drawing directions.  Parameters
P and Q for the drawing direction are changed and the figure is
redrawn with the new parameters.
</p>
<p>8 Set the operation mode to the AUTO mode, press function PRGRM key,
</p>
<p>and call the subject part program of drawing.
</p>
<p>9 To draw a machining profile, display the SOLID GRAPHIC
(EXECUTION) screen by pressing soft key [EXEC]  on the SOLID
GRAPHIC (PARAMETER) screen of step 1 above.
</p>
<p>SOLID GRAPHIC (EXECUTION) O0100 N0100
</p>
<p>[  A.ST  ][  F.ST  ][ STOP ][ REWIND ][     ]
</p>
<p>Z
Y
</p>
<p>X
</p>
<p>&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;
&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;
&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;
&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;
&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;
&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;
&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;
&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Otilde;&Otilde;&Otilde;&Otilde;
</p>
<p>10 Press either soft key [A.ST]  or [F.ST] .  When &ldquo;STOP&rdquo; is not displayed
at the lower right corner of the screen, the program is executed from
its head.  &ldquo;DRAWING&rdquo; blinks at the lower right corner of screen
during drawing.  When [A.ST]  is pressed, the status of machining in
progress is drawn by simulation.  When [F.ST]  is pressed, the profile
during machining is not drawn.  Only the finished profile produced by
the program is drawn. This allows drawing to be started.
</p>
<p>11 Press soft key [STOP]  to stop drawing temporarily.  Drawing is
stopped after drawing the current block and &ldquo;STOP&rdquo; blinks at the
lower right corner of screen.  Press soft key [A.ST]  or [F.ST]  when
restarting drawing.  Press soft key [REWIND]  and then the [A.ST]  or
[F.ST]  if redrawing from the head.  It is possible to continue drawing
after changing the solid graphic parameters in temporary stop.
</p>
<p>12 When the end of program (M02 or M03) is executed, the drawing
ends and the blinking of &ldquo;DRAWING&rdquo; stops. Then, the final finish
figure is drawn on the screen. The drawn figure view is retained until
the power is turned off as long as a new machine figure view is drawn.
</p>
<p>ï¿½ SOLID GRAPHICS
(EXECUTION)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>610
</p>
<p>13 The color, intensity, or drawing direction of a machining figure which
has been drawn can be changed and the figure redrawn.
To redraw the figure, first change the parameters for the color,
intensity, or drawing direction on the SOLID GRAPHIC
(PARAMETER) screen shown in step 1, then press soft key
[REVIEW]  to display the SOLID GRAPHIC (REVIEW) screen.
</p>
<p>SOLID GRAPHIC (REVIEW) O0100 N0100
</p>
<p>[ ANEW ][ +ROT ][ &ndash;ROT ][ +TILT ][ &ndash;TILT ]
</p>
<p>Z
</p>
<p>Y
</p>
<p>X
</p>
<p>&Otilde;&Otilde;
</p>
<p>&Otilde;&Otilde;
</p>
<p>&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;
&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;
&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;
&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;
&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;
&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;
&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Ocirc;&Otilde;
</p>
<p>14 Press soft key [ANEW] .  The machining figure is redrawn with the
color, intensity, or drawing direction set in step 13.
</p>
<p>15 To redraw the figure in a different direction, press soft key
[+ROT] , [&ndash;ROT] , [+TILT] , or [&ndash;TILT].  Parameters P and Q for the
drawing direction are changed and the figure is redrawn with the new
paramaters.
</p>
<p>ï¿½ REVIEW
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>611
</p>
<p>16 The machined figure can be drawn on the tri&ndash;plane view.
To draw a triplane view, press soft key [3&ndash;PLN]  on the SOLID
GRAPHIC (PARAMETER) screen of step 1 above.  The SOLID
GRAPHIC (3&ndash;PLANE) screen appears.
</p>
<p>SOLID GRAPHIC (3&ndash;PLANE) 01126 N01126
</p>
<p>[     ][  ï¿½   ][  ï¿½   ][  ï¿½   ][  ï¿½   ]
</p>
<p>17 Each time soft key [    ] is pressed, the side&ndash;view drawings
</p>
<p>displayed change as follows.
</p>
<p>Right view and rear view
</p>
<p>Rear view and left view
</p>
<p>Left view and front view
</p>
<p>Front view and right view
</p>
<p>18 The sectional position of side view can be changed by the soft keys
[&larr;], [&rarr;], [&uarr; ], and [&darr; ]. 
With the sectional position of the left/right side view, the marks ï¿½ and
ï¿½ indicating the sectional position can be moved using the soft keys
[&larr;] and [&rarr;].  
With the sectional position of rear/front side view, the marks ï¿½ and ï¿½
indicating the sectional position can be moved using the soft keys [&uarr; ],
and [&darr; ].  Keep the keys depressed to change sectional/views
continuously.
</p>
<p>ï¿½ Triplane view drawing
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>612
</p>
<p>Set the type of blank figure under P.  The relationship between the setting
value and figure is as follows:
</p>
<p>P Blank figure
</p>
<p>0 Rectangular parallelepiped  (Cubed)
</p>
<p>1 Column or cylinder (parallel to Z&ndash;axis)
</p>
<p>2 Column or cylinder (parallel to X&ndash;axis)
</p>
<p>3 Column or cylinder (parallel to Y&ndash;axis)
</p>
<p>Set the X&ndash;axis, Y&ndash;axis, and Z&ndash;axis coordinate values of standard point
of materials in workpiece coordinate system to the addresses X, Y, and Z.
The standard point of materials is the corner point  in the negative
direction in the case of rectangular parallelepiped blank figure and the
center point of bottom in the case of column and cylinder materials.
</p>
<p>Set the dimensions of materials.  The relationship between the addresses
I, J, and K and setting value is as shown below:
</p>
<p>Material I J K
</p>
<p>Rectangular Length in X&ndash;axis
direction
</p>
<p>Length in Y&ndash;axis
direction
</p>
<p>Length in Z&ndash;axis
direction
</p>
<p>Column Radius of circle 0 Length of column
</p>
<p>Cylinder Radius of exter-
nal circle
</p>
<p>Radius of internal
circle
</p>
<p>Length of cylinder
</p>
<p>Z
</p>
<p>K
Y
</p>
<p>J
</p>
<p>I
(X,Y,Z) J
</p>
<p>I
</p>
<p>X
</p>
<p>(X,Y,Z)
</p>
<p>K
</p>
<p>Explanations
</p>
<p>GRAPHICS PARAMETER
</p>
<p>ï¿½ BLANK FORM
</p>
<p>&diams; BLANK FORM (P)
</p>
<p>&diams; Material positions
(X,Y,Z)
</p>
<p>&diams; Material dimensions
(I,J,K)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>613
</p>
<p>Set the machining direction of tools.  The relationship between the setting
value and machining direction is  as shown below.
</p>
<p>P Machining direction of tools
</p>
<p>0,1 Parallel to the Z&ndash;axis (perform machining from the + direction)
</p>
<p>2 Parallel to the X&ndash;axis (perform machining from the + direction)
</p>
<p>3 Parallel to the Y&ndash;axis (perform machining from the + direction)
</p>
<p>4 Parallel to the Z&ndash;axis (perform machining from the &ndash; direction)
</p>
<p>5 Parallel to the X&ndash;axis (perform machining from the &ndash; direction)
</p>
<p>6 Parallel to the Y&ndash;axis (perform machining from the &ndash; direction)
</p>
<p>Set the dimensions of tool.  The relationship between the displayed
address and setting value is as shown below:
</p>
<p>Address Setting numerics
</p>
<p>D
R
</p>
<p>Radius of tool
</p>
<p>K Distance from the program point to tool tip  (normally 0)
</p>
<p>K
</p>
<p>R
Program point
</p>
<p>Tip of the tool
</p>
<p>The relationship between graphic method and direction and setting value
is as shown below:
</p>
<p>P Graphic method and direction
</p>
<p>0, 4 Oblique projection view (+ X&ndash;axis)
</p>
<p>1, 5 Oblique projection view (+ Y&ndash;axis)
</p>
<p>2, 6 Oblique projection view (&ndash; X&ndash;axis)
</p>
<p>3, 7 Oblique projection view (&ndash;Y&ndash;axis)
</p>
<p>This setting value can also be incremented or decremented by the soft
keys [+ROT]  or [&ndash; ROT] .  In this case, if the setting value exceeds 7, it
returns to 0.  If it is smaller than 0, it becomes 7.
</p>
<p>ï¿½ TOOL FORM
</p>
<p>&diams; Machining tool 
orientation (P)
</p>
<p>&diams; Dimensions of tools 
(R,K)
</p>
<p>ï¿½ PROJECTION
</p>
<p>&diams; Graphics method
and direction (P)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>614
</p>
<p>Set the slant direction of the projection axis in the case of oblique
projection drawing.  Moreover, plane view can be specified.  The
relationship between the setting value and slant direction is as shown
below:
</p>
<p>Q Slant direction
</p>
<p>3 Plane view
</p>
<p>2 (0,2) direction ;  Î±=90&deg;in the figure below
</p>
<p>1 (1,2) direction ;  Î±=60&deg;in the figure below
</p>
<p>0 (2,2) direction ;  Î±=45&deg;in the figure below
</p>
<p>&ndash;1 (2,1) direction ;  Î±=30&deg;in the figure below
</p>
<p>&ndash;2 (2,0) direction ;  Î±=0&deg;in the figure below
</p>
<p>This setting value can also be incremented or decremented by 1 using soft
key [+ TILT]  or [&ndash;TILT] .
</p>
<p>Example)  The angle of projection is changed by the set value.
</p>
<p>Variations of the above figure determined by set values are shown below.
</p>
<p>(i) Set value:3 (ii) Set value:  2 (iii) Set value:  1
</p>
<p>(iv) Set value:  0 (v) Set value:  &ndash;1 (vi) Set value:  &ndash;2
</p>
<p>(Two&ndash;dimensional drawing)
(Î±=90&deg;) (Î±=60&deg;)
</p>
<p>(Î±=45&deg;) (Î±=30&deg;) (Î±=0&deg;)
</p>
<p>Î±Î±
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>The angle of projection 
</p>
<p>(A,B)
</p>
<p>&diams; Tilting angle (Q)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>615
</p>
<p>Set the direction of the vertical axis.
</p>
<p>R VERTICAL AXIS
</p>
<p>0, 1 Z&ndash;axis
</p>
<p>2 X&ndash;axis
</p>
<p>3 Y&ndash;axis
</p>
<p>The direction of the vertical axis which is set is effective by executing
graph.
</p>
<p>Specify the intensity of the drawing screen when performing drawing on
the monochrome screen, and the color of the drawing screen when
performing drawing on the color screen.  The relationship between the
setting,  intensity, and color is as shown below:
However, when the plane view is displayed on the monochrome screen.
The brighter surface, whichever is specified by P or Q becomes the top
surface.
</p>
<p>Setting value Intensity Color
</p>
<p>0 Maximum brightness White
</p>
<p>1 Red
</p>
<p>2
Dark
</p>
<p>Green
</p>
<p>3
Dark
</p>
<p>Yellow
</p>
<p>4 &darr; Blue
</p>
<p>5
</p>
<p>Li ht
</p>
<p>Purple
</p>
<p>6
Light
</p>
<p>Light blue
</p>
<p>The direction of the vertical axis which is set is effective by executing
graph.
</p>
<p>Address Oblique projection view Plane view Triplane view
</p>
<p>P Upper surface Upper surface Upper/lower surface
</p>
<p>Q Side surface Middle surface Left/right surface
</p>
<p>R Ridge Ridge Ridge
</p>
<p>Remarks The intensity/color of
front surface is 
</p>
<p>between P and Q
</p>
<p>Lower surface 
is blank
</p>
<p>The intensity/color of
plane view is between
</p>
<p>P and Q
</p>
<p>&diams; VERTICAL AXIS (R)
</p>
<p>ï¿½ INTENSITY
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>616
</p>
<p>P Q
</p>
<p>P+Q
</p>
<p>P
</p>
<p>Q
</p>
<p>Blank
</p>
<p>P
</p>
<p>P+Q Q
</p>
<p>Oblique projection view
</p>
<p>Plane view
</p>
<p>Triplan view
</p>
<p>Specify the start sequence number and end sequence number of each
drawing in a four&ndash;digit numeric.  The subject part program is executed
from the head.  But only the part enclosed by the start sequence number
and end sequence numeric is drawn.  When 0 is set as the start sequence
number, the program is drawn from its head.  When 0 is set as the end
sequence number, the program is drawn to its end.  The comparison of
sequence number is performed regardless of main program and
subprogram.
</p>
<p>Set interval of animated simulation drawing ranging from 0 to 255.
Every time the machining proceeds by the number set, the drawing is
repeated.  If 0 is set, drawing is repeated at every 1 block execution.
</p>
<p>Soft key Function
</p>
<p>[A.ST] Simulate and draw the progress of machining.
</p>
<p>[F.ST] No figure during machining is drawn and only the final fin-
ish figure by that program is drawn.
</p>
<p>[STOP] When pressed, stops drawing at the end of block (single
block stop).
</p>
<p>[REWIND] Press this key to perform drawing from the head of part
program.  Heading is performed automatically after execu-
tion of program end (M02/M30).
</p>
<p>No part program which has not been registered in memory can be drawn.
It is also necessary that the M02 or M30 be commanded at the end of the
part program.
</p>
<p>ï¿½ START SEQ. NO. and
END SEQ. NO.
</p>
<p>ï¿½ ANIM. SPEED
</p>
<p>ï¿½ Soft key functions on the
&ldquo;SOLID GRAPHIC
(EXECUTION)&rdquo; screen
</p>
<p>ï¿½ Graphics program
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>617
</p>
<p>It is possible to specify BLANK FORM and TOOL FORM in the part
program.  The command format is as shown below.  If it is commanded
during execution of drawing, the item corresponding to the screen of
&ldquo;SOLID GRAPHIC (PARAMETER)&rdquo; is set and drawing continues with the
set data.
</p>
<p>ï¿½ Command of BLANK FORM
</p>
<p>G10 L90 P_X_Y_Z_I_J_K_ ;
</p>
<p>The command value succeeding the address is the same as the numeric
set to the address being displayed at the item of BLANK FORM of
&ldquo;SOLID GRAPHIC (PARAMETER)&rdquo;.  If  BLANK FORM is
commanded, drawing continues after a new blank figure is drawn.
</p>
<p>ï¿½ Command of TOOL FORM
G10 L91 P_R_K_ ;
</p>
<p>The command value succeeding the address is the same as the numeric
set to the address being displayed at the item of TOOL FORM of screen
&ldquo;SOLID GRAPHIC (PARAMETER)&rdquo;.  If 0 is set with the tool radius
value, no machining simulation is performed thereafter.
</p>
<p>Parameter No. 046#5  is used to specify whether to display the coordinates
of the current position on SOLID GRAPHIC screen.
</p>
<p>In solid graphics, parameter No. 058#1 is used to specify whether to apply
tool length offset.
</p>
<p>Parameter No. 058#2 is used to select whether to draw a triplane view with
the third&ndash;angle or first&ndash;angle projection.
</p>
<p>Parameter No. 058#3 is used to specify whether to draw ridges in plane
view drawing.
</p>
<p>Parameter No. 058#4 is used to specify whether to display a solid graphics
in the rough mode or in the fine mode.  When a solid graphics is drawn
in the fine mode, the drawing speed is slower than when drawn in the
rough mode.
</p>
<p>In triplane drawing, a value can be specified by parameter No. 253 for
changing the position of the cross section while the soft key is held down.
A value from 0 to 10 can be set.  When 0 is specified, a value of 1 is used.
</p>
<p>ï¿½ Specifying the blank
form and tool form in the
part program
</p>
<p>ï¿½ Display of the coordinate
value
</p>
<p>ï¿½ TOOL COMP.
</p>
<p>ï¿½ Graphic method
</p>
<p>ï¿½ Ridge drawing
</p>
<p>ï¿½ Display mode
</p>
<p>ï¿½ Cross section position
change
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/0812. GRAPHICS FUNCTION
</p>
<p>618
</p>
<p>Right view and rear view
</p>
<p>[            ]
</p>
<p>Rear view and left view
</p>
<p>Front view and right view Left view and front view
</p>
<p>[            ]
</p>
<p>[            ][            ]
</p>
<p>Rear view
</p>
<p>Top view
</p>
<p>Right side viewLeft side view
</p>
<p>Front view
</p>
<p>Example)  The side views of the figure below are illustrated.
</p>
<p>In the above figure, the side views displayed are switched as follows.
</p>
<p>Press
</p>
<p>Press
</p>
<p>Press Press
</p>
<p>Examples
</p>
<p>ï¿½ Side view selection in
triplane drawing
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 12. GRAPHICS FUNCTIONOPERATION
</p>
<p>619
</p>
<p>Some examples of cross&ndash;sectional views are given below for the left view
and front view shown on the previous page.
</p>
<p>&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;&Aring;&Aring;
</p>
<p>Sectional view 1
</p>
<p>&Aring;
&Aring;
&Aring;
&Aring;
&Aring;
</p>
<p>&Aring;&Aring;
&Aring;&Aring;
&Aring;&Aring;
</p>
<p>&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;
</p>
<p>&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;
&Aring;&Aring;&Aring;
</p>
<p>&Aring;
&Aring;
</p>
<p>&Aring;&Aring;
&Aring;&Aring;
</p>
<p>Sectional view 2
</p>
<p>If the machine operation is not enabled, no drawing can be made.  No
drawing can be made during operation of machine.  The main setting data
and switches needed on drawing are as shown below:
</p>
<p>Setting data/switch Status needed for drawing
</p>
<p>Cutter compensation value It is necessary to set the cutter compensation val-
ue properly.  A valid tool length compensation val-
ue must be specified if a figure is drawn with tool
length compensation enabled.
</p>
<p>Single block Off
</p>
<p>Optional block skip Properly set it.
</p>
<p>Feed hold Off
</p>
<p>Tools which set the tool figure are limited to the cylinder figure
(equivalent to flat end mill).
</p>
<p>In solid graphics, paths based on helical interpolation cannot be drawn.
</p>
<p>ï¿½ Cross section position
selection in triplane
drawing
</p>
<p>Limitations
</p>
<p>ï¿½ Graphic condition
</p>
<p>ï¿½ Tool form
</p>
<p>ï¿½ Helical interpolation
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/08
13. DISPLAY AND OPERATION
</p>
<p>OF 00&ndash;MC
</p>
<p>620
</p>
<p>13 DISPLAY AND OPERATION OF 00&ndash;MC
The CRT/MDI panel of 00&ndash;MC consists of a CRT display (14&Prime; color) and
keyboard.  Contents of display and operation by key input are completely
different depending on whether the CNC screen or MMC screen is
displayed on the CRT/MDI panel.  In this manual, the operation when
only the CNC screen is displayed is described.  Refer to the manual of
machine tool builder for MMC screen.
</p>
<p>AUX
GRAPH
</p>
<p>MMC/
CNC
</p>
<p>SHIFT
</p>
<p>POWER
</p>
<p>RESET
OUTPUT
START
</p>
<p>/
</p>
<p>.
</p>
<p>A
</p>
<p>.
</p>
<p>B
</p>
<p>.
</p>
<p>C
</p>
<p>.
</p>
<p>D
</p>
<p>$
</p>
<p>E
</p>
<p>%
</p>
<p>F
</p>
<p>&amp;
</p>
<p>G
</p>
<p>.
</p>
<p>H I J K
</p>
<p>L M N
</p>
<p>SP
</p>
<p>O
</p>
<p>&gt;
</p>
<p>P
</p>
<p>.
</p>
<p>Q
</p>
<p>&ndash;
</p>
<p>R
</p>
<p>&lt;
</p>
<p>S
</p>
<p>&gt;
</p>
<p>T
</p>
<p>[
</p>
<p>U
</p>
<p>]
</p>
<p>V
</p>
<p>.{
</p>
<p>W
</p>
<p>}
</p>
<p>X
</p>
<p>:
</p>
<p>Y
</p>
<p>;
</p>
<p>Z
</p>
<p>.
</p>
<p>EOB
</p>
<p>7 8 9 ALTER
</p>
<p>4
</p>
<p>.
</p>
<p>5 6 INSRT
</p>
<p>1 2 3
</p>
<p>.
</p>
<p>DELET
</p>
<p>&ndash;
</p>
<p>:.
</p>
<p>0
</p>
<p>.
</p>
<p>.
</p>
<p>.
</p>
<p>INPUT
</p>
<p>POS PRGRM
</p>
<p>.
</p>
<p>CAN
</p>
<p>DGNOS
PARAM
</p>
<p>OPR
ALARM
</p>
<p>FUNC
</p>
<p>Reset key
</p>
<p>MMC/CNC
swich key
</p>
<p>Shift key
</p>
<p>Start/output key
</p>
<p>Program editing keys
</p>
<p>Input key
</p>
<p>Function keys
</p>
<p>I+OFF O+OFF
</p>
<p>MENU
OFSET
</p>
<p>Fig. 13  MDI for 00&ndash;MC
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
13. DISPLAY AND OPERATION
</p>
<p> OF 00&ndash;MCOPERATION
</p>
<p>621
</p>
<p>Press &ldquo;CNC&rdquo; key on the CRT/MDI panel to display the CNC screen when
the MMC screen is displayed on the CRT display of the CRT/MDI panel.
The CNC screen consists of a variable section and a fixed section.  The
variable section is the part that is surrounded by the frame at the bottom
right, and its display contents are the same as displayed on the 9&Prime; CRT
display of 0&ndash;MC.  Therefore, the screen selected by function key, page
key, cursor key, and soft key is displayed.  
The fixed section is the rest of the above variable section, and its display
contents are position data, operation time (optional), modal data, and S,
T command value, as shown on the screen.  Display items of this section
cannot be changed by the screen selection operation.  However, its display
contents are always renewed.
</p>
<p>ACTUAL POSITION (ABSOLUTE)
</p>
<p>PART COUNT 0
</p>
<p>RUN TIME 29H 47M
</p>
<p>CYCLE TIME 0H 0M 0S
</p>
<p>(MODAL)
G64 G00 F
</p>
<p>G17 R
G91 P
G22 Q 
G94 H
G21 M
G40 S
G49 T
G80
G98
G67
G54
</p>
<p>ABC REL ALL PRGRM DGNOS
</p>
<p>PARAMETER
NO. DATA NO. DATA
0001 10000100 0011 00000000
0002 00000011 0012 00000001
0003 00000000 0013 10000000
0004 01110111 0014 00000000
0005 01110111 0015 00000000
0006 01110111 0016 00000000
0007 01110111 0017 01111111
0008 00000011 0018 00000000
0009 01000100 0019 00000000
0010 11000100 0020 00000000
</p>
<p>NO. 0001 =
MDI
</p>
<p>ï¿½
</p>
<p>X 0.000 O0009
Y 0.000
Z 0.000 N0009
</p>
<p>variable section
</p>
<p>Fixed section
</p>
<p>Fig. 13.1
</p>
<p>13.1
DISPLAY
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>OPERATION B&ndash;61404E/08
13. DISPLAY AND OPERATION
</p>
<p>OF 00&ndash;MC
</p>
<p>622
</p>
<p>Key operation can only be done when the CNC screen is displayed on the
CRT display of the CRT/MDI panel.  Address keys and numerical keys
are independently arranged on 00&ndash;MB.  However, inputting data is
</p>
<p>exactly the same as that of 0&ndash;MB.  The page key  , cursor key
</p>
<p> , and selection key  on the software operator&rsquo;s panel
</p>
<p>are of combined use with the function key.  Press the corresponding key
for use as a page key, cursor key, and selection key on the software
operator&rsquo;s panel.  Press the corresponding key while pressing the
&ldquo;FUNC&rdquo; key as the function key.
Five keys on the right half ten keys are effective for the variable section,
and the other five keys on the left half are effective for selecting position
display data in the fixed section.
When the number is specified by a method like the parameter screen,
</p>
<p>because there is no NO. key use the cursor key  instead.
</p>
<p>13.2
OPERATION
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>IV.  MAINTENANCE
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. METHOD OF REPLACING BATTERYMAINTENANCE
</p>
<p>625
</p>
<p>1 METHOD OF REPLACING BATTERY
This chapter describes the method of replacing batteries as follows.
</p>
<p>1.1  REPLACING CNC BATTERY FOR MEMORY BACK&ndash;UP
1.2  REPLACING BATTERIES FOR ABSOLUTE PULSE CODER
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>MAINTENANCE B&ndash;61404E/081. METHOD OF REPLACING BATTERY
</p>
<p>626
</p>
<p>When the message &ldquo;BAT&rdquo; appears at the bottom of the screen, replace the
backup batteries for the CNC memory according to the procedure
described below.
</p>
<p>Procedure for replacing CNC battery for memory back&ndash;up
</p>
<p>1 Have three commercially available fresh alkaline R20 (D) batteries
handy.
</p>
<p>2 Switch on the machine (CNC).  (When replacing the batteries, keep
the CNC switched on.  If you replace the batteries with the CNC
switched off, the memory contents will be lost.)
</p>
<p>3 Loosen the screws for the battery case cover and remove it.  For the
location of the battery case, refer to the relevant operating manual
issued by the machine builder.
</p>
<p>4 Replace the batteries in the battery case with the fresh ones you have
handy.  Be careful for the orientation of the batteries.  Of the three
batteries, the middle one is in the orientation opposite to the other
two.
</p>
<p>5 After replacing the batteries, put the battery case cover back in place.
</p>
<p>6 Press the RESET  key and ensure the message &ldquo;BAT&rdquo; disappears.
</p>
<p>&Ccedil;
&Ccedil;
</p>
<p>&Ccedil;&Ccedil;ï¿½
ï¿½
</p>
<p>ï¿½
ï¿½
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>Screw
</p>
<p>Cover
</p>
<p>1.1
REPLACING CNC
BATTERY FOR
MEMORY BACK&ndash;UP
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 1. METHOD OF REPLACING BATTERYMAINTENANCE
</p>
<p>627
</p>
<p>If absolute pulse coder alarm 3n7 (where n is an axis number) occurs,
replace the batteries (alkaline) for the absolute pulse coder according to
the procedure described below.
</p>
<p>Procedure for replacing batteries for absolute pulse coder
</p>
<p>1 Have three commercially available fresh alkaline R20 (D) batteries
handy.
</p>
<p>2 Switch on the machine (CNC).  (When replacing the batteries, keep
the CNC switched on.  If you replace the batteries with the CNC
switched off, the memory contents will be lost.)
</p>
<p>3 Loosen the screws for the battery case cover and remove it.  For the
location of the battery case, refer to the relevant operating manual
issued by the machine builder.
</p>
<p>4 Replace the batteries in the battery case with the fresh ones you have
handy.  Be careful for the orientation of the batteries.  (Place the two
batteries in the orientation opposite to the other two as shown below.)
</p>
<p>5 After replacing the batteries, put the battery case cover back in place.
</p>
<p>6 Switch the machine (CNC) off and on again, and ensure that alarm
3n7 does not occur.
</p>
<p>&Ccedil;
</p>
<p>&Ccedil;&Ccedil;
</p>
<p>Screw
</p>
<p>Cover
</p>
<p>1.2
REPLACING
BATTERIES FOR
ABSOLUTE PULSE
CODER
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 A. TAPE CODE LISTAPPENDIX
</p>
<p>631
</p>
<p>A TAPE CODE LIST
ISO code EIA code Meaning
</p>
<p>Character 8 7 6 5 4 3 2 1 Character 8 7 6 5 4 3 2 1 Without
custom
macro B
</p>
<p>With 
custom
macro B
</p>
<p>0 ï¿½ ï¿½ ï¿½ 0 ï¿½ ï¿½ Number 0
</p>
<p>1 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ 1 ï¿½ ï¿½ Number 1
</p>
<p>2 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ 2 ï¿½ ï¿½ Number 2
</p>
<p>3 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ 3 ï¿½ ï¿½ ï¿½ ï¿½ Number 3
</p>
<p>4 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ 4 ï¿½ ï¿½ Number 4
</p>
<p>5 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ 5 ï¿½ ï¿½ ï¿½ ï¿½ Number 5
</p>
<p>6 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ 6 ï¿½ ï¿½ ï¿½ ï¿½ Number 6
</p>
<p>7 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ 7 ï¿½ ï¿½ ï¿½ ï¿½ Number 7
</p>
<p>8 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ 8 ï¿½ ï¿½ Number 8
</p>
<p>9 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ 9 ï¿½ ï¿½ ï¿½ ï¿½ Number 9
</p>
<p>A ï¿½ ï¿½ ï¿½ a ï¿½ ï¿½ ï¿½ ï¿½ Address  A
</p>
<p>B ï¿½ ï¿½ ï¿½ b ï¿½ ï¿½ ï¿½ ï¿½ Address B
</p>
<p>C ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ c ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Address C
</p>
<p>D ï¿½ ï¿½ ï¿½ d ï¿½ ï¿½ ï¿½ ï¿½ Address D
</p>
<p>E ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ e ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Address E
</p>
<p>F ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ f ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Address F
</p>
<p>G ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ g ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Address G
</p>
<p>H ï¿½ ï¿½ ï¿½ h ï¿½ ï¿½ ï¿½ ï¿½ Address H
</p>
<p>I ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ i ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Address I
</p>
<p>J ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ j ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Address J
</p>
<p>K ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ k ï¿½ ï¿½ ï¿½ ï¿½ Address K
</p>
<p>L ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ l ï¿½ ï¿½ ï¿½ ï¿½ Address L
</p>
<p>M ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ m ï¿½ ï¿½ ï¿½ ï¿½ Address M
</p>
<p>N ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ n ï¿½ ï¿½ ï¿½ ï¿½ Address N
</p>
<p>O ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ o ï¿½ ï¿½ ï¿½ ï¿½ Address O
</p>
<p>P ï¿½ ï¿½ ï¿½ p ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Address P
</p>
<p>Q ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ q ï¿½ ï¿½ ï¿½ ï¿½ Address Q
</p>
<p>R ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ r ï¿½ ï¿½ ï¿½ ï¿½ Address R
</p>
<p>S ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ s ï¿½ ï¿½ ï¿½ ï¿½ Address S
</p>
<p>T ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ t ï¿½ ï¿½ ï¿½ ï¿½ Address T
</p>
<p>U ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ u ï¿½ ï¿½ ï¿½ ï¿½ Address U
</p>
<p>V ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ v ï¿½ ï¿½ ï¿½ ï¿½ Address V
</p>
<p>W ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ w ï¿½ ï¿½ ï¿½ ï¿½ Address W
</p>
<p>X ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ x ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Address X
</p>
<p>Y ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ y ï¿½ ï¿½ ï¿½ ï¿½ Address Y
</p>
<p>Z ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ z ï¿½ ï¿½ ï¿½ ï¿½ Address Z
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08A. TAPE CODE LIST
</p>
<p>632
</p>
<p>ISO code MeaningEIA code
</p>
<p>Character With 
custom
macro B
</p>
<p>Without
custom
macro B
</p>
<p>12345678Character12345678
</p>
<p>DEL ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Del ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>NUL ï¿½ Blank ï¿½ ï¿½ ï¿½
</p>
<p>BS ï¿½ ï¿½ ï¿½ BS ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>HT ï¿½ ï¿½ ï¿½ Tab ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>LF or NL ï¿½ ï¿½ ï¿½ CR or EOB ï¿½ ï¿½
</p>
<p>CR ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ___ ï¿½ ï¿½
</p>
<p>SP ï¿½ ï¿½ ï¿½ SP ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>% ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ER ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>( ï¿½ ï¿½ ï¿½ (2&ndash;4&ndash;5) ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>) ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ (2&ndash;4&ndash;7) ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>+ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ + ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>&ndash; ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ &ndash; ï¿½ ï¿½
</p>
<p>: ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ___
</p>
<p>/ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ / ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>. ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ . ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p># ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Parameter
(No.0044)
</p>
<p>$ ï¿½ ï¿½ ï¿½ ___ â ï¿½
</p>
<p>&amp; ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ &amp; ï¿½ ï¿½ ï¿½ ï¿½ â ï¿½
ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ___ â ï¿½
</p>
<p>* ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Parameter
(No.0042)
</p>
<p>â
</p>
<p>, ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ , ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>; ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ___ â â
</p>
<p>&lt; ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ___ â â
</p>
<p>= ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Parameter
(No.0043)
</p>
<p>â
</p>
<p>&gt; ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ___ â â
</p>
<p>? ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ___ â ï¿½
</p>
<p>@ ï¿½ ï¿½ ï¿½ ___ â ï¿½
</p>
<p>&rdquo; ï¿½ ï¿½ ï¿½ ___ â â
</p>
<p>[ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Parameter
(No.0053)
</p>
<p>â
</p>
<p>] ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ Parameter
(No.0054)
</p>
<p>â
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 A. TAPE CODE LISTAPPENDIX
</p>
<p>633
</p>
<p>NOTE
1 The symbols used in the remark column have the following meanings.
</p>
<p>(Space) : The character will be registered in memory and has a specific meaning.  
If it is used incorrectly in a statement other than a comment, an alarm occurs.
</p>
<p>ï¿½ : The character will not be registered in memory and will be ignored.
ï¿½ : The character will be registered in memory, but will be ignored during program execution.
ï¿½ : The character will be registered in memory.  If it is used in a statement other than a
</p>
<p>comment, an alarm occurs.
ï¿½ : If it is used in a statement other than a comment, the character will not be registered in
</p>
<p>memory.  If it is used in a comment, it will be registered in memory.
2 Codes not in this table are ignored if their parity is correct.
3 Codes with incorrect parity cause the TH alarm. But they are ignored without generating the
</p>
<p>TH alarm when they are in the comment section.
4 A character with all eight holes punched is ignored and does not generate TH alarm in EIA code.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08
B. LIST OF FUNCTIONS AND 
</p>
<p>TAPE FORMAT
</p>
<p>634
</p>
<p>B LIST OF FUNCTIONS AND TAPE FORMAT
Some functions cannot be added as options depending on the model.
In the tables below, PI _:presents a combination of arbitrary axis
addresses using X,Y,Z,A,B and C (such as X_Y_Z_A_).
x = 1st basic axis (X usually) 
y = 2nd basic axis (Y usually) 
z = 3rd basic axis (Z usually)
</p>
<p>Functions Illustration Tape format
</p>
<p>Positioning (G00) PI
</p>
<p>Start point
</p>
<p>G00    _ ;PI
</p>
<p>Linear  interpolation (G01) PI
</p>
<p>Start point
</p>
<p>G01    _ F_;PI
</p>
<p>Circular interpolation 
(G02, G03)
</p>
<p>(x, y)
</p>
<p>G03(x, y)
</p>
<p>JR
</p>
<p>I
</p>
<p>G02
</p>
<p>Start point
</p>
<p>Start point
</p>
<p>R
</p>
<p>I
</p>
<p>J
</p>
<p>G17
G02
</p>
<p>G03
X_ Y_
</p>
<p>R_
</p>
<p>I_ J_
F_ ;
</p>
<p>G18
G02
</p>
<p>G03
X_ Z_
</p>
<p>R_
</p>
<p>I_ K_
F_ ;
</p>
<p>G19
G02
</p>
<p>G03
Y_ Z_
</p>
<p>R_
</p>
<p>J_ K_
F_ ;
</p>
<p>Helical cutting (G02, G03)
</p>
<p>(x, y)
</p>
<p>(xyz)
</p>
<p>z
</p>
<p>Start 
point
</p>
<p>For XY&ndash;plane G03
</p>
<p>Î± : Arbitrary address except a 
circular interpolation axis
</p>
<p>G17
G02
</p>
<p>G03
X_ Y_
</p>
<p>R_
</p>
<p>I_ J_
Î±_ F_ ;
</p>
<p>G18
G02
</p>
<p>G03
X_ Z_
</p>
<p>R_
</p>
<p>I_ K_
Î±_ F_ ;
</p>
<p>G19
G02
</p>
<p>G03
Y_ Z_
</p>
<p>R_
</p>
<p>J_ K_
Î±_ F_ ;
</p>
<p>Dwell (G04)
G04
</p>
<p>X_ ;
P_
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
B. LIST OF FUNCTIONS AND
</p>
<p> TAPE FORMATAPPENDIX
</p>
<p>635
</p>
<p>Functions Tape formatIllustration
</p>
<p>Exact  stop (G09)
Velocity
</p>
<p>Time
</p>
<p>Inposition check
</p>
<p>G09
</p>
<p>G01_
</p>
<p>G03_
G02_ _ ;
</p>
<p>Change of offset value by
program (G10)
</p>
<p>Tool offset value (offset memory B)
G10 L10 P_ R_ ;
</p>
<p>Wear offset value (offset memory B)
G10 L11 P_ R_ ;
</p>
<p>Workpiece origin offset value
G10 L2 P_ IP_ ;
G10 L20 P_ IP_ ;
</p>
<p>Cutter compensation 
(G40 &ndash; G42)
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
&Ccedil;&Ccedil;&Ccedil;&Ccedil;
</p>
<p>G41
</p>
<p>G42
G40
</p>
<p>G17
G18
G19
</p>
<p>G40
G41
G42
</p>
<p>H_ ;
D_ ;
</p>
<p>H, D : Cutter compensation number
G40 : Cancel
</p>
<p>_PI
</p>
<p>Tool length offset 
(G43, G44, G49)
</p>
<p>Z
</p>
<p>Offset
G43
</p>
<p>Î±_ H_ ;
G44
</p>
<p>G43
H_ ;
</p>
<p>G44
</p>
<p>H : Tool offset number
G49 : Cancel
</p>
<p>Tool offset
(G45 &ndash; G48) G45&Ugrave;&Ugrave;&Ugrave;&Ugrave;
</p>
<p>&Ugrave;&Ugrave;
</p>
<p>&Ugrave;&Ugrave;&Ugrave;&Ugrave;&Ugrave;
</p>
<p>&Ugrave;&Ugrave;
&Ugrave;&Ugrave;
</p>
<p>G46
</p>
<p>G47
</p>
<p>G48
</p>
<p>Elongated
</p>
<p>Reduced
</p>
<p>Elongated twofold
</p>
<p>Reduced to half
: Amount of compensation,
</p>
<p>PI
</p>
<p>G45
G46
G47
G48
</p>
<p>_ D_ ;
</p>
<p>D : Tool offset number
P : Scale factor
</p>
<p>PI
</p>
<p>Scaling (G50, G51)
</p>
<p>P1&rsquo;
</p>
<p>P1 P2
</p>
<p>P4 P3
</p>
<p>P2&rsquo;
</p>
<p>P4&rsquo; P3&rsquo;
PI
</p>
<p>G51        _ P_ ;
P : 
G50 ;   Cancel
</p>
<p>PIww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08
B. LIST OF FUNCTIONS AND 
</p>
<p>TAPE FORMAT
</p>
<p>636
</p>
<p>Functions Tape formatIllustration
</p>
<p>Local coordinate system 
setting (G52)
</p>
<p>x
</p>
<p>y
</p>
<p>Local coordinate
system
</p>
<p>Workpiece coordinate
system
</p>
<p>PI
</p>
<p>G52      _ ;PI
</p>
<p>Machine coordinate 
system selection (G53)
</p>
<p>G53       _ ;PI
</p>
<p>Workpiece coordinate
system selection 
(G54 &ndash; G59)
</p>
<p>Workpiece
coordinate system
</p>
<p>Machine coordinate system
</p>
<p>Workpiece 
zero point
offset
</p>
<p>PI
G54
   :
G59
</p>
<p>_ ;PI
</p>
<p>Single direction posiitoning
(G50)
</p>
<p>PI G60      _ ;PI
</p>
<p>Inch/millimeter 
conversion (G20, G21)
</p>
<p>G20 ; Inch input
</p>
<p>G21 ; Millimeter input
</p>
<p>Stored stroke check
(G22, G23)
</p>
<p>(XYZ)
</p>
<p>(IJK)
</p>
<p>G22 X_ Y_ Z_ I_ J_ K_ ;
</p>
<p>G23 ;     Cancel
</p>
<p>Reference position return 
check (G27)
</p>
<p>Start point
</p>
<p>PI G27    _ ;PI
</p>
<p>Reference position return
(G28)
2nd, 3rd, 4th reference
position return (G30)
</p>
<p>Start point
</p>
<p>Reference position
</p>
<p>Intermediate position
</p>
<p>(G28)
</p>
<p>PI
</p>
<p>G28    _ ;
</p>
<p>G30P
P2
P3
P4
</p>
<p>_ ;
</p>
<p>PI
</p>
<p>PI
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
B. LIST OF FUNCTIONS AND
</p>
<p> TAPE FORMATAPPENDIX
</p>
<p>637
</p>
<p>Functions Tape formatIllustration
</p>
<p>Return from reference 
position to start point (G29)
</p>
<p>Intermediate position
</p>
<p>Reference position
</p>
<p>PI
</p>
<p>G29    _ ;PI
</p>
<p>Skip function (G31)
</p>
<p>Start point
Skip signal
</p>
<p>PI G31    _ F_;PI
</p>
<p>Thread cutting (G33) F Equal lead thread cutting
</p>
<p>G33    _ F_;PI
</p>
<p>Cutting mode,
Exact stop mode,
Tapping mode,
Automatic corner override 
mode
</p>
<p>v
</p>
<p>t
G64
</p>
<p>v
</p>
<p>t
G60
</p>
<p>t
</p>
<p>G64_ ; Cutting mode
G60_ ; Exact stop mode
G62_ ;
     Automatic corner override mode
G63_ ; Tapping mode
</p>
<p>Custom macro
(G65, G66, G67)
</p>
<p>G65 P_ ;
O_ ;
</p>
<p>M99 ;
</p>
<p>Macro One&ndash;shot call
G65P &lt;argument&gt;;
P:  Program number
</p>
<p>Modal call
G66 P &lt;argument&gt;
G67; cancel
</p>
<p>Coordinate system rotation
(G68, G69) Y
</p>
<p>X
(x y)
</p>
<p>Î±
</p>
<p>For the XY plane
</p>
<p>G68
</p>
<p>G69 ;     Cancel
</p>
<p>G17 X_ Y_ 
G18 Z_ X_
G19 Y_ Z_
</p>
<p>R Î± ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08
B. LIST OF FUNCTIONS AND 
</p>
<p>TAPE FORMAT
</p>
<p>638
</p>
<p>Functions Tape formatIllustration
</p>
<p>Canned cycles 
(G73, G74, G80 &ndash; G89)
</p>
<p>Refer to II.14.  FUNCTIONS TO SIMPLIFY
PROGRAMMING
</p>
<p>G80 ; Cancel
</p>
<p>G73
G74
G76
G81
   :
G89
</p>
<p>X_ Y_ Z_ P_ Q_ R_ F_ K_ ;
</p>
<p>Absolute/incremental 
programming (G90/G91)
</p>
<p>G90_ ; Absolute command
</p>
<p>G91_ ; Incremental command
</p>
<p>G90_ G91_ ; Combined use
</p>
<p>Change of workpiece 
coordinate system (G92) &Ccedil;&Ccedil;
</p>
<p>&Ccedil;&Ccedil;PI
</p>
<p>G92    _ ;PI
</p>
<p>Initial point return / R point
return (G98, G99)
</p>
<p>G99
</p>
<p>G98
</p>
<p>R point
</p>
<p>Z point
</p>
<p>I point
G98  ;
G99  ;
</p>
<p>Constant surface speed 
control (G96, G97)
</p>
<p>ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½	 ï¿½ï¿½ï¿½
ï¿½ï¿½ï¿½ï¿½ G96 S_ ;
G97 ;   Cancel
</p>
<p>Polar coordinate input
(G15, G16)
</p>
<p>Yp
</p>
<p>Xp
</p>
<p>Xp
</p>
<p>Yp
</p>
<p>Local coordinate system
</p>
<p>Workpiece coordinate system
</p>
<p>G17 G16 Xp_ Yp &hellip; ;
G18 G16 Zp_ Xp &hellip; ;
G19 G16 Yp_ Zp &hellip; ;
G15 ;  Cancel
</p>
<p>Automatic tool length 
measurement (G37)
</p>
<p>Start 
point
</p>
<p>Measurement
position reached
signal
</p>
<p>Measurement 
position
</p>
<p>G37 Z&hellip; ;
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 C. RANGE OF COMMAND VALUEAPPENDIX
</p>
<p>639
</p>
<p>C RANGE OF COMMAND VALUE
</p>
<p>Increment system
</p>
<p>IS&ndash;B IS&ndash;C
</p>
<p>Least input 
increment
</p>
<p>0.001 mm 0.0001 mm
</p>
<p>Least command 
increment
</p>
<p>0.001 mm 0.0001 mm
</p>
<p>Max. program-
mable dimension
</p>
<p>&plusmn;99999.999 mm &plusmn;9999.9999 mm
</p>
<p>Max. rapid traverse
Notes
</p>
<p>100000 mm/min 24000 mm/min
</p>
<p>Feedrate range 
Notes
</p>
<p>1 to 100000 mm/min 1 to 12000 mm/min
</p>
<p>Incremental feed 0.001, 0.01, 0.1, 1 mm/step 0.0001, 0.001, 0.01, 0.1
mm/step
</p>
<p>Tool compensation 0 to &plusmn;999.999 mm 0 to &plusmn;999.9999 mm
</p>
<p>Dwell time 0 to 99999.999 sec 0 to 9999.9999 sec
</p>
<p>Linear axis
</p>
<p>ï¿½ In case of millimeter
input, feed screw is
millimeter
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08C. RANGE OF COMMAND VALUE
</p>
<p>640
</p>
<p>Increment system
</p>
<p>IS&ndash;B IS&ndash;C
</p>
<p>Least input 
increment
</p>
<p>0.0001 inch 0.00001 inch
</p>
<p>Least command 
increment
</p>
<p>0.001 mm 0.0001 mm
</p>
<p>Max. program-
mable dimension
</p>
<p>&plusmn;9999.9999 inch &plusmn;393.70078 inch
</p>
<p>Max. rapid traverse
Notes
</p>
<p>100000 mm/min 24000 mm/min
</p>
<p>Feedrate range 
Notes
</p>
<p>0.01 to 4000 inch/min 0.01 to 480 inch/min
</p>
<p>Incremental feed 0.0001, 0.001, 0.01, 0.1
inch/step
</p>
<p>0.00001, 0.0001, 0.001,
0.01 inch/step
</p>
<p>Tool compensation 0 to &plusmn;99.9999 inch 0 to &plusmn;99.99999 inch
</p>
<p>Dwell time 0 to 99999.999 sec 0 to 9999.9999 sec
</p>
<p>Increment system
</p>
<p>IS&ndash;B IS&ndash;C
</p>
<p>Least input 
increment
</p>
<p>0.0001 inch 0.00001 inch
</p>
<p>Least command 
increment
</p>
<p>0.0001 inch 0.00001 inch
</p>
<p>Max. program-
mable dimension
</p>
<p>&plusmn;9999.9999 inch &plusmn;999.99999 inch
</p>
<p>Max. rapid traverse
Notes
</p>
<p>4000 inch/min 960 inch/min
</p>
<p>Feedrate range 
Notes
</p>
<p>0.01 to 4000 inch/min 0.01 to 480 inch/min
</p>
<p>Incremental feed 0.0001, 0.001, 0.01, 0.1
inch/step
</p>
<p>0.00001, 0.0001, 0.001,
0.01 inch/step
</p>
<p>Tool compensation 0 to &plusmn;99.9999 inch 0 to &plusmn;99.99999 inch
</p>
<p>Dwell time 0 to 99999.999 sec 0 to 9999.9999 sec
</p>
<p>ï¿½ In case of inch input,
feed screw is millimeter
</p>
<p>ï¿½ In case of inch input,
feed screw is inch
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 C. RANGE OF COMMAND VALUEAPPENDIX
</p>
<p>641
</p>
<p>Increment system
</p>
<p>IS&ndash;B IS&ndash;C
</p>
<p>Least input 
increment
</p>
<p>0.001 mm 0.0001 mm
</p>
<p>Least command 
increment
</p>
<p>0.0001 inch 0.00001 inch
</p>
<p>Max. program-
mable dimension
</p>
<p>&plusmn;99999.999 mm &plusmn;9999.9999 mm
</p>
<p>Max. rapid traverse
Notes
</p>
<p>4000 inch/min 960 inch/min
</p>
<p>Feedrate range 
Notes
</p>
<p>1 to 100000 mm/min 1 to 12000 mm/min
</p>
<p>Incremental feed 0.001, 0.01, 0.1, 1 mm/step 0.0001, 0.001, 0.01, 0.1
mm/step
</p>
<p>Tool compensation 0 to &plusmn;999.999 mm 0 to &plusmn;999.9999 mm
</p>
<p>Dwell time 0 to 99999.999 sec 0 to 9999.9999 sec
</p>
<p>Increment system
</p>
<p>IS&ndash;B IS&ndash;C
</p>
<p>Least input 
increment
</p>
<p>0.001 deg 0.0001 deg
</p>
<p>Least command 
increment
</p>
<p>0.001 deg 0.0001 deg
</p>
<p>Max. program-
mable dimension
</p>
<p>&plusmn;99999.999 deg &plusmn;9999.9999 deg
</p>
<p>Max. rapid traverse
Notes
</p>
<p>100000 deg/min 24000 deg/min
</p>
<p>Feedrate range
(metric input)
Notes
</p>
<p>1 to 100000 deg/min 1 to 12000 deg/min
</p>
<p>Feedrate range 
(inch input) Notes
</p>
<p>1 to 6000 deg/min 1 to 600 deg/min
</p>
<p>Incremental feed 0.001, 0.01, 0.1, 1 deg/step 0.0001, 0.001, 0.01, 0.1
deg/step
</p>
<p>NOTE
The feedrate range shown above are limitations depending
on CNC interpolation capacity.  As a whole system,
limitations depending on servo system must also be
considered.
</p>
<p>ï¿½ In case of millimeter
input, feed screw is inch
</p>
<p>Rotation axis
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08D. NOMOGRAPHS
</p>
<p>642
</p>
<p>D NOMOGRAPHS
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 D. NOMOGRAPHSAPPENDIX
</p>
<p>643
</p>
<p>The leads of a thread are generally incorrect in Î´1 and Î´2, as shown in  Fig.
D.1 (a), due to automatic acceleration  and  deceleration.
Thus distance allowances must be made to the extent of Î´1 and Î´2 in the
program.
</p>
<p>Î´1Î´2
</p>
<p>Fig. D.1 (a)  Incorrect thread position
</p>
<p>ï¿½2 ï¿½ T1V
</p>
<p>V ï¿½ 1
60
</p>
<p>RL
</p>
<p>T1 : Time constant of servo system (sec)
V : Cutting speed (mm/sec)
R : Spindle speed (rpm)
L : Thread feed (mm)
</p>
<p>Time constant T1 (sec) of 
the servo system: Usually 
0.033 s.
</p>
<p>(mm) (1). . . . . . . . . . . . 
</p>
<p>ï¿½1 ï¿½ {t&ndash;T1 ï¿½ T1 exp(&ndash;
t
</p>
<p>T1
)}V
</p>
<p>ï¿½ ï¿½ exp(&ndash; t
T1
</p>
<p>)
</p>
<p>(2). . . . . . 
</p>
<p>(3). . . . . . 
</p>
<p>T1 : Time constant of servo system (sec)
V : Cutting speed (mm/sec)
</p>
<p>Time constant T1 (sec) of 
the servo system: Usually 
0.033 s.
</p>
<p>The lead at the beginning of thread cutting is shorter than the specified
lead L, and the allowable lead error is  âL.  Then as follows.
</p>
<p>a ï¿½ ï¿½L
L
</p>
<p>When the value of &ldquo;a&rdquo; is determined, the time lapse until the thread
accuracy is attained.  The time &ldquo;t&rdquo; is substituted in (2) to determine Î´1:
Constants V and T1 are determined in the same way as for Î´2.  Since the
calculation of Î´1 is rather complex, a nomography is provided on the
following pages.
</p>
<p>D.1
INCORRECT
THREADED LENGTH
</p>
<p>Explanations
</p>
<p>ï¿½ How to determine Î´2
</p>
<p>ï¿½ How to determine Î´1
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08D. NOMOGRAPHS
</p>
<p>644
</p>
<p>First specify the class and the lead of a thread.  The thread accuracy, a, will
be obtained at ï¿½, and depending on the time constant of cutting feed
acceleration/ deceleration, the Î´1 value when V = 10mm / s will be
obtained at ï¿½.  Then, depending on the speed of thread cutting, Î´1 for
speed other than 10mm/ s can be obtained at ï¿½.
</p>
<p>Time constant of 
servo system
</p>
<p>V=40mm/sec
V=20mm/sec
</p>
<p>ï¿½
</p>
<p>0
</p>
<p>Î´1 a
</p>
<p>L
</p>
<p>L
</p>
<p>ï¿½
</p>
<p>ï¿½
</p>
<p>Î´1(V=10mm/sec)
</p>
<p>T1
</p>
<p>T2
</p>
<p>See the graph in  reference later in
the manual for an actual example.
</p>
<p>Fig. D.1 (b)  Nomograph
</p>
<p>NOTE
The equations for Î´1, and Î´2 are for when the
acceleration/deceleration time constant for cutting feed is 0.
</p>
<p>ï¿½ How to use nomograph
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 D. NOMOGRAPHSAPPENDIX
</p>
<p>645
</p>
<p>Î´2 Î´1
</p>
<p>Fig. D.2  Incorrect threaded portion
</p>
<p>R : Spindle speed (rpm)
L : Thread lead (mm)
</p>
<p>* When time constant T of the 
servo system is 0.033 s.
</p>
<p>ï¿½2 ï¿½
LR
</p>
<p>1800 * (mm)
</p>
<p>ï¿½1 ï¿½
LR
</p>
<p>1800*
(&ndash;1&ndash;lna)
</p>
<p>ï¿½ ï¿½2(&ndash;1&ndash;lna)
</p>
<p>Following a is a permited value of  thread.
</p>
<p>a &ndash;1&ndash;lna
</p>
<p>0.005 4.298
</p>
<p>0.01
</p>
<p>0.015
</p>
<p>0.02
</p>
<p>3.605
</p>
<p>3.200
</p>
<p>2.912
</p>
<p>(mm)
</p>
<p>(mm)
</p>
<p>R : Spindle speed (rpm)
L : Thread lead (mm)
</p>
<p>* When time constant T of the 
servo system is 0.033 s.
</p>
<p>R=350rpm
</p>
<p>L=1mm
</p>
<p>a=0.01 then
</p>
<p>ï¿½2 ï¿½
350 ï¿½ 1
</p>
<p>1800
ï¿½ 0.194
</p>
<p>ï¿½1 ï¿½ ï¿½2 ï¿½ 3.605 ï¿½ 0.701
</p>
<p>(mm)
</p>
<p>(mm)
</p>
<p>D.2
SIMPLE
CALCULATION OF
INCORRECT THREAD
LENGTH
</p>
<p>Explanations
</p>
<p>ï¿½ How to determine Î´2
</p>
<p>ï¿½ How to determine Î´1
</p>
<p>Examplesww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08D. NOMOGRAPHS
</p>
<p>646
</p>
<p>V: speed in thread cutting
</p>
<p>Time constant of the
servo system
</p>
<p>50msec
</p>
<p>V=10mm/sec
(    0.39in/sec)
</p>
<p>V=20mm/sec
(    0.79in/sec)
</p>
<p>V=30mm/sec
(    1.18in/sec)
</p>
<p>V=40mm/sec
(   1.57in/sec)
</p>
<p>V=2in/sec V=1in/sec
</p>
<p>Î´1 (V=10mm/sec)
</p>
<p>33msec
</p>
<p>Î´1
8  (mm)
</p>
<p>0.3 (in)
</p>
<p>Î´1
</p>
<p>6 4 2 0
</p>
<p>0.2 0.1
</p>
<p>0.007 0.010 0.015 0.020 0.025
Metric thread
JIS class 1
JIS class 2
</p>
<p>Unified
thread
JIS 2A
JIS 3A
(Theoretical
accuracy)
</p>
<p>3.3 3.0 2.5 2.01.5 1.25 1.0 0.9 0.75 0.6 0.4 0.3 (mm) Lead L
</p>
<p>a= ( âL
L
</p>
<p>5.0 4.0 3.5 3.0 2.5 2.0 1.751.5 1.25 1.0 0.9 0.8 0.75 (mm)
4 5 6 7 8 910 121314 161820
</p>
<p>6 7 8 9 1012 14161820
Ridges/inch
</p>
<p>)
</p>
<p>Lead L
</p>
<p>Ridges/inch
</p>
<p>=.. =.. =.. =..
</p>
<p>Nomograph for obtaining approach distance  Î´1
</p>
<p>ï¿½ Reference
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 D. NOMOGRAPHSAPPENDIX
</p>
<p>647
</p>
<p>When servo system delay (by exponential acceleration/deceleration at
cutting or caused by the positioning system when a servo motor is used)
is accompanied by cornering, a slight deviation is produced between the
tool path (tool center path) and the programmed path as shown in Fig. D.3
(a).
Time constant T1 of the exponential acceleration/deceleration is fixed to
0.
</p>
<p>Î¸
</p>
<p>V1
</p>
<p>V2
</p>
<p>Tool path
</p>
<p>Programmed path
</p>
<p>Fig. D.3 (a)  Slight deviation between the tool path and
 the programmed path
</p>
<p>This tool path is determined by the following parameters:
</p>
<p>ï¿½ Feedrate (V1, V2)
</p>
<p>ï¿½ Corner angle (Î¸)
ï¿½ Exponential acceleration / deceleration time constant (T1) at cutting
</p>
<p>(T1 = 0)
</p>
<p>ï¿½ Presence or absence of buffer register.
</p>
<p>The above parameters are used to theoretically analyze the tool path.
When actually programming, the above items must be considered and
programming must be performed carefully so that the shape of the
workpiece is within the desired precision.
In other words, when the shape of the workpiece is not within the
theoretical precision, the commands of the next block must not be read
until the specified feedrate becomes zero. The dwell function is then used
to stop the machine for the appropriate period.
</p>
<p>D.3
TOOL PATH AT
CORNER
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08D. NOMOGRAPHS
</p>
<p>648
</p>
<p>The tool path shown in Fig. D.3 (b) is analyzed based on the following
conditions:
Feedrate is constant at both blocks before and after cornering.
The controller has a buffer register.  (The error differs with the reading
speed of the tape reader, number of characters of the next block, etc.)
</p>
<p>Î¸
</p>
<p>V
</p>
<p>VX1
</p>
<p>VY1
Ï1
</p>
<p>VY2
</p>
<p>VX2
</p>
<p>Ï2
</p>
<p>V
</p>
<p>X0
</p>
<p>Y
</p>
<p>Fig. D.3 (b)  Example of tool path
</p>
<p>VX1 ï¿½ V cosï¿½1
</p>
<p>VY1 ï¿½ V sinï¿½1
</p>
<p>VX2 ï¿½ V cosï¿½2
</p>
<p>VY2 ï¿½ V sinï¿½2
</p>
<p>V : Feedrate at both blocks before and after cornering
VX1 : X&ndash;axis component of feedrate of preceding block
VY1 : Y&ndash;axis component of feedrate of preceding block
VX2 : X&ndash;axis component of feedrate of following block
VY2 : Y&ndash;axis component of feedrate of following block
Î¸ : Corner angle
Ï1 : Angle formed by specified path direction of preceding block 
</p>
<p>and X&ndash;axis
Ï2 : Angle formed by specified path direction of following block 
</p>
<p>and X&ndash;axis
</p>
<p>Analysis
</p>
<p>ï¿½ Description of conditions
and symbols
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 D. NOMOGRAPHSAPPENDIX
</p>
<p>649
</p>
<p>Y0
</p>
<p>X0
</p>
<p>V
</p>
<p>0
</p>
<p>Fig. D.3 (c)  Initial value
</p>
<p>The initial value when cornering begins, that is, the X and Y coordinates
at the end of command distribution by the controller, is determined by the
feedrate and the positioning system time constant of the servo motor.
</p>
<p>X0 ï¿½ VX1(T1 ï¿½ T2)
</p>
<p>Y0 ï¿½ VY1(T1 ï¿½ T2)
</p>
<p>T1:Exponential acceleration / deceleration time constant. (T=0)
T2:Time constant of positioning system (Inverse of position loop gain)
</p>
<p>The equations below represent the feedrate for the corner section in
X&ndash;axis direction and Y&ndash;axis direction.
</p>
<p>VX(t) ï¿½
Vx1&ndash;Vx2
T1&ndash;T2
</p>
<p>{T1 exp (&ndash;
t
</p>
<p>T1
)&ndash;T2 exp (&ndash;
</p>
<p>t
T2
</p>
<p>)} ï¿½ Vx2
</p>
<p>VY(t) ï¿½
VY1&ndash;VY2
T1&ndash;T2
</p>
<p>{T1 exp(&ndash;
t
</p>
<p>T1
)&ndash;T2 exp(&ndash;
</p>
<p>t
T2
</p>
<p>)} ï¿½ VY2
</p>
<p>Therefore, the coordinates of the tool path at time t are calculated from the
following equations:
</p>
<p>X(t) ï¿½ ï¿½
t
</p>
<p>0
</p>
<p>VX(t)dt&ndash;X0
</p>
<p>ï¿½
VX2&ndash;VX1
T1&ndash;T2
</p>
<p>{T1
2
exp(&ndash; t
</p>
<p>T1
)&ndash;T2
</p>
<p>2
exp(&ndash; t
</p>
<p>T2
)}&ndash;VX2(T1 ï¿½ T2&ndash;t)
</p>
<p>Y(t) ï¿½ ï¿½
t
</p>
<p>0
</p>
<p>VY(t)dt&ndash;Y0
</p>
<p>ï¿½
VY2&ndash;VY1
T1&ndash;T2
</p>
<p>{T1
2
exp(&ndash; t
</p>
<p>T1
)&ndash;T2
</p>
<p>2
exp(&ndash; t
</p>
<p>T2
)}&ndash;VY2(T1 ï¿½ T2&ndash;t)
</p>
<p>ï¿½ Initial value calculation
</p>
<p>ï¿½ Analysis of corner tool
path
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08D. NOMOGRAPHS
</p>
<p>650
</p>
<p>When a servo motor is used, the positioning system causes an error
between input commands and output results. Since the tool advances
along the specified segment, an error is not produced in linear
interpolation. In circular interpolation, however, radial errors may be
produced, sepecially for circular cutting at high speeds.
This error can be obtained as follows:
</p>
<p>ï¿½r ï¿½ 1
2
</p>
<p>(T1
2
ï¿½ T2
</p>
<p>2
) V
</p>
<p>2
</p>
<p>r
</p>
<p>ï¿½rY
</p>
<p>X
</p>
<p>(1). . . 
</p>
<p>Command path
</p>
<p>Actual path
</p>
<p>ï¿½r : Maximum radius error (mm)
v : Feedrate (mm/s)
r : Circle radius (mm)
T1 : Exponential acceleration/deceleration time constant 
</p>
<p>(sec) at cutting (T=0) 
T2 : Time constant of positoning system (sec). 
</p>
<p>(Inverse of positon loop gain)
</p>
<p>r
</p>
<p>Since the machining radius r (mm) and allowable errorï¿½r   (mm) of the
workpiece is given in actual machining, the allowable limit feedrate v
(mm /sec) is determined by equation (1).
Since the acceleration/deceleration time constant at cutting which is set
by this equipment varies with the machine tool, refer to the manual issued
by the machine tool builder.
</p>
<p>D.4
RADIUS DIRECTION
ERROR AT CIRCLE
CUTTING
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
E. STATUS WHEN TURNING POWER ON,
</p>
<p> WHEN CLEAR AND WHEN RESETAPPENDIX
</p>
<p>651
</p>
<p>E STATUS WHEN TURNING POWER ON, WHEN CLEARAND WHEN RESET
Parameter No. 046 bit6 is used to select whether resetting the CNC places
it in the cleared state or in the reset state (0: reset state/1: cleared state).
The symbols in the tables below mean the following :
</p>
<p>ï¿½ : The status is not changed or the movement is continued.
</p>
<p>ï¿½ : The status is cancelled or the movement is interrupted.
</p>
<p>Item When turning power on Cleared Reset
</p>
<p>Setting 
data
</p>
<p>Offset value ï¿½ ï¿½ ï¿½
data
</p>
<p>Data set by the MDI 
setting operation
</p>
<p>ï¿½ ï¿½ ï¿½
</p>
<p>Parameter ï¿½ ï¿½ ï¿½
</p>
<p>Various 
data
</p>
<p>Programs in memory ï¿½ ï¿½ ï¿½
data
</p>
<p>Contents in the buffer
storage
</p>
<p>ï¿½ ï¿½ ï¿½ : MDI mode
ï¿½ : Other mode
</p>
<p>Display of sequence 
number
</p>
<p>ï¿½ ï¿½ (Note 1) ï¿½ (Note 1)
</p>
<p>One shot G code ï¿½ ï¿½ ï¿½
</p>
<p>Modal G code Initial G codes.
(The G20 and G21
codes return to the same
state they were in when
the power was last
turned off.)
</p>
<p>Initial G codes.
(G20/G21 are not
changed.)
</p>
<p>ï¿½
</p>
<p>F Zero Zero ï¿½
</p>
<p>S, T, M ï¿½ ï¿½ ï¿½
</p>
<p>K (Number of repeats) ï¿½ ï¿½ ï¿½
</p>
<p>Work coordinate value Zero ï¿½ ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08
E. STATUS WHEN TURNING POWER ON, 
</p>
<p>WHEN CLEAR AND WHEN RESET
</p>
<p>652
</p>
<p>Item ResetClearedWhen turning power on
</p>
<p>Action in 
operation
</p>
<p>Movement ï¿½ ï¿½ ï¿½
o eration
</p>
<p>Dwell ï¿½ ï¿½ ï¿½
</p>
<p>Issuance of M, S and T
codes
</p>
<p>ï¿½ ï¿½ ï¿½
</p>
<p>Tool length compensation ï¿½ Depending on parameter
No.001#3
</p>
<p>ï¿½ : MDI mode
Other modes depend on
parameter No. 001#3.
</p>
<p>Cutter compensation ï¿½ ï¿½ ï¿½ : MDI mode
ï¿½ : Other modes
</p>
<p>Storing called 
subprogram number
</p>
<p>ï¿½ ï¿½ (Note 2) ï¿½ : MDI mode
ï¿½ : Other modes(Note 2)
</p>
<p>Output 
signals
</p>
<p>CNC alarm signal AL Extinguish if there is no
cause for the alarm
</p>
<p>Extinguish if there is no
cause for the alarm
</p>
<p>Extinguish if there is no
cause for the alarm
</p>
<p>Reference position 
return completion LED
</p>
<p>ï¿½ ï¿½ (ï¿½ : Emergency stop) ï¿½ (ï¿½ : Emergency stop)
</p>
<p>S, T and B codes ï¿½ ï¿½ ï¿½
</p>
<p>M code ï¿½ ï¿½ ï¿½
</p>
<p>M, S and T strobe signals ï¿½ ï¿½ ï¿½
</p>
<p>Spindle revolution signal
(S analog signal)
</p>
<p>ï¿½ ï¿½ ï¿½
</p>
<p>CNC ready signal MA ON ï¿½ ï¿½
</p>
<p>Servo ready signal SA ON (When other than
servo alarm)
</p>
<p>ON (When other than
servo alarm)
</p>
<p>ON (When other than
servo alarm)
</p>
<p>Cycle start LED (STL) ï¿½ ï¿½ ï¿½
</p>
<p>Feed hold LED (SPL) ï¿½ ï¿½ ï¿½
</p>
<p>NOTE
1 When heading is performed, the main program number is displayed as the sequence number.
2 When a reset is performed during execution of a subprogram, control returns the main program.
</p>
<p>Execution cannot be started from the middle of the subprogram.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
F. CHARACTER&ndash;TO CODES
CORRESPONDENCE TABLEAPPENDIX
</p>
<p>653
</p>
<p>F CHARACTER&ndash;TO CODES CORRESPONDENCE TABLE
Character Code Comment Character Code Comment
</p>
<p>A 065 6 054
</p>
<p>B 066 7 055
</p>
<p>C 067 8 056
</p>
<p>D 068 9 057
</p>
<p>E 069 032 Space
</p>
<p>F 070 ! 033 Exclamation mark
</p>
<p>G 071 &rdquo; 034 Quotation mark
</p>
<p>H 072 # 035 Hash sign
</p>
<p>I 073 $ 036 Dollar sign
</p>
<p>J 074 % 037 Percent
</p>
<p>K 075 &amp; 038 Ampersand
</p>
<p>L 076 &rsquo; 039 Apostrophe
</p>
<p>M 077 ( 040 Left parenthesis
</p>
<p>N 078 ) 041 Right parenthesis
</p>
<p>O 079 * 042 Asterisk
</p>
<p>P 080 + 043 Plus sign
</p>
<p>Q 081 , 044 Comma
</p>
<p>R 082 &ndash; 045 Minus sign
</p>
<p>S 083 . 046 Period
</p>
<p>T 084 / 047 Slash
</p>
<p>U 085 : 058 Colon
</p>
<p>V 086 ; 059 Semicolon
</p>
<p>W 087 &lt; 060 Left angle bracket
</p>
<p>X 088 = 061 Equal sign
</p>
<p>Y 089 &gt; 062 Right angle bracket
</p>
<p>Z 090 ? 063 Question mark
</p>
<p>0 048 @ 064 &ldquo;At&rdquo; mark
</p>
<p>1 049 [ 091 Left square bracket
</p>
<p>2 050 ^ 092
</p>
<p>3 051 &yen; 093 Yen sign
</p>
<p>4 052 ] 094 Right square bracket
</p>
<p>5 053 _ 095 Underscore
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08G. ALARM LIST
</p>
<p>654
</p>
<p>G ALARM LIST
1) Program errors (P/S alarm)
</p>
<p>Number Meaning Contents and  remedy
</p>
<p>000 PLEASE TURN OFF POWER A parameter which requires the power off was input, turn off power.
</p>
<p>001 TH PARITY ALARM TH alarm (A character with incorrect parity was input). Correct the tape.
</p>
<p>002 TV PARITY ALARM TV alarm (The number of characters in a block is odd). This alarm will
be generated only when the TV check is effective.
</p>
<p>003 TOO MANY DIGITS Data exceeding the maximum allowable number of digits was input.
(Refer to the item of max. programmable dimensions.)
</p>
<p>004 ADDRESS NOT FOUND A numeral or the sign &ldquo; &ndash; &rdquo; was input without an address at the beginning
of a block. Modify the program .
</p>
<p>005 NO DATA AFTER ADDRESS The address was not followed by the appropriate data but was followed
by another address or EOB code. Modify the program.
</p>
<p>006 ILLEGAL USE OF NEGATIVE SIGN Sign &ldquo; .&rdquo; input error (Sign &ldquo; &ndash; &rdquo; was input after an address with which it
cannot be used. Or two or more &ldquo; &ndash; &rdquo; signs were input.) 
Modify the program.
</p>
<p>007 ILLEGAL USE OF DECIMAL POINT Decimal point &ldquo; &ndash; &rdquo; input error (A decimal point was input after an address
with which it can not be used.  Or two decimal points were input.)
Modify the program.
</p>
<p>008 ILLEGAL USE OF PROGRAM END An attempt was made to execute EOR (%) because there was not M02,
M30, or M99 at the end of the program.  Correct the program.
</p>
<p>009 ILLEGAL ADDRESS INPUT Unusable character was input in significant area.
Modify the program.
</p>
<p>010 IMPROPER G&ndash;CODE An unusable G code or G code corresponding to the function not pro-
vided is specified. Modify the program.
</p>
<p>011 NO FEEDRATE COMMANDED Feedrate was not commanded to a cutting feed or the feedrate was in-
adequate. Modify the program.
</p>
<p>014 CAN NOT COMMAND G95 A synchronous feed is specified without the option for threading / syn-
chronous feed.
</p>
<p>015 TOO MANY AXES COMMANDED The number of the commanded axes exceeded that of simultaneously
controlled axes.
</p>
<p>020 OVER TOLERANCE OF RADIUS In circular interpolation (G02 or G03), difference of the distance between
the start point and the center of an arc and that between the end point
and the center of the arc exceeded the value specified in parameter No.
876.
</p>
<p>021 ILLEGAL PLANE AXIS 
COMMANDED
</p>
<p>An axis not included in the selected plane (by using G17, G18, G19) was
commanded in circular interpolation. Modify the program.
</p>
<p>025 CANNOT COMMAND F0 IN G02/G03 F0 (fast feed) was instructed by F1 &ndash;digit column feed in circular inter-
polation. Modify the program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 G. ALARM LISTAPPENDIX
</p>
<p>655
</p>
<p>Number Contents and  remedyMeaning
</p>
<p>027 NO AXES COMMANDED IN G43/G44 No axis is specified in G43 and G44 blocks for the tool length offset type
C.
Offset is not canceled but another axis is offset for the tool length offset
type C. Modify the program.
</p>
<p>028 ILLEGAL PLANE SELECT In the plane selection command, two or more axes in the same direction
are commanded.
Modify the program.
</p>
<p>029 ILLEGAL OFFSET VALUE The offset values specified by H code is too large.
Modify the program.
</p>
<p>030 ILLEGAL OFFSET NUMBER The offset number specified by D/H code for tool length offset or cutter
compensation is too large. Modify the program.
</p>
<p>031 ILLEGAL P COMMAND IN G10 In setting an offset amount by G10, the offset number following address
P was excessive or it was not specified.
Modify the program.
</p>
<p>032 ILLEGAL OFFSET VALUE IN G10 In setting an offset amount by G10 or in writing an offset amount by sys-
tem variables, the offset amount was excessive.
</p>
<p>033 NO SOLUTION AT CRC A point of intersection cannot be determined for cutter compensation C.
Modify the program.
</p>
<p>034 NO CIRC ALLOWED IN ST&ndash;UP/EXT
BLK
</p>
<p>The start up or cancel was going to be performed in the G02 or G03
mode in cutter compensation. Modify the program.
</p>
<p>035 CAN NOT COMMANDED G39 G39 is commanded in cutter compensation B cancel mode or on the
plane other than offset plane. Modify the program.
</p>
<p>036 CAN NOT COMMANDED G31 Skip cutting (G31) was specified in cutter compensation mode.
Modify the program.
</p>
<p>037 CAN NOT CHANGE PLANE IN CRC G40 is commanded on the plane other than offset plane in cutter com-
pensation B. The plane selected by using G17, G18 or G19 is changed
in cutter compensation C mode. Modify the program.
</p>
<p>038 INTERFERENCE IN CIRCULAR
BLOCK
</p>
<p>Overcutting will occur in cutter compensation C because the arc start
point or end point coincides with the arc center. 
Modify the program.
</p>
<p>041 INTERFERENCE IN CRC Overcutting will occur in cutter compensation C.   Two or more blocks
are consecutively specified in which functions such as the auxiliary
function and dwell functions are performed without movement in the cut-
ter compensation mode. Modify the program.
</p>
<p>042 G45/G48 NOT ALLOWED IN CRC Tool offset (G45 to G48) is commanded in cutter compensation. Modify
the program.
</p>
<p>043 ILLEGAL T&ndash;CODE COMMAND In the DRILL&ndash;MATE, a T code was not specified together with the M06
code in a block. Alternatively, the Tcode was out of range.
</p>
<p>044 G27&ndash;G30 NOT ALLOWED IN FIXED
CYC
</p>
<p>One of G27 to G30 is commanded in canned cycle mode. 
Modify the program.
</p>
<p>046 ILLEGAL REFERENCE RETURN
COMMAND
</p>
<p>Other than P2, P3 and P4 are commanded for 2nd, 3rd and 4th refer-
ence position return command.
</p>
<p>050 CHF/CNR NOT ALLOWED IN THRD
BLK
</p>
<p>Chamfering or corner R is commanded in the thread cutting block.
Modify the program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08G. ALARM LIST
</p>
<p>656
</p>
<p>Number Contents and  remedyMeaning
</p>
<p>051 MISSING MOVE AFTER CHF/CNR Improper movement or the move distance was specified in the block
next to the chamfering or corner R block.
Modify the program.
</p>
<p>052 CODE IS NOT G01 AFTER CHF/CNR The block next to the chamfering or corner R block is not G01.  Modify
the program.
</p>
<p>053 TOO MANY ADDRESS COMMANDS For systems without the arbitary angle chamfering or corner R cutting,
a comma was specified. For systems with this feature, a comma was fol-
lowed by something other than R or C  Correct the program.
</p>
<p>055 MISSING MOVE VALUE IN CHF/CNR In the arbitrary angle chamfering or corner R block, the move distance
is less than chamfer or corner R amount.
</p>
<p>058 END POINT NOT FOUND In a arbitrary angle chamfering or corner R cutting block, a specified axis
is not in the selected plane. Correct the program.
</p>
<p>059 PROGRAM NUMBER NOT FOUND In an external program number search, a specified program number
was not found. Otherwise, a program specified for searching is being
edited in background processing. Check the program number and ex-
ternal signal. Or discontinue the background eiting.
</p>
<p>060 SEQUENCE NUMBER NOT FOUND Commanded sequence number was not found in the sequence number
search. Check the sequence number.
</p>
<p>070 NO PROGRAM SPACE IN MEMORY The memory area is insufficient.
Delete any unnecessary programs, then retry.
</p>
<p>071 DATA NOT FOUND The address to be searched was not found.  Or the program with speci-
fied program number was not found in program number search.
Check the data.
</p>
<p>072 TOO MANY PROGRAMS The number of programs to be stored exceeded 63 (basic), 125 (option)
or, 200 (option). Delete unnecessary programs and execute program
registeration again.
</p>
<p>073 PROGRAM NUMBER ALREADY IN
USE
</p>
<p>The commanded program number has already been used.
Change the program number or delete unnecessary programs and
execute program registeration again.
</p>
<p>074 ILLEGAL PROGRAM NUMBER The program number is other than 1 to 9999.
Modify the program number.
</p>
<p>076 ADDRESS P NOT DEFINED Address P (program number) was not commanded in the block which
includes an M98, G65, or G66 command. Modify the program.
</p>
<p>077 SUB PROGRAM NESTING ERROR A level larger than the maximum allowable nesting level of subprogram
calls was specified.  Modify the program.
</p>
<p>078 NUMBER NOT FOUND A program number or a sequence number which was specified by ad-
dress P in the block which includes an M98, M99, M65 or G66 was not
found.  The sequence number specified by a GOTO statement was not
found.  An attempt was made to call a program being edited in the back-
ground processing mode.  Correct the program.
</p>
<p>079 PROGRAM VERIFY ERROR In memory or program collation,a program in memory does not agree
with that read from an external I/O device. Check both the programs in
memory and those from the external device.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 G. ALARM LISTAPPENDIX
</p>
<p>657
</p>
<p>Number Contents and  remedyMeaning
</p>
<p>080 G37 ARRIVAL SIGNAL NOT 
ASSERTED
</p>
<p>In the automatic tool length measurement function (G37), the measure-
ment position reach signal (XAE, YAE, or ZAE) is not turned on within
an area specified in parameter (value Îµ). 
This is due to a setting or operator error.
</p>
<p>081 OFFSET NUMBER NOT FOUND IN
G37
</p>
<p>Tool length automatic measurement (G37) was specified without a H
code. (Automatic tool length measurement function) Modify the pro-
gram.
</p>
<p>082 H&ndash;CODE NOT ALLOWED IN G37 H code and automatic tool compensation (G37) were specified in the
same block. (Automatic tool length measurement function) Modify the
program.
</p>
<p>083 ILLEGAL AXIS COMMAND IN G37 In automatic tool length measurement, an invalid axis was specified or
the command is incremental.   Modify the program.
</p>
<p>085 COMMUNICATION ERROR When entering data in the memory by using Reader / Puncher interface,
an overrun, parity or framing error was generated. The number of bits
of input data or setting of baud rate or specification No. of I/O unit is in-
correct.
</p>
<p>086 DR SIGNAL OFF When entering data in the memory by using Reader / Puncher interface,
the ready signal (DR) of reader / puncher was turned off.
Power supply of I/O unit is off or cable is not connected or a P.C.B. is de-
fective.
</p>
<p>087 BUFFER OVERFLOW When entering data in the memory by using Reader / Puncher interface,
though the read terminate command is specified, input is not interrupted
after 10 characters read. I/O unit or P.C.B. is defective.
</p>
<p>090 REFERENCE RETURN 
INCOMPLETE
</p>
<p>The reference position return cannot be performed normally because
the reference position return start point is too close to the reference posi-
tion or the speed is too slow. Separate the start point far enough from
the reference position, or specify a sufficiently fast speed for reference
position return.
</p>
<p>091 MANUAL RETURN IMPOSSIBLE 
DURING PAUSE
</p>
<p>A manual return to the reference position was impossible because of the
program being at pause.  Press the reset button to cause a manual 
return.
</p>
<p>092 AXES NOT ON THE REFERENCE 
POINT
</p>
<p>The commanded axis by G28 (automatic reference position return) or
G27 (reference position return check) did not return to the reference
position.
</p>
<p>094 P TYPE NOT ALLOWED 
(COORD CHG)
</p>
<p>P type cannot be specified when the program is restarted. (After the au-
tomatic operation was interrupted, the coordinate system setting opera-
tion was performed.) Perform the correct operation according to th oper-
ator&rsquo;s manual.
</p>
<p>095 P TYPE NOT ALLOWED 
(EXT OFS CHG)
</p>
<p>P type cannot be specified when the program is restarted.   (After the
automatic operation was interrupted, the external workpiece offset
amount changed.)
</p>
<p>096 P TYPE NOT ALLOWED 
(WRK OFS CHG)
</p>
<p>P type cannot be specified when the program is restarted.  (After the au-
tomatic operation was interrupted, the workpiece offset amount
changed.)
</p>
<p>097 P TYPE NOT ALLOWED 
(AUTO EXEC)
</p>
<p>P type cannot be directed when the program is restarted. (After power
ON, after emergency stop or P / S 94 to 97 reset, no automatic operation
is performed.) Perform automatic operation.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08G. ALARM LIST
</p>
<p>658
</p>
<p>Number Contents and  remedyMeaning
</p>
<p>098 G28 FOUND IN SEQUENCE 
RETURN
</p>
<p>A command of the program restart was specified without the reference
position return operation after power ON or emergency stop, and G28
was found during search.
</p>
<p>099 MDI EXEC NOT ALLOWED AFT.
SEARCH
</p>
<p>After completion of search in program restart, a move command is given
with MDI.
</p>
<p>100 PARAMETER WRITE ENABLE On the PARAMETER(SETTING) screen, PWE (parameter writing en-
abled) is set to 1. Set it to 0, then reset the system.
</p>
<p>101 PLEASE CLEAR MEMORY The power turned off while rewriting the memory by program edit opera-
tion.  When this alarm occurs, set the PWE parameter to 1, then switch
on the power while holding down the &lt;DELET&gt; key.  All programs will
be deleted.
</p>
<p>109 D/S ALARM A value other than 0 or 1 was specified after P in the G08 code, or no
value was specified.
</p>
<p>110 DATA OVERFLOW The absolute value of fixed decimal point display data exceeds the al-
lowable range. Modify the program.
</p>
<p>111 CALCULATED DATA OVERFLOW The result of calculation turns out to be invalid, an alarm No.111 is is-
sued.
&ndash;1047 to &ndash;10&ndash;29, 0, 10&ndash;29 to 1047
</p>
<p>112 DIVIDED BY ZERO Division by zero was specified. (including tan 90&deg;)
</p>
<p>113 IMPROPER COMMAND A function which cannot be used in custom macro is commanded.
Modify the program.
</p>
<p>114 FORMAT ERROR IN MACRO Custom macro A specified an undefined H code in a G65 block.  There
is an error in other formats than &lt;Formula&gt;.
Modify the program.
</p>
<p>115 ILLEGAL VARIABLE NUMBER A value not defined as a variable number is designated in the custom
macro or in high&ndash;speed cycle machining.
The header contents are improper.  This alarm is given in the following
cases:
High speed cycle machining
</p>
<p>1. The header corresponding to the specified machining cycle number
called is not found.
</p>
<p>2. The cycle connection data value is out of the allowable range (0 &ndash;
999).
</p>
<p>3. The number of data in the header is out of the allowable range (0 &ndash;
32767).
</p>
<p>4. The start data variable number of executable format data is out of
the allowable range (#20000 &ndash; #85535).
</p>
<p>5. The last storing data variable number of executable format data is
out of the allowable range (#85535).
</p>
<p>6. The storing start data variable number of executable format datais
overlapped with the variable number used in the header.  Modify the
program.
</p>
<p>116 WRITE PROTECTED VARIABLE The left side of substitution statement is a variable whose substitution
is inhibited. Modify the program.
</p>
<p>118 PARENTHESIS NESTING ERROR The nesting of bracket exceeds the upper limit (quintuple).
Modify the program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 G. ALARM LISTAPPENDIX
</p>
<p>659
</p>
<p>Number Contents and  remedyMeaning
</p>
<p>119 ILLEGAL ARGUMENT The SQRT argument is negative. Or BCD argument is negative, and
other values than 0 to 9 are present on each line of BIN argument.
Modify the program.
</p>
<p>122 DUPLICATE MACRO MODAL&ndash;CALL The macro modal call is specified in double.
Modify the program.
</p>
<p>123 CAN NOT USE MACRO COMMAND
IN DNC
</p>
<p>Macro control command is used during DNC operation.
Modify the program.
</p>
<p>124 MISSING END STATEMENT DO &ndash; END does not correspond to 1 : 1.  Modify the program.
</p>
<p>125 FORMAT ERROR IN MACRO Custom macro A specified an undefined H code in a G65 block.  
&lt;Formula&gt; format is erroneous.  Modify the program.
</p>
<p>126 ILLEGAL LOOP NUMBER In DOn, 1ï¿½ n ï¿½3 is not established. Modify the program.
</p>
<p>127 NC, MACRO STATEMENT IN SAME
BLOCK
</p>
<p>NC and custom macro commands coexist.
Modify the program.
</p>
<p>128 ILLEGAL MACRO SEQUENCE 
NUMBER
</p>
<p>The sequence number specified in the branch command was not 0 to
9999. Or, it cannot be searched. Modify the program.
</p>
<p>129 ILLEGAL ARGUMENT ADDRESS An address which is not allowed in &lt;Argument Designation &gt; is used.
Modify the program.
</p>
<p>130 ILLEGAL AXIS OPERATION An axis control command was given by PMC to an axis controlled by
CNC.  Or an axis control command was given by CNC to an axis con-
trolled by PMC. Modify the program.
</p>
<p>131 TOO MANY EXTERNAL ALARM
MESSAGES
</p>
<p>Five or more alarms have generated in external alarm message. 
Consult the PMC ladder diagram to find the cause.
</p>
<p>132 ALARM NUMBER NOT FOUND No alarm No. concerned exists in external alarm message clear.
Check the PMC ladder diagram.
</p>
<p>133 ILLEGAL DATA IN EXT. ALARM MSG Small section data is erroneous in external alarm message or external
operator message. Check the PMC ladder diagram.
</p>
<p>135 ILLEGAL ANGLE COMMAND The index table indexing positioning angle was instructed in other than
an integral multiple of the value of the minimum angle.
Modify the program.
</p>
<p>136 ILLEGAL AXIS COMMAND In index table indexing.Another control axis was instructed together with
the B axis.
Modify the program.
</p>
<p>139 CAN NOT CHANGE PMC CONTROL
AXIS
</p>
<p>An axis is selected in commanding by PMC axis control.
Modify the program.
</p>
<p>141 CAN NOT COMMAND G51 IN CRC G51 (Scaling ON) is commanded in the tool offset mode.
Modify the program.
</p>
<p>142 ILLEGAL SCALE RATE Scaling magnification is commanded in other than 1 &ndash; 999999.
Correct the scaling magnification setting .
</p>
<p>143 SCALED MOTION DATA 
OVERFLOW
</p>
<p>The scaling results, move distance, coordinate value and circular radius
exceed the maximum command value. Correct the program or scaling
mangification.
</p>
<p>144 ILLEGAL PLANE SELECTED The coordinate rotation plane and arc or cutter compensation C plane
must be the same. Modify the program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08G. ALARM LIST
</p>
<p>660
</p>
<p>Number Contents and  remedyMeaning
</p>
<p>148 ILLEGAL SETTING DATA Automatic corner override deceleration rate is out of the settable range
of judgement angle. Modify the parameters (No.1710 to No.1714)
</p>
<p>150 ILLEGAL TOOL GROUP NUMBER Tool Group No. exceeds the maximum allowable value in the tool life
management.
Modify the program.
</p>
<p>151 TOOL GROUP NUMBER NOT
FOUND
</p>
<p>The tool group of the tool life management commanded in the machin-
ing program is not set.
Modify the value of program or parameter.
</p>
<p>152 NO SPACE FOR TOOL ENTRY The number of tools within one group in the tool life management ex-
ceeds the maximum value registerable.  Modify the number of tools.
</p>
<p>153 T&ndash;CODE NOT FOUND In tool life data registration, a T code was not specified where one should
be.  Correct the program.
</p>
<p>154 NOT USING TOOL IN LIFE GROUP When the group is not commanded in the tool life management, H99 or
D99 was commanded.  Correct the program.
</p>
<p>155 ILLEGAL T&ndash;CODE IN M06 In the machining program, M06 and T code in the same block do not cor-
respond to the group in use. Correct the program.
</p>
<p>156 P/L COMMAND NOT FOUND P and L commands are missing at the head of program in which the tool
group of the tool life management is set. Correct the program.
</p>
<p>157 TOO MANY TOOL GROUPS The number of tool groups in the tool life management to be set exceeds
the maximum allowable value.  Modify the program.
</p>
<p>158 ILLEGAL TOOL LIFE DATA The tool life to be set is too excessive. Modify the setting value.
</p>
<p>159 TOOL DATA SETTING INCOMPLETE During executing a life data setting program, power was turned off. 
Set again.
</p>
<p>175 ILLEGAL G107 COMMAND Conditions when performing circular interpolation start or cancel not
correct.  To change the mode to the cylindrical interpolation mode, spec-
ify the command in a format of &ldquo;G07.1 rotation&ndash;axis name radius of cylin-
der.&rdquo;
</p>
<p>176 IMPROPER G&ndash;CODE IN G107 Any of the following G codes which cannot be specified in the cylindrical
interpolation mode was specified.
</p>
<p>1) G codes for positioning: G28,, G73, G74, G76, G81 &ndash; G89, including
the codes specifying the rapid traverse cycle
</p>
<p>2) G codes for setting a coordinate system: G52,G92,
</p>
<p>3) G code for selecting coordinate system: G53 G54&ndash;G59
</p>
<p>Modify the program.
</p>
<p>177 CHECK SUM ERROR
(G05 MODE)
</p>
<p>Check sum error is occurred in the high&ndash;speed remote buffer.
</p>
<p>178 G05 COMMANDED IN G41/G42
MODE
</p>
<p>G05 was commanded in the G41/G42 mode.
Correct the program.
</p>
<p>179 PARAMETER SETTING ERROR The number of controlled axes set by the parameter 7510 exceeds the
maximum number. Modify the parameter setting value.
</p>
<p>180 COMMUNICATION ERROR 
(REMOTE BUF)
</p>
<p>Remote buffer connection alarm has generated. Confirm the number of
cables, parameters and I/O device.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 G. ALARM LISTAPPENDIX
</p>
<p>661
</p>
<p>Number Contents and  remedyMeaning
</p>
<p>181 FORMAT ERROR IN G81 BLOCK
</p>
<p>(Hobbing machine)
</p>
<p>G81 block format error
</p>
<p>1) T (number of teeth) has not been instructed.
</p>
<p>2) Data outside the command range was instructed by either T, L, Q or
P.
</p>
<p>Modify the program.
</p>
<p>182 G81 NOT COMMANDED
(Hobbing machine)
</p>
<p>G83 (C axis servo lag quantity offset) was instructed though synchro-
nization by G81 has not been instructed. Correct the program.
</p>
<p>183 DUPLICATE G83 (COMMANDS)
(Hobbing machine)
</p>
<p>G83 was instructed before canceled by G82 after compensating for the
C axis servo lag quantity by G83.
</p>
<p>184 ILLEGAL COMMAND IN G81
</p>
<p>(Hobbing machine)
</p>
<p>A command not to be instructed during synchronization by G81 was
instructed.
</p>
<p>1) A C axis command by G00, G27, G28, G29, G30, etc. was
instructed.
</p>
<p>2) Inch/Metric switching by G20, G21 was instructed.
</p>
<p>185 RETURN TO REFERENCE POINT
(Hobbing machine)
</p>
<p>G81 was instructed without performing reference position return after
power on or emergency stop.  Perform reference position return.
</p>
<p>186 PARAMETER SETTING ERROR
</p>
<p>(Hobbing machine)
</p>
<p>Parameter error regarding G81
</p>
<p>1) The C axis has not been set to be a rotary axis.
</p>
<p>2) A hob axis and position coder gear ratio setting error
</p>
<p>190 ILLEGAL AXIS SELECT In the constant surface speed control, the specified axis command (P)
contains an illegal value.
Correct the program.
</p>
<p>194 SPINDLE COMMAND IN 
SYNCHRO&ndash;MODE
</p>
<p>Cs contour control or rigid tapping was specified during serial spindle
synchronous control.  Correct the program.
</p>
<p>195 SPINDLE CONTROL MODE SWITCH The serial spindle control mode was not switched.  Check the PMC lad-
der program.
</p>
<p>197 C&ndash;AXIS COMMANDED IN SPINDLE
MODE
</p>
<p>A command for Cs&ndash;axis movement was issued when the current control
mode is not serial spindle Cs contour control.  Check the PMC ladder
program or machining program.
</p>
<p>199 MACRO WORD UNDEFINED Undefined macro word was used. Modify the custom macro.
</p>
<p>200 ILLEGAL S CODE COMMAND In the rigid tap, an S value is out of the range or is not specified.
Modify the program.
</p>
<p>201 FEEDRATE NOT FOUND IN RIGID
TAP
</p>
<p>In the rigid tap, no F value is specified.
Correct the program.
</p>
<p>202 POSITION LSI OVERFLOW In the rigid tap, spindle distribution value is too large.
</p>
<p>203 PROGRAM MISS AT RIGID TAPPING In the rigid tap, position for a rigid M code (M29) or an S command is in-
correct. Modify the program.
</p>
<p>204 ILLEGAL AXIS OPERATION In the rigid tap, an axis movement is specified between the rigid M code
(M29) block and G84 (G74) block. Modify the program.
</p>
<p>205 RIGID MODE DI SIGNAL OFF Rigid mode DI signal is not ON when G84 (G74) is executed though the
rigid M code (M29) is specified.Consult the PMC ladder diagram to find
the reason the DI signal (DGNG061.1) is not turned on. Modify the pro-
gram.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08G. ALARM LIST
</p>
<p>662
</p>
<p>Number Contents and  remedyMeaning
</p>
<p>206 CAN NOT CHANGE PLANE 
(RIGID TAP)
</p>
<p>Plane changeover was instructed in the rigid mode.
Correct the program.
</p>
<p>210 CAN NOT COMAND M198/M199 M198 and M199 are executed in the schedule operation. M198 is
executed in the DNC operation.
</p>
<p>211 CAN NOT COMMAND HIGH&ndash;SPEED
SKIP
</p>
<p>A high&ndash;speed skip (G31) was specified during the feed&ndash;per&ndash;rotation or
rigid tapping mode.  Correct the program.
</p>
<p>212 ILLEGAL PLANE SELECT The arbitrary angle chamfering or a corner R is commanded or the plane
including an additional axis.  Correct the program.
</p>
<p>213 ILLEGAL COMMAND IN 
SYNCHRO&ndash;MODE
</p>
<p>Any of the following alarms occurred in the operation with the simple
synchronization control.
</p>
<p>1) The program issued the move command to the slave axis.
</p>
<p>2) The program issued the manual continuous feed/manual handle
feed/incremental feed command to the slave axis.
</p>
<p>3) The program issued the automatic reference position return com-
mand without executing the manual reference position return after
the power was turned on.
</p>
<p>4) The difference between the position error amount of the master and
slave axes exceeded the value specified in parameter .
</p>
<p>214 ILLEGAL COMMAND IN 
SYNCHRO&ndash;MODE
</p>
<p>Coordinate system is set or tool compensation of the shift type is
executed in the synchronous control.  Correct the program.
</p>
<p>222 DNC OP. NOT ALLOWED IN 
BG.&ndash;EDIT
</p>
<p>Input and output are executed at a time in the background edition.
Execute a correct operation.
</p>
<p>224 RETURN TO REFERENCE POINT Reference position return has not been performed before the automatic
operation starts. Perform reference position return.
</p>
<p>230 R CODE NOT FOUND The infeed quantity R has not been instructed for the G160 block of th
ecanned grinding cycle.  Or the R command value is negative. Correct
the program.
</p>
<p>250 SIMULTANEOUS M06 AND Z&ndash;AXIS
MOVEMENT NOT ALLOWED
</p>
<p>A tool change (M06) and a Z&ndash;axis movement were specified simulta-
neously in the DRILL MATE.  Correct the program.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 G. ALARM LISTAPPENDIX
</p>
<p>663
</p>
<p>2) Background edit alarm
</p>
<p>Number Meaning Contents and  remedy
</p>
<p>??? BACKGROUND EDIT ALARM BP/S alarm occurs in the same number as the P/S alarm that occurs in
ordinary program edit.  (070, 071, 072, 073, 074 085,086,087 etc.)
</p>
<p>140 SELECTED PROGRAM ALARM It was attempted to select or delete in the background a program being
selected in the foreground.  (Note) 
Use background editing correctly.
</p>
<p>NOTE
A background editing alarm may occur even during MDI operation&ndash;B.  This is because MDI
operation&ndash;B uses the background editing function.
</p>
<p>3) Absolute pulse coder (APC) alarm
</p>
<p>Number Meaning Contents and  remedy
</p>
<p>3n0 nth&ndash;axis origin return Manual reference position return is required for the nth&ndash;axis.
</p>
<p>3n1 APC alarm: nth&ndash;axis communication nth&ndash;axis APC communication error.  Failure in data transmission 
Possible causes include a faulty APC, cable, or servo interface module.
</p>
<p>3n2 APC alarm: nth&ndash;axis over time nth&ndash;axis APC overtime error.  Failure in data transmission.
Possible causes include a faulty APC, cable, or servo interface module.
</p>
<p>3n3 APC alarm: nth&ndash;axis framing nth&ndash;axis APC framing error.  Failure in data transmission.
Possible causes include a faulty APC, cable, or servo interface module.
</p>
<p>3n4 APC alarm: nth&ndash;axis parity nth&ndash;axis APC parity error.  Failure in data transmission.
Possible causes include a faulty APC, cable, or servo interface module.
</p>
<p>3n5 APC alarm: nth&ndash;axis pulse error nth&ndash;axis APC pulse error alarm.   
APC alarm.APC or cable may be faulty.
</p>
<p>3n6 APC alarm: nth&ndash;axis battery voltage 0 nth&ndash;axis APC battery voltage has decreased to a low level so that the
data cannot be held.  
APC alarm. Battery or cable may be faulty.
</p>
<p>3n7 APC alarm: nth&ndash;axis battery low 1 nth&ndash;axis axis APC battery voltage reaches a level where the battery
must be renewed.
APC alarm. Replace the battery.
</p>
<p>3n8 APC alarm: nth&ndash;axis battery low 2 nth&ndash;axis APC battery voltage has reached a level where the battery
must be renewed (including when power is OFF).
APC alarm.
</p>
<p>When either of the following alarms is issued, a possible cause is a faulty
serial pulse coder or cable.
</p>
<p>Number Meaning Contents
</p>
<p>3n9 SPC ALARM: n AXIS PULSE CODER The n axis (axis 1&ndash;8) pulse coder has a fault.
</p>
<p>3n5 ZRN Impossible: 
n AXIS PULSE CODER
</p>
<p>A reference position has not been established for the nth&ndash;axis serial
pulse coder.  Move the tool along the nth axis by more than a single rota-
tion of the motor.
</p>
<p>4) Serial pulse coder (SPC)
alarmsww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08G. ALARM LIST
</p>
<p>664
</p>
<p>The details of serial pulse coder alarm No. 3n9 are displayed in the
diagnosis display (No. 760 to 767, 770 to 777) as shown below.
</p>
<p>#7
</p>
<p>760 to 767
</p>
<p>#6
CSAL
</p>
<p>#5
BLAL
</p>
<p>#4
PHAL
</p>
<p>#3
RCAL
</p>
<p>#2
BZAL
</p>
<p>#1
CKAL
</p>
<p>#0
SPHL
</p>
<p>CSAL : The serial pulse coder is defective. Replace it.
</p>
<p>BLAL : The battery voltage is low. Replace the batteries. This alarm has nothing
to do with alarm (serial pulse coder alarm).
</p>
<p>PHAL : The serial pulse coder or feedback cable is defective.
Replace the serial pulse coder or cable.
</p>
<p>RCAL : The serial pulse coder is defective. Replace it.
</p>
<p>BZAL : The pulse coder was supplied with power for the first time.
Make sure that the batteries are connected.
Turn the power off, then turn it on again and perform a reference position
return. This alarm has nothing to do with alarm (serial pulse coder alarm).
</p>
<p>CKAL : The serial pulse coder is defective. Replace it.
</p>
<p>PHAL : The serial pulse coder or feedback cable is defective. replace the serial
pulse coder or cable.
</p>
<p>#7
DTERR770 to 777
</p>
<p>#6
CRCERR
</p>
<p>#5
STBERR
</p>
<p>#4 #3 #2 #1 #0
</p>
<p>DTERR : The serial pulse coder encountered a communication error.
The pulse coder, feedbak cable, or feedback receiver circuit is defective.
Replace the pulse coder, feedback cable, or NC&ndash;axis board
</p>
<p>CRCERR : The serial pulse coder encountered a communication error.
The pulse coder, feedback cable, or feedback receiver circuit is defective.
Replace the pulse coder, feedback cable, or NC&ndash;axis board.
</p>
<p>STBERR : The serial pulse coder encountered a communication error.
The pulse coder, feedback cable, or feedback receiver circuit is defective.
Replace the pulse coder, feedback cable, or NC&ndash;axis board.
</p>
<p>5) Servo alarms
</p>
<p>Number Meaning Contents and actions
</p>
<p>400 SERVO ALARM: 1, 2TH AXIS 
OVERLOAD
</p>
<p>1&ndash;axis, 2&ndash;axis overload signal is on.  Refer to diagnosis display No. 720
or 721 for details.
</p>
<p>401 SERVO ALARM: 1, 2TH AXIS VRDY
OFF
</p>
<p>1&ndash;axis, 2&ndash;axis servo amplifier READY signal (DRDY) went off.
</p>
<p>402 SERVO ALARM: 3, 4TH AXIS 
OVERLOAD
</p>
<p>3&ndash;axis, 4&ndash;axis overload signal is on.  Refer to diagnosis display No. 722
or 723 for details.
</p>
<p>403 SERVO ALARM: 3, 4TH AXIS VRDY
OFF
</p>
<p>3&ndash;axis, 4&ndash;axis servo amplifier READY signal (DRDY) went off.
</p>
<p>404 SERVO ALARM: n&ndash;TH AXIS VRDY
ON
</p>
<p>Even though the n&ndash;th axis (axis 1&ndash;8) READY signal (MCON) went off,
the servo amplifier READY signal (DRDY) is still on.  Or, when the power
was turned on, DRDY went on even though MCON was off.
Check that the axis card and servo amplifierr are connected.
</p>
<p>ï¿½ The details of serial
pulse coder alarm
No.3n9
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 G. ALARM LISTAPPENDIX
</p>
<p>665
</p>
<p>Number Contents and actionsMeaning
</p>
<p>405 SERVO ALARM: ZERO POINT 
RETURN FAULT
</p>
<p>Position control system fault.  Due to an NC or servo system fault in the
reference position return, there is the possibility that reference position
return could not be executed correctly.  Try again from the manual refer-
ence position return.
</p>
<p>406 SERVO ALARM: 
7, 8TH AXIS OVER LOAD
7, 8TH AXIS VRDY OFF
</p>
<p>7&ndash;axis, 8&ndash;axis overload signal is on.  Refer to diagnosis display No. 726
or 727 for details.
3&ndash;axis, 4&ndash;axis servo amplifier READY signal (DRDY) went off.
</p>
<p>4n0 SERVO ALARM: n&ndash;TH AXIS &ndash; 
EXCESS ERROR
</p>
<p>The position deviation value when the n&ndash;th axis stops is larger than the
set value.
Note) Limit value must be set to parameter for each axis.
</p>
<p>4n1 SERVO ALARM: n&ndash;TH AXIS &ndash; 
EXCESS ERROR
</p>
<p>The position deviation value when the n&ndash;th axis moves is larger than the
set value. 
Note) Limit value must be set to parameter for each axis.
</p>
<p>4n3 SERVO ALARM: n&ndash;th AXIS &ndash; LSI
OVERFLOW
</p>
<p>The contents of the error register for the n&ndash;th axis exceeded &plusmn;231 power.
This error usually occurs as the result of an improperly set parameters.
</p>
<p>4n4 SERVO ALARM: n&ndash;TH AXIS &ndash;
DETECTION RELATED ERROR
</p>
<p>N&ndash;th axis digital servo system fault.  Refer to diagnosis display No. 720
and No.727 for details.
</p>
<p>4n5 SERVO ALARM: n&ndash;TH AXIS &ndash; 
EXCESS SHIFT
</p>
<p>A speed higher than 4000000 units/s was attempted to be set in the n&ndash;th
axis.  This error occurs as the result of improperly set CMR.
</p>
<p>4n6 SERVO ALARM: n&ndash;TH AXIS &ndash; 
DISCONNECTION
</p>
<p>Position detection system fault in the n&ndash;th axis pulse coder (disconnec-
tion alarm).
</p>
<p>4n7 SERVO ALARM: n&ndash;TH AXIS &ndash; PA-
RAMETER INCORRECT
</p>
<p>This alarm occurs when the n&ndash;th axis is in one of the conditions listed
below. (Digital servo system alarm)
</p>
<p>1) The value set in Parameter No. 8n20 (motor form) is out of the 
specified limit.
</p>
<p>2) A proper value (111 or &ndash;111) is not set in parameter No. 8n22 
(motor revolution direction).
</p>
<p>3) Illegal data (a value below 0, etc.) was set in parameter No. 8n23
(number of speed feedback pulses per motor revolution).
</p>
<p>4) Illegal data (a value below 0, etc.) was set in parameter No. 8n24
(number of position feedback pulses per motor revolution).
</p>
<p>5) Parameters No. 8n84 and No. 8n85 (flexible field gear rate) have not
been set.
</p>
<p>6) An axis selection parameter (from No. 269 to 274) is incorrect.
</p>
<p>7) An overflow occurred during parameter computation.
</p>
<p>490 SERVO ALARM: 5TH AXIS OVER
LOAD
</p>
<p>5&ndash;axis, 6&ndash;axis overload signal is on.  Refer to diagnosis display No. 724
or 725 for details.
</p>
<p>491 SERVO ALARM: 5, 6TH VRDY OFF 5&ndash;axis, 6&ndash;axis servo amplifier READY signal (DRDY) went off.
</p>
<p>494 SERVO ALARM: 5, 6TH AXIS VRDY
ON
</p>
<p>The axis card ready signal (MCON) for axes 5 and 6 is off, but the servo
amplifier ready signal (DRDY) is not.  Alternatively, when the power is
applied, the DRDY is on, but the MCON is not.  Ensure that the axis card
and servo amplifier are connected.
</p>
<p>495 SERVO ALARM: 5, 6TH AXIS ZERO
POINT RETURN
</p>
<p>This is a position control circuit error.  It is likely that a return to the refer-
ence position failed because of an error in the NC or the servo system.
Retry a return to the reference position.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08G. ALARM LIST
</p>
<p>666
</p>
<p>NOTE
If an excessive spindle error alarm occurs during rigid tapping, the relevant alarm number for
the tapping feed axis is displayed.
</p>
<p>The detailed descriptions of servo alarm number 414 are displayed with
diagnosis numbers 720 to 727 in the sequence of axis numbers.
</p>
<p>#7
OVL720 to 727
</p>
<p>#6
LV
</p>
<p>#5
OVC
</p>
<p>#4
HCAL
</p>
<p>#3
HVAL
</p>
<p>#2
DCAL
</p>
<p>#1
FBAL
</p>
<p>#0
OFAL
</p>
<p>OVL : An overload alarm is being generated. 
(This bit causes servo alarm No. 400, 402, 406, 490).
</p>
<p>LV : A low voltage alarm is being generated in servo amp. 
Check LED.
</p>
<p>OVC : A overcurrent alarm is being generated inside of digital servo.
</p>
<p>HCAL : An abnormal current alarm is being generated in servo amp.
Check LED.
</p>
<p>HVAL : An overvoltage alarm is being generated in servo amp. 
Check LED.
</p>
<p>DCAL : A regenerative discharge circuit alarm is being generated in servo amp.
Check LED.
</p>
<p>FBAL : A disconnection alarm is being generated.
(This bit causes servo alarm No.4n6.)
</p>
<p>OFAL : An overflow alarm is being generated inside of digital servo.
</p>
<p>6) Spindle alarms
</p>
<p>Number Meaning Contents and remedy
</p>
<p>408 SPINDLE SERIAL LINK START
FAULT
</p>
<p>This alarm is generated when the spindle control unit is not ready for
starting correctly when the power is turned on in the system with the seri-
al spindle.
The four reasons can be considered as follows:
</p>
<p>1) An improperly connected optic cable, or the spindle control unit&rsquo;s
power is OFF.
</p>
<p>2) When the NC power was turned on under alarm conditions other
than SU&ndash;01 or AL&ndash;24 which are shown on the LED display of the
spindle control unit.
In this case, turn the spindle amplifier power off once and perform
startup again.
</p>
<p>3) Other reasons (improper combination of hardware)
This alarm does not occur after the system including the spindle con-
trol unit is activated.
</p>
<p>409 SPINDLE ALARM DETECTION A spindle amplifier alarm occurred in a system with a serial spindle.  The
alarm is indicated as &ldquo;AL&ndash;XX&rdquo; (where XX is a number) on the display of
the spindle amplifier.  For details, see Section 14.  Setting bit 7 of param-
eter No. 0397 causes the spindle amplifier alarm number to appear on
the screen.
</p>
<p>ï¿½ Details of servo 
alarm No.4n4
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 G. ALARM LISTAPPENDIX
</p>
<p>667
</p>
<p>7) Over travel alarms
</p>
<p>Number Meaning Contents and remedy
</p>
<p>5n0 OVER TRAVEL : +n Exceeded the n&ndash;th axis + side stored stroke limit 1, 2.
</p>
<p>5n1 OVER TRAVEL : &ndash;n Exceeded the n&ndash;th axis &ndash; side stored stroke limit 1, 2.
</p>
<p>5n2 OVER TRAVEL : +n Exceeded the n&ndash;th axis + side stored stroke limit 3.
</p>
<p>5n3 OVER TRAVEL : &ndash;n Exceeded the n&ndash;th axis &ndash; side stored stroke limit 3.
</p>
<p>5n4 OVER TRAVEL : +n Exceeded the n&ndash;th axis + side hardware OT.
</p>
<p>5n5 OVER TRAVEL : &ndash;n Exceeded the n&ndash;th axis &ndash; side hardware OT.
</p>
<p>8) Macro alarms
</p>
<p>Number Meaning Contents and remedy
</p>
<p>500 to
599
</p>
<p>MACRO ALARM This alarm is related to the custom macro, macro executor, or order&ndash;
made macro (including conversational program inputs).  Refer to the
relevant manual for details.  (The macro alarm number may coincide
with an overtravel alarm number.  However, they can be distinguished
from each other because the overtravel alarm number is accompanied
with the description of the alarm.
</p>
<p>9) PMC alarms
</p>
<p>Number Meaning Contents and remedy
</p>
<p>600 PMC ALARM : INVALID INSTRUC-
TION
</p>
<p>An invalid&ndash;instruction interrupt occurred in the PMC.
</p>
<p>601 PMC ALARM : RAM PARITY A PMC RAM parity error occurred.
</p>
<p>602 PMC ALARM : SERIAL TRANSFER A PMC serial transfer error occurred.
</p>
<p>603 PMC ALARM : WATCHDOG A PMC watchdog timer alarm occurred.
</p>
<p>604 PMC ALARM : ROM PARITY A PMC ROM parity error occurred.
</p>
<p>605 PMC ALARM : OVER STEP The maximum allowable number of PMC ladder program steps was ex-
ceeded.
</p>
<p>606 PMC ALARM : I/O MODULE ASSIGN-
MENT
</p>
<p>The assignment of I/O module signals is incorrect.
</p>
<p>607 PMC ALARM : I/O LINK An I/O link error occurred.  The details are listed below.
</p>
<p>Number Details of PMC alarm (No. 607)
</p>
<p>010 * Communication error (SLC (master) internal register error)
</p>
<p>020 * An SLC RAM bit error occurred (verification error).
</p>
<p>030 * An SLC RAM bit error occurred (verification error).
</p>
<p>040 No I/O unit has been connected.
</p>
<p>050 32 or more I/O units are connected.
</p>
<p>060 * Data transmission error (no response from the slave)
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08G. ALARM LIST
</p>
<p>668
</p>
<p>Number Details of PMC alarm (No. 607)
</p>
<p>070 * Communication error (no response from the slave)
</p>
<p>080 * Communication error (no response from the slave)
</p>
<p>090 An NMI (for other than alarm codes 110 to 160) occurred.
</p>
<p>130 * An SLC (master) RAM parity error occurred (detected by hardware).
</p>
<p>140 * An SLC (slave) RAM parity error occurred (detected by hardware).
</p>
<p>160 * SLC (slave) communication error
* AL0 : Watchdog timer
</p>
<p>DO clear signal received
* IR1 : CRC or framing error
</p>
<p>Watchdog timer alarm
Parity error
</p>
<p>Hardware errors are indicated with an asterisk (*).
</p>
<p>10) Overheat alarms
</p>
<p>Number Meaning Contents and remedy
</p>
<p>700 OVERHEAT: CONTROL UNIT Control unit overheat
Check that the fan motor operates normally, and clean the air filter.
</p>
<p>11) M&ndash;NET alarm
</p>
<p>Number Meaning Contents and remedy
</p>
<p>899 M&ndash;NET INTERFACE ALARM This alarm is related to a serial interface for an external PLC.  The details
are listed below.
</p>
<p>Number Details of M&ndash;NET alarm (No. 899)
</p>
<p>0001 Abnormal character (character other than transmission codes) received
</p>
<p>0002 &ldquo;EXT&rdquo; code error
</p>
<p>0003 Connection time monitor error (parameter No. 0464)
</p>
<p>0004 Polling time monitor error (parameter No. 0465)
</p>
<p>0005 Vertical parity or framing error detected
</p>
<p>0257 Transmission time&ndash;out error (parameter No. 0466)
</p>
<p>0258 ROM parity error
</p>
<p>0259 Overrun error detected
</p>
<p>Others CPU interrupt detectedww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 G. ALARM LISTAPPENDIX
</p>
<p>669
</p>
<p>(These alarms cannot be reset with reset key.)
</p>
<p>Number Meaning Contents and remedy
</p>
<p>910 MAIN RAM PARITY This RAM parity error is related to low&ndash;order bytes.  Replace the
memory PC board.
</p>
<p>911 MAIN RAM PARITY This RAM parity error is related to high&ndash;order bytes.  Replace the
memory PC board.
</p>
<p>912 SHARED RAM PARITY This parity error is related to low&ndash;order bytes of RAM shared with the
digital servo circuit.  Replace the axis control PC board.
</p>
<p>913 SHARED RAM PARITY This parity error is related to high&ndash;order bytes of RAM shared with the
digital servo circuit.  Replace the axis control PC board.
</p>
<p>914 SERVO RAM PARITY This is a local RAM parity error in the digital servo circuit.  
Replace the axis control PC board.
</p>
<p>915 LADDER EDITING CASSETTE RAM
PARITY
</p>
<p>This RAM parity error is related to low&ndash;order bytes of the ladder editing
cassette.  Replace the ladder editing cassette.
</p>
<p>916 LADDER EDITING CASSETTE RAM
PARITY
</p>
<p>This RAM parity error is related to high&ndash;order bytes of the ladder editing
cassette.  Replace the ladder editing cassette.
</p>
<p>920 WATCHDOG ALARM This is a watchdog timer alarm or a servo system alarm for axis 1 to 4.
Replace the master or axis control PC board.
</p>
<p>921 SUB CPU WATCHDOG ALARM This is a watchdog timer alarm related to the sub&ndash;CPU board or a servo
system alarm for axis 5 or 6.  Replace the sub&ndash;CPU board or the
axis&ndash;5/6 control PC board.
</p>
<p>922 7/8 AXIS SERVO SYSTEM ALARM This is a servo system alarm related to axis 7 or 8.  Replace the axis&ndash;7/8
control PC board.
</p>
<p>930 CPU ERROR This is a CPU error.  Replace the master PC board.
</p>
<p>940 PC BOARD INSTALLATION ERROR PC board installation is incorrect.  Check the specification of the PC
board.
</p>
<p>941 MEMORY PC BOARD CONNECTION
ERROR
</p>
<p>The memory PC board is not connected securely.  Ensure that the PC
board is connected securely.
</p>
<p>945 SERIAL SPINDLE COMMUNICA-
TION ERROR
</p>
<p>The hardware configuration is incorrect for the serial spindle, or a com-
munication alarm occurred.  Check the hardware configuration of the
spindle.  Also ensure that the hardware for the serial spindle is con-
nected securely.
</p>
<p>946 SECOND SERIAL SPINDLE COM-
MUNICATION ERROR
</p>
<p>Communication is impossible with the second serial spindle.  Ensure
that the second serial spindle is connected securely.
</p>
<p>950 FUSE BLOWN ALARM A fuse has blown.  Replace the fuse (+24E; F14).
</p>
<p>960 SUB CPU ERROR This is a sub&ndash;CPU error.  Replace the sub&ndash;CPU PC board.
</p>
<p>998 ROM PARITY This is a ROM parity error.  Replace the ROM board in which the error
occurred.
</p>
<p>13) External alarm
</p>
<p>Number Meaning Contents and remedy
</p>
<p>1000 EXTERNAL ALARM This alarm was detected by the PMC ladder program.  Refer to the rele-
vant manual from the machine builder for details.
</p>
<p>12) System alarms
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08G. ALARM LIST
</p>
<p>670
</p>
<p>14) Alarms Displayed on spindle Servo Unit
</p>
<p>Alarm
No. Meaning Description Remedy
</p>
<p>&ldquo;A&rdquo;
display
</p>
<p>Program ROM abnormality
(not installed)
</p>
<p>Detects that control program is not started (due to
program ROM not installed, etc.)
</p>
<p>Install normal program
ROM
</p>
<p>AL01 Motor
overheat
</p>
<p>Detects motor speed exceeding specified speed ex-
cessively.
</p>
<p>Check load status.
Cool motor then reset
alarm.
</p>
<p>AL02 Excessive speed deviation Detects motor speed exceeding specified speed ex-
cessively.
</p>
<p>Check load status.
Reset alarm.
</p>
<p>AL03 DC link section fuse blown Detects that fuse F4 in DC link section is blown (mod-
els 30S and 40S).
</p>
<p>Check power transistors,
and so forth.
Replace fuse.
</p>
<p>AL04 Input fuse blown.
Input power open phase.
</p>
<p>Detects blown fuse (F1 to F3), open phase or mo-
mentary failure of power (models 30S and 40S).
</p>
<p>Replace fuse.
Check open phase and
power supply refenerative
circuit operation.
</p>
<p>AL05 Control power supply fuse
blown
</p>
<p>Detects that control power supply fuse AF2 or AF3 is
blown (models 30S and 40S).
</p>
<p>Check for control power
supply short circuit .
Replace fuse.
</p>
<p>AL&ndash;07 Excessive speed Detects that motor rotation has exceeded 115% of its
rated speed.
</p>
<p>Reset alarm.
</p>
<p>AL&ndash;08 High input voltage Detects that switch is flipped to 200 VAC when input
voltage is 230 VAC or higher (models 30S and 40S).
</p>
<p>Flip switch to 230 VAC.
</p>
<p>AL&ndash;09 Excessive load on main circuit
section
</p>
<p>Detects abnormal temperature rise of power transis-
tor radiator.
</p>
<p>Cool radiator then reset
alarm.
</p>
<p>AL&ndash;10 Low input voltage Detects drop in input power supply voltage. Remove cause, then reset
alarm.
</p>
<p>AL&ndash;11 Overvoltage in DC link section Detects abnormally high direct current power supply
voltage in power circuit section.
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;12 Overcurrent in DC link section Detects flow of abnormally large current in direct cur-
rent section of power cirtcuit
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;13 CPU internal data memory ab-
normality
</p>
<p>Detects abnormality in CPU internal data memory.
This check is made only when power is turned on.
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;15 Spindle switch/output switch
alarm
</p>
<p>Detects incorrect switch sequence in spindle switch/
output switch operation.
</p>
<p>Check sequence.
</p>
<p>AL&ndash;16 RAM abnormality Detects abnormality in RAM for external data. This
check is made only when power is turned on.
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;18 Program ROM sum check er-
ror
</p>
<p>Detects program ROM data error.This check is made
only when power is turned on.
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;19 Excessive U phase current
detection circuit offset
</p>
<p>Detects excessive U phase current detection ciucuit
offset.
This check is made only when power is turned on.
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;20 Excessive V phase current
detection circuit offset
</p>
<p>Detects excessive V phase current detection circuit
offset.
This check is made only when power is turned on.
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 G. ALARM LISTAPPENDIX
</p>
<p>671
</p>
<p>Alarm
No. RemedyDescriptionMeaning
</p>
<p>AL&ndash;24 Serial transfer data error Detects serial transfer data error (such as NC power
supply turned off, etc.)
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;25 Serial data transfer stopped Detects that serial data transfer has stopped. Remove cause, then reset
alarm.
</p>
<p>AL&ndash;26 Disconnection of speed detec-
tion signal for Cs contouring
control
</p>
<p>Detects abnormality in position coder signal(such as
unconnected cable and parameter setting error).
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;27 Position coder signal discon-
nection
</p>
<p>Detects abnormality in position coder signal (such as
unconnected cable and adjustment error).
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;28 Disconnection of position
detection signal for Cs contour-
ing control
</p>
<p>Detects abnormality in position detection signal for
Cs contouring control (such as unconnected cable
and adjustment error).
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;29 Short&ndash;time overload Detects that overload has been continuously applied
for some period of time (such as restraining motor
shaft in positioning).
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;30 Input circuit overcurrent Detects overcurrent flowing in input circuit. Remove cause, then reset
alarm.
</p>
<p>AL&ndash;31 Speed detection signal discon-
nection motor restraint alarm or
motor is clamped.
</p>
<p>Detects that motor cannot rotate at specified speed
or it is detected that the motor is clamped. (but ro-
tates at very slow speed or has stopped).
(This includes checking of speed detection signal
cable.)
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;32 Abnormality in RAM internal to
LSI for serial data transfer. This
check is made only when pow-
er is turned on.
</p>
<p>Detects abnormality in RAM internalto LSI for serial
data transfer. This check is made only when power
is turned on.
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;33 Insufficient DC link section
charging
</p>
<p>Detects insuffieient charging of direct current power
supply voltage in power circuit section when magnet-
ic contactor in amplifier is turned on (such as open
phase and defectifve charging resistor).
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;34 Parameter data setting beyond
allowable range of values
</p>
<p>Detects parameter data set beyond allowable range
of values.
</p>
<p>Set correct data.
</p>
<p>AL&ndash;35 Excesive gear ratio data set-
ting
</p>
<p>Detects gear ratio data set beyond allowable range
of values.
</p>
<p>Set correct data.
</p>
<p>AL&ndash;36 Error counter over flow Detects error counter overflow. Correct cause, then reset
alarm.
</p>
<p>AL&ndash;37 Speed detector parameter set-
ting error
</p>
<p>Detects incorrect setting of parameter for number of
speed detection pulses.
</p>
<p>Set correct data.
</p>
<p>AL&ndash;39 Alarm for indicating failure in
detecting 1&ndash;rotation signal for
Cs contouring control
</p>
<p>Detects 1&ndash;rotaion signal detection failure in Cs con-
touring contorl.
</p>
<p>Make 1&ndash;rotaion signal ad-
justment.
Check cable shield status.
</p>
<p>AL&ndash;40 Alarm for indicating 1&ndash;rotation
signal for Cs contouring control
not detected
</p>
<p>Detects that 1&ndash;rotation signal has not occurred in Cs
contouring control.
</p>
<p>Make 1&ndash;rotaion signal ad-
justment.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08G. ALARM LIST
</p>
<p>672
</p>
<p>Alarm
No. RemedyDescriptionMeaning
</p>
<p>AL&ndash;41 Alarm for indicating failure in
detecting position coder 1&ndash;ro-
taion signal.
</p>
<p>Detects failure in detecting position coder 1&ndash;rotation
signal.
</p>
<p>Make signal adjustment for
signal conversion circuit.
Check cable shield status.
</p>
<p>AL&ndash;42 Alarm for indicating position
coder 1&ndash;rotation signal not de-
tected
</p>
<p>Detects that position coder 1&ndash;rotation signal has not
issued.
</p>
<p>Make 1&ndash;rotation signal ad-
justment for signal conver-
sion circuit.
</p>
<p>AL&ndash;43 Alarm for indicating disconnec-
tion of position coder signal for
differential speed mode
</p>
<p>Detects that main spindle position coder signal used
for differential speed mode is not connected yet (or
is disconnected).
</p>
<p>Check that main spindle
position coder signal is con-
nected to connector CN12.
</p>
<p>AL&ndash;46 Alarm for indicating failure in
detecting position coder
1&ndash;rotation signal in thread cut-
ting operation.
</p>
<p>Detects failure in detecting position coder 1&ndash;rotation
signasl in thread cutting operation.
</p>
<p>Make 1&ndash;rotation signal ad-
justment for signal conver-
sion circuit
Check cable shield status.
</p>
<p>AL&ndash;47 Position coder signal ab-
normality
</p>
<p>Detects incorrect position coder signal count opera-
tion.
</p>
<p>Make signal adjustment for
signal conversion circuit.
Check cable shield status.
</p>
<p>AL&ndash;48 Position coder 1&ndash;rotation sig-
nal abnormailty
</p>
<p>Detects that occurrence of position coder 1&ndash;rotation
signal has stopped.
</p>
<p>Make 1&ndash;rotation signal ad-
justment for signal conver-
sion circuit.
</p>
<p>AL&ndash;49 The converted differential
speed is too high.
</p>
<p>Detects that speed of other spindle converted to
speed of local spindle has exceeded allowable limit
in differential mode.
</p>
<p>Check the position coder
state of the other side.
</p>
<p>AL&ndash;50 Excessive speed command
calculation value in spindle
synchronization control
</p>
<p>Detects that speed command calculation value ex-
ceeded allowable range in spindle synchronization
control.
</p>
<p>Check parameters such as
a position gain.
</p>
<p>AL&ndash;51 Undervoltage at DC link sec-
tion
</p>
<p>Detects that DC power supply voltage of power ciu-
cuit has dropped (due to momentary power failure or
loose contact of magnetic contactor).
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;52 ITP signal abnormality I Detects abnormality in synchronization signal (ITP
signal )with CNC (such as loss of ITP signal).
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;53 ITP signal abnormality II Detects abnormality in synchronization signal (ITP
signal) with CNC (such as loss of ITP signal).
</p>
<p>Remove cause, then reset
alarm.
</p>
<p>AL&ndash;54 Overload current alarm Detects that excessive current flowed in motor for
long time.
</p>
<p>Check if overload operation
or frequent acceleration/
deceleration is performed.
</p>
<p>AL&ndash;55 Power line abnormality in
spindle switching/output
switching
</p>
<p>Detects that switch request signal does not match
power line status check signal.
</p>
<p>Check operation of mag-
netic contractor for power
line switching.
Check if power line status
check signal is processed
normally.ww
</p>
<p>w.
cn
</p>
<p>cc
en
</p>
<p>ter
.co
</p>
<p>m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
H. OPERATION OF PORTABLE
</p>
<p>TAPE READERAPPENDIX
</p>
<p>673
</p>
<p>H OPERATION OF PORTABLE TAPE READER
Portable tape reader is the device which inputs the NC program and the
data on the paper tape to CNC.
</p>
<p>2. Optical
reader
</p>
<p>12. Photoamplifier
</p>
<p>13. Reader/punch
interface adapter
</p>
<p>11. Cable storage
6. Handle 3. Capstan roller
</p>
<p>4. Control switch
</p>
<p>1. Light source
</p>
<p>5. Tape box
</p>
<p>10. Lowering
Lock lever
</p>
<p>9. Cover lock
</p>
<p>7. Winder
</p>
<p>8. Metal A
</p>
<p>ï¿½ Names and descriptions
of each section
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08
H. OPERATION OF PORTABLE
</p>
<p>TAPE READER
</p>
<p>674
</p>
<p>Table H  Description of each section
</p>
<p>No. Name Descriptions
</p>
<p>1 Light Sources
</p>
<p>An LED (Light emitting diode) is mounted for each channel and for the feed hole (9
diodes in total). A built&ndash;in Stop Shoe functions to decelerate the tape. The light source
is attracted to the optical reader by a magnet so that the tape will be held in the correct
position. This unit can be opened upward, by turning the tape reader control switch
to the RELEASE position (this turns off the magnet).
</p>
<p>2 Optical Reader
Reads data punched on the tape, through a glass window. Dust or scratches on the
glass window can result in reading errors. Keep this window clean.
</p>
<p>3 Capstan Roller Controls the feeding of tape as specified by the control unit.
</p>
<p>4
Tape Reader 
Control Switch
</p>
<p>A 3&ndash;position switch used to control the Tape Reader.
</p>
<p>RELEASE The tape is allowed to be free, or used to open the lightsource.
When loading or unloading the tape, select this position.
</p>
<p>AUTO The tape is set to fixed position by the Stop Shoe. The feed and stop
of the tape is controlled by the CNC. To input data from tape, the Light
Source must be closed and this position must be selected.
</p>
<p>MANUAL The tape can be fed in the forward reading direction. if another
position is selected, the tape feed is stopped.
</p>
<p>5 Tape Box
A Tape Box is located below the Tape Reader. A belt used to draw out a paper tape
is located inside the box. The paper tape can easily be pulled out using this belt. The
tape box accomodates 15 meters of tape.
</p>
<p>6 Handle Used to carry the tape reader.
</p>
<p>7 Winder Used to advance or rewind the tape.
</p>
<p>8 Metal A
</p>
<p>Fastener
(usually kept open)
</p>
<p>When removing the rolled tape, reduce the
internal diameter by pushing the fastener.
</p>
<p>Push
</p>
<p>Paper tape
Paper tape
</p>
<p>Insert
</p>
<p>9 Cover lock Be sure to use the lock for fastening the cover before carrying the tape reader.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
H. OPERATION OF PORTABLE
</p>
<p>TAPE READERAPPENDIX
</p>
<p>675
</p>
<p>Table H  Description of each section
</p>
<p>No. DescriptionsName
</p>
<p>10 Lowering lock lever
</p>
<p>When the tape reader is raised, the latch mechanism is activated to fix the tape reader.
Thus, the tape reader is not lowered.  The latch is locked with the lowering lock lever.
The latch is therefore not unlocked even when the tape reader is raised with the han-
dle.
</p>
<p>When the latch is locked, the lever is horizontal.  To store the tape reader in the box,
push the lever to release the lock, then raise the tape reader with the handle to unlock
the latch.
</p>
<p>When the latch is unlocked, the tape reader can be stored in the box.
</p>
<p>When storing the tape reader, secure it with the cover lock.
</p>
<p>11 Cable storage Used to store rolled power and signal cables.  The cable length is 1.5 m.
</p>
<p>12 Photoamplifier For the tape reader
</p>
<p>13
Reader/punch
interface adapter
</p>
<p>200 VAC input and 5 VDC output power and reader/punch interface adapter PCB
</p>
<p>Procedure for Operating the Portable Tape Reader
</p>
<p>1 Unlock the cover locks 9.  Raise the tape reader with the handle 6 until it
clicks, then lower the tape reader.  The tape reader then appears and is
secured.  Check that the lowering lock levers 10 are horizontal.
</p>
<p>2 Take out the signal and power cables from the cable storage 11 and
connect the signal cable with the CNC reader/punch interface port
and the power cable with the power supply.
</p>
<p>3 Turn the control switch to the RELEASE position.
</p>
<p>4 Lift the Light Source Unit, and insert an NC tape between the gap.
The tape must be positioned as shown in the figure, when viewed
looking downward.
</p>
<p>Direction in which the tape advances
</p>
<p>Feed 
holes
</p>
<p>5 Pull the tape until the top of the tape goes past the Capstan roller.
</p>
<p>6 Check that the NC tape is correctly positioned by the Tape Guide.
</p>
<p>7 Lower the Light Source.
</p>
<p>8 Turn the switch to the AUTO position.
</p>
<p>9 Suspend the top and rear&ndash;end of the tape in the Tape Box.
</p>
<p>Preparations
</p>
<p>Setting the tape
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08
H. OPERATION OF PORTABLE
</p>
<p>TAPE READER
</p>
<p>676
</p>
<p>10 Turn the switch to the RELEASE position.
</p>
<p>11 Lift the Light Source and remove the tape.
</p>
<p>12 Lower the Light Source
</p>
<p>13 Store the cables in the cable storage 11.
</p>
<p>14 Push the lowering lock lever 10 at both sides down.
</p>
<p>15 Raise the tape reader with the handle 6 to unlock the latch, then gently
lower it.
</p>
<p>16 Lock the cover lock 9 and carry the tape reader with the handle 6.
</p>
<p>CAUTION
1 SETTING OF A TAPE
</p>
<p>When the NC tape is loaded, the Label Skip function activates to read but skip data  until first
End of Block code (CR in EIA code or LF in ISO code) is read.  When loading an NC tape, the
location within the tape, from which data reading should be started must properly be selected
and the NC tape should be set as shown in the figure below.
</p>
<p>2 DISCONNECTION AND CONNECTION OF A PORTABLE TAPE READER CONNECTION
CABLE
Don&rsquo;t disconnect or connect CNC tape reader connection cable (signal cable) without turning
off the CNC power supply, otherwise the PCB of the tape reader and master PCB of CNC
controller may be broken.Turn off the CNC power supply before disconnecting or connecting
the connection cable, accordingly.
</p>
<p>; ;
</p>
<p>Set the tape so that this section is under
the glass window.
</p>
<p> The program which should be read
</p>
<p>Actually, the end of block code (;) is CR in EIA
code or is LF in ISO code.
</p>
<p>Removing the tape
</p>
<p>Storage
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 I. Series 0&ndash;D SPECIFICATIONSAPPENDIX
</p>
<p>677
</p>
<p>I Series 0&ndash;D SPECIFICATIONS
ï¿½ : Basic ï¿½ : Basic option ï¿½ : option
ï¿½ : Function included in other option
</p>
<p>Controlled axis
</p>
<p>Item Specification
0&ndash;MD
</p>
<p>Package 1
0&ndash;MD
</p>
<p>Package 2
0&ndash;MD
</p>
<p>Package 3 0&ndash;MD II
0&ndash;GSD
</p>
<p>Package 1 0&ndash;GSD II
</p>
<p>Number of controlled axes 3 axes ï¿½ &mdash; &mdash; &mdash; ï¿½ &mdash;
</p>
<p>4 axes &mdash; ï¿½ ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Simultaneous controllable
axes
</p>
<p>3 axes ï¿½ ï¿½ &mdash; &mdash; ï¿½ &mdash;
axes
</p>
<p>4 axes &mdash; &mdash; ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Additional axis control &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Axis control by PMC MAX. 2 axes &mdash; ï¿½ ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Cs&ndash;axis contouring control &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Simple synchronous control &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Angular axis control &mdash; &mdash; &mdash; &mdash; &mdash; ï¿½
</p>
<p>Least input increment 0.001mm,0.001deg,
0.0001inch
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Incremental system 1/10 0.0001mm,0.0001deg,
0.00001inch
</p>
<p>&mdash; &mdash; &mdash; ï¿½ ï¿½ ï¿½
</p>
<p>Inch/metric conversion &mdash; ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Interlock ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Machine lock ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Emergency stop ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Overtravel signal X/Y/Z&ndash;axis ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Stored stroke check 1 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Stroke limit external setting &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Stored stroke check 2 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Stored stroke check 3 G22,G23 &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Mirror image each axis ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Follow up ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Servo off ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Mechanical handle feed ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Backlash compensation ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Stored pitch error
compensation
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Position switch &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08I. Series 0&ndash;D SPECIFICATIONS
</p>
<p>678
</p>
<p>Operation
</p>
<p>Item Specification
0&ndash;MD
</p>
<p>Package 1
0&ndash;MD
</p>
<p>Package 2
0&ndash;MD
</p>
<p>Package 3 0&ndash;MD II
0&ndash;GSD
</p>
<p>Package 1 0&ndash;GSD II
</p>
<p>Automatic operation 
(Memory)
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>DNC operation included in
Reader/puncher
interface
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>MDI operation ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>MDI operation B &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Scheduling function Directory display of
floppy cassette is need.
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Program number search ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Sequence number search ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Sequence number
comparison and stop
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Program restart &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Buffer register ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Dry run ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Single block ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Manual continuous feed
(JOG)
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Manual reference position
return
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Setting the reference
position without DOGs
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Reference position setting
with mechanical stopper
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Manual handle feed 1 unit ï¿½ ï¿½ ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>2/3 units &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Manual handle feed rate ï¿½1, ï¿½10, ï¿½m, ï¿½n
m: to 127, n: to 1000
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Handle interruption &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Incremental feed ï¿½1, ï¿½10, ï¿½100,
ï¿½1000
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Jog and handle
simultaneous mode
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 I. Series 0&ndash;D SPECIFICATIONSAPPENDIX
</p>
<p>679
</p>
<p>Interpolation function
</p>
<p>Item Specification
0&ndash;MD
</p>
<p>Package 1
0&ndash;MD
</p>
<p>Package 2
0&ndash;MD
</p>
<p>Package 3 0&ndash;MD II
0&ndash;GSD
</p>
<p>Package 1 0&ndash;GSD II
</p>
<p>Positioning G00 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Single direction positioning G60 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Exact stop mode G61 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Exact stop G09 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Linear interpolation ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Circular interpolation Multi quadrant is
possible.
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Dwell (per sec.) ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Cylindrical interpolation &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Helical interpolation &mdash; ï¿½ ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Helical interpolation axis
extend
</p>
<p>&mdash; ï¿½ ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Thread cutting.
synchronous feed
</p>
<p>Position coder is need. &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Skip function G31 &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>High&ndash;speed skip function &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Reference position return G28 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Reference position return
check
</p>
<p>G27 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>2nd reference position
return
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>3rd/4th reference position
return
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Normal direction control &mdash; &mdash; &mdash; ï¿½ ï¿½ ï¿½
</p>
<p>Continuous dressing control &mdash; &mdash; &mdash; &mdash; &mdash; ï¿½
</p>
<p>Infeed control &mdash; &mdash; &mdash; &mdash; ï¿½ ï¿½
</p>
<p>Index table indexing
function
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Rapid traverse rate 100 m/min ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Rapid traverse override Fo,25,50,100% ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Feed per minute mm/min. ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Feed par revolution mm/rev &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Tangential speed constant
control
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Cutting feedrate clamp ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Automatic acceleration /
deceleration
</p>
<p>Rapid traverse : linear
Cutting feed : 
</p>
<p>exponential
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Bell&ndash;shaped acceleration /
deceleration for rapid
traverse
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08I. Series 0&ndash;D SPECIFICATIONS
</p>
<p>680
</p>
<p>Item 0&ndash;GSD II
0&ndash;GSD
</p>
<p>Package 10&ndash;MD II
0&ndash;MD
</p>
<p>Package 3
0&ndash;MD
</p>
<p>Package 2
0&ndash;MD
</p>
<p>Package 1Specification
</p>
<p>Linear acceleration /
deceleration after cutting
feed interpolation
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Feedrate override 0  to 150% ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>F1&ndash;digit feed &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Jog override 0  to 150% &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Override cancel ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>External deceleration &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Advanced preview control &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Programming
</p>
<p>Item Specification
0&ndash;MD
</p>
<p>Package 1
0&ndash;MD
</p>
<p>Package 2
0&ndash;MD
</p>
<p>Package 3 0&ndash;MD II
0&ndash;GSD
</p>
<p>Package 1 0&ndash;GSD II
</p>
<p>Tape code EIA/ISO automatic
recognition
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Label skip ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Parity check Parity H, Parity V ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Control in / out ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Optional block skip 1 piece ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>9 pieces &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Max. programmable
dimension
</p>
<p>ï¿½8 digits ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Program number O4 digits ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Sequence number N4 digits ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Absolute / Incremental
programming
</p>
<p>It is possible to use in
the same block.
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Decimal point input / Pocket
calculator type decimal point
input programming
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Plane selection G17,G18,G19 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Rotary axis designation only added axes ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Rotary axis roll&ndash;over
function
</p>
<p>only added axes ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Polar coordinate command &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Coordinate system setting ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Automatic coordinate
system setting
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Workpiece coordinate
system
</p>
<p>G52,G53,G54 to G59 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Workpiece coordinate pair
addition
</p>
<p>48 pairs      Note) &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Manual absolute on and off ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 I. Series 0&ndash;D SPECIFICATIONSAPPENDIX
</p>
<p>681
</p>
<p>Item 0&ndash;GSD II
0&ndash;GSD
</p>
<p>Package 10&ndash;MD II
0&ndash;MD
</p>
<p>Package 3
0&ndash;MD
</p>
<p>Package 2
0&ndash;MD
</p>
<p>Package 1Specification
</p>
<p>Optional angle chamfering /
corner R
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Programmable data input G10 (Programmable
input of offset)
</p>
<p>&mdash; ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Sub program call two&ndash;fold nested ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Custom macro A ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Custom macro B Editing is not available. &mdash; &mdash; ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Addition of custom macro
common variables
</p>
<p>only custom macro B &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Pattern data input &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Interruption type custom
macro
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Canned cycles for drilling ï¿½ ï¿½ ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Canned cycles for grinding &mdash; &mdash; &mdash; &mdash; ï¿½ ï¿½
</p>
<p>Small&ndash;hole peck drilling
cycle
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; &mdash;
</p>
<p>Circular interpolation by R
programming
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Automatic corner override &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Block overlap &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Automatic corner
deceleration
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Feedrate clamp by circular
radius
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Scaling &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Coordinate system rotation &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Programmable mirror image &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Menu programming &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Tape format for FS10/11 &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08I. Series 0&ndash;D SPECIFICATIONS
</p>
<p>682
</p>
<p>Miscellaneous function/spindle function
</p>
<p>Item Specification
0&ndash;MD
</p>
<p>Package 1
0&ndash;MD
</p>
<p>Package 2
0&ndash;MD
</p>
<p>Package 3 0&ndash;MD II
0&ndash;GSD
</p>
<p>Package 1 0&ndash;GSD II
</p>
<p>Auxiliary function M3 digit ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>2nd auxiliary function B6 digit ï¿½ ï¿½ ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Auxiliary function lock ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>High speed M/S/T interface ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Multiple command of
auxiliary function
</p>
<p>3 pieces (M code only) ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Spindle function S analog/ serial output ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Constant surface speed
control
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Spindle speed override 0  to 120% ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Analog voltage control by
PMC
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>1st spindle orientation &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>1st spindle speed range
switch
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>2nd spindle orientation &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>2nd spindle speed range
switch
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Spindle synchronous control &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Simple spindle synchronous
control
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Rigid tapping Position coder is need. &mdash; ï¿½ ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Tool function/tool offset function
</p>
<p>Item Specification
0&ndash;MD
</p>
<p>Package 1
0&ndash;MD
</p>
<p>Package 2
0&ndash;MD
</p>
<p>Package 3 0&ndash;MD II
0&ndash;GSD
</p>
<p>Package 1 0&ndash;GSD II
</p>
<p>Tool function ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Tool offset memory ï¿½6 digits  32 pieces &mdash; &mdash; &mdash; &mdash; ï¿½ &mdash;
</p>
<p>ï¿½6 digits  64 pieces ï¿½ ï¿½ ï¿½ &mdash; &mdash; &mdash;
</p>
<p>ï¿½6 digits 400 pieces &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Tool offset memory B Tool geometry / wear
offset
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Tool length compensation ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Tool position offset &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Cutter compensation C ï¿½ ï¿½ ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Tool life management &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Automatic tool length
measurement
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Tool length measurement &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08 I. Series 0&ndash;D SPECIFICATIONSAPPENDIX
</p>
<p>683
</p>
<p>Editing operation
</p>
<p>Item Specification
0&ndash;MD
</p>
<p>Package 1
0&ndash;MD
</p>
<p>Package 2
0&ndash;MD
</p>
<p>Package 3 0&ndash;MD II
0&ndash;GSD
</p>
<p>Package 1 0&ndash;GSD II
</p>
<p>Part program storage length 10m &mdash; &mdash; &mdash; &mdash; ï¿½ &mdash;
</p>
<p>120m ï¿½ ï¿½ &mdash; &mdash; &mdash; &mdash;
</p>
<p>320m &mdash; &mdash; ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Registered programs 63 pieces ï¿½ ï¿½ ï¿½ &mdash; ï¿½ &mdash;
</p>
<p>200 pieces &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Tape editing ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Program protect ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Background editing &mdash; ï¿½ ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Extended part program
editing
</p>
<p>&mdash; &mdash; ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Play back &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Setting / display
</p>
<p>Item Specification
0&ndash;MD
</p>
<p>Package 1
0&ndash;MD
</p>
<p>Package 2
0&ndash;MD
</p>
<p>Package 3 0&ndash;MD II
0&ndash;GSD
</p>
<p>Package 1 0&ndash;GSD II
</p>
<p>Status display ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Clock function &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Current position display ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Program display Program name : 
31 characters
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Parameter setting and
display
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Self&ndash;diagnosis function ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Alarm display ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Run hour and parts count
display
</p>
<p>&mdash; ï¿½ ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Actual cutting feed display ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Display of spindle speed
and T code at all screens
</p>
<p>Position coder is need. &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Directory display of floppy
cassette
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Graphic display &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Servo setting screen ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Spindle setting screen ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Servo waveform display &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Software operator&rsquo;s panel &mdash; ï¿½ ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Software operator&rsquo;s panel
general purpose switch
</p>
<p>&mdash; ï¿½ ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>English display ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>APPENDIX B&ndash;61404E/08I. Series 0&ndash;D SPECIFICATIONS
</p>
<p>684
</p>
<p>Item 0&ndash;GSD II
0&ndash;GSD
</p>
<p>Package 10&ndash;MD II
0&ndash;MD
</p>
<p>Package 3
0&ndash;MD
</p>
<p>Package 2
0&ndash;MD
</p>
<p>Package 1Specification
</p>
<p>Japanese (Chinese
characters) display
</p>
<p>&mdash; &mdash; ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>German / French display &mdash; &mdash; ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Italian display &mdash; &mdash; ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Chinese display ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Spanish display &mdash; &mdash; ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Korean display &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>Data protection key ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Data input / output
</p>
<p>Item Specification
0&ndash;MD
</p>
<p>Package 1
0&ndash;MD
</p>
<p>Package 2
0&ndash;MD
</p>
<p>Package 3 0&ndash;MD II
0&ndash;GSD
</p>
<p>Package 1 0&ndash;GSD II
</p>
<p>Reader / puncher interface Reader/puncher (Ch.1)
interface
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Reader/puncher (Ch.2)
interface
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>DNC2 &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>External I/O device control &mdash; &mdash; ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>External data input &mdash; ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>External key input &mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>External workpiece number
search
</p>
<p>15 pieces ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>External program number
search
</p>
<p>1 to 9999 ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>Others
</p>
<p>Item Specification
0&ndash;MD
</p>
<p>Package 1
0&ndash;MD
</p>
<p>Package 2
0&ndash;MD
</p>
<p>Package 3 0&ndash;MD II
0&ndash;GSD
</p>
<p>Package 1 0&ndash;GSD II
</p>
<p>Status output signals ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>9&Prime; monochrome CRT ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>PMC&ndash;L Basic command:6.0&micro;s
Max. steps: 5000
</p>
<p>ï¿½ ï¿½ &mdash; ï¿½ ï¿½ ï¿½
</p>
<p>PMC&ndash;M Basic command:2.0&micro;s
Max. steps: 8000
</p>
<p>&mdash; &mdash; ï¿½ ï¿½ &mdash; ï¿½
</p>
<p>Internal I/O card DI/DO: 104/72 points,
source/sink
</p>
<p>ï¿½ ï¿½ ï¿½ ï¿½ ï¿½ ï¿½
</p>
<p>I/O Unit&ndash;MODEL A DI/DO Max. : 
1024/1024 points
</p>
<p>&mdash; &mdash; &mdash; ï¿½ &mdash; ï¿½
</p>
<p>NOTE
Part program storage length is decreased by 9.75m.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>B&ndash;61404E/08
J. CORRESPONDENCE BETWEEN
</p>
<p> ENGLISH KEY AND SYMBOLIC KEYAPPENDIX
</p>
<p>685
</p>
<p>J CORRESPONDENCE BETWEEN ENGLISH KEY ANDSYMBOLIC KEY
Table J  Correspondence between english key and symbolic key (Series 0)
</p>
<p>Name English key Symbolic key Name English key Symbolic key
</p>
<p>RESET key RESET
OPRATION/
ALARM key
</p>
<p>OPR
</p>
<p>ALARM
</p>
<p>PAGE UP key
PAGE
</p>
<p>AUXILIARY/
GRAPHIC key
</p>
<p>AUX
</p>
<p>GRAPH
</p>
<p>PAGE DOWN key PAGE MACRO key MACRO
</p>
<p>SHIFT key SHIFT ALTER key ALTER
</p>
<p>POSITION key POS INSERT key INSRT
</p>
<p>PROGRAM key PRGRM INPUT key INPUT
</p>
<p>MENU key MENU
OUTPUT/START
key
</p>
<p>OUTPT
</p>
<p>START
</p>
<p>OFFSET key OFSET DELETE key DELET
</p>
<p>MENU/OFFSET
key
</p>
<p>MENU
</p>
<p>OFSET
CANCEL key CAN
</p>
<p>DIAGNOS/
PARAM key
</p>
<p>DGNOS
</p>
<p>PARAMww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>IndexB&ndash;61404E/08
</p>
<p>i&ndash;1
</p>
<p>ï¿½Number ï¿½
14&Prime; CRT soft key configuration, 402
</p>
<p>ï¿½Aï¿½
Absolute and incremental programming (G90, G91), 94
</p>
<p>Actual feedrate display, 545
</p>
<p>Adding workpiece coordinate systems, 88
</p>
<p>Advanced preview control, 371
</p>
<p>Alarm and self&ndash;diagnosis functions, 464
</p>
<p>Alarm display, 389, 465
</p>
<p>Alarm list, 654
</p>
<p>Altering a word, 500
</p>
<p>Angular axis control (0&ndash;GSC, 0&ndash;GSD/II), 369
</p>
<p>Argument specification, 283
</p>
<p>Arithmetic and logic operation, 308
</p>
<p>Automatic corner deceleration, 68
</p>
<p>Automatic grinding wheel diameter compensation after
dressing, 182
</p>
<p>Automatic insertion of sequence numbers, 521
</p>
<p>Automatic operation, 380, 423
</p>
<p>Automatic override for inner corners (G62), 60
</p>
<p>Automatic tool length measurement (G37), 196
</p>
<p>Auxiliary function, 115
</p>
<p>Auxiliary function (M function), 116
</p>
<p>ï¿½Bï¿½
Background editing, 516
</p>
<p>Boring cycle (G85), 151
</p>
<p>Boring cycle (G86), 153
</p>
<p>Boring cycle (G88), 157
</p>
<p>Boring cycle (G89), 159
</p>
<p>Boring cycle back boring cycle (G87), 155
</p>
<p>Branch and repetition, 313
</p>
<p>ï¿½Cï¿½
Canned cycle, 133
</p>
<p>Canned cycle cancel (G80), 161, 171
</p>
<p>Canned grinding cycle (0&ndash;GSC, 0&ndash;GSD/II), 172
</p>
<p>Change of the cutter compensation value, 215
</p>
<p>Changing the file name, 492
</p>
<p>Changing workpiece coordinate system, 85
</p>
<p>Character&ndash;to codes correspondence table, 653
</p>
<p>Characters and codes to be used for the pattern data input
function, 355
</p>
<p>Check by running the machine, 382
</p>
<p>Checking by self&ndash;diagnostic screen, 467
</p>
<p>Checking the minimum grinding wheel diameter (0&ndash;GSC,
0&ndash;GSD/II), 182
</p>
<p>Circular interpolation (G02, G03), 37
</p>
<p>Command for machine operations &ndash; miscellaneous function, 20
</p>
<p>Compensation function, 191
</p>
<p>Conditional branch (IF statement), 313
</p>
<p>Configuration of high speed cycle cutting data, 362
</p>
<p>Constant lead threading (G33), 45
</p>
<p>Constant surface speed control (G96, G97), 102
</p>
<p>Continuous&ndash;feed surface grinding cycle (G78), 177
</p>
<p>Controlled axes, 26, 27
</p>
<p>Conversational programming with graphic function, 528
</p>
<p>Coordinate system, 81
</p>
<p>Coordinate system on part drawing and coordinate system
specified by CNC &ndash; coordinate system, 15
</p>
<p>Coordinate system rotation (G68, G69), 266
</p>
<p>Coordinate value and dimension, 93
</p>
<p>Copying an entire program, 508
</p>
<p>Copying part of a program, 509
</p>
<p>Corner offset circular interpolation (G39), 212
</p>
<p>Correspondence between english key and symbolic key, 685
</p>
<p>Creating programs, 519
</p>
<p>Creating programs in TEACH IN mode, 523
</p>
<p>Creating programs using the MDI panel, 520
</p>
<p>CRT/MDI panels and LCD/MDI panels, 393
</p>
<p>Current block display screen, 550
</p>
<p>Current position display, 389
</p>
<p>Custom macro A, 279
</p>
<p>Custom macro B, 297
</p>
<p>Custom macro body, 285
</p>
<p>Custom macro command, 280
</p>
<p>Cutter compensation B (G39 to G42), 205
</p>
<p>Cutter compensation cancel (G40), 213
</p>
<p>Cutter compensation left (G41), 208
</p>
<p>Cutter compensation right (G42), 210
</p>
<p>Cutting feed, 54
</p>
<p>Cutting feed block overlap, 67
</p>
<p>Cutting feed linear acceleration/deceleration before
interpolation, 64
</p>
<p>Cutting feedrate control, 58
</p>
<p>Cutting speed &ndash; spindle speed function, 19
</p>
<p>Cylindrical interpolation (G107), 42
</p>
<p>ï¿½Dï¿½
Data input/output, 469
</p>
<p>Data output, 391
</p>
<p>Decimal point programming, 99
</p>
<p>Deleting a block, 502
</p>
<p>Deleting a word, 501
</p>
<p>Deleting all programs, 505
</p>
<p>Deleting blocks, 502
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>INDEX B&ndash;61404E/08
</p>
<p>i&ndash;2
</p>
<p>Deleting files, 490
</p>
<p>Deleting more than one program by specifying a range, 506
</p>
<p>Deleting multiple blocks, 503
</p>
<p>Deleting one program, 505
</p>
<p>Deleting programs, 505
</p>
<p>Details of cutter compensation C, 224
</p>
<p>Details of functions, 339
</p>
<p>Direct constant&ndash;dimension plunge grinding cycle (G77), 175
</p>
<p>Display, 388, 621
</p>
<p>Display and operation of 00&ndash;MC, 620
</p>
<p>Display of run time and parts count, 546
</p>
<p>Display of software configuration, 409
</p>
<p>Displaying and entering setting data, 579
</p>
<p>Displaying and setting custom macro common variables, 566
</p>
<p>Displaying and setting data, 385
</p>
<p>Displaying and setting parameters, 572
</p>
<p>Displaying and setting pitch error compensation data, 574
</p>
<p>Displaying and setting run time, parts count, and time, 583
</p>
<p>Displaying and setting the software operator&rsquo;s panel, 587
</p>
<p>Displaying and setting the workpiece origin offset value, 564
</p>
<p>Displaying and setting tool life management data, 569
</p>
<p>Displaying directory of floppy disk, 485
</p>
<p>Displaying memory used and a list of programs, 557
</p>
<p>Displaying operator message, 586
</p>
<p>Displaying pattern data and pattern menu, 567
</p>
<p>Displaying the directory, 486
</p>
<p>Displaying the pattern menu, 347
</p>
<p>Displaying the program number and sequence number, 589
</p>
<p>Displaying the program number, sequence number, and status,
and warning messages for data setting, 589
</p>
<p>Displaying the status and warning for data setting, 590
</p>
<p>DNC operation, 431
</p>
<p>Drilling cycle counter boring cycle (G82), 145
</p>
<p>Drilling cycle, spot drilling (G81), 143
</p>
<p>Dry run, 454
</p>
<p>Dwell (G04), 63
</p>
<p>Dynamic graphic display, 598
</p>
<p>ï¿½Eï¿½
Editing a part program, 384
</p>
<p>Editing of custom macro B, 515
</p>
<p>Editing programs, 493
</p>
<p>Emergency stop, 458
</p>
<p>Exact stop (G09, G61) cutting mode (G64) taping mode (G63),
59
</p>
<p>Extended part program editing function, 507
</p>
<p>External I/O devices, 403
</p>
<p>External motion function (G81), 186
</p>
<p>External output commands, 333
</p>
<p>ï¿½Fï¿½
FANUC FA Card, 406
</p>
<p>FANUC Floppy Cassette, 405
</p>
<p>FANUC Handy File, 405
</p>
<p>FANUC PPR, 406
</p>
<p>Feed functions, 49
</p>
<p>Feed&ndash;feed function, 13
</p>
<p>Feedrate clamp based on arc radius, 74
</p>
<p>Feedrate override, 452
</p>
<p>File deletion, 473
</p>
<p>File search, 472
</p>
<p>Files, 470
</p>
<p>Fine boring cycle (G76), 141
</p>
<p>Function keys, 399
</p>
<p>Function keys and soft keys, 398
</p>
<p>Functions to simplify programming, 132
</p>
<p>ï¿½Gï¿½
G65 (modal call), 282
</p>
<p>General flow of operation of CNC machine tool, 6
</p>
<p>General screen operations, 398
</p>
<p>Graphic display, 390
</p>
<p>Graphics display, 592
</p>
<p>Graphics function, 591
</p>
<p>Grinding&ndash;wheel wear compensation by continuous dressing
(0&ndash;GSC, 0&ndash;GSD/II), 181
</p>
<p>ï¿½Hï¿½
Header, 362
</p>
<p>Heading a program, 498
</p>
<p>Helical cutting (G02, G03), 41
</p>
<p>High speed cycle cutting, 360
</p>
<p>High&ndash;speed peck drilling cycle (G73), 137
</p>
<p>How to indicate command dimensions for moving the tool &ndash;
absolute, incremental commands, 18
</p>
<p>How to view the position display change without running the
machine, 383
</p>
<p>ï¿½Iï¿½
In&ndash;feed grinding along the Y and Z axes at the end of table
</p>
<p>swing (0&ndash;GSC, 0&ndash;GSD/II), 183
</p>
<p>Inch/metric conversion (G20, G21), 98
</p>
<p>Incorrect threaded length, 643
</p>
<p>Increment system, 27
</p>
<p>Incremental feed, 415
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>INDEXB&ndash;61404E/08
</p>
<p>i&ndash;3
</p>
<p>Index table indexing function, 272
</p>
<p>Input command from MDI, 257
</p>
<p>Inputting a program, 474
</p>
<p>Inputting and outputting parameters and pitch error
compensation data, 481
</p>
<p>Inputting custom macro B common variables, 483
</p>
<p>Inputting offset data, 479
</p>
<p>Inputting parameters, 481
</p>
<p>Inputting/outputting custom macro B common variables, 483
</p>
<p>Inserting a word, 499
</p>
<p>Inserting, altering and deleting a word, 494
</p>
<p>Interference check, 249
</p>
<p>Intermittent&ndash;feed surface grinding cycle (G79), 179
</p>
<p>Internal circular cutting feedrate change, 62
</p>
<p>Interpolation function, 32
</p>
<p>Interruption type custom macro, 337
</p>
<p>ï¿½Jï¿½
Jog feed, 413
</p>
<p>ï¿½Kï¿½
Key input and input buffer, 400
</p>
<p>Kind of variables, 286
</p>
<p>ï¿½Lï¿½
Left&ndash;handed rigid tapping cycle (G74), 167
</p>
<p>Left&ndash;handed tapping cycle (G74), 139
</p>
<p>Limitations, 332
</p>
<p>Linear interpolation (G01), 35
</p>
<p>List of functions and tape format, 634
</p>
<p>Local coordinate system, 90
</p>
<p>ï¿½Mï¿½
M98 (single call), 280
</p>
<p>Machine coordinate system, 82
</p>
<p>Machine lock and auxiliary lock, 451
</p>
<p>Macro call, 317
</p>
<p>Macro call using an M code, 325
</p>
<p>Macro call using G code, 324
</p>
<p>Macro Instruction and Branch Instruction (G65), 291
</p>
<p>Macro statements and NC statements, 312
</p>
<p>Manual absolute ON and OFF, 418
</p>
<p>Manual handle feed, 416
</p>
<p>Manual handle interruption, 443
</p>
<p>Manual operation, 376, 410
</p>
<p>Manual reference position return, 411
</p>
<p>Maximum stroke, 27
</p>
<p>MDI operation, 426
</p>
<p>Memory operation, 424
</p>
<p>Memory operation using Series 10/11 tape format, 359
</p>
<p>Menu programming, 526
</p>
<p>Merging a program, 511
</p>
<p>Method of replacing battery, 625
</p>
<p>Mirror image, 446
</p>
<p>Modal call (G66), 322
</p>
<p>Moving part of a program, 510
</p>
<p>Multiple M commands in a single block, 117
</p>
<p>ï¿½Nï¿½
Name of axes, 27
</p>
<p>Next block display screen, 551
</p>
<p>Nomographs, 642
</p>
<p>Normal direction control (G150, G151, G152), 275
</p>
<p>Notes on custom macro, 296
</p>
<p>Notes on reading this manual, 8
</p>
<p>Number of control axes, 361
</p>
<p>Number of registered cycles, 362
</p>
<p>ï¿½Oï¿½
Offset data input and output, 479
</p>
<p>Operating monitor display, 547
</p>
<p>Operation, 622
</p>
<p>Operation of portable tape reader, 673
</p>
<p>Operational devices, 392
</p>
<p>Optional angle chamfering and corner rounding, 184
</p>
<p>Outputting a program, 476
</p>
<p>Outputting custom macro B common variable, 484
</p>
<p>Outputting offset data, 480
</p>
<p>Outputting parameters, 482
</p>
<p>Outputting programs, 489
</p>
<p>Overall position display, 544
</p>
<p>Overcutting by cutter compensation, 254
</p>
<p>Overtravel, 459
</p>
<p>Overview of cutter compensation C (G40 to G42), 218
</p>
<p>ï¿½Pï¿½
Part drawing and tool movement, 14
</p>
<p>Parts count display, run time display, 390
</p>
<p>Path drawing, 598
</p>
<p>Pattern data display, 351
</p>
<p>Pattern data input function, 346
</p>
<p>Peck drilling cycle (G83), 147
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>INDEX B&ndash;61404E/08
</p>
<p>i&ndash;4
</p>
<p>Peek rigid tapping cycle (G84 or G74), 169
</p>
<p>Plane selection, 92
</p>
<p>Plunge grinding cycle (G75), 173
</p>
<p>Polar coordinate command (G15, G16), 95
</p>
<p>Portable tape reader, 407
</p>
<p>Position display in the relative coordinate system, 542
</p>
<p>Position display in the work coordinate system, 541
</p>
<p>Positioning (G00), 33
</p>
<p>Positive/negative cutter compensation value and tool center
path, 216
</p>
<p>Power disconnection, 409
</p>
<p>Power on/off, 408
</p>
<p>Preparatory function (G function), 28
</p>
<p>Processing macro statements, 330
</p>
<p>Program check screen, 552
</p>
<p>Program components other than program sections, 120
</p>
<p>Program configuration, 21, 118
</p>
<p>Program contents display, 549
</p>
<p>Program display, 388
</p>
<p>Program input/output, 474
</p>
<p>Program number search, 504
</p>
<p>Program restart, 432
</p>
<p>Program screen for MDI operation, 554
</p>
<p>Program section configuration, 123
</p>
<p>Programmable parameter entry (G10), 357
</p>
<p>Pulse distribution, 361
</p>
<p>ï¿½Rï¿½
Radius direction error at circle cutting, 650
</p>
<p>Range of command value, 639
</p>
<p>Rapid traverse, 53
</p>
<p>Rapid traverse bell&ndash;shaped acceleration/deceleration, 76
</p>
<p>Rapid traverse override, 453
</p>
<p>Reading files, 488
</p>
<p>Reference position, 77
</p>
<p>Reference position (machine&ndash;specific position), 14
</p>
<p>Register, change and delete of tool life management data, 110
</p>
<p>Registering custom macro programs, 331
</p>
<p>Reorganizing memory, 518
</p>
<p>Repetition (WHILE statement), 314
</p>
<p>Replacement of words and addresses, 513
</p>
<p>Replacing batteries for absolute pulse coder, 627
</p>
<p>Replacing CNC battery for memory back&ndash;up, 626
</p>
<p>Rigid tapping, 164
</p>
<p>Rigid tapping (G84), 165
</p>
<p>Rotary axis roll&ndash;over, 368
</p>
<p>ï¿½Sï¿½
Safety function, 457
</p>
<p>Sample program, 328
</p>
<p>Scaling (G50, G51), 260
</p>
<p>Scheduling function, 436
</p>
<p>Screens displayed by function key DGNOSPARAM , 571
</p>
<p>Screens displayed by function key 
MENU
</p>
<p>OFSET , 559
</p>
<p>Screens displayed by function key OPR
ALARM
</p>
<p>, 586
</p>
<p>Screens displayed by function key POS , 540
</p>
<p>Screens displayed by function key PRGRM  (in auto mode or
</p>
<p>MDI mode), 548
</p>
<p>Screens displayed by function key PRGRM  (in the edit mode),
</p>
<p>556
</p>
<p>Selecting a workpiece coordinate system, 84
</p>
<p>Selection of tool used for various machining &ndash; tool function, 20
</p>
<p>Sequence number comparison and stop, 581
</p>
<p>Sequence number search, 448
</p>
<p>Series 0&ndash;D specifications, 677
</p>
<p>Setting a workpiece coordinate system, 83
</p>
<p>Setting and displaying data, 532
</p>
<p>Setting and displaying the tool offset value, 560
</p>
<p>Simple calculation of incorrect thread length, 645
</p>
<p>Simple call (G65), 317
</p>
<p>Simple synchronous control, 365
</p>
<p>Single block, 455
</p>
<p>Single direction positioning (G60), 34
</p>
<p>Skip function (G31), 47
</p>
<p>Small&ndash;diameter peck drilling cycle, 187
</p>
<p>Solid graphics, 607
</p>
<p>Specification method, 338
</p>
<p>Specifying the spindle speed value directly (S5&ndash;digit
command), 101
</p>
<p>Specifying the spindle speed with a binary code, 101
</p>
<p>Spindle speed function (S function), 100
</p>
<p>Status when turning power on, when clear and when reset, 651
</p>
<p>Stroke check, 460
</p>
<p>Subprogram, 129
</p>
<p>Subprogram call function, 441
</p>
<p>Subprogram call using an M code, 326
</p>
<p>Subprogram call using M code, 280
</p>
<p>Subprogram call using T code, 281
</p>
<p>Subprogram calls using a T code, 327
</p>
<p>Supplementary explanation for copying, moving and merging,
512
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>INDEXB&ndash;61404E/08
</p>
<p>i&ndash;5
</p>
<p>Switch between cutter compensation left and cutter
compensation right, 214
</p>
<p>System variables, 301
</p>
<p>ï¿½Tï¿½
Tape code list, 631
</p>
<p>Tapping cycle (G84), 149
</p>
<p>Test operation, 450
</p>
<p>Testing a program, 382
</p>
<p>The second auxiliary functions (B codes), 117
</p>
<p>Tool compensation values, number of compensation values, and
entering values from the program (G10), 258
</p>
<p>Tool figure and tool motion by program, 24
</p>
<p>Tool function (T function), 106
</p>
<p>Tool length measurement, 562
</p>
<p>Tool length offset (G43, G44, G49), 192
</p>
<p>Tool life, 114
</p>
<p>Tool life management command in a machining program, 111
</p>
<p>Tool life management data, 109
</p>
<p>Tool life management function, 108
</p>
<p>Tool movement along workpiece parts figure&ndash;interpolation, 12
</p>
<p>Tool movement by programming&ndash;automatic operation, 378
</p>
<p>Tool movement in offset mode, 229
</p>
<p>Tool movement in offset mode cancel, 243
</p>
<p>Tool movement in start&ndash;up, 225
</p>
<p>Tool movement range &ndash; stroke, 25
</p>
<p>Tool offset (G45 to G48), 200
</p>
<p>Tool path at corner, 647
</p>
<p>Tool selection function, 107
</p>
<p>Turning on the power, 408
</p>
<p>ï¿½Uï¿½
Unconditional branch (GOTO statement), 313
</p>
<p>ï¿½Vï¿½
Variables, 285, 298
</p>
<p>ï¿½Wï¿½
Word search, 496
</p>
<p>Workpiece coordinate system, 83
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>R
ev
</p>
<p>is
io
</p>
<p>n 
R
</p>
<p>ec
or
</p>
<p>d
</p>
<p>FA
N
</p>
<p>U
C
</p>
<p> S
er
</p>
<p>ie
s 
</p>
<p>0/
00
</p>
<p>/0
&ndash;M
</p>
<p>at
e 
</p>
<p>F
O
</p>
<p>R
 M
</p>
<p>A
C
</p>
<p>H
IN
</p>
<p>IN
G
</p>
<p> C
E
</p>
<p>N
T
</p>
<p>E
R
</p>
<p>  O
P
</p>
<p>E
R
</p>
<p>AT
O
</p>
<p>R
&rsquo;S
</p>
<p> M
A
</p>
<p>N
U
</p>
<p>A
L 
</p>
<p> (
B
</p>
<p>&ndash;6
14
</p>
<p>04
E
</p>
<p>)
</p>
<p>05
A
</p>
<p>ug
., 
</p>
<p>&rsquo;9
4
</p>
<p>ï¿½A
ll 
</p>
<p>pa
ge
</p>
<p>s 
ar
</p>
<p>e 
re
</p>
<p>vi
se
</p>
<p>d
</p>
<p>04
A
</p>
<p>ug
., 
</p>
<p>&rsquo;9
2
</p>
<p>ï¿½A
dd
</p>
<p>iti
on
</p>
<p> o
f c
</p>
<p>om
m
</p>
<p>on
 v
</p>
<p>ar
ia
</p>
<p>bl
e 
</p>
<p>ad
di
</p>
<p>tio
n
</p>
<p>ï¿½A
lte
</p>
<p>rla
tio
</p>
<p>n 
of
</p>
<p> R
S
</p>
<p>&ndash;2
32
</p>
<p>&ndash;C
/R
</p>
<p>S
&ndash;4
</p>
<p>22
 In
</p>
<p>te
rf
</p>
<p>ac
e
</p>
<p>ï¿½A
lte
</p>
<p>rla
tio
</p>
<p>n 
of
</p>
<p> P
ar
</p>
<p>am
et
</p>
<p>er
s
</p>
<p>ï¿½A
lte
</p>
<p>rla
tio
</p>
<p>n 
of
</p>
<p> E
rr
</p>
<p>or
 C
</p>
<p>od
e 
</p>
<p>Li
st
</p>
<p>08
Ju
</p>
<p>n.
, &rsquo;
</p>
<p>98
ï¿½C
</p>
<p>or
re
</p>
<p>ct
io
</p>
<p>n 
of
</p>
<p> e
rr
</p>
<p>or
s
</p>
<p>03
S
</p>
<p>ep
., 
</p>
<p>&rsquo;9
0
</p>
<p>ï¿½C
or
</p>
<p>re
ct
</p>
<p>io
n 
</p>
<p>of
 e
</p>
<p>rr
or
</p>
<p>s
ï¿½A
</p>
<p>dd
ito
</p>
<p>n 
of
</p>
<p> &rdquo;
A
</p>
<p>P
P
</p>
<p>E
N
</p>
<p>D
IX
</p>
<p> 7
 R
</p>
<p>S
&ndash;2
</p>
<p>32
&ndash;C
</p>
<p>/R
S
</p>
<p>&ndash;4
22
</p>
<p> IN
T
</p>
<p>E
R
</p>
<p>FA
C
</p>
<p>E
&rdquo;
</p>
<p>07
A
</p>
<p>ug
., 
</p>
<p>&rsquo;9
7
</p>
<p>ï¿½
A
</p>
<p>dd
iti
</p>
<p>on
 o
</p>
<p>f S
af
</p>
<p>et
y 
</p>
<p>P
re
</p>
<p>ca
ut
</p>
<p>io
ns
</p>
<p>ï¿½
A
</p>
<p>dd
iti
</p>
<p>on
 o
</p>
<p>f S
er
</p>
<p>ie
s 
</p>
<p>0&ndash;
D
</p>
<p>ï¿½
A
</p>
<p>dd
iti
</p>
<p>on
 o
</p>
<p>f A
pp
</p>
<p>en
di
</p>
<p>x 
I &ldquo;
</p>
<p>S
er
</p>
<p>ie
s 
</p>
<p>0&ndash;
D
</p>
<p> S
P
</p>
<p>E
C
</p>
<p>IF
IC
</p>
<p>A
T
</p>
<p>IO
N
</p>
<p>S
&rdquo;
</p>
<p>ï¿½
C
</p>
<p>or
re
</p>
<p>ct
io
</p>
<p>n 
of
</p>
<p> e
rr
</p>
<p>or
s
</p>
<p>02
M
</p>
<p>ar
., 
</p>
<p>&rsquo;8
9
</p>
<p>ï¿½A
dd
</p>
<p>iti
on
</p>
<p> o
f 0
</p>
<p>&ndash;M
at
</p>
<p>e 
M
</p>
<p>C
 fu
</p>
<p>nc
tio
</p>
<p>n
</p>
<p>06
M
</p>
<p>ay
&rsquo;9
</p>
<p>7
</p>
<p>ï¿½
A
</p>
<p>dd
iti
</p>
<p>on
 o
</p>
<p>f f
ol
</p>
<p>lo
w
</p>
<p>in
g 
</p>
<p>ite
m
</p>
<p>s
</p>
<p>ï¿½
C
</p>
<p>ut
tin
</p>
<p>g 
fe
</p>
<p>ed
 li
</p>
<p>ne
ar
</p>
<p> a
cc
</p>
<p>el
er
</p>
<p>at
io
</p>
<p>n/
de
</p>
<p>ce
le
</p>
<p>ra
tio
</p>
<p>n 
be
</p>
<p>fo
re
</p>
<p> in
te
</p>
<p>r-
po
</p>
<p>la
tio
</p>
<p>n
</p>
<p>ï¿½
C
</p>
<p>ut
tin
</p>
<p>g 
fe
</p>
<p>ed
 b
</p>
<p>lo
ck
</p>
<p> o
ve
</p>
<p>rla
p
</p>
<p>ï¿½
A
</p>
<p>ut
om
</p>
<p>at
ic
</p>
<p> c
or
</p>
<p>ne
r 
</p>
<p>de
ce
</p>
<p>le
ra
</p>
<p>tio
n
</p>
<p>ï¿½
F
</p>
<p>ee
dr
</p>
<p>at
e
</p>
<p>cl
am
</p>
<p>p
ba
</p>
<p>se
d
</p>
<p>on
ar
</p>
<p>c
ra
</p>
<p>di
us
</p>
<p>01
O
</p>
<p>ct
., 
</p>
<p>&rsquo;8
8
</p>
<p>06
M
</p>
<p>ay
, 
</p>
<p>97
ï¿½
</p>
<p>F
ee
</p>
<p>dr
at
</p>
<p>e 
cl
</p>
<p>am
 b
</p>
<p>as
ed
</p>
<p> o
n 
</p>
<p>ar
c 
</p>
<p>ra
di
</p>
<p>us
</p>
<p>ï¿½
R
</p>
<p>ap
id
</p>
<p> tr
av
</p>
<p>er
se
</p>
<p> b
el
</p>
<p>l&ndash;
sh
</p>
<p>ap
ed
</p>
<p> a
cc
</p>
<p>el
er
</p>
<p>at
io
</p>
<p>n/
de
</p>
<p>ce
le
</p>
<p>ra
tio
</p>
<p>n
</p>
<p>ï¿½
S
</p>
<p>m
al
</p>
<p>l&ndash;
di
</p>
<p>am
et
</p>
<p>er
 p
</p>
<p>ec
k 
</p>
<p>dr
ill
</p>
<p>in
g 
</p>
<p>cy
cl
</p>
<p>e
</p>
<p>ï¿½
O
</p>
<p>pe
ra
</p>
<p>tin
g 
</p>
<p>m
on
</p>
<p>ito
r 
</p>
<p>di
sp
</p>
<p>la
y
</p>
<p>ï¿½
C
</p>
<p>or
re
</p>
<p>sp
on
</p>
<p>de
nc
</p>
<p>e 
be
</p>
<p>tw
ee
</p>
<p>n 
E
</p>
<p>ng
lis
</p>
<p>h 
ke
</p>
<p>y 
an
</p>
<p>d 
S
</p>
<p>ym
bo
</p>
<p>lic
 k
</p>
<p>ey
</p>
<p>ï¿½
C
</p>
<p>or
re
</p>
<p>ct
io
</p>
<p>n 
of
</p>
<p> e
rr
</p>
<p>or
s
</p>
<p>E
di
</p>
<p>tio
n
</p>
<p>D
at
</p>
<p>e
C
</p>
<p>on
te
</p>
<p>nt
s
</p>
<p>E
di
</p>
<p>tio
n
</p>
<p>D
at
</p>
<p>e
C
</p>
<p>on
te
</p>
<p>nt
s
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<div class="page">
<p/>
<p>&middot;  No part of this manual may be
reproduced in any form.
</p>
<p>&middot;  All specifications and designs
are subject to change without
notice.
</p>
<p>ww
w.
</p>
<p>cn
cc
</p>
<p>en
ter
</p>
<p>.co
m</p>
<p/>
</div>
<ul>	<li>Cover Sheet.pdf</li>
	<li>61404E.pdf</li>
<ul>	<li>SAFETY PRECAUTIONS</li>
<ul>	<li>Warnings, Cautions, and Notes</li>
	<li>General Warnings and Cautions</li>
	<li>Programming</li>
	<li>Handling</li>
	<li>Daily Maintenance</li>
</ul>
	<li>TABLE OF CONTENTS</li>
	<li>GENERAL</li>
<ul>	<li>General</li>
<ul>	<li>Applicable Models</li>
	<li>Special Symbols</li>
	<li>Related Manuals</li>
	<li>Flow of Operation of the CNC Machine Tool</li>
	<li>Notes on Reading this Manual</li>
</ul>
</ul>
	<li>PROGRAMMING</li>
<ul>	<li>General</li>
<ul>	<li>Tool Movement along Workpiece Parts Figure - Interpolation</li>
	<li>Feed - Feed Function</li>
	<li>Part Drawing and Tool Movement</li>
<ul>	<li>Machine-Specific Position</li>
	<li>Coordinate System</li>
	<li>Absolute and Incremental Commands</li>
	<li>Cutting Speed - Spindle Speed Function</li>
	<li>Tool Selection - Tool Function</li>
	<li>Machine Operation - Miscellaneous Function</li>
	<li>Program Configuration</li>
	<li>Tool Figure and Tool Motion by Program</li>
	<li>Tool Movement Range - Stroke</li>
</ul>
</ul>
	<li>Controlled Axes</li>
<ul>	<li>Controlled Axes</li>
	<li>Axis Names</li>
	<li>Increment System</li>
	<li>Maximum Stroke</li>
</ul>
	<li>Preparatory Functions</li>
	<li>Interpolation Functions</li>
<ul>	<li>Positioning (G00)</li>
	<li>Single Direction Positioning (G60)</li>
	<li>Linear (G01)</li>
	<li>Circular (G02, G03)</li>
	<li>Helical Cutting (G02, G03)</li>
	<li>Cylindrical (G107)</li>
	<li>Constant Lead Threading (G33)</li>
	<li>Skip (G31)</li>
</ul>
	<li>Feed Functions</li>
<ul>	<li>Overview</li>
	<li>Rapid Traverse</li>
	<li>Cutting Feed</li>
	<li>Cutting Feed Rate Control</li>
<ul>	<li>Exact Stop (G09, G61)</li>
	<li>Cutting Mode (G64)</li>
	<li>Tapping Mode (G63)</li>
	<li>Automatic Override for Inner Corners (G62)</li>
	<li>Internal Circular Cutting Feed Rate Change</li>
</ul>
	<li>Dwell (G04)</li>
	<li>Cutting Feed Linear Acceleration / Deceleration before Interpolation</li>
	<li>Cutting Feed Block Overlap</li>
	<li>Automatic Corner Deceleration</li>
	<li>Feed Rate Clamp Based on Arc Radius</li>
	<li>Rapid Traverse Bell-Shaped Acceleration / Deceleration</li>
</ul>
	<li>Reference Position</li>
	<li>Coordinate System</li>
<ul>	<li>Machine Coordinate System</li>
	<li>Workpiece Coordinate System</li>
<ul>	<li>Setting a System</li>
	<li>Selecting a System</li>
	<li>Changing the System</li>
	<li>Adding a System</li>
</ul>
	<li>Local Coordinate System</li>
	<li>Plane Selection</li>
</ul>
	<li>Coordinate Value and Dimension</li>
<ul>	<li>Absolute and Incremental Programming (G90, G91)</li>
	<li>Polar Coordinate Command (G15, G16)</li>
	<li>Inch and Metric Conversion (G20, G21)</li>
	<li>Decimal Point Programming</li>
</ul>
	<li>Spindle Speed Functions</li>
<ul>	<li>Specifying the Spindle Speed</li>
<ul>	<li>Binary Code</li>
	<li>S5-Digit Command</li>
</ul>
	<li>Constant Surface Speed Control (G96, G97)</li>
</ul>
	<li>Tool Functions</li>
<ul>	<li>Tool Selection</li>
	<li>Tool Life Management</li>
<ul>	<li>Tool Life Management Data</li>
<ul>	<li>Register, Change, or Delete</li>
</ul>
	<li>Commands in a Machining Program</li>
	<li>Tool Life</li>
</ul>
</ul>
	<li>Auxiliary Functions</li>
<ul>	<li>Auxiliary (M) Functions</li>
	<li>Multiple M Commands in a Single Block</li>
	<li>Second Auxiliary (B) Functions</li>
</ul>
	<li>Program Configuration</li>
<ul>	<li>Components other than Program Sections</li>
	<li>Program Sections</li>
	<li>Subprogram</li>
</ul>
	<li>Functions to Simplify Programming</li>
<ul>	<li>Canned Cycles</li>
<ul>	<li>High-Speed Peck Drilling (G73)</li>
	<li>Left-Hand Tapping (G74)</li>
	<li>Fine Boring (G76)</li>
	<li>Drilling and Spot Drilling (G81)</li>
	<li>Drilling and Counter Boring (G82)</li>
	<li>Peck Drilling (G83)</li>
	<li>Tapping (G84)</li>
	<li>Boring (G85)</li>
	<li>Boring (G86)</li>
	<li>Boring Back and Boring (G87)</li>
	<li>Boring (G88)</li>
	<li>Boring (G89)</li>
	<li>Cancel (G80)</li>
</ul>
	<li>Rigid Tapping</li>
<ul>	<li>Rigid Tapping (G84)</li>
	<li>Left-Hand Rigid Tapping (G74)</li>
	<li>Peck Rigid Tapping (G84 or G74)</li>
	<li>Cancel (G80)</li>
</ul>
	<li>Canned Grinding Cycle (0-GSC, 0-GSD/II)</li>
<ul>	<li>Plunge Grinding (G75)</li>
	<li>Direct Constant-Dimension Plunge Grinding (G77)</li>
	<li>Continuous-Feed Surface Grinding (G78)</li>
	<li>Intermittent-Feed Surface Grinding (G79)</li>
</ul>
	<li>Grinding Wheel Wear Compensation by Continuous Dressing</li>
	<li>Automatic Grinding Wheel Diameter Compensation after Dressing</li>
<ul>	<li>Checking the Minimum Grinding Wheel Diameter</li>
</ul>
	<li>In-Feed Grinding along the Y and Z Axes at the End of the Table Swing</li>
	<li>Optional Angle Chamfering and Corner Rounding</li>
	<li>External Motion Function (G81)</li>
	<li>Small-Diameter Peck Drilling</li>
</ul>
	<li>Compensation Function</li>
<ul>	<li>Tool Length Offset (G43, G44, G49)</li>
	<li>Automatic Tool Length Measurement (G37)</li>
	<li>Tool Offset (G45 - G48)</li>
	<li>Cutter Compensation B (G39 - G42)</li>
<ul>	<li>Cutter Compensation Left (G41)</li>
	<li>Cutter Compensation Right (G42)</li>
	<li>Corner Offset Circular Interpolation (G39)</li>
	<li>Cutter Compensation Cancel (G40)</li>
	<li>Switch between Cutter Compensation Left and Right</li>
	<li>Change of the Cutter Compensation Value</li>
	<li>Positive and Negative Cutter Compensation Value and Tool Center Path</li>
</ul>
	<li>Overview of Cutter Compensation C (G40 - G42)</li>
	<li>Details of Cutter Compensation C</li>
<ul>	<li>Overview</li>
	<li>Tool Movement</li>
<ul>	<li>Startup</li>
	<li>Offset Mode</li>
<ul>	<li>Cancel</li>
</ul>
</ul>
	<li>Interference Check</li>
	<li>Overcutting by Cutter Compensation</li>
	<li>Input Command from the MDI</li>
</ul>
	<li>Tool Compensation Values, Number of Compensation Values, and Entering Values from the Program (G10)</li>
	<li>Scaling (G50, G51)</li>
	<li>Coordinate System Rotation (G68, G69)</li>
	<li>Index Table Indexing</li>
	<li>Normal Direction Control (G150, G151, G152)</li>
</ul>
	<li>Custom Macro A</li>
<ul>	<li>Custom Macro Command</li>
<ul>	<li>Single Call (M98)</li>
	<li>Subprogram Call</li>
<ul>	<li>M Code</li>
	<li>T Code</li>
</ul>
	<li>Modal Call (G66)</li>
	<li>Argument Specification</li>
</ul>
	<li>Custom Macro Body</li>
<ul>	<li>Variables</li>
	<li>Kinds of Variables</li>
	<li>Operation and Branch Instructions (G65)</li>
	<li>Notes on Custom Macros</li>
</ul>
</ul>
	<li>Custom Macro B</li>
<ul>	<li>Variables</li>
	<li>System Variables</li>
	<li>Arithmetic and Logic Operation</li>
	<li>Macro Statements and NC Statements</li>
	<li>Branch and Repetition</li>
<ul>	<li>Unconditional Branch (GOTO Statement)</li>
	<li>Conditional Branch (IF Statement)</li>
	<li>Repetition (WHILE Statement)</li>
</ul>
	<li>Macro Call</li>
<ul>	<li>Simple Call (G65)</li>
	<li>Modal Call (G66)</li>
<ul>	<li>Using a G Code</li>
	<li>Using an M Code</li>
</ul>
	<li>Subprogram Call</li>
<ul>	<li>Using an M Code</li>
	<li>Using a T Code</li>
</ul>
	<li>Sample Program</li>
</ul>
	<li>Processing Macro Statements</li>
	<li>Registering Custom Macro Programs</li>
	<li>Limitations</li>
	<li>External Output Commands</li>
	<li>Interruption Type Custom Macro</li>
<ul>	<li>Specification Method</li>
	<li>Details of Functions</li>
</ul>
</ul>
	<li>Pattern Data Input Function</li>
<ul>	<li>Displaying the Pattern Menu</li>
	<li>Pattern Data Display</li>
	<li>Characters and Codes to be Used</li>
</ul>
	<li>Programmable Parameter Entry (G10)</li>
	<li>Memory Operation Using Series 10/11 Tape Format</li>
	<li>High-Speed Cycle Cutting</li>
<ul>	<li>Number of Control Axes</li>
	<li>Pulse Distribution</li>
	<li>Configuration of Data</li>
<ul>	<li>Number of Registered Cycles</li>
	<li>Header</li>
</ul>
</ul>
	<li>Simple Synchronous Control</li>
	<li>Rotary Axis Rollover</li>
	<li>Angular Axis Control (0-GSC, 0-GSD/II)</li>
	<li>Advanced Preview Control</li>
</ul>
	<li>OPERATION</li>
<ul>	<li>General</li>
<ul>	<li>Manual Operation</li>
	<li>Tool Movement by Programming - Automatic Operation</li>
	<li>Automatic Operation</li>
	<li>Testing a Program</li>
<ul>	<li>Running the Machine</li>
	<li>Viewing the Position Display Change</li>
</ul>
	<li>Editing a Part Program</li>
	<li>Displaying and Setting Data</li>
	<li>Displays</li>
<ul>	<li>Program</li>
	<li>Current Position</li>
	<li>Alarm</li>
	<li>Parts Count</li>
	<li>Run Time</li>
	<li>Graphics</li>
</ul>
	<li>Data Output</li>
</ul>
	<li>Operational Devices</li>
<ul>	<li>CRT/MDI and LCD/MDI Panels</li>
<ul>	<li>9-inch Monochrome/Color CRT/MDI</li>
<ul>	<li>Small with Soft Keys</li>
	<li>Small without Soft Keys</li>
	<li>Full Keys</li>
</ul>
	<li>Thin MDI Display</li>
	<li>14-inch Color CRT/MDI</li>
	<li>Keyboard Explanation</li>
</ul>
	<li>Function Keys and Soft Keys</li>
<ul>	<li>General Screen Operations</li>
	<li>Function Keys</li>
	<li>Key Input and Input Buffer</li>
	<li>14-inch CRT Soft Key Configuration</li>
</ul>
	<li>External I/O Devices</li>
<ul>	<li>Handy File</li>
	<li>Floppy Cassette</li>
	<li>FA Card</li>
	<li>PPR</li>
	<li>Portable Tape Reader</li>
</ul>
	<li>Power On / Off</li>
<ul>	<li>Turning Power On</li>
	<li>Display of Software Configuration</li>
	<li>Turning Power Off</li>
</ul>
</ul>
	<li>Manual Operation</li>
<ul>	<li>Manual Reference Position Return</li>
	<li>Jog Feed</li>
	<li>Incremental Feed</li>
	<li>Manual Handle Feed</li>
	<li>Manual Absolute On / Off</li>
</ul>
	<li>Automatic Operation</li>
<ul>	<li>Memory Operation</li>
	<li>MDI Operation</li>
	<li>DNC Operation</li>
	<li>Program Restart</li>
	<li>Scheduling Function</li>
	<li>Subprogram Call Function</li>
	<li>Manual Handle Interruption</li>
	<li>Mirror Image</li>
	<li>Sequence Number Search</li>
</ul>
	<li>Test Operation</li>
<ul>	<li>Machine Lock</li>
	<li>Auxiliary Function Lock</li>
	<li>Feed Rate Override</li>
	<li>Rapid Traverse Override</li>
	<li>Dry Run</li>
	<li>Single Block</li>
</ul>
	<li>Safety Functions</li>
<ul>	<li>Emergency Stop</li>
	<li>Overtravel</li>
	<li>Stroke Check</li>
</ul>
	<li>Alarms and Self-Diagnostics</li>
<ul>	<li>Alarm Display</li>
	<li>Self-Diagnostic Screen</li>
</ul>
	<li>Data Input and Output</li>
<ul>	<li>Files</li>
	<li>File Search</li>
	<li>File Deletion</li>
	<li>Program Input and Output</li>
<ul>	<li>Inputting a Program</li>
	<li>Outputting a Program</li>
</ul>
	<li>Offset Data Input and Output</li>
<ul>	<li>Inputting Offset Data</li>
	<li>Outputting Offset Data</li>
</ul>
	<li>Inputting and Outputting Parameters and Pitch Error Compensation Data</li>
<ul>	<li>Inputting Parameters</li>
	<li>Outputting Parameters</li>
</ul>
	<li>Inputting and Outputting Custom Macro B Common Variables</li>
<ul>	<li>Inputting Variables</li>
	<li>Outputting Variables</li>
</ul>
	<li>Displaying the Directory of a Floppy Disk</li>
<ul>	<li>Displaying the Directory</li>
	<li>Reading Files</li>
	<li>Outputting Programs</li>
	<li>Deleting Files</li>
	<li>Changing the File Name</li>
</ul>
</ul>
	<li>Editing Programs</li>
<ul>	<li>Inserting, Altering and Deleting a Word</li>
<ul>	<li>Word Search</li>
	<li>Heading a Program</li>
	<li>Inserting a Word</li>
	<li>Altering a Word</li>
	<li>Deleting a Word</li>
</ul>
	<li>Deleting Blocks</li>
<ul>	<li>One Block</li>
	<li>Multiple Blocks</li>
</ul>
	<li>Program Number Search</li>
	<li>Deleting Programs</li>
<ul>	<li>One Program</li>
	<li>All Programs</li>
	<li>Specifying a Range</li>
</ul>
	<li>Extended Part Program Editing Function</li>
<ul>	<li>Copying an Entire Program</li>
	<li>Copying Part of a Program</li>
	<li>Moving Part of a Program</li>
	<li>Merging a Program</li>
	<li>Supplemental Explanation</li>
	<li>Replacing Words and Addresses</li>
</ul>
	<li>Editing Custom Macro B</li>
	<li>Background Edit</li>
	<li>Reorganizing Memory</li>
</ul>
	<li>Creating Programs</li>
<ul>	<li>Using the MDI Panel</li>
	<li>Automatically Inserting Sequence Numbers</li>
	<li>Creating Programs in Teach-in Mode</li>
	<li>Menu Programming</li>
	<li>Conversational Programming with Graphic Function</li>
</ul>
	<li>Setting and Displaying Data</li>
<ul>	<li>Position Display Screen</li>
	<li>Program Screen in AUTO or MDI Mode</li>
	<li>Program Screen in EDIT Mode</li>
	<li>Offset Screen</li>
	<li>Parameter and Diagnostic Screen</li>
	<li>Alarm Screen</li>
	<li>Screens Displayed by Function Key (POS)</li>
<ul>	<li>Position</li>
<ul>	<li>Work Coordinate System</li>
	<li>Relative Coordinate System</li>
</ul>
	<li>Overall Position</li>
	<li>Actual Feed Rate</li>
	<li>Run Time</li>
	<li>Parts Count</li>
	<li>Operating Monitor</li>
</ul>
	<li>Screens Displayed by Function Key (PROG) (AUTO or MDI Mode)</li>
<ul>	<li>Program Contents</li>
	<li>Current Block</li>
	<li>Next Block</li>
	<li>Program Check</li>
	<li>MDI Operation</li>
</ul>
	<li>Screens Displayed by Function Key (PROG) (EDIT Mode)</li>
<ul>	<li>Memory Used</li>
	<li>List of Programs</li>
</ul>
	<li>Screens Displayed by Function Key (OFFSET SETTING)</li>
<ul>	<li>Tool Offset Values</li>
	<li>Tool Length Measurement</li>
	<li>Workpiece Origin Offset Value</li>
	<li>Custom Macro Common Variables</li>
	<li>Pattern Data and Menu</li>
	<li>Tool Life Management Data</li>
</ul>
	<li>Screens Displayed by Function Key (SYSTEM)</li>
<ul>	<li>Parameters</li>
	<li>Pitch Error Compensation Data</li>
	<li>Setting Data</li>
	<li>Sequence Number Comparison / Stop</li>
	<li>Run Time</li>
	<li>Parts Count</li>
	<li>Time</li>
</ul>
	<li>Screens Displayed by Function Key (MESSAGE)</li>
<ul>	<li>Operator Messages</li>
	<li>Software Operator's Panel</li>
</ul>
	<li>Displaying the Program Number, Sequence Number, Status, and Warning Messages for Data Setting</li>
<ul>	<li>Program and Sequence Numbers</li>
	<li>Status and Warning for Data Setting</li>
</ul>
</ul>
	<li>Graphics Function</li>
<ul>	<li>Graphics Display</li>
	<li>Dynamic Graphic Display</li>
<ul>	<li>Path Drawing</li>
	<li>Solid Graphics</li>
</ul>
</ul>
	<li>Display and Operation of 00-MC</li>
<ul>	<li>Display</li>
	<li>Operation</li>
</ul>
</ul>
	<li>MAINTENANCE</li>
<ul>	<li>Replacing the Battery</li>
<ul>	<li>Memory Backup</li>
	<li>Absolute Pulse Coder</li>
</ul>
</ul>
	<li>APPENDIXES</li>
<ul>	<li>Tape Code List</li>
	<li>Functions and Tape Format</li>
	<li>Range of Command Values</li>
	<li>Nomographs</li>
<ul>	<li>Incorrect Threaded Length</li>
	<li>Simple Calculation of Incorrect Thread Length</li>
	<li>Tool Path at Corner</li>
	<li>Radius Direction Error at Circle Cutting</li>
</ul>
	<li>Status When Turning Power On, Clear, and Reset</li>
	<li>Character-to-Codes Correspondence Table</li>
	<li>Alarms</li>
<ul>	<li>Program Errors (P/S Alarms)</li>
	<li>Background Edit Alarms</li>
	<li>Absolute Pulse Coder (APC) Alarms</li>
	<li>Serial Pulse Coder (SPC) Alarms</li>
	<li>Servo Alarms</li>
	<li>Spindle Alarms</li>
	<li>Overtravel Alarms</li>
	<li>Macro Alarms</li>
	<li>PMC Alarms</li>
	<li>Overheat Alarms</li>
	<li>M-NET Alarms</li>
	<li>System Alarms</li>
	<li>External Alarm</li>
	<li>Alarms Displayed on the Spindle Servo Unit</li>
</ul>
	<li>Portable Tape Reader</li>
	<li>Series 0-D Specifications</li>
<ul>	<li>Controlled Axis</li>
	<li>Operation</li>
	<li>Interpolation</li>
	<li>Programming</li>
	<li>Miscellaneous Functions and Spindle Functions</li>
	<li>Tool Functions and Tool Offset Functions</li>
	<li>Edit Operation</li>
	<li>Setting and Display</li>
	<li>Data Input and Output</li>
	<li>Others</li>
</ul>
	<li>Correspondence between English and Symbolic Keys</li>
</ul>
	<li>INDEX</li>
	<li>REVISION RECORD</li>
</ul>
</ul>
</body>
</html>
